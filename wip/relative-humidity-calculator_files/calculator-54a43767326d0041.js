!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="7b97f70e-4f72-4162-a9c0-6bc974924ba9",e._sentryDebugIdIdentifier="sentry-dbid-7b97f70e-4f72-4162-a9c0-6bc974924ba9")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[93954],{28105:function(e,n,r){"use strict";r.d(n,{DEFAULT_USER_DATA:function(){return a},hC:function(){return i},xx:function(){return l},zC:function(){return o}});let i={modules:{calculationModule:Symbol.for("calculationModule"),conditionsModule:Symbol.for("conditionsModule"),conversionFormulaModule:Symbol.for("conversionFormulaModule"),conversionModule:Symbol.for("conversionModule"),diffModule:Symbol.for("diffModule"),injectionModule:Symbol.for("injectionModule"),isDirtyModule:Symbol.for("isDirtyModule"),lockModule:Symbol.for("lockModule"),outputModule:Symbol.for("outputModule"),outputOnlyModule:Symbol.for("outputOnlyModule"),stateManager:Symbol.for("stateManager")},other:{definition:Symbol.for("definition"),stateSnapshot:Symbol.for("stateSnapshot")}},a={countryCode:"US",currency:"USD",currencySymbol:"$",navigatorLanguageTag:"en-US",useImperialUnits:!0},o={isAdvanced:!1,isMobile:!1,user:a},l=["actionsHistory","customJsFunctions","equationsVariants","exportedVariablesNames","isDirty"]},89567:function(e,n,r){"use strict";r.d(n,{Z:function(){return o}});var i=r(45764),a=r(63722);function o(e){let{viewBox:n,...r}=e;return(0,i.tZ)(a.Z,{viewBox:"0 0 16 16",...r,children:(0,i.tZ)("path",{clipRule:"evenodd",d:"M12.0003 1.33333C11.2639 1.33333 10.667 1.93029 10.667 2.66667C10.667 3.40305 11.2639 4 12.0003 4C12.7367 4 13.3337 3.40305 13.3337 2.66667C13.3337 1.93029 12.7367 1.33333 12.0003 1.33333ZM9.33366 2.66667C9.33366 1.19391 10.5276 0 12.0003 0C13.4731 0 14.667 1.19391 14.667 2.66667C14.667 4.13943 13.4731 5.33333 12.0003 5.33333C11.2082 5.33333 10.4967 4.98793 10.0083 4.43952L5.79346 6.96841C5.9267 7.28573 6.00033 7.63427 6.00033 8C6.00033 8.36583 5.92666 8.71446 5.79335 9.03185L10.0081 11.5607C10.4965 11.0122 11.2081 10.6667 12.0003 10.6667C13.4731 10.6667 14.667 11.8606 14.667 13.3333C14.667 14.8061 13.4731 16 12.0003 16C10.5276 16 9.33366 14.8061 9.33366 13.3333C9.33366 13.1328 9.3558 12.9374 9.39778 12.7494L4.9794 10.0984C4.52614 10.4544 3.95469 10.6667 3.33366 10.6667C1.8609 10.6667 0.666992 9.47276 0.666992 8C0.666992 6.52724 1.8609 5.33333 3.33366 5.33333C3.9548 5.33333 4.52634 5.5457 4.97963 5.90179L9.39784 3.25086C9.35583 3.06285 9.33366 2.86735 9.33366 2.66667ZM3.33366 6.66667C2.59728 6.66667 2.00033 7.26362 2.00033 8C2.00033 8.73638 2.59728 9.33333 3.33366 9.33333C4.07004 9.33333 4.66699 8.73638 4.66699 8C4.66699 7.26362 4.07004 6.66667 3.33366 6.66667ZM10.667 13.3333C10.667 12.597 11.2639 12 12.0003 12C12.7367 12 13.3337 12.597 13.3337 13.3333C13.3337 14.0697 12.7367 14.6667 12.0003 14.6667C11.2639 14.6667 10.667 14.0697 10.667 13.3333Z",fill:"currentColor",fillRule:"evenodd",xmlns:"http://www.w3.org/2000/svg"})})}},38147:function(e,n,r){"use strict";let i,a,o,l,s,u,c,d;r.d(n,{Z:function(){return $e}});var h,p,m,f,g,y,b,v,_,x,O,w,E,C,T,k,R,S,A,I,L,M,N,D,B,P,K=r(45764),U=r(59899),V=r(39383),G=r(70554);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")}function z(e){var n=function(e,n){if("object"!=F(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,n||"default");if("object"!=F(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==F(n)?n:n+""}function $(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,z(i.key),i)}}function Z(e,n,r){return n&&$(e.prototype,n),r&&$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e,n){return(W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function q(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&W(e,n)}function Y(e,n){if(n&&("object"===F(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return j(e)}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,n,r){return(n=z(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Q(e){if(Array.isArray(e))return e}function ee(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function et(e,n){if(e){if("string"==typeof e)return ee(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ee(e,n)}}function en(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function er(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function ei(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?er(Object(r),!0).forEach(function(n){J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ea={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},eo=new(function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};H(this,e),this.init(n,r)}return Z(e,[{key:"init",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||ea,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,n,r,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(r).concat(this.prefix," ").concat(e[0])),this.logger[n](e))}},{key:"create",value:function(n){return new e(this.logger,ei(ei({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return(n=n||this.options).prefix=n.prefix||this.prefix,new e(this.logger,n)}}]),e}()),el=function(){function e(){H(this,e),this.observers={}}return Z(e,[{key:"on",value:function(e,n){var r=this;return e.split(" ").forEach(function(e){r.observers[e]=r.observers[e]||[],r.observers[e].push(n)}),this}},{key:"off",value:function(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(function(e){return e!==n})}}},{key:"emit",value:function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&[].concat(this.observers[e]).forEach(function(e){e.apply(void 0,r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(n){n.apply(n,[e].concat(r))})}}]),e}();function es(){var e,n,r=new Promise(function(r,i){e=r,n=i});return r.resolve=e,r.reject=n,r}function eu(e){return null==e?"":""+e}function ec(e,n,r){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function a(){return!e||"string"==typeof e}for(var o="string"!=typeof n?[].concat(n):n.split(".");o.length>1;){if(a())return{};var l=i(o.shift());!e[l]&&r&&(e[l]=new r),e=Object.prototype.hasOwnProperty.call(e,l)?e[l]:{}}return a()?{}:{obj:e,k:i(o.shift())}}function ed(e,n,r){var i=ec(e,n,Object);i.obj[i.k]=r}function eh(e,n){var r=ec(e,n),i=r.obj,a=r.k;if(i)return i[a]}function ep(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var em={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function ef(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return em[e]}):e}var eg="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,ey=[" ",",","?","!",";"];function eb(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[n])return e[n];for(var i=n.split(r),a=e,o=0;o<i.length;++o){if(!a||"string"==typeof a[i[o]]&&o+1<i.length)return;if(void 0===a[i[o]]){for(var l=2,s=i.slice(o,o+l).join(r),u=a[s];void 0===u&&i.length>o+l;)l++,u=a[s=i.slice(o,o+l).join(r)];if(void 0===u)return;if(null===u)return null;if(n.endsWith(s)){if("string"==typeof u)return u;if(s&&"string"==typeof u[s])return u[s]}var c=i.slice(o+l).join(r);if(c)return eb(u,c,r);return}a=a[i[o]]}return a}}function ev(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function e_(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ev(Object(r),!0).forEach(function(n){J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ev(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ex=function(e){q(i,e);var n,r=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=X(i);return e=n?Reflect.construct(r,arguments,X(this).constructor):r.apply(this,arguments),Y(this,e)});function i(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return H(this,i),n=r.call(this),eg&&el.call(j(n)),n.data=e||{},n.options=a,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return Z(i,[{key:"addNamespaces",value:function(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}},{key:"getResource",value:function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure,l=[e,n];r&&"string"!=typeof r&&(l=l.concat(r)),r&&"string"==typeof r&&(l=l.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(l=e.split("."));var s=eh(this.data,l);return s||!o||"string"!=typeof r?s:eb(this.data&&this.data[e]&&this.data[e][n],r,a)}},{key:"addResource",value:function(e,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,l=[e,n];r&&(l=l.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(l=e.split("."),i=n,n=l[1]),this.addNamespaces(n),ed(this.data,l,i),a.silent||this.emit("added",e,n,r,i)}},{key:"addResources",value:function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var a in r)("string"==typeof r[a]||"[object Array]"===Object.prototype.toString.apply(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}},{key:"addResourceBundle",value:function(e,n,r,i,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),i=r,r=n,n=l[1]),this.addNamespaces(n);var s=eh(this.data,l)||{};i?function e(n,r,i){for(var a in r)"__proto__"!==a&&"constructor"!==a&&(a in n?"string"==typeof n[a]||n[a]instanceof String||"string"==typeof r[a]||r[a]instanceof String?i&&(n[a]=r[a]):e(n[a],r[a],i):n[a]=r[a]);return n}(s,r,a):s=e_(e_({},s),r),ed(this.data,l,s),o.silent||this.emit("added",e,n,r)}},{key:"removeResourceBundle",value:function(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}},{key:"hasResourceBundle",value:function(e,n){return void 0!==this.getResource(e,n)}},{key:"getResourceBundle",value:function(e,n){return(n||(n=this.options.defaultNS),"v1"===this.options.compatibilityAPI)?e_(e_({},{}),this.getResource(e,n)):this.getResource(e,n)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(function(e){return n[e]&&Object.keys(n[e]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),i}(el),eO={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,i,a){var o=this;return e.forEach(function(e){o.processors[e]&&(n=o.processors[e].process(n,r,i,a))}),n}};function ew(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function eE(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ew(Object(r),!0).forEach(function(n){J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var eC={},eT=function(e){q(i,e);var n,r=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=X(i);return e=n?Reflect.construct(r,arguments,X(this).constructor):r.apply(this,arguments),Y(this,e)});function i(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return H(this,i),n=r.call(this),eg&&el.call(j(n)),function(e,n,r){e.forEach(function(e){n[e]&&(r[e]=n[e])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,j(n)),n.options=a,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=eo.create("translator"),n}return Z(i,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var r=this.resolve(e,n);return r&&void 0!==r.res}},{key:"extractFromKey",value:function(e,n){var r=void 0!==n.nsSeparator?n.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");var i=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,a=n.ns||this.options.defaultNS||[],o=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!function(e,n,r){n=n||"",r=r||"";var i=ey.filter(function(e){return 0>n.indexOf(e)&&0>r.indexOf(e)});if(0===i.length)return!0;var a=new RegExp("(".concat(i.map(function(e){return"?"===e?"\\?":e}).join("|"),")")),o=!a.test(e);if(!o){var l=e.indexOf(r);l>0&&!a.test(e.substring(0,l))&&(o=!0)}return o}(e,r,i);if(o&&!l){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:a};var u=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),e=u.join(i)}return"string"==typeof a&&(a=[a]),{key:e,namespaces:a}}},{key:"translate",value:function(e,n,r){var a=this;if("object"!==F(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),"object"===F(n)&&(n=eE({},n)),n||(n={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==n.returnDetails?n.returnDetails:this.options.returnDetails,l=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],n),u=s.key,c=s.namespaces,d=c[c.length-1],h=n.lng||this.language,p=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&"cimode"===h.toLowerCase()){if(p){var m=n.nsSeparator||this.options.nsSeparator;return o?{res:"".concat(d).concat(m).concat(u),usedKey:u,exactUsedKey:u,usedLng:h,usedNS:d}:"".concat(d).concat(m).concat(u)}return o?{res:u,usedKey:u,exactUsedKey:u,usedLng:h,usedNS:d}:u}var f=this.resolve(e,n),g=f&&f.res,y=f&&f.usedKey||u,b=f&&f.exactUsedKey||u,v=Object.prototype.toString.apply(g),_=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,O="string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g;if(x&&g&&O&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(v)&&!("string"==typeof _&&"[object Array]"===v)){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,g,eE(eE({},n),{},{ns:c})):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");return o?(f.res=w,f):w}if(l){var E="[object Array]"===v,C=E?[]:{},T=E?b:y;for(var k in g)if(Object.prototype.hasOwnProperty.call(g,k)){var R="".concat(T).concat(l).concat(k);C[k]=this.translate(R,eE(eE({},n),{joinArrays:!1,ns:c})),C[k]===R&&(C[k]=g[k])}g=C}}else if(x&&"string"==typeof _&&"[object Array]"===v)(g=g.join(_))&&(g=this.extendTranslation(g,e,n,r));else{var S=!1,A=!1,I=void 0!==n.count&&"string"!=typeof n.count,L=i.hasDefaultValue(n),M=I?this.pluralResolver.getSuffix(h,n.count,n):"",N=n["defaultValue".concat(M)]||n.defaultValue;!this.isValidLookup(g)&&L&&(S=!0,g=N),this.isValidLookup(g)||(A=!0,g=u);var D=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&A?void 0:g,B=L&&N!==g&&this.options.updateMissing;if(A||S||B){if(this.logger.log(B?"updateKey":"missingKey",h,d,u,B?N:g),l){var P=this.resolve(u,eE(eE({},n),{},{keySeparator:!1}));P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var K=[],U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&U&&U[0])for(var V=0;V<U.length;V++)K.push(U[V]);else"all"===this.options.saveMissingTo?K=this.languageUtils.toResolveHierarchy(n.lng||this.language):K.push(n.lng||this.language);var G=function(e,r,i){var o=L&&i!==g?i:D;a.options.missingKeyHandler?a.options.missingKeyHandler(e,d,r,o,B,n):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(e,d,r,o,B,n),a.emit("missingKey",e,d,r,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&I?K.forEach(function(e){a.pluralResolver.getSuffixes(e,n).forEach(function(r){G([e],u+r,n["defaultValue".concat(r)]||N)})}):G(K,u,N))}g=this.extendTranslation(g,e,n,f,r),A&&g===u&&this.options.appendNamespaceToMissingKey&&(g="".concat(d,":").concat(u)),(A||S)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(u):u,S?g:void 0):this.options.parseMissingKeyHandler(g))}return o?(f.res=g,f):g}},{key:"extendTranslation",value:function(e,n,r,i,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,eE(eE({},this.options.interpolation.defaultVariables),r),i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init(eE(eE({},r),{interpolation:eE(eE({},this.options.interpolation),r.interpolation)}));var l,s="string"==typeof e&&(r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var u=e.match(this.interpolator.nestingRegexp);l=u&&u.length}var c=r.replace&&"string"!=typeof r.replace?r.replace:r;if(this.options.interpolation.defaultVariables&&(c=eE(eE({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,r.lng||this.language,r),s){var d=e.match(this.interpolator.nestingRegexp);l<(d&&d.length)&&(r.nest=!1)}!r.lng&&"v1"!==this.options.compatibilityAPI&&i&&i.res&&(r.lng=i.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,i=Array(e),l=0;l<e;l++)i[l]=arguments[l];return a&&a[0]===i[0]&&!r.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(n[0])),null):o.translate.apply(o,i.concat([n]))},r)),r.interpolation&&this.interpolator.reset()}var h=r.postProcess||this.options.postProcess,p="string"==typeof h?[h]:h;return null!=e&&p&&p.length&&!1!==r.applyPostProcessor&&(e=eO.handle(p,e,n,this.options&&this.options.postProcessPassResolved?eE({i18nResolved:i},r):r,this)),e}},{key:"resolve",value:function(e){var n,r,i,a,o,l=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach(function(e){if(!l.isValidLookup(n)){var u=l.extractFromKey(e,s),c=u.key;r=c;var d=u.namespaces;l.options.fallbackNS&&(d=d.concat(l.options.fallbackNS));var h=void 0!==s.count&&"string"!=typeof s.count,p=h&&!s.ordinal&&0===s.count&&l.pluralResolver.shouldUseIntlApi(),m=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,f=s.lngs?s.lngs:l.languageUtils.toResolveHierarchy(s.lng||l.language,s.fallbackLng);d.forEach(function(e){l.isValidLookup(n)||(o=e,!eC["".concat(f[0],"-").concat(e)]&&l.utils&&l.utils.hasLoadedNamespace&&!l.utils.hasLoadedNamespace(o)&&(eC["".concat(f[0],"-").concat(e)]=!0,l.logger.warn('key "'.concat(r,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach(function(r){if(!l.isValidLookup(n)){a=r;var o,u=[c];if(l.i18nFormat&&l.i18nFormat.addLookupKeys)l.i18nFormat.addLookupKeys(u,c,r,e,s);else{h&&(d=l.pluralResolver.getSuffix(r,s.count,s));var d,f="".concat(l.options.pluralSeparator,"zero");if(h&&(u.push(c+d),p&&u.push(c+f)),m){var g="".concat(c).concat(l.options.contextSeparator).concat(s.context);u.push(g),h&&(u.push(g+d),p&&u.push(g+f))}}for(;o=u.pop();)l.isValidLookup(n)||(i=o,n=l.getResource(r,e,o,s))}}))})}}),{res:n,usedKey:r,exactUsedKey:i,usedLng:a,usedNS:o}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}}],[{key:"hasDefaultValue",value:function(e){var n="defaultValue";for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&void 0!==e[r])return!0;return!1}}]),i}(el);function ek(e){return e.charAt(0).toUpperCase()+e.slice(1)}var eR=function(){function e(n){H(this,e),this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=eo.create("languageUtils")}return Z(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||0>e.indexOf("-"))return null;var n=e.split("-");return 2===n.length?null:(n.pop(),"x"===n[n.length-1].toLowerCase())?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||0>e.indexOf("-"))return e;var n=e.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],r=e.split("-");return this.options.lowerCaseLng?r=r.map(function(e){return e.toLowerCase()}):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=ek(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=ek(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=ek(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var n,r=this;return e?(e.forEach(function(e){if(!n){var i=r.formatLanguageCode(e);(!r.options.supportedLngs||r.isSupportedCode(i))&&(n=i)}}),!n&&this.options.supportedLngs&&e.forEach(function(e){if(!n){var i=r.getLanguagePartFromCode(e);if(r.isSupportedCode(i))return n=i;n=r.options.supportedLngs.find(function(e){if(e===i||!(0>e.indexOf("-")&&0>i.indexOf("-"))&&0===e.indexOf(i))return e})}}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n):null}},{key:"getFallbackCodes",value:function(e,n){if(!e)return[];if("function"==typeof e&&(e=e(n)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!n)return e.default||[];var r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}},{key:"toResolveHierarchy",value:function(e,n){var r=this,i=this.getFallbackCodes(n||this.options.fallbackLng||[],e),a=[],o=function(e){e&&(r.isSupportedCode(e)?a.push(e):r.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),i.forEach(function(e){0>a.indexOf(e)&&o(r.formatLanguageCode(e))}),a}}]),e}(),eS=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],eA={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},eI=["v1","v2","v3"],eL={zero:0,one:1,two:2,few:3,many:4,other:5},eM=function(){function e(n){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};H(this,e),this.languageUtils=n,this.options=i,this.logger=eo.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(r={},eS.forEach(function(e){e.lngs.forEach(function(n){r[n]={numbers:e.nr,plurals:eA[e.fc]}})}),r)}return Z(e,[{key:"addRule",value:function(e,n){this.rules[e]=n}},{key:"getRule",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:n.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,r).map(function(e){return"".concat(n).concat(e)})}},{key:"getSuffixes",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,r);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort(function(e,n){return eL[e]-eL[n]}).map(function(e){return"".concat(n.options.prepend).concat(e)}):i.numbers.map(function(i){return n.getSuffix(e,i,r)}):[]}},{key:"getSuffix",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getRule(e,r);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(i.select(n)):this.getSuffixRetroCompatible(i,n):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,n){var r=this,i=e.noAbs?e.plurals(n):e.plurals(Math.abs(n)),a=e.numbers[i];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===a?a="plural":1===a&&(a=""));var o=function(){return r.options.prepend&&a.toString()?r.options.prepend+a.toString():a.toString()};return"v1"===this.options.compatibilityJSON?1===a?"":"number"==typeof a?"_plural_".concat(a.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}},{key:"shouldUseIntlApi",value:function(){return!eI.includes(this.options.compatibilityJSON)}}]),e}();function eN(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function eD(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?eN(Object(r),!0).forEach(function(n){J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eB(e,n,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4)||void 0===arguments[4]||arguments[4],l=void 0!==(i=eh(e,r))?i:eh(n,r);return!l&&o&&"string"==typeof r&&void 0===(l=eb(e,r,a))&&(l=eb(n,r,a)),l}var eP=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};H(this,e),this.logger=eo.create("interpolator"),this.options=n,this.format=n.interpolation&&n.interpolation.format||function(e){return e},this.init(n)}return Z(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var n=e.interpolation;this.escape=void 0!==n.escape?n.escape:ef,this.escapeValue=void 0===n.escapeValue||n.escapeValue,this.useRawValueToEscape=void 0!==n.useRawValueToEscape&&n.useRawValueToEscape,this.prefix=n.prefix?ep(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?ep(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?ep(n.nestingPrefix):n.nestingPrefixEscaped||ep("$t("),this.nestingSuffix=n.nestingSuffix?ep(n.nestingSuffix):n.nestingSuffixEscaped||ep(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=void 0!==n.alwaysFormat&&n.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=RegExp(e,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=RegExp(n,"g");var r="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=RegExp(r,"g")}},{key:"interpolate",value:function(e,n,r,i){var a,o,l,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var d=function(e){if(0>e.indexOf(s.formatSeparator)){var a=eB(n,u,e,s.options.keySeparator,s.options.ignoreJSONStructure);return s.alwaysFormat?s.format(a,void 0,r,eD(eD(eD({},i),n),{},{interpolationkey:e})):a}var o=e.split(s.formatSeparator),l=o.shift().trim(),c=o.join(s.formatSeparator).trim();return s.format(eB(n,u,l,s.options.keySeparator,s.options.ignoreJSONStructure),c,r,eD(eD(eD({},i),n),{},{interpolationkey:l}))};this.resetRegExp();var h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,p=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}].forEach(function(n){for(l=0;a=n.regex.exec(e);){var r=a[1].trim();if(void 0===(o=d(r))){if("function"==typeof h){var u=h(e,a,i);o="string"==typeof u?u:""}else if(i&&Object.prototype.hasOwnProperty.call(i,r))o="";else if(p){o=a[0];continue}else s.logger.warn("missed to pass in variable ".concat(r," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=eu(o));var c=n.safeValue(o);if(e=e.replace(a[0],c),p?(n.regex.lastIndex+=o.length,n.regex.lastIndex-=a[0].length):n.regex.lastIndex=0,++l>=s.maxReplaces)break}}),e}},{key:"nest",value:function(e,n){var r,i,a,o=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,n){var r=this.nestingOptionsSeparator;if(0>e.indexOf(r))return e;var i=e.split(new RegExp("".concat(r,"[ ]*{"))),o="{".concat(i[1]);e=i[0];var l=(o=this.interpolate(o,a)).match(/'/g),s=o.match(/"/g);(l&&l.length%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{a=JSON.parse(o),n&&(a=eD(eD({},n),a))}catch(n){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),n),"".concat(e).concat(r).concat(o)}return delete a.defaultValue,e}for(;r=this.nestingRegexp.exec(e);){var u=[];(a=(a=eD({},l)).replace&&"string"!=typeof a.replace?a.replace:a).applyPostProcessor=!1,delete a.defaultValue;var c=!1;if(-1!==r[0].indexOf(this.formatSeparator)&&!/{.*}/.test(r[1])){var d=r[1].split(this.formatSeparator).map(function(e){return e.trim()});r[1]=d.shift(),u=d,c=!0}if((i=n(s.call(this,r[1].trim(),a),a))&&r[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=eu(i)),i||(this.logger.warn("missed to resolve ".concat(r[1]," for nesting ").concat(e)),i=""),c&&(i=u.reduce(function(e,n){return o.format(e,n,l.lng,eD(eD({},l),{},{interpolationkey:r[1].trim()}))},i.trim())),e=e.replace(r[0],i),this.regexp.lastIndex=0}return e}}]),e}();function eK(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function eU(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?eK(Object(r),!0).forEach(function(n){J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eV(e){var n={};return function(r,i,a){var o=i+JSON.stringify(a),l=n[o];return l||(l=e(i,a),n[o]=l),l(r)}}var eG=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};H(this,e),this.logger=eo.create("formatter"),this.options=n,this.formats={number:eV(function(e,n){var r=new Intl.NumberFormat(e,eU({},n));return function(e){return r.format(e)}}),currency:eV(function(e,n){var r=new Intl.NumberFormat(e,eU(eU({},n),{},{style:"currency"}));return function(e){return r.format(e)}}),datetime:eV(function(e,n){var r=new Intl.DateTimeFormat(e,eU({},n));return function(e){return r.format(e)}}),relativetime:eV(function(e,n){var r=new Intl.RelativeTimeFormat(e,eU({},n));return function(e){return r.format(e,n.range||"day")}}),list:eV(function(e,n){var r=new Intl.ListFormat(e,eU({},n));return function(e){return r.format(e)}})},this.init(n)}return Z(e,[{key:"init",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},r=n.interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}},{key:"add",value:function(e,n){this.formats[e.toLowerCase().trim()]=n}},{key:"addCached",value:function(e,n){this.formats[e.toLowerCase().trim()]=eV(n)}},{key:"format",value:function(e,n,r){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n.split(this.formatSeparator).reduce(function(e,n){var o=function(e){var n=e.toLowerCase().trim(),r={};if(e.indexOf("(")>-1){var i=e.split("(");n=i[0].toLowerCase().trim();var a=i[1].substring(0,i[1].length-1);"currency"===n&&0>a.indexOf(":")?r.currency||(r.currency=a.trim()):"relativetime"===n&&0>a.indexOf(":")?r.range||(r.range=a.trim()):a.split(";").forEach(function(e){if(e){var n,i=Q(n=e.split(":"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||et(n)||en(),a=i[0],o=i.slice(1).join(":").trim().replace(/^'+|'+$/g,"");r[a.trim()]||(r[a.trim()]=o),"false"===o&&(r[a.trim()]=!1),"true"===o&&(r[a.trim()]=!0),isNaN(o)||(r[a.trim()]=parseInt(o,10))}})}return{formatName:n,formatOptions:r}}(n),l=o.formatName,s=o.formatOptions;if(i.formats[l]){var u=e;try{var c=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},d=c.locale||c.lng||a.locale||a.lng||r;u=i.formats[l](e,d,eU(eU(eU({},s),a),c))}catch(e){i.logger.warn(e)}return u}return i.logger.warn("there was no format function for ".concat(l)),e},e)}}]),e}();function eF(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function eH(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?eF(Object(r),!0).forEach(function(n){J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ez=function(e){q(i,e);var n,r=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=X(i);return e=n?Reflect.construct(r,arguments,X(this).constructor):r.apply(this,arguments),Y(this,e)});function i(e,n,a){var o,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return H(this,i),o=r.call(this),eg&&el.call(j(o)),o.backend=e,o.store=n,o.services=a,o.languageUtils=a.languageUtils,o.options=l,o.logger=eo.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=l.maxParallelReads||10,o.readingCalls=0,o.maxRetries=l.maxRetries>=0?l.maxRetries:5,o.retryTimeout=l.retryTimeout>=1?l.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,l.backend,l),o}return Z(i,[{key:"queueLoad",value:function(e,n,r,i){var a=this,o={},l={},s={},u={};return e.forEach(function(e){var i=!0;n.forEach(function(n){var s="".concat(e,"|").concat(n);!r.reload&&a.store.hasResourceBundle(e,n)?a.state[s]=2:a.state[s]<0||(1===a.state[s]?void 0===l[s]&&(l[s]=!0):(a.state[s]=1,i=!1,void 0===l[s]&&(l[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===u[n]&&(u[n]=!0)))}),i||(s[e]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(u)}}},{key:"loaded",value:function(e,n,r){var i=e.split("|"),a=i[0],o=i[1];n&&this.emit("failedLoading",a,o,n),r&&this.store.addResourceBundle(a,o,r),this.state[e]=n?-1:2;var l={};this.queue.forEach(function(r){var i,s,u,c;(u=(s=ec(r.loaded,[a],Object)).obj)[c=s.k]=u[c]||[],i||u[c].push(o),void 0!==r.pending[e]&&(delete r.pending[e],r.pendingCount--),n&&r.errors.push(n),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach(function(e){l[e]||(l[e]={});var n=r.loaded[e];n.length&&n.forEach(function(n){void 0===l[e][n]&&(l[e][n]=!0)})}),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(function(e){return!e.done})}},{key:"read",value:function(e,n,r){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,l=arguments.length>5?arguments[5]:void 0;if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:a,wait:o,callback:l});return}this.readingCalls++;var s=function(s,u){if(i.readingCalls--,i.waitingReads.length>0){var c=i.waitingReads.shift();i.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}if(s&&u&&a<i.maxRetries){setTimeout(function(){i.read.call(i,e,n,r,a+1,2*o,l)},o);return}l(s,u)},u=this.backend[r].bind(this.backend);if(2===u.length){try{var c=u(e,n);c&&"function"==typeof c.then?c.then(function(e){return s(null,e)}).catch(s):s(null,c)}catch(e){s(e)}return}return u(e,n,s)}},{key:"prepareLoading",value:function(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof n&&(n=[n]);var o=this.queueLoad(e,n,i,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach(function(e){r.loadOne(e)})}},{key:"load",value:function(e,n,r){this.prepareLoading(e,n,{},r)}},{key:"reload",value:function(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}},{key:"loadOne",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),a=i[0],o=i[1];this.read(a,o,"read",void 0,void 0,function(i,l){i&&n.logger.warn("".concat(r,"loading namespace ").concat(o," for language ").concat(a," failed"),i),!i&&l&&n.logger.log("".concat(r,"loaded namespace ").concat(o," for language ").concat(a),l),n.loaded(e,i,l)})}},{key:"saveMissing",value:function(e,n,r,i,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn('did not save key "'.concat(r,'" as the namespace "').concat(n,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(null!=r&&""!==r){if(this.backend&&this.backend.create){var s,u=eH(eH({},o),{},{isUpdate:a}),c=this.backend.create.bind(this.backend);if(c.length<6)try{(s=5===c.length?c(e,n,r,i,u):c(e,n,r,i))&&"function"==typeof s.then?s.then(function(e){return l(null,e)}).catch(l):l(null,s)}catch(e){l(e)}else c(e,n,r,i,l,u)}e&&e[0]&&this.store.addResource(e[0],n,r,i)}}}]),i}(el);function e$(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if("object"===F(e[1])&&(n=e[1]),"string"==typeof e[1]&&(n.defaultValue=e[1]),"string"==typeof e[2]&&(n.tDescription=e[2]),"object"===F(e[2])||"object"===F(e[3])){var r=e[3]||e[2];Object.keys(r).forEach(function(e){n[e]=r[e]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function eZ(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&0>e.supportedLngs.indexOf("cimode")&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function ej(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function eW(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ej(Object(r),!0).forEach(function(n){J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eq(){}var eY=function(e){q(i,e);var n,r=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=X(i);return e=n?Reflect.construct(r,arguments,X(this).constructor):r.apply(this,arguments),Y(this,e)});function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(H(this,i),e=r.call(this),eg&&el.call(j(e)),e.options=eZ(n),e.services={},e.logger=eo,e.modules={external:[]},function(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(n){"function"==typeof e[n]&&(e[n]=e[n].bind(e))})}(j(e)),a&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,a),Y(e,j(e));setTimeout(function(){e.init(n,a)},0)}return e}return Z(i,[{key:"init",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;"function"==typeof n&&(r=n,n={}),!n.defaultNS&&!1!==n.defaultNS&&n.ns&&("string"==typeof n.ns?n.defaultNS=n.ns:0>n.ns.indexOf("translation")&&(n.defaultNS=n.ns[0]));var i=e$();function a(e){return e?"function"==typeof e?new e:e:null}if(this.options=eW(eW(eW({},i),this.options),eZ(n)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=eW(eW({},i.interpolation),this.options.interpolation)),void 0!==n.keySeparator&&(this.options.userDefinedKeySeparator=n.keySeparator),void 0!==n.nsSeparator&&(this.options.userDefinedNsSeparator=n.nsSeparator),!this.options.isClone){this.modules.logger?eo.init(a(this.modules.logger),this.options):eo.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=eG);var o,l=new eR(this.options);this.store=new ex(this.options.resources,this.options);var s=this.services;s.logger=eo,s.resourceStore=this.store,s.languageUtils=l,s.pluralResolver=new eM(l,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(s.formatter=a(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new eP(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new ez(a(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];e.emit.apply(e,[n].concat(i))}),this.modules.languageDetector&&(s.languageDetector=a(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=a(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new eT(this.services,this.options),this.translator.on("*",function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];e.emit.apply(e,[n].concat(i))}),this.modules.external.forEach(function(n){n.init&&n.init(e)})}if(this.format=this.options.interpolation.format,r||(r=eq),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&"dev"!==u[0]&&(this.options.lng=u[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(n){e[n]=function(){var r;return(r=e.store)[n].apply(r,arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(function(n){e[n]=function(){var r;return(r=e.store)[n].apply(r,arguments),e}});var c=es(),d=function(){var n=function(n,i){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),c.resolve(i),r(n,i)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return n(null,e.t.bind(e));e.changeLanguage(e.options.lng,n)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),c}},{key:"loadResources",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eq,i=r,a="string"==typeof e?e:this.language;if("function"==typeof e&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(a&&"cimode"===a.toLowerCase())return i();var o=[],l=function(e){e&&n.services.languageUtils.toResolveHierarchy(e).forEach(function(e){0>o.indexOf(e)&&o.push(e)})};a?l(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(e){return l(e)}),this.options.preload&&this.options.preload.forEach(function(e){return l(e)}),this.services.backendConnector.load(o,this.options.ns,function(e){e||n.resolvedLanguage||!n.language||n.setResolvedLanguage(n.language),i(e)})}else i(null)}},{key:"reloadResources",value:function(e,n,r){var i=es();return e||(e=this.languages),n||(n=this.options.ns),r||(r=eq),this.services.backendConnector.reload(e,n,function(e){i.resolve(),r(e)}),i}},{key:"use",value:function(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&eO.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var n=0;n<this.languages.length;n++){var r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}},{key:"changeLanguage",value:function(e,n){var r=this;this.isLanguageChangingTo=e;var i=es();this.emit("languageChanging",e);var a=function(e){r.language=e,r.languages=r.services.languageUtils.toResolveHierarchy(e),r.resolvedLanguage=void 0,r.setResolvedLanguage(e)},o=function(e,o){o?(a(o),r.translator.changeLanguage(o),r.isLanguageChangingTo=void 0,r.emit("languageChanged",o),r.logger.log("languageChanged",o)):r.isLanguageChangingTo=void 0,i.resolve(function(){return r.t.apply(r,arguments)}),n&&n(e,function(){return r.t.apply(r,arguments)})},l=function(n){e||n||!r.services.languageDetector||(n=[]);var i="string"==typeof n?n:r.services.languageUtils.getBestMatchFromCodes(n);i&&(r.language||a(i),r.translator.language||r.translator.changeLanguage(i),r.services.languageDetector&&r.services.languageDetector.cacheUserLanguage&&r.services.languageDetector.cacheUserLanguage(i)),r.loadResources(i,function(e){o(e,i)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e):l(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,n,r){var i=this,a=function e(n,a){if("object"!==F(a)){for(var o,l,s=arguments.length,u=Array(s>2?s-2:0),c=2;c<s;c++)u[c-2]=arguments[c];o=i.options.overloadTranslationOptionHandler([n,a].concat(u))}else o=eW({},a);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,o.keyPrefix=o.keyPrefix||r||e.keyPrefix;var d=i.options.keySeparator||".";return l=o.keyPrefix&&Array.isArray(n)?n.map(function(e){return"".concat(o.keyPrefix).concat(d).concat(e)}):o.keyPrefix?"".concat(o.keyPrefix).concat(d).concat(n):n,i.t(l,o)};return"string"==typeof e?a.lng=e:a.lngs=e,a.ns=n,a.keyPrefix=r,a}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=r.lng||this.resolvedLanguage||this.languages[0],a=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var l=function(e,r){var i=n.services.backendConnector.state["".concat(e,"|").concat(r)];return -1===i||2===i};if(r.precheck){var s=r.precheck(this,l);if(void 0!==s)return s}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(i,e)&&(!a||l(o,e)))}},{key:"loadNamespaces",value:function(e,n){var r=this,i=es();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(function(e){0>r.options.ns.indexOf(e)&&r.options.ns.push(e)}),this.loadResources(function(e){i.resolve(),n&&n(e)}),i):(n&&n(),Promise.resolve())}},{key:"loadLanguages",value:function(e,n){var r=es();"string"==typeof e&&(e=[e]);var i=this.options.preload||[],a=e.filter(function(e){return 0>i.indexOf(e)});return a.length?(this.options.preload=i.concat(a),this.loadResources(function(e){r.resolve(),n&&n(e)}),r):(n&&n(),Promise.resolve())}},{key:"dir",value:function(e){return(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf((this.services&&this.services.languageUtils||new eR(e$())).getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eq,a=eW(eW(eW({},this.options),n),{isClone:!0}),o=new i(a);return(void 0!==n.debug||void 0!==n.prefix)&&(o.logger=o.logger.clone(n)),["store","services","language"].forEach(function(n){o[n]=e[n]}),o.services=eW({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new eT(o.services,o.options),o.translator.on("*",function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];o.emit.apply(o,[e].concat(r))}),o.init(a,r),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),i}(el);J(eY,"createInstance",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new eY(e,n)});var eX=eY.createInstance();eX.createInstance=eY.createInstance,eX.createInstance,eX.dir,eX.init,eX.loadResources,eX.reloadResources,eX.use,eX.changeLanguage,eX.getFixedT,eX.t,eX.exists,eX.setDefaultNamespace,eX.hasLoadedNamespace,eX.loadNamespaces,eX.loadLanguages;var eJ=r(77179),eQ=r.n(eJ),e0=r(52983),e1=r.t(e0,2);function e2(){if(console&&console.warn){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];"string"==typeof r[0]&&(r[0]="react-i18next:: ".concat(r[0])),(e=console).warn.apply(e,r)}}r(7445),Object.create(null);var e3={};function e4(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];"string"==typeof n[0]&&e3[n[0]]||("string"==typeof n[0]&&(e3[n[0]]=new Date),e2.apply(void 0,n))}var e6=function(e,n){return function(){e.isInitialized?n():e.on("initialized",function r(){setTimeout(function(){e.off("initialized",r)},0),n()})}};function e5(e,n,r){e.loadNamespaces(n,e6(e,r))}function e8(e,n,r,i){"string"==typeof r&&(r=[r]),r.forEach(function(n){0>e.options.ns.indexOf(n)&&e.options.ns.push(n)}),e.loadLanguages(n,e6(e,i))}var e7=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,e9={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},te=function(e){return e9[e]};function tt(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function tn(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?tt(Object(r),!0).forEach(function(n){J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var tr={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(e7,te)}},ti=(0,e0.createContext)(),ta=function(){function e(){H(this,e),this.usedNamespaces={}}return Z(e,[{key:"addUsedNamespaces",value:function(e){var n=this;e.forEach(function(e){n.usedNamespaces[e]||(n.usedNamespaces[e]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function to(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function tl(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?to(Object(r),!0).forEach(function(n){J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):to(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ts=function(e,n){var r=(0,e0.useRef)();return(0,e0.useEffect)(function(){r.current=n?r.current:e},[e,n]),r.current};function tu(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.i18n,a=(0,e0.useContext)(ti)||{},o=a.i18n,l=a.defaultNS,s=i||o||mU;if(s&&!s.reportNamespaces&&(s.reportNamespaces=new ta),!s){e4("You will need to pass in an i18next instance by using initReactI18next");var u=function(e,n){return"string"==typeof n?n:n&&"object"===F(n)&&"string"==typeof n.defaultValue?n.defaultValue:Array.isArray(e)?e[e.length-1]:e},c=[u,{},!1];return c.t=u,c.i18n={},c.ready=!1,c}s.options.react&&void 0!==s.options.react.wait&&e4("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var d=tl(tl(tl({},tr),s.options.react),r),h=d.useSuspense,p=d.keyPrefix,m=e||l||s.options&&s.options.defaultNS;m="string"==typeof m?[m]:m||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(m);var f=(s.isInitialized||s.initializedStoreOnce)&&m.every(function(e){return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.languages&&n.languages.length?void 0!==n.options.ignoreJSONStructure?n.hasLoadedNamespace(e,{lng:r.lng,precheck:function(n,i){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,e))return!1}}):function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.languages[0],a=!!n.options&&n.options.fallbackLng,o=n.languages[n.languages.length-1];if("cimode"===i.toLowerCase())return!0;var l=function(e,r){var i=n.services.backendConnector.state["".concat(e,"|").concat(r)];return -1===i||2===i};return(!(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1)||!n.services.backendConnector.backend||!n.isLanguageChangingTo||!!l(n.isLanguageChangingTo,e))&&!!(n.hasResourceBundle(i,e)||!n.services.backendConnector.backend||n.options.resources&&!n.options.partialBundledLanguages||l(i,e)&&(!a||l(o,e)))}(e,n,r):(e4("i18n.languages were undefined or empty",n.languages),!0)}(e,s,d)});function g(){return s.getFixedT(r.lng||null,"fallback"===d.nsMode?m:m[0],p)}var y=Q(n=(0,e0.useState)(g))||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i,a,o,l,s=[],u=!0,c=!1;try{for(o=(r=r.call(e)).next;!(u=(i=o.call(r)).done)&&(s.push(i.value),2!==s.length);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw a}}return s}}(n,2)||et(n,2)||en(),b=y[0],v=y[1],_=m.join();r.lng&&(_="".concat(r.lng).concat(_));var x=ts(_),O=(0,e0.useRef)(!0);(0,e0.useEffect)(function(){var e=d.bindI18n,n=d.bindI18nStore;function i(){O.current&&v(g)}return O.current=!0,f||h||(r.lng?e8(s,r.lng,m,function(){O.current&&v(g)}):e5(s,m,function(){O.current&&v(g)})),f&&x&&x!==_&&O.current&&v(g),e&&s&&s.on(e,i),n&&s&&s.store.on(n,i),function(){O.current=!1,e&&s&&e.split(" ").forEach(function(e){return s.off(e,i)}),n&&s&&n.split(" ").forEach(function(e){return s.store.off(e,i)})}},[s,_]);var w=(0,e0.useRef)(!0);(0,e0.useEffect)(function(){O.current&&!w.current&&v(g),w.current=!1},[s,p]);var E=[b,s,f];if(E.t=b,E.i18n=s,E.ready=f,f||!f&&!h)return E;throw new Promise(function(e){r.lng?e8(s,r.lng,m,function(){return e()}):e5(s,m,function(){return e()})})}let tc=eQ()(V.defaultTranslation.calculatorWidget);eX.use({type:"3rdParty",init:function(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};tr=tn(tn({},tr),e)})(e.options.react),mU=e}}).init({lng:G.k$,supportedLngs:G.xP,defaultNS:"calculatorWidget",interpolation:{escapeValue:!1},resources:{en:{calculatorWidget:tc}}});var td=r(59003),th=r(28105);let tp=0;function tm(e,n){let r=`atom${++tp}`,i={toString(){return this.debugLabel?r+":"+this.debugLabel:r}};return"function"==typeof e?i.read=e:(i.init=e,i.read=tf,i.write=tg),n&&(i.write=n),i}function tf(e){return e(this)}function tg(e,n,r){return n(this,"function"==typeof r?r(e(this)):r)}let ty=(e,n)=>e.unstable_is?e.unstable_is(n):n===e,tb=e=>"init"in e,tv=e=>!!e.write,t_=new WeakMap,tx=e=>{var n;return tE(e)&&!(null==(n=t_.get(e))?void 0:n[1])},tO=(e,n)=>{let r=t_.get(e);if(r)r[1]=!0,r[0].forEach(e=>e(n));else throw Error("[Bug] cancelable promise not found")},tw=e=>{if(t_.has(e))return;let n=[new Set,!1];t_.set(e,n);let r=()=>{n[1]=!0};e.then(r,r),e.onCancel=e=>{n[0].add(e)}},tE=e=>"function"==typeof(null==e?void 0:e.then),tC=e=>"v"in e||"e"in e,tT=e=>{if("e"in e)throw e.e;if(!("v"in e))throw Error("[Bug] atom state is not initialized");return e.v},tk=(e,n,r)=>{r.p.has(e)||(r.p.add(e),n.then(()=>{r.p.delete(e)},()=>{r.p.delete(e)}))},tR=(e,n,r,i,a)=>{var o;if(i===n)throw Error("[Bug] atom cannot depend on itself");r.d.set(i,a.n),tx(r.v)&&tk(n,r.v,a),null==(o=a.m)||o.t.add(n),e&&tI(e,i,n)},tS=()=>[new Map,new Map,new Set],tA=(e,n,r)=>{e[0].has(n)||e[0].set(n,new Set),e[1].set(n,r)},tI=(e,n,r)=>{let i=e[0].get(n);i&&i.add(r)},tL=(e,n)=>e[0].get(n),tM=(e,n)=>{e[2].add(n)},tN=e=>{for(;e[1].size||e[2].size;){e[0].clear();let n=new Set(e[1].values());e[1].clear();let r=new Set(e[2]);e[2].clear(),n.forEach(e=>{var n;return null==(n=e.m)?void 0:n.l.forEach(e=>e())}),r.forEach(e=>e())}},tD=e=>{let n;n=new Set;let r=(n,r,i)=>{let a="v"in r,o=r.v,l=tx(r.v)?r.v:null;if(tE(i)){for(let a of(tw(i),r.d.keys()))tk(n,i,e(a,r));r.v=i,delete r.e}else r.v=i,delete r.e;a&&Object.is(o,r.v)||(++r.n,l&&tO(l,i))},i=(n,a,o,l)=>{var c;let d,h;if(tC(o)&&(o.m&&!(null==l?void 0:l.has(a))||Array.from(o.d).every(([r,a])=>i(n,r,e(r,o),l).n===a)))return o;o.d.clear();let p=!0;try{let m=a.read(s=>{if(ty(a,s)){let n=e(s,o);if(!tC(n)){if(tb(s))r(s,n,s.init);else throw Error("no atom init")}return tT(n)}let c=i(n,s,e(s,o),l);if(p)tR(n,a,o,s,c);else{let e=tS();tR(e,a,o,s,c),u(e,a,o),tN(e)}return tT(c)},{get signal(){return d||(d=new AbortController),d.signal},get setSelf(){return tv(a)||console.warn("setSelf function cannot be used with read-only atom"),!h&&tv(a)&&(h=(...e)=>{if(p&&console.warn("setSelf function cannot be called in sync"),!p)return s(a,...e)}),h}});if(r(a,o,m),tE(m)){null==(c=m.onCancel)||c.call(m,()=>null==d?void 0:d.abort());let e=()=>{if(o.m){let e=tS();u(e,a,o),tN(e)}};m.then(e,e)}return o}catch(e){return delete o.v,o.e=e,++o.n,o}finally{p=!1}},a=(n,r,i)=>{var a,o;let l=new Map;for(let n of(null==(a=i.m)?void 0:a.t)||[])l.set(n,e(n,i));for(let n of i.p)l.set(n,e(n,i));return null==(o=tL(n,r))||o.forEach(n=>{l.set(n,e(n,i))}),l},o=(e,n,r)=>{let o=[],l=new Set,s=(n,r)=>{if(!l.has(n)){for(let[i,o]of(l.add(n),a(e,n,r)))n!==i&&s(i,o);o.push([n,r,r.n])}};s(n,r);let c=new Set([n]);for(let n=o.length-1;n>=0;--n){let[r,a,s]=o[n],d=!1;for(let e of a.d.keys())if(e!==r&&c.has(e)){d=!0;break}d&&(i(e,r,a,l),u(e,r,a),s!==a.n&&(tA(e,r,a),c.add(r))),l.delete(r)}},l=(n,a,s,...c)=>a.write(r=>tT(i(n,r,e(r,s))),(i,...c)=>{let d;let h=e(i,s);if(ty(a,i)){if(!tb(i))throw Error("atom not writable");let e="v"in h,a=h.v;r(i,h,c[0]),u(n,i,h),e&&Object.is(a,h.v)||(tA(n,i,h),o(n,i,h))}else d=l(n,i,h,...c);return tN(n),d},...c),s=(n,...r)=>{let i=tS(),a=l(i,n,e(n),...r);return tN(i),a},u=(n,r,i)=>{if(i.m&&!tx(i.v)){for(let a of i.d.keys())i.m.d.has(a)||(c(n,a,e(a,i)).t.add(r),i.m.d.add(a));for(let a of i.m.d||[])if(!i.d.has(a)){i.m.d.delete(a);let o=d(n,a,e(a,i));null==o||o.t.delete(r)}}},c=(r,a,o)=>{if(!o.m){for(let n of(i(r,a,o),o.d.keys()))c(r,n,e(n,o)).t.add(a);if(o.m={l:new Set,d:new Set(o.d.keys()),t:new Set},n.add(a),tv(a)&&a.onMount){let e=o.m,{onMount:n}=a;tM(r,()=>{let i=n((...e)=>l(r,a,o,...e));i&&(e.u=i)})}}return o.m},d=(r,i,a)=>{if(a.m&&!a.m.l.size&&!Array.from(a.m.t).some(n=>{var r;return null==(r=e(n,a).m)?void 0:r.d.has(i)})){let o=a.m.u;for(let l of(o&&tM(r,o),delete a.m,n.delete(i),a.d.keys())){let n=d(r,l,e(l,a));null==n||n.t.delete(i)}return}return a.m},h={get:n=>tT(i(void 0,n,e(n))),set:s,sub:(n,r)=>{let i=tS(),a=e(n),o=c(i,n,a);tN(i);let l=o.l;return l.add(r),()=>{l.delete(r);let e=tS();d(e,n,a),tN(e)}},unstable_derive:n=>tD(...n(e))};return Object.assign(h,{dev4_get_internal_weak_map:()=>({get:n=>{let r=e(n);if(0!==r.n)return r}}),dev4_get_mounted_atoms:()=>n,dev4_restore_atoms:n=>{let i=tS();for(let[a,l]of n)if(tb(a)){let n=e(a),s="v"in n,c=n.v;r(a,n,l),u(i,a,n),s&&Object.is(c,n.v)||(tA(i,a,n),o(i,a,n))}tN(i)}}),h},tB=()=>{let e=new WeakMap;return tD(n=>{let r=e.get(n);return r||(r={d:new Map,p:new Set,n:0},e.set(n,r)),r})},tP=()=>(i||(i=tB(),globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=i),globalThis.__JOTAI_DEFAULT_STORE__!==i&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044")),i),tK=(0,e0.createContext)(void 0),tU=e=>{let n=(0,e0.useContext)(tK);return(null==e?void 0:e.store)||n||tP()},tV=({children:e,store:n})=>{let r=(0,e0.useRef)();return n||r.current||(r.current=tB()),(0,e0.createElement)(tK.Provider,{value:n||r.current},e)},tG=e=>"function"==typeof(null==e?void 0:e.then),tF=e=>{e.status="pending",e.then(n=>{e.status="fulfilled",e.value=n},n=>{e.status="rejected",e.reason=n})},tH=e0.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw tF(e),e}),tz=new WeakMap,t$=e=>{let n=tz.get(e);return n||(n=new Promise((r,i)=>{let a=e,o=e=>n=>{a===e&&r(n)},l=e=>n=>{a===e&&i(n)},s=e=>{"onCancel"in e&&"function"==typeof e.onCancel&&e.onCancel(i=>{if(i===e)throw Error("[Bug] p is not updated even after cancelation");tG(i)?(tz.set(i,n),a=i,i.then(o(i),l(i)),s(i)):r(i)})};e.then(o(e),l(e)),s(e)}),tz.set(e,n)),n};function tZ(e,n){let r=tU(n),[[i,a,o],l]=(0,e0.useReducer)(n=>{let i=r.get(e);return Object.is(n[0],i)&&n[1]===r&&n[2]===e?n:[i,r,e]},void 0,()=>[r.get(e),r,e]),s=i;(a!==r||o!==e)&&(l(),s=r.get(e));let u=null==n?void 0:n.delay;return((0,e0.useEffect)(()=>{let n=r.sub(e,()=>{if("number"==typeof u){let n=r.get(e);tG(n)&&tF(t$(n)),setTimeout(l,u);return}l()});return l(),n},[r,e,u]),(0,e0.useDebugValue)(s),tG(s))?tH(t$(s)):s}function tj(e,n){let r=tU(n);return(0,e0.useCallback)((...n)=>{if(!("write"in e))throw Error("not writable atom");return r.set(e,...n)},[r,e])}function tW(e,n){return[tZ(e,n),tj(e,n)]}function tq(e,n){return tj((0,e0.useMemo)(()=>tm(null,(n,r,...i)=>e(n,r,...i)),[e]),n)}var tY=r(90292),tX=r.n(tY),tJ=tm([]),tQ=tm([]),t0=tm([]),t1=tm({input:{input:new Map,output:new Map},ui:{input:new Map,output:new Map}});let t2="referenceValue",t3={skipDebouncingErrorMessages:!1};var t4=r(87960),t6=r(29787),t5=r.n(t6);function t8(e){let{formattedValue:n="",name:r,value:i=null}=e;return{name:r,formattedValue:n,value:i}}function t7(e){let{initialValue:n,onFormat:r,sortedRatioEntries:i}=e;if(t5()(i))return[];if(!n.isFinite())return function(e,n){let[[r],...i]=n;return[t8({formattedValue:e.isPositive()?"Infinity":"-Infinity",name:r,value:e}),...i.map(e=>{let[n]=e;return t8({formattedValue:"",name:n,value:null})})]}(n,i);let a=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],[l,s]=i[n],u={value:e,ratio:s},c=t4.w.evaluate("value / ratio",u);if(n===i.length-1)return o.push(t8({name:l,value:c,formattedValue:r(c.toString())})),o;let d=c.floor();return o.push(t8({name:l,value:d,formattedValue:r(d.toString(),0)})),a(t4.w.evaluate("mod(value, ratio)",u),n+1,o)},o=a(n.abs());return n.isNegative()?function(e){let[{formattedValue:n,value:r,...i},...a]=e,o=r&&r.negated();return[t8({...i,value:o,formattedValue:n&&"-".concat(n)}),...a]}(o):o}r(28230);var t9=r(84367),ne=0,nt=function(e){this.id=ne++,this.registry=e},nn={Request:"Request",Singleton:"Singleton",Transient:"Transient"},nr={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},ni={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},na=function(){function e(e,n){this.id=ne++,this.activated=!1,this.serviceIdentifier=e,this.scope=n,this.type=nr.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var n=new e(this.serviceIdentifier,this.scope);return n.activated=n.scope===nn.Singleton&&this.activated,n.implementationType=this.implementationType,n.dynamicValue=this.dynamicValue,n.scope=this.scope,n.type=this.type,n.factory=this.factory,n.provider=this.provider,n.constraint=this.constraint,n.onActivation=this.onActivation,n.onDeactivation=this.onDeactivation,n.cache=this.cache,n},e}(),no="Metadata key was used more than once in a parameter:",nl="NULL argument",ns="Key Not Found",nu="Missing required @injectable annotation in:",nc="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",nd=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},nh=function(e,n){return"onDeactivation() error in class "+e+": "+n},np="named",nm="name",nf="unmanaged",ng="optional",ny="inject",nb="multi_inject",nv="inversify:tagged",n_="inversify:tagged_props",nx="inversify:paramtypes",nO="post_construct",nw="pre_destroy",nE=[ny,nb,nm,nf,np,ng],nC=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(nx,e),userGeneratedMetadata:Reflect.getMetadata(nv,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(n_,e)||[]},e}(),nT={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function nk(e){return e instanceof RangeError||"Maximum call stack size exceeded"===e.message}var nR=function(e,n){try{return e()}catch(e){throw nk(e)&&(e=n()),e}};function nS(e){if("function"==typeof e){var n=e;return n.name}if("symbol"==typeof e)return e.toString();var n=e;return n}function nA(e,n,r){var i="",a=r(e,n);return 0!==a.length&&(i="\nRegistered bindings:",a.forEach(function(e){var n="Object";null!==e.implementationType&&(n=nI(e.implementationType)),i=i+"\n "+n,e.constraint.metaData&&(i=i+" - "+e.constraint.metaData)})),i}function nI(e){if(e.name)return e.name;var n=e.toString(),r=n.match(/^function\s*([^\s(]+)/);return r?r[1]:"Anonymous function: "+n}var nL=function(){function e(e){this.id=ne++,this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}(),nM=function(){function e(e,n){this.key=e,this.value=n}return e.prototype.toString=function(){return this.key===np?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},e}(),nN=function(e,n){this.parentContext=e,this.rootRequest=n},nD=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}(),nB=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var n="",r=e.split("").reverse().join("");return n=this.str.split("").reverse().join(""),this.startsWith.call({str:n},r)},e.prototype.contains=function(e){return -1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}(),nP=function(){function e(e,n,r,i){this.id=ne++,this.type=e,this.serviceIdentifier=r;var a="symbol"==typeof n?n.toString().slice(7,-1):n;this.name=new nB(a||""),this.identifier=n,this.metadata=[];var o=null;"string"==typeof i?o=new nM(np,i):i instanceof nM&&(o=i),null!==o&&this.metadata.push(o)}return e.prototype.hasTag=function(e){for(var n=0,r=this.metadata;n<r.length;n++)if(r[n].key===e)return!0;return!1},e.prototype.isArray=function(){return this.hasTag(nb)},e.prototype.matchesArray=function(e){return this.matchesTag(nb)(e)},e.prototype.isNamed=function(){return this.hasTag(np)},e.prototype.isTagged=function(){return this.metadata.some(function(e){return nE.every(function(n){return e.key!==n})})},e.prototype.isOptional=function(){return this.matchesTag(ng)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===np})[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return nE.every(function(n){return e.key!==n})}):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(np)(e)},e.prototype.matchesTag=function(e){var n=this;return function(r){for(var i=0,a=n.metadata;i<a.length;i++){var o=a[i];if(o.key===e&&o.value===r)return!0}return!1}},e}(),nK=function(e,n,r){if(r||2==arguments.length)for(var i,a=0,o=n.length;a<o;a++)!i&&a in n||(i||(i=Array.prototype.slice.call(n,0,a)),i[a]=n[a]);return e.concat(i||Array.prototype.slice.call(n))};function nU(e,n,r,i){var a=e.getConstructorMetadata(r),o=a.compilerGeneratedMetadata;if(void 0===o)throw Error(nu+" "+n+".");var l=a.userGeneratedMetadata,s=Object.keys(l),u=0===r.length&&s.length>0,c=s.length>r.length,d=function(e,n,r,i,a){for(var o=[],l=0;l<a;l++){var s=function(e,n,r,i,a){var o=a[e.toString()]||[],l=nV(o),s=!0!==l.unmanaged,u=i[e];if((u=l.inject||l.multiInject||u)instanceof nD&&(u=u.unwrap()),s){var c=u===Object,d=u===Function,h=void 0===u;if(!n&&(c||d||h))throw Error("Missing required @inject or @multiInject annotation in: argument "+e+" in class "+r+".");var p=new nP(ni.ConstructorArgument,l.targetName,u);return p.metadata=o,p}return null}(l,e,n,r,i);null!==s&&o.push(s)}return o}(i,n,o,l,u||c?s.length:r.length),h=function e(n,r,i){for(var a=n.getPropertiesMetadata(r),o=[],l=Object.getOwnPropertySymbols(a),s=Object.keys(a).concat(l),u=0;u<s.length;u++){var c=s[u],d=a[c],h=nV(d),p=h.targetName||c,m=function(e,n,r,i){var a=e||n;if(void 0===a)throw Error(nu+" for property "+String(r)+" in class "+i+".");return a}(h.inject,h.multiInject,c,i),f=new nP(ni.ClassProperty,p,m);f.metadata=d,o.push(f)}var g=Object.getPrototypeOf(r.prototype).constructor;if(g!==Object){var y=e(n,g,i);o=nK(nK([],o,!0),y,!0)}return o}(e,r,n);return nK(nK([],d,!0),h,!0)}function nV(e){var n={};return e.forEach(function(e){n[e.key.toString()]=e.value}),{inject:n[ny],multiInject:n[nb],targetName:n[nm],unmanaged:n[nf]}}var nG=function(){function e(e,n,r,i,a){this.id=ne++,this.serviceIdentifier=e,this.parentContext=n,this.parentRequest=r,this.target=a,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===r?new Map:null}return e.prototype.addChildRequest=function(n,r,i){var a=new e(n,this.parentContext,this,r,i);return this.childRequests.push(a),a},e}();function nF(e){return e._bindingDictionary}function nH(e,n,r,i,a){var o=nz(r.container,a.serviceIdentifier),l=[];return o.length===nT.NoBindingsAvailable&&r.container.options.autoBindInjectable&&"function"==typeof a.serviceIdentifier&&e.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(r.container.bind(a.serviceIdentifier).toSelf(),o=nz(r.container,a.serviceIdentifier)),l=n?o:o.filter(function(e){var n=new nG(e.serviceIdentifier,r,i,e,a);return e.constraint(n)}),function(e,n,r,i){switch(n.length){case nT.NoBindingsAvailable:if(r.isOptional())return;var a=nS(e),o="No matching bindings found for serviceIdentifier:";throw Error(o+=function(e,n){if(!(n.isTagged()||n.isNamed()))return" "+e;var r="",i=n.getNamedTag(),a=n.getCustomTags();return null!==i&&(r+=i.toString()+"\n"),null!==a&&a.forEach(function(e){r+=e.toString()+"\n"})," "+e+"\n "+e+" - "+r}(a,r)+nA(i,a,nz));case nT.OnlyOneBindingAvailable:return;case nT.MultipleBindingsAvailable:default:if(r.isArray())return;var a=nS(e),o="Ambiguous match found for serviceIdentifier: "+a;throw Error(o+=nA(i,a,nz))}}(a.serviceIdentifier,l,a,r.container),l}function nz(e,n){var r=[],i=nF(e);return i.hasKey(n)?r=i.get(n):null!==e.parent&&(r=nz(e.parent,n)),r}function n$(e){return("object"==typeof e&&null!==e||"function"==typeof e)&&"function"==typeof e.then}function nZ(e){return!!n$(e)||Array.isArray(e)&&e.some(n$)}var nj=function(e,n){var r,i,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;l;)try{if(r=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=n.call(e,l)}catch(e){o=[6,e],i=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},nW=function(e,n,r){n.scope===nn.Singleton&&nY(n,r),n.scope===nn.Request&&nq(e,n,r)},nq=function(e,n,r){e.has(n.id)||e.set(n.id,r)},nY=function(e,n){e.cache=n,e.activated=!0,n$(n)&&nX(e,n)},nX=function(e,n){var r,i,a,o;return r=void 0,i=void 0,a=void 0,o=function(){var r,i;return nj(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,n];case 1:return r=a.sent(),e.cache=r,[3,3];case 2:throw i=a.sent(),e.cache=null,e.activated=!1,i;case 3:return[2]}})},new(a||(a=Promise))(function(e,n){function l(e){try{u(o.next(e))}catch(e){n(e)}}function s(e){try{u(o.throw(e))}catch(e){n(e)}}function u(n){var r;n.done?e(n.value):((r=n.value)instanceof a?r:new a(function(e){e(r)})).then(l,s)}u((o=o.apply(r,i||[])).next())})};(mD=mV||(mV={})).DynamicValue="toDynamicValue",mD.Factory="toFactory",mD.Provider="toProvider";var nJ=function(e){var n=null;switch(e.type){case nr.ConstantValue:case nr.Function:n=e.cache;break;case nr.Constructor:case nr.Instance:n=e.implementationType;break;case nr.DynamicValue:n=e.dynamicValue;break;case nr.Provider:n=e.provider;break;case nr.Factory:n=e.factory}if(null===n)throw Error("Invalid binding type: "+nS(e.serviceIdentifier))},nQ=function(e){switch(e.type){case nr.Factory:return{factory:e.factory,factoryType:mV.Factory};case nr.Provider:return{factory:e.provider,factoryType:mV.Provider};case nr.DynamicValue:return{factory:e.dynamicValue,factoryType:mV.DynamicValue};default:throw Error("Unexpected factory type "+e.type)}},n0=function(){return(n0=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},n1=function(e,n,r,i){return new(r||(r=Promise))(function(a,o){function l(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var n;e.done?a(e.value):((n=e.value)instanceof r?n:new r(function(e){e(n)})).then(l,s)}u((i=i.apply(e,n||[])).next())})},n2=function(e,n){var r,i,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;l;)try{if(r=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=n.call(e,l)}catch(e){o=[6,e],i=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},n3=function(e,n,r){if(r||2==arguments.length)for(var i,a=0,o=n.length;a<o;a++)!i&&a in n||(i||(i=Array.prototype.slice.call(n,0,a)),i[a]=n[a]);return e.concat(i||Array.prototype.slice.call(n))};function n4(e){var n,r=new((n=e.constr).bind.apply(n,n3([void 0],e.constructorInjections,!1)));return e.propertyRequests.forEach(function(n,i){var a=n.target.identifier,o=e.propertyInjections[i];r[a]=o}),r}function n6(e){return n1(this,void 0,void 0,function(){var n,r,i,a;return n2(this,function(o){for(r=0,n=[],i=e;r<i.length;r++)Array.isArray(a=i[r])?n.push(Promise.all(a)):n.push(a);return[2,Promise.all(n)]})})}function n5(e,n){var r=function(e,n){var r;if(Reflect.hasMetadata(nO,e)){var i=Reflect.getMetadata(nO,e);try{return null===(r=n[i.value])||void 0===r?void 0:r.call(n)}catch(n){throw Error("@postConstruct error in class "+e.name+": "+n.message)}}}(e,n);return n$(r)?r.then(function(){return n}):n}var n8=function(e,n){var r,i,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;l;)try{if(r=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=n.call(e,l)}catch(e){o=[6,e],i=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},n7=function(e){return function(n){n.parentContext.setCurrentRequest(n);var r=n.bindings,i=n.childRequests,a=n.target&&n.target.isArray(),o=!n.parentRequest||!n.parentRequest.target||!n.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier);return a&&o?i.map(function(n){return n7(e)(n)}):n.target.isOptional()&&0===r.length?void 0:rn(e,n,r[0])}},n9=function(e,n){var r=nQ(e);return nR(function(){return r.factory.bind(e)(n)},function(){return Error("It looks like there is a circular dependency in one of the '"+r.factoryType+"' bindings. Please investigate bindings withservice identifier '"+n.currentRequest.serviceIdentifier.toString()+"'.")})},re=function(e,n,r){var i,a,o,l,s=n.childRequests;switch(nJ(r),r.type){case nr.ConstantValue:case nr.Function:l=r.cache;break;case nr.Constructor:l=r.implementationType;break;case nr.Instance:i=r.implementationType,a=n7(e),r.scope!==nn.Singleton&&function(e,n){var r="Class cannot be instantiated in "+(e.scope===nn.Request?"request":"transient")+" scope.";if("function"==typeof e.onDeactivation)throw Error(nh(n.name,r));if(Reflect.hasMetadata(nw,n))throw Error("@preDestroy error in class "+n.name+": "+r)}(r,i),l=n$(o=function(e,n,r){var i;if(n.length>0){var a=n.reduce(function(e,n){var i=r(n);return n.target.type===ni.ConstructorArgument?e.constructorInjections.push(i):(e.propertyRequests.push(n),e.propertyInjections.push(i)),e.isAsync||(e.isAsync=nZ(i)),e},{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1}),o=n0(n0({},a),{constr:e});i=a.isAsync?function(e){return n1(this,void 0,void 0,function(){var n,r;return n2(this,function(i){switch(i.label){case 0:return[4,n6(e.constructorInjections)];case 1:return n=i.sent(),[4,n6(e.propertyInjections)];case 2:return r=i.sent(),[2,n4(n0(n0({},e),{constructorInjections:n,propertyInjections:r}))]}})})}(o):n4(o)}else i=new e;return i}(i,s,a))?o.then(function(e){return n5(i,e)}):n5(i,o);break;default:l=n9(r,n.parentContext)}return l},rt=function(e,n,r){var i=n.scope===nn.Singleton&&n.activated?n.cache:n.scope===nn.Request&&e.has(n.id)?e.get(n.id):null;return null!==i||nW(e,n,i=r()),i},rn=function(e,n,r){return rt(e,r,function(){var i=re(e,n,r);return n$(i)?i.then(function(e){return rr(n,r,e)}):rr(n,r,i)})};function rr(e,n,r){var i,a=ri(e.parentContext,n,r),o=rs(e.parentContext.container),l=o.next();do{i=l.value;var s=e.parentContext,u=rl(i,e.serviceIdentifier);a=n$(a)?ro(u,s,a):ra(u,s,a),l=o.next()}while(!0!==l.done&&!nF(i).hasKey(e.serviceIdentifier));return a}var ri=function(e,n,r){return"function"==typeof n.onActivation?n.onActivation(e,r):r},ra=function(e,n,r){for(var i=e.next();!i.done;){if(n$(r=i.value(n,r)))return ro(e,n,r);i=e.next()}return r},ro=function(e,n,r){var i,a,o,l;return i=void 0,a=void 0,o=void 0,l=function(){var i,a;return n8(this,function(o){switch(o.label){case 0:return[4,r];case 1:i=o.sent(),a=e.next(),o.label=2;case 2:if(a.done)return[3,4];return[4,a.value(n,i)];case 3:return i=o.sent(),a=e.next(),[3,2];case 4:return[2,i]}})},new(o||(o=Promise))(function(e,n){function r(e){try{u(l.next(e))}catch(e){n(e)}}function s(e){try{u(l.throw(e))}catch(e){n(e)}}function u(n){var i;n.done?e(n.value):((i=n.value)instanceof o?i:new o(function(e){e(i)})).then(r,s)}u((l=l.apply(i,a||[])).next())})},rl=function(e,n){var r=e._activations;return r.hasKey(n)?r.get(n).values():[].values()},rs=function(e){for(var n=[e],r=e.parent;null!==r;)n.push(r),r=r.parent;return{next:function(){var e=n.pop();return void 0!==e?{done:!1,value:e}:{done:!0,value:void 0}}}},ru=function(e,n){var r=e.parentRequest;return null!==r&&(!!n(r)||ru(r,n))},rc=function(e){return function(n){var r=function(r){return null!==r&&null!==r.target&&r.target.matchesTag(e)(n)};return r.metaData=new nM(e,n),r}},rd=rc(np),rh=function(e){return function(n){var r=null;return null!==n&&((r=n.bindings[0],"string"==typeof e)?r.serviceIdentifier===e:e===n.bindings[0].implementationType)}},rp=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new rm(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=rd(e),new rm(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e&&null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new rm(this._binding)},e.prototype.whenTargetTagged=function(e,n){return this._binding.constraint=rc(e)(n),new rm(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(n){return null!==n&&rh(e)(n.parentRequest)},new rm(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(n){return null!==n&&rd(e)(n.parentRequest)},new rm(this._binding)},e.prototype.whenParentTagged=function(e,n){return this._binding.constraint=function(r){return null!==r&&rc(e)(n)(r.parentRequest)},new rm(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(n){return null!==n&&ru(n,rh(e))},new rm(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(n){return null!==n&&!ru(n,rh(e))},new rm(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(n){return null!==n&&ru(n,rd(e))},new rm(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(n){return null!==n&&!ru(n,rd(e))},new rm(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,n){return this._binding.constraint=function(r){return null!==r&&ru(r,rc(e)(n))},new rm(this._binding)},e.prototype.whenNoAncestorTagged=function(e,n){return this._binding.constraint=function(r){return null!==r&&!ru(r,rc(e)(n))},new rm(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(n){return null!==n&&ru(n,e)},new rm(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(n){return null!==n&&!ru(n,e)},new rm(this._binding)},e}(),rm=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new rp(this._binding)},e.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new rp(this._binding)},e}(),rf=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new rp(this._binding),this._bindingOnSyntax=new rm(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},e}(),rg=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=nn.Request,new rf(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=nn.Singleton,new rf(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=nn.Transient,new rf(this._binding)},e}(),ry=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new rp(this._binding),this._bindingOnSyntax=new rm(this._binding),this._bindingInSyntax=new rg(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},e}(),rb=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=nr.Instance,this._binding.implementationType=e,new ry(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw Error("The toSelf function can only be applied when a constructor is used as service identifier");var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=nr.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=nn.Singleton,new rf(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=nr.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new ry(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=nr.Constructor,this._binding.implementationType=e,this._binding.scope=nn.Singleton,new rf(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=nr.Factory,this._binding.factory=e,this._binding.scope=nn.Singleton,new rf(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw Error("Value provided to function binding must be a function!");var n=this.toConstantValue(e);return this._binding.type=nr.Function,this._binding.scope=nn.Singleton,n},e.prototype.toAutoFactory=function(e){return this._binding.type=nr.Factory,this._binding.factory=function(n){return function(){return n.container.get(e)}},this._binding.scope=nn.Singleton,new rf(this._binding)},e.prototype.toAutoNamedFactory=function(e){return this._binding.type=nr.Factory,this._binding.factory=function(n){return function(r){return n.container.getNamed(e,r)}},new rf(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=nr.Provider,this._binding.provider=e,this._binding.scope=nn.Singleton,new rf(this._binding)},e.prototype.toService=function(e){this.toDynamicValue(function(n){return n.container.get(e)})},e}(),rv=function(){function e(){}return e.of=function(n,r,i,a,o){var l=new e;return l.bindings=n,l.middleware=r,l.deactivations=a,l.activations=i,l.moduleActivationStore=o,l},e}(),r_=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,n){if(null==e||null==n)throw Error(nl);var r=this._map.get(e);void 0!==r?r.push(n):this._map.set(e,[n])},e.prototype.get=function(e){if(null==e)throw Error(nl);var n=this._map.get(e);if(void 0!==n)return n;throw Error(ns)},e.prototype.remove=function(e){if(null==e)throw Error(nl);if(!this._map.delete(e))throw Error(ns)},e.prototype.removeIntersection=function(e){var n=this;this.traverse(function(r,i){var a=e.hasKey(r)?e.get(r):void 0;if(void 0!==a){var o=i.filter(function(e){return!a.some(function(n){return e===n})});n._setValue(r,o)}})},e.prototype.removeByCondition=function(e){var n=this,r=[];return this._map.forEach(function(i,a){for(var o=[],l=0;l<i.length;l++){var s=i[l];e(s)?r.push(s):o.push(s)}n._setValue(a,o)}),r},e.prototype.hasKey=function(e){if(null==e)throw Error(nl);return this._map.has(e)},e.prototype.clone=function(){var n=new e;return this._map.forEach(function(e,r){e.forEach(function(e){return n.add(r,"object"==typeof e&&null!==e&&"clone"in e&&"function"==typeof e.clone?e.clone():e)})}),n},e.prototype.traverse=function(e){this._map.forEach(function(n,r){e(r,n)})},e.prototype._setValue=function(e,n){n.length>0?this._map.set(e,n):this._map.delete(e)},e}(),rx=function(){function e(){this._map=new Map}return e.prototype.remove=function(e){if(this._map.has(e)){var n=this._map.get(e);return this._map.delete(e),n}return this._getEmptyHandlersStore()},e.prototype.addDeactivation=function(e,n,r){this._getModuleActivationHandlers(e).onDeactivations.add(n,r)},e.prototype.addActivation=function(e,n,r){this._getModuleActivationHandlers(e).onActivations.add(n,r)},e.prototype.clone=function(){var n=new e;return this._map.forEach(function(e,r){n._map.set(r,{onActivations:e.onActivations.clone(),onDeactivations:e.onDeactivations.clone()})}),n},e.prototype._getModuleActivationHandlers=function(e){var n=this._map.get(e);return void 0===n&&(n=this._getEmptyHandlersStore(),this._map.set(e,n)),n},e.prototype._getEmptyHandlersStore=function(){return{onActivations:new r_,onDeactivations:new r_}},e}(),rO=function(){return(rO=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},rw=function(e,n,r,i){return new(r||(r=Promise))(function(a,o){function l(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var n;e.done?a(e.value):((n=e.value)instanceof r?n:new r(function(e){e(n)})).then(l,s)}u((i=i.apply(e,n||[])).next())})},rE=function(e,n){var r,i,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;l;)try{if(r=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=n.call(e,l)}catch(e){o=[6,e],i=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},rC=function(e,n,r){if(r||2==arguments.length)for(var i,a=0,o=n.length;a<o;a++)!i&&a in n||(i||(i=Array.prototype.slice.call(n,0,a)),i[a]=n[a]);return e.concat(i||Array.prototype.slice.call(n))},rT=function(){function e(e){var n=e||{};if("object"!=typeof n)throw Error("Invalid Container constructor argument. Container options must be an object.");if(void 0===n.defaultScope)n.defaultScope=nn.Transient;else if(n.defaultScope!==nn.Singleton&&n.defaultScope!==nn.Transient&&n.defaultScope!==nn.Request)throw Error("Invalid Container option. Default scope must be a string ('singleton' or 'transient').");if(void 0===n.autoBindInjectable)n.autoBindInjectable=!1;else if("boolean"!=typeof n.autoBindInjectable)throw Error("Invalid Container option. Auto bind injectable must be a boolean");if(void 0===n.skipBaseClassChecks)n.skipBaseClassChecks=!1;else if("boolean"!=typeof n.skipBaseClassChecks)throw Error("Invalid Container option. Skip base check must be a boolean");this.options={autoBindInjectable:n.autoBindInjectable,defaultScope:n.defaultScope,skipBaseClassChecks:n.skipBaseClassChecks},this.id=ne++,this._bindingDictionary=new r_,this._snapshots=[],this._middleware=null,this._activations=new r_,this._deactivations=new r_,this.parent=null,this._metadataReader=new nC,this._moduleActivationStore=new rx}return e.merge=function(n,r){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var o=new e,l=rC([n,r],i,!0).map(function(e){return nF(e)}),s=nF(o);return l.forEach(function(e){!function(e,n){e.traverse(function(e,r){r.forEach(function(e){n.add(e.serviceIdentifier,e.clone())})})}(e,s)}),o},e.prototype.load=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=this._getContainerModuleHelpersFactory(),i=0;i<e.length;i++){var a=e[i],o=r(a.id);a.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction,o.unbindAsyncFunction,o.onActivationFunction,o.onDeactivationFunction)}},e.prototype.loadAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return rw(this,void 0,void 0,function(){var n,r,i,a,o;return rE(this,function(l){switch(l.label){case 0:n=this._getContainerModuleHelpersFactory(),r=0,i=e,l.label=1;case 1:if(!(r<i.length))return[3,4];return a=i[r],o=n(a.id),[4,a.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction,o.unbindAsyncFunction,o.onActivationFunction,o.onDeactivationFunction)];case 2:l.sent(),l.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},e.prototype.unload=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.forEach(function(n){var r=e._removeModuleBindings(n.id);e._deactivateSingletons(r),e._removeModuleHandlers(n.id)})},e.prototype.unloadAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return rw(this,void 0,void 0,function(){var n,r,i,a;return rE(this,function(o){switch(o.label){case 0:n=0,r=e,o.label=1;case 1:if(!(n<r.length))return[3,4];return i=r[n],a=this._removeModuleBindings(i.id),[4,this._deactivateSingletonsAsync(a)];case 2:o.sent(),this._removeModuleHandlers(i.id),o.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.bind=function(e){var n=new na(e,this.options.defaultScope||nn.Transient);return this._bindingDictionary.add(e,n),new rb(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.rebindAsync=function(e){return rw(this,void 0,void 0,function(){return rE(this,function(n){switch(n.label){case 0:return[4,this.unbindAsync(e)];case 1:return n.sent(),[2,this.bind(e)]}})})},e.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var n=this._bindingDictionary.get(e);this._deactivateSingletons(n)}this._removeServiceFromDictionary(e)},e.prototype.unbindAsync=function(e){return rw(this,void 0,void 0,function(){var n;return rE(this,function(r){switch(r.label){case 0:if(!this._bindingDictionary.hasKey(e))return[3,2];return n=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(n)];case 1:r.sent(),r.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}})})},e.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse(function(n,r){e._deactivateSingletons(r)}),this._bindingDictionary=new r_},e.prototype.unbindAllAsync=function(){return rw(this,void 0,void 0,function(){var e,n=this;return rE(this,function(r){switch(r.label){case 0:return e=[],this._bindingDictionary.traverse(function(r,i){e.push(n._deactivateSingletonsAsync(i))}),[4,Promise.all(e)];case 1:return r.sent(),this._bindingDictionary=new r_,[2]}})})},e.prototype.onActivation=function(e,n){this._activations.add(e,n)},e.prototype.onDeactivation=function(e,n){this._deactivations.add(e,n)},e.prototype.isBound=function(e){var n=this._bindingDictionary.hasKey(e);return!n&&this.parent&&(n=this.parent.isBound(e)),n},e.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},e.prototype.isBoundNamed=function(e,n){return this.isBoundTagged(e,np,n)},e.prototype.isBoundTagged=function(e,n,r){var i=!1;if(this._bindingDictionary.hasKey(e)){var a,o=this._bindingDictionary.get(e),l=(a=new nP(ni.Variable,"",e,new nM(n,r)),new nG(e,new nL(this),null,[],a));i=o.some(function(e){return e.constraint(l)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,n,r)),i},e.prototype.snapshot=function(){this._snapshots.push(rv.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw Error("No snapshot available to restore.");this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},e.prototype.createChild=function(n){var r=new e(n||this.options);return r.parent=this,r},e.prototype.applyMiddleware=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(e,n){return n(e)},r)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){var n=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(n)},e.prototype.getAsync=function(e){return rw(this,void 0,void 0,function(){var n;return rE(this,function(r){return n=this._getNotAllArgs(e,!1),[2,this._get(n)]})})},e.prototype.getTagged=function(e,n,r){var i=this._getNotAllArgs(e,!1,n,r);return this._getButThrowIfAsync(i)},e.prototype.getTaggedAsync=function(e,n,r){return rw(this,void 0,void 0,function(){var i;return rE(this,function(a){return i=this._getNotAllArgs(e,!1,n,r),[2,this._get(i)]})})},e.prototype.getNamed=function(e,n){return this.getTagged(e,np,n)},e.prototype.getNamedAsync=function(e,n){return this.getTaggedAsync(e,np,n)},e.prototype.getAll=function(e){var n=this._getAllArgs(e);return this._getButThrowIfAsync(n)},e.prototype.getAllAsync=function(e){var n=this._getAllArgs(e);return this._getAll(n)},e.prototype.getAllTagged=function(e,n,r){var i=this._getNotAllArgs(e,!0,n,r);return this._getButThrowIfAsync(i)},e.prototype.getAllTaggedAsync=function(e,n,r){var i=this._getNotAllArgs(e,!0,n,r);return this._getAll(i)},e.prototype.getAllNamed=function(e,n){return this.getAllTagged(e,np,n)},e.prototype.getAllNamedAsync=function(e,n){return this.getAllTaggedAsync(e,np,n)},e.prototype.resolve=function(e){var n=this.isBound(e);n||this.bind(e).toSelf();var r=this.get(e);return n||this.unbind(e),r},e.prototype._preDestroy=function(e,n){if(Reflect.hasMetadata(nw,e))return n[Reflect.getMetadata(nw,e).value]()},e.prototype._removeModuleHandlers=function(e){var n=this._moduleActivationStore.remove(e);this._activations.removeIntersection(n.onActivations),this._deactivations.removeIntersection(n.onDeactivations)},e.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition(function(n){return n.moduleId===e})},e.prototype._deactivate=function(e,n){var r=this,i=Object.getPrototypeOf(n).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var a=this._deactivateContainer(n,this._deactivations.get(e.serviceIdentifier).values());if(n$(a))return this._handleDeactivationError(a.then(function(){return r._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,n,i)}),i)}var o=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,n,i);if(n$(o))return this._handleDeactivationError(o,i)}catch(e){throw Error(nh(i.name,e.message))}},e.prototype._handleDeactivationError=function(e,n){return rw(this,void 0,void 0,function(){var r;return rE(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return i.sent(),[3,3];case 2:throw r=i.sent(),Error(nh(n.name,r.message));case 3:return[2]}})})},e.prototype._deactivateContainer=function(e,n){for(var r=this,i=n.next();i.value;){var a=i.value(e);if(n$(a))return a.then(function(){return r._deactivateContainerAsync(e,n)});i=n.next()}},e.prototype._deactivateContainerAsync=function(e,n){return rw(this,void 0,void 0,function(){var r;return rE(this,function(i){switch(i.label){case 0:r=n.next(),i.label=1;case 1:if(!r.value)return[3,3];return[4,r.value(e)];case 2:return i.sent(),r=n.next(),[3,1];case 3:return[2]}})})},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,n=function(e,n){e._binding.moduleId=n};return function(r){return{bindFunction:function(i){var a=e.bind(i);return n(a,r),a},isboundFunction:function(n){return e.isBound(n)},onActivationFunction:function(n,i){e._moduleActivationStore.addActivation(r,n,i),e.onActivation(n,i)},onDeactivationFunction:function(n,i){e._moduleActivationStore.addDeactivation(r,n,i),e.onDeactivation(n,i)},rebindFunction:function(i){var a=e.rebind(i);return n(a,r),a},unbindFunction:function(n){return e.unbind(n)},unbindAsyncFunction:function(n){return e.unbindAsync(n)}}}},e.prototype._getAll=function(e){return Promise.all(this._get(e))},e.prototype._get=function(e){var n=rO(rO({},e),{contextInterceptor:function(e){return e},targetType:ni.Variable});if(this._middleware){var r=this._middleware(n);if(null==r)throw Error("Invalid return type in middleware. Middleware must return!");return r}return this._planAndResolve()(n)},e.prototype._getButThrowIfAsync=function(e){var n=this._get(e);if(nZ(n))throw Error("You are attempting to construct '"+e.serviceIdentifier+"' in a synchronous way\n but it has asynchronous dependencies.");return n},e.prototype._getAllArgs=function(e){return{avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e}},e.prototype._getNotAllArgs=function(e,n,r,i){return{avoidConstraints:!1,isMultiInject:n,serviceIdentifier:e,key:r,value:i}},e.prototype._planAndResolve=function(){var e=this;return function(n){var r,i=function(e,n,r,i,a,o,l,s){void 0===s&&(s=!1);var u=new nL(n),c=function(e,n,r,i,a,o){var l=new nM(e?nb:ny,r),s=new nP(n,"",r,l);if(void 0!==a){var u=new nM(a,o);s.metadata.push(u)}return s}(r,i,a,0,o,l);try{return function e(n,r,i,a,o,l){if(null===o){s=nH(n,r,a,null,l),u=new nG(i,a,null,s,l);var s,u,c=new nN(a,u);a.addPlan(c)}else s=nH(n,r,a,o,l),u=o.addChildRequest(l.serviceIdentifier,s,l);s.forEach(function(r){var i=null;if(l.isArray())i=u.addChildRequest(r.serviceIdentifier,r,l);else{if(r.cache)return;i=u}if(r.type===nr.Instance&&null!==r.implementationType){var o,s=nU(n,nI(o=r.implementationType),o,!1);if(!a.container.options.skipBaseClassChecks){var c=function e(n,r){var i=Object.getPrototypeOf(r.prototype).constructor;if(i===Object)return 0;var a=nU(n,nI(i),i,!0),o=a.map(function(e){return e.metadata.filter(function(e){return e.key===nf})}),l=[].concat.apply([],o).length,s=a.length-l;return s>0?s:e(n,i)}(n,r.implementationType);if(s.length<c)throw Error(nd(nI(r.implementationType)))}s.forEach(function(r){e(n,!1,r.serviceIdentifier,a,i,r)})}})}(e,s,a,u,null,c),u}catch(e){throw nk(e)&&function e(n){n.childRequests.forEach(function(n){if(function e(n,r){return null!==n.parentRequest&&(n.parentRequest.serviceIdentifier===r||e(n.parentRequest,r))}(n,n.serviceIdentifier))throw Error("Circular dependency found: "+(function e(n,r){void 0===r&&(r=[]);var i=nS(n.serviceIdentifier);return(r.push(i),null!==n.parentRequest)?e(n.parentRequest,r):r})(n).reverse().join(" --> "));e(n)})}(u.plan.rootRequest),e}}(e._metadataReader,e,n.isMultiInject,n.targetType,n.serviceIdentifier,n.key,n.value,n.avoidConstraints);return n7((r=i=n.contextInterceptor(i)).plan.rootRequest.requestScope)(r.plan.rootRequest)}},e.prototype._deactivateIfSingleton=function(e){var n=this;return e.activated?n$(e.cache)?e.cache.then(function(r){return n._deactivate(e,r)}):this._deactivate(e,e.cache):void 0},e.prototype._deactivateSingletons=function(e){for(var n=0;n<e.length;n++){var r=e[n];if(n$(this._deactivateIfSingleton(r)))throw Error("Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)")}},e.prototype._deactivateSingletonsAsync=function(e){return rw(this,void 0,void 0,function(){var n=this;return rE(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(e){return n._deactivateIfSingleton(e)}))];case 1:return r.sent(),[2]}})})},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,n,r){return this.parent?this._deactivate.bind(this.parent)(e,n):this._bindingDeactivationAndPreDestroy(e,n,r)},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,n,r){return rw(this,void 0,void 0,function(){return rE(this,function(i){switch(i.label){case 0:if(!this.parent)return[3,2];return[4,this._deactivate.bind(this.parent)(e,n)];case 1:return i.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,n,r)];case 3:i.sent(),i.label=4;case 4:return[2]}})})},e.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch(n){throw Error("Could not unbind serviceIdentifier: "+nS(e))}},e.prototype._bindingDeactivationAndPreDestroy=function(e,n,r){var i=this;if("function"==typeof e.onDeactivation){var a=e.onDeactivation(n);if(n$(a))return a.then(function(){return i._preDestroy(r,n)})}return this._preDestroy(r,n)},e.prototype._bindingDeactivationAndPreDestroyAsync=function(e,n,r){return rw(this,void 0,void 0,function(){return rE(this,function(i){switch(i.label){case 0:if("function"!=typeof e.onDeactivation)return[3,2];return[4,e.onDeactivation(n)];case 1:i.sent(),i.label=2;case 2:return[4,this._preDestroy(r,n)];case 3:return i.sent(),[2]}})})},e}();r(4932);var rk=r(38566);function rR(e,n,r,i){var a=function(e){var n=[];if(Array.isArray(e)){var r=function(e){for(var n=new Set,r=0;r<e.length;r++){var i=e[r];if(n.has(i))return i;n.add(i)}}((n=e).map(function(e){return e.key}));if(void 0!==r)throw Error(no+" "+r.toString())}else n=[e];return n}(i),o={};Reflect.hasOwnMetadata(e,n)&&(o=Reflect.getMetadata(e,n));var l=o[r];if(void 0===l)l=[];else for(var s=function(e){if(a.some(function(n){return n.key===e.key}))throw Error(no+" "+e.key.toString())},u=0,c=l;u<c.length;u++)s(c[u]);l.push.apply(l,a),o[r]=l,Reflect.defineMetadata(e,o,n)}function rS(e){return function(n,r,i){"number"==typeof i?(function(e){if(void 0!==e)throw Error(nc)}(r),rR(nv,n,i.toString(),e)):!function(e,n,r){if(void 0!==e.prototype)throw Error(nc);rR(n_,e.constructor,n,r)}(n,r,e)}}var rA=function(e){return function(n,r,i){if(void 0===e)throw Error("@inject called with undefined this could mean that the class "+("function"==typeof n?n.name:n.constructor.name)+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.");return rS(new nM(ny,e))(n,r,i)}},rI=r(39378);function rL(e){return{lockedVariablesNames:e.lockedVariablesNames,values:(0,rI.mapValues)(e.values,e=>e.ui??"")}}var rM=r(62454),rN=r(55540);function rD(e,n){return{execute:e,shouldExecute:n}}let rB=(e,n)=>Object.entries(e.reduce((e,n)=>({...e,[n.leftHandSideVariableName]:[...e[n.leftHandSideVariableName]??[],...n.rightHandSideVariables.names]}),{})).filter(([e,r])=>r.every(e=>n.includes(e))).map(([e])=>e),rP=(e,n)=>Object.entries(e).reduce((e,r)=>{let[i,a]=r,o=n[i].ui??"";return(0,t9.Rw)(a)||(0,t9.Rw)(a[o])?e:[...e,...Object.entries(a[o]).filter(([e,n])=>(0,t9.$K)(n.computable)).map(([e])=>e)]},[]);var rK=e=>n=>rD(r=>n.lockedVariablesNames===r.lockedVariablesNames?r:(0,rN.Uy)(r,n=>{let r=rB(n.equationsVariants,n.lockedVariablesNames),i=rP(e,n.values);n.outputOnlyVariables=(0,rI.uniq)([...r,...i])}));function rU(){return{actionsHistory:[],calculatedVariablesNames:[],changedVariablesNames:[],conditions:{input:{input:new Map,output:new Map},ui:{input:new Map,output:new Map}},conversionFormulas:{},customJsFunctions:{},exportedVariablesNames:[],equationsVariants:[],everCalculatedVariablesNames:[],extraData:th.zC,formulaUnitDependencyMap:{},isDirty:!1,lockedVariablesNames:[],manualInputs:{},manualVariablesNames:[],outputOnlyVariables:[],values:{}}}var rV=e=>n=>[...n.filter(n=>n!==e),e],rG=e=>n=>{e.lockedVariablesNames=rV(n)(e.lockedVariablesNames)},rF=e=>n=>n.filter(n=>n!==e),rH=e=>n=>{e.lockedVariablesNames=rF(n)(e.lockedVariablesNames)},rz=e=>n=>r=>{e.values[n]=r},r$=e=>{e.calculatedVariablesNames=[]},rZ=r(93435);let{evaluate:rj}=rZ.default;function rW(e,n={}){try{let r=rj(e,n);if("number"==typeof r)return(0,t9.US)(r);return r}catch(e){return null}}let rq={computable:null,ui:null};var rY=e=>(0,t9.Rw)(e)||e.isNaN()?rq:{computable:e,ui:e.toString()},rX=e=>n=>r=>r.find(({leftHandSideVariableName:r,rightHandSideVariables:i})=>r!==e&&i.isComputable(n)),rJ=({calculatedVariablesNames:e})=>n=>{e.forEach(e=>n(e))},rQ=e=>({leftHandSideVariableName:n,rightHandSideVariables:r})=>{let i=[...r.names,n];return e.filter(e=>!i.includes(e.leftHandSideVariableName))},r0=({values:e})=>n=>n.filter(n=>(0,t9.$K)(e[n].computable)),r1=({lockedVariablesNames:e})=>n=>n.filter(n=>!e.includes(n)),r2=(e,n)=>!0===rZ.default.evaluate(e,n),r3=e=>n=>[...n].sort((n,r)=>{let i=n.rightHandSideVariables.getWeight(e),a=r.rightHandSideVariables.getWeight(e);return r2("aWeight == otherWeight",{aWeight:i,otherWeight:a})?0:r2("aWeight > otherWeight",{aWeight:i,otherWeight:a})?1:-1}),r4=e=>n=>r3(function(e){let{calculatedVariablesNames:n,lockedVariablesNames:r,manualVariablesNames:i}=e;return[...new Set([...r1(e)(n),...r1(e)(i),...r0(e)(r)])].reduce((e,n,r)=>({...e,[n]:(0,t9.US)(rZ.default.pow(2,r).toString())}),{})}(e))(n).reverse(),r6=e=>n=>e.lockedVariablesNames.includes(n),r5=e=>n=>{e.calculatedVariablesNames=rV(n)(e.calculatedVariablesNames)},r8=e=>n=>{e.everCalculatedVariablesNames=rV(n)(e.everCalculatedVariablesNames)},r7=e=>n=>{e.manualVariablesNames=rV(n)(e.manualVariablesNames)},r9=e=>n=>[e,...n.filter(n=>n!==e)],ie=e=>n=>{e.manualVariablesNames=r9(n)(e.manualVariablesNames)},it=e=>n=>{e.calculatedVariablesNames=rF(n)(e.calculatedVariablesNames)},ir=e=>n=>{e.manualVariablesNames=rF(n)(e.manualVariablesNames)};let ii=(0,t9.US)(0),ia=rZ.default.sum;var io=e=>ia(ii,...e),il=({lockedVariablesNames:e})=>n=>n.filter(n=>!e.includes(n.leftHandSideVariableName));let is=(e,n)=>r=>(0,rN.Uy)(r,function(r){let{customJsFunctions:i,equationsVariants:a,values:o}=r,l=e[n],s=r.values[n].ui??"";(0,t9.$K)(l)&&(0,t9.$K)(l[s])&&Object.entries(l[s]).forEach(([e,n])=>{o[e]=n,ir(r)(e),(0,t9.$K)(n.computable)?rG(r)(e):rH(r)(e)}),rJ(r)(e=>{r6(r)(e)||rz(r)(e)(rq)}),r$(r),function e(a){let l=r4(r)(a),s=rX(n)(o)(l);if((0,t9.Rw)(s))return;let{formula:u,leftHandSideVariableName:c,rightHandSideVariables:d}=s;r5(r)(c),r8(r)(c),ir(r)(c);let h=rW(u,{...d.getScope(o),...i});rz(r)(c)(rY(h)),e(rQ(a)(s))}(il(r)(a))});var iu=e=>n=>rD(is(e,n)),ic=e=>e.map(e=>{var n;return{...e,rightHandSideVariables:{getScope:e=>n.reduce((n,r)=>(n[r]=e[r].computable,n),{}),getWeight:e=>io(n.map(n=>e[n]??(0,t9.US)(0))),isComputable:e=>n.every(n=>{let r=e[n];return!(0,t9.Rw)(r)&&((0,t9.$K)(r.computable)||""===r.ui)}),names:n=e.rightHandSideVariablesNames}}}),id=e=>Object.keys(e),ih=({conditions:e,equationsVariants:n,extraData:r,formulaUnitDependencyMap:i,initialConversionFormulas:a,variables:o},l={},s=[])=>{let u=rU(),c=ic(n),d=o.filter(({lock:e})=>e===rM.Uk.SET).map(({name:e})=>e);return{...u,conditions:function({input:e,ui:n}){let r=rU();return{input:{...r.conditions.input,input:e},ui:{...r.conditions.ui,input:n}}}(e),conversionFormulas:o.reduce((e,{name:n})=>(0,t9.Rw)(a[n])?e:{...e,[n]:{conversionInFormula:a[n]?.conversionInFormula??t2,conversionOutFormula:a[n]?.conversionOutFormula??t2}},rU().conversionFormulas),customJsFunctions:l,equationsVariants:c,exportedVariablesNames:id(s),extraData:r,formulaUnitDependencyMap:i??u.formulaUnitDependencyMap,lockedVariablesNames:d,outputOnlyVariables:(0,rI.uniq)(rB(c,d)),values:{...s.reduce((e,{name:n,value:r})=>({...e,[n]:r}),{}),...o.reduce((e,{name:n})=>({...e,[n]:{computable:null,ui:null}}),{})}}},ip=(e,n,{customJsExportedVariables:r,customJsFunctions:i})=>({...rU(),...e,customJsFunctions:i,equationsVariants:ic(n.equationsVariants),exportedVariablesNames:id(r)});let im=(e,{changedVariablesNames:n})=>({...e,changedVariablesNames:n}),ig=(e,n)=>({...e,...n}),iy=(e,n)=>({...e,...n}),ib=(e,{isDirty:n,lockedVariablesNames:r})=>({...e,isDirty:n,lockedVariablesNames:r}),iv=(e,n)=>({...e,actionsHistory:[...e.actionsHistory,n]});var i_=(...e)=>n=>e.reduce((e,n)=>{if((0,t9.Rw)(n.shouldExecute))return n.execute(e);let r=(0,rN.Uy)(e,e=>n.execute(e));return n.shouldExecute(r,e)?r:e},n),ix=(e,n)=>{let r=e=>{let r=n.find(({name:n})=>n===e);if((0,t9.Rw)(r))throw Error(`Cannot initialize default value: variable: ${e} is not included in engine definition`);let{defaultValue:i}=r;return(0,t9.Rw)(i)||(0,t9.Rw)(i.computable)||!(0,t9.Hv)(i.computable)?rq:{ui:i.ui||"",computable:(0,t9.US)(i.computable)}};return Object.entries(e.values).map(([e])=>[e,r(e)])};function iO(e,n){iE(e,n),n.add(e)}function iw(e,n,r){iE(e,n),n.set(e,r)}function iE(e,n){if(n.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function iC(e,n){var r=iR(e,n,"get");return r.get?r.get.call(e):r.value}function iT(e,n,r){if(!n.has(e))throw TypeError("attempted to get private field on non-instance");return r}function ik(e,n,r){var i=iR(e,n,"set");return function(e,n,r){if(n.set)n.set.call(e,r);else{if(!n.writable)throw TypeError("attempted to set read only private field");n.value=r}}(e,i,r),r}function iR(e,n,r){if(!n.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return n.get(e)}let iS=function(e){if(Reflect.hasOwnMetadata(nx,e))throw Error("Cannot apply @injectable decorator multiple times.");return Reflect.defineMetadata(nx,Reflect.getMetadata("design:paramtypes",e)||[],e),e}(mG=(mM=mG=(mI=mG=(mS=mG=(mk=mG=(mC=mG=(mw=mG=(mx=mG=(mv=mG=(my=mG=(mf=mG=(mp=mG=(md=mG=(mu=mG=(ml=mG=Reflect.metadata("design:type",Function)(mG=Reflect.metadata("design:paramtypes",["undefined"==typeof CalculationModule?Object:CalculationModule,"undefined"==typeof ConditionsModule?Object:ConditionsModule,"undefined"==typeof ConversionFormulaModule?Object:ConversionFormulaModule,"undefined"==typeof ConversionModule?Object:ConversionModule,"undefined"==typeof DiffModule?Object:DiffModule,"undefined"==typeof InjectionModule?Object:InjectionModule,"undefined"==typeof IsDirtyModule?Object:IsDirtyModule,"undefined"==typeof LockModule?Object:LockModule,"undefined"==typeof OutputModule?Object:OutputModule,"undefined"==typeof OutputOnlyModule?Object:OutputOnlyModule,"undefined"==typeof StateManager?Object:StateManager,"undefined"==typeof Definition?Object:Definition,"undefined"==typeof StateSnapshot?Object:StateSnapshot])((mF=new WeakMap,mH=new WeakMap,mz=new WeakMap,m$=new WeakMap,mZ=new WeakMap,mj=new WeakMap,mW=new WeakMap,mq=new WeakMap,mY=new WeakMap,mX=new WeakMap,mJ=new WeakMap,mQ=new WeakMap,m0=new WeakSet,m1=new WeakSet,m2=new WeakSet,m3=new WeakSet,m4=new WeakSet,m6=new WeakSet,m5=new WeakSet,m8=new WeakSet,m7=new WeakSet,m9=new WeakSet,fe=new WeakSet,ft=new WeakSet,fn=new WeakSet,mG=class{constructor(e,n,r,i,a,o,l,s,u,c,d,h,p){iO(this,fn),iO(this,ft),iO(this,fe),iO(this,m9),iO(this,m7),iO(this,m8),iO(this,m5),iO(this,m6),iO(this,m4),iO(this,m3),iO(this,m2),iO(this,m1),iO(this,m0),iw(this,mF,{writable:!0,value:void 0}),iw(this,mH,{writable:!0,value:void 0}),iw(this,mz,{writable:!0,value:void 0}),iw(this,m$,{writable:!0,value:void 0}),iw(this,mZ,{writable:!0,value:void 0}),iw(this,mj,{writable:!0,value:void 0}),iw(this,mW,{writable:!0,value:void 0}),iw(this,mq,{writable:!0,value:void 0}),iw(this,mY,{writable:!0,value:void 0}),iw(this,mX,{writable:!0,value:void 0}),iw(this,mJ,{writable:!0,value:void 0}),iw(this,mQ,{writable:!0,value:void 0});let{customJsListeners:m,...f}=(0,rk.F)(h.customJs,h.variables.map(e=>e.name),h.extraData?.user);ik(this,mH,n(h.datasetsScope)),ik(this,mz,r),ik(this,m$,i),ik(this,mF,e({customJsListeners:m,datasetsScope:h.datasetsScope,valueSetterByVariableName:h.valueSetters})),ik(this,mZ,a),ik(this,mW,o),ik(this,mq,l),ik(this,mY,s),ik(this,mW,o),ik(this,mX,u),ik(this,mJ,c(h.valueSetters));let g=iT(this,m2,iL).call(this,h,f,p);ik(this,mQ,d(g)),ik(this,mj,rL(g))}getState(){return iT(this,fn,iF).call(this,iT(this,m1,iI).call(this))}getStateSnapshot(){return(0,rI.omit)(iC(this,mQ).getState(),th.xx)}input(e,n){return iT(this,fn,iF).call(this,iT(this,m5,iB).call(this,e,n))}inputMultiple(e){return iT(this,fn,iF).call(this,iT(this,m8,iP).call(this,e))}lock(e,n){return iT(this,fn,iF).call(this,iT(this,m7,iK).call(this,e,n))}reset(){return iT(this,m9,iU).call(this),iT(this,fn,iF).call(this,iT(this,m1,iI).call(this))}updateConversionFormulas(e,n){return iT(this,fn,iF).call(this,iT(this,fe,iV).call(this,e,n))}updateManyConversionFormulas(e){return iT(this,fn,iF).call(this,iT(this,ft,iG).call(this,e))}}))||mG)||mG,rS(new nM(ng,!0))(ml,void 0,12)||mG),rA(th.hC.other.stateSnapshot)(mu,void 0,12)||mG),rA(th.hC.other.definition)(md,void 0,11)||mG),rA(th.hC.modules.stateManager)(mp,void 0,10)||mG),rA(th.hC.modules.outputOnlyModule)(mf,void 0,9)||mG),rA(th.hC.modules.outputModule)(my,void 0,8)||mG),rA(th.hC.modules.lockModule)(mv,void 0,7)||mG),rA(th.hC.modules.isDirtyModule)(mx,void 0,6)||mG),rA(th.hC.modules.injectionModule)(mw,void 0,5)||mG),rA(th.hC.modules.diffModule)(mC,void 0,4)||mG),rA(th.hC.modules.conversionModule)(mk,void 0,3)||mG),rA(th.hC.modules.conversionFormulaModule)(mS,void 0,2)||mG),rA(th.hC.modules.conditionsModule)(mI,void 0,1)||mG),rA(th.hC.modules.calculationModule)(mM,void 0,0)||mG))||mG;function iA(e,n,r){return[iC(this,mW).call(this,e)(n),iC(this,m$).call(this,"in")(e),iC(this,mH).call(this,e)(["input"]),iC(this,mF).call(this,e),iC(this,mJ).call(this,r)]}function iI(){let e=iC(this,mQ).getState();return{...i_(iC(this,m$).call(this,"out")(null),iC(this,mX).call(this))(e),valuesBase:e.values}}function iL(e,n,r){return(0,t9.$K)(r)?ip(r,e,n):iT(this,m3,iM).call(this,e,n)}function iM(e,{customJsExportedVariables:n,customJsFunctions:r}){let i=ih(e,r,n),a=ix(i,e.variables);return a.every(([e,{computable:n}])=>(0,t9.Rw)(n))?iT(this,m4,iN).call(this,i):iT(this,m6,iD).call(this,i,a)}function iN(e){return i_(iC(this,mH).call(this,null)(["input","ui"]))(e)}function iD(e,n){return n.reduce((e,[n,r])=>(0,t9.Rw)(r.computable)?e:i_(...iT(this,m0,iA).call(this,n,r,e))(e),e)}function iB(e,n){iC(this,mQ).setNewAction({type:"input",variableName:e,variableValue:n});let r=iC(this,mQ).getState(),i=i_(...iT(this,m0,iA).call(this,e,n,r),iC(this,mZ).call(this,r),iC(this,mq).call(this,iC(this,mj)))(r);return iC(this,mQ).setComputedInput(i),iT(this,m1,iI).call(this)}function iP(e){iC(this,mQ).setNewAction({type:"inputMultiple",variableValues:e});let n=iC(this,mQ).getState(),r=i_(...Object.entries(e).flatMap(([e,r])=>iT(this,m0,iA).call(this,e,r,n)),iC(this,mZ).call(this,n),iC(this,mq).call(this,iC(this,mj)))(n);return iC(this,mQ).setComputedInput(r),iT(this,m1,iI).call(this)}function iK(e,n){iC(this,mQ).setNewAction({type:"lock",variableName:e,variableValue:n});let r=i_(iC(this,mY).call(this,n)(e),iC(this,mq).call(this,iC(this,mj)))(iC(this,mQ).getState());return iC(this,mQ).setLock(r),iT(this,m1,iI).call(this)}function iU(){iC(this,mQ).reset()}function iV(e,n){iC(this,mQ).setNewAction({type:"updateConversionFormulas",variableName:e,variableValue:n});let r=iC(this,mQ).getState(),i=i_(iC(this,mz).call(this,{[e]:n}),iC(this,mZ).call(this,r))(r);return iC(this,mQ).setConversionFormulas(i),iT(this,m1,iI).call(this)}function iG(e){iC(this,mQ).setNewAction({type:"updateManyConversionFormulas",variableValues:e});let n=iC(this,mQ).getState(),r=i_(iC(this,mz).call(this,e),iC(this,mZ).call(this,n))(n);return iC(this,mQ).setConversionFormulas(r),iT(this,m1,iI).call(this)}function iF(e){return(0,rI.pick)(e,["actionsHistory","calculatedVariablesNames","changedVariablesNames","conditions","formulaUnitDependencyMap","isDirty","lockedVariablesNames","manualVariablesNames","outputOnlyVariables","values","valuesBase"])}function iH(e,n){let r=[...new Set(Array.from(e.conditions.ui.output.values()).reduce((e,{hidesVariables:n,value:r})=>(0,rI.isEmpty)(n)||!1!==r?e:[...e,...n],[]))];return Array.from(e.conditions.input.output.entries()).filter(([e,i])=>(function(e,n,{detectedVariables:r,triggeringVariableName:i,value:a},o){if(a)return!1;let[l]=n.split(".");return!([l,...r].some(e=>o.includes(e))||l!==e&&i===e)})(n,e,i,r))}var iz=e=>{let n=rU();return{...n,...e,conditions:{...n.conditions,init:{input:new Map,output:new Map},...e.conditions}}},i$=r(13495),iZ={every:(e,...n)=>n.every(n=>e.every(n)),some:(e,...n)=>n.every(n=>e.some(n))};function ij({values:e},n){return"string"!=typeof n?n:e[n]?.computable}function iW(e){return(0,t9.$K)(e)&&(Array.isArray(e)||(0,t4.Zp)(e))}function iq(e,{flatten:n}={flatten:!0}){let r=e;return 1===e.length&&Array.isArray(e[0])&&(r=e.flat()),r.flat(n?1:0).filter(iW).map(e=>Array.isArray(e)?e.filter(iW):e)}let iY=e=>e.split(/\d+$/)[0];function iX(e,n){let{user:r}=e.extraData;return(0,t9.Rw)(r)?null:r[n]}let{equal:iJ,larger:iQ,largerEq:i0,smaller:i1,smallerEq:i2,unequal:i3}=rZ.default;function i4(e,n){return r=>i=>{let a=ij(e,i);return!(0,t9.Rw)(a)&&n(a,r)}}let i6=(0,t9.jA)()({count:(...e)=>iq(e).length,mean:(...e)=>(0,rZ.default.mean)(iq(e)),median:(...e)=>(0,rZ.default.median)(iq(e)),mode:(...e)=>(0,rZ.default.mode)(iq(e)),product:(...e)=>(0,rZ.default.prod)(iq(e)),standardDeviation:(...e)=>(0,rZ.default.std)(iq(e)),sum:(...e)=>(0,rZ.default.sum)(iq(e)),variance:(...e)=>(0,rZ.default.variance)(iq(e)),sumOfProducts:(...e)=>(function(e){let n=iq(e,{flatten:!1}),r=n[0];if(!n.every(e=>e.length===r.length))throw RangeError("All matrices should have the same length");let i=(0,t9.US)(0);for(let e=r.length-1;e>=0;--e){let r=(0,t9.US)(1);n.forEach(n=>{r=rZ.default.prod(r,n[e])}),i=rZ.default.sum(i,r)}return i})(e)});var i5=function(e,n,r){let i=function(e){let n=Object.fromEntries(Object.entries(e.values).map(([e,{computable:n,ui:r}])=>[e,{computable:n??(0,t9.US)(Number.NaN),ui:r}]));return{...e,values:n}}(n);return{...Object.fromEntries(Object.entries(i.values).map(([e,{computable:n}])=>[e,n])),...function(e,n){let r=function(e){let n=(n,r)=>{let i=iX(e,n);return!(0,t9.Rw)(i)&&r.includes(i)};return{isAdvanced:!0===e.extraData.isAdvanced,isMobile:!0===e.extraData.isMobile,isUserFromCountry:(...e)=>n("countryCode",e),isUserCurrency:(...e)=>n("currency",e),isUserCurrencySymbol:(...e)=>n("currencySymbol",e),userUsesImperialUnits:()=>iX(e,"useImperialUnits")??!1}}(e),i=(0,t9.jA)()({everHadValue:n=>{let{everCalculatedVariablesNames:r,manualVariablesNames:i}=e;return r.includes(n)||i.includes(n)},hasValue:n=>{let r=ij(e,n);return(0,t9.$K)(r)&&!r.isNaN()},isCalculated:n=>e.calculatedVariablesNames.includes(n),isInput:n=>e.manualVariablesNames.includes(n)}),a=function({values:e}){return{matchIndex:(n,r,i)=>{let a=Array.isArray(n)?n:[n],o=Object.keys(e),l=a.reduce((e,n)=>[...e,function({endIndex:e,startIndex:n,toMatch:r,variableNames:i}){let a=i.filter(e=>e.startsWith(r));if((0,t9.Rw)(n))return a;let o=e??i.length;if(n>o)return[];let l=`${n}-${o}`;return a.filter(e=>{let n=iY(e);return RegExp(`${n}[${l}]$`).test(e)})}({endIndex:i,toMatch:n,startIndex:r,variableNames:o})],[]);return l.some(e=>0===e.length)?[]:function(e){let n=e.flat();return Object.values((0,rI.groupBy)(n,e=>{let n=iY(e);return e.replace(n,"")}))}(l)}}}(e),o={notEquals:i4(e,i3),equals:i4(e,iJ),greaterThan:i4(e,iQ),smallerThan:i4(e,i1),greaterOrEqual:i4(e,i0),smallerOrEqual:i4(e,i2)},l={not:e=>!e,...iZ,...r,isIn:(n,...r)=>{let i=ij(e,n);return!!i&&r.some(e=>i.equals(t4.w.bignumber(e)))},isInteger:n=>{let r=ij(e,n);return r?.isInteger()??!1},...i,...a,...i6,...o};return(0,t4.pt)(l,n)}(i,r),...(0,rI.mapKeys)(e,(e,n)=>(0,i$.I)(n))}};let i8={},i7=e=>n=>r2(n,e),i9=({condition:e,currentConditionResult:n,scope:r,variableName:i})=>{let a=i7(r)(e.value);return a===n?.value?n:{...e,triggeringVariableName:i,value:a}},ae=(e,n,r,i)=>{let a=iz(i),{conditions:o,values:l}=a,{input:s,output:u}=o[e],c=Object.keys(l),d=Object.keys(n),h=new Map;for(let[i,o]of s){let s=u.get(i),m=(0,rI.pick)(o,"hidesVariables","detectedVariables");try{var p;if(p=o.value,"input"===e&&!(0,t4.md)(p).every(function(e){return n=>{if(!(n in e))return!0;let r=e[n];if((0,t9.Rw)(r))throw Error(`Variable ${n} not found`);return(0,t9.$K)(r.computable)}}(l))){h.set(i,i9({condition:{...m,value:"true"},currentConditionResult:s,scope:i8,variableName:r}));continue}let u=i9({currentConditionResult:s,condition:{...m,value:(0,t4.gw)(o.value,c,d)},scope:i5(n,a,e),variableName:r});h.set(i,u)}catch(e){h.set(i,{...m,value:!1,triggeringVariableName:null})}}return h},at=(e,n,r,i)=>i.reduce((i,a)=>({...i,[a]:{input:r.conditions[a].input,output:ae(a,e,n,r)}}),r.conditions);var an=e=>n=>r=>rD(i=>{let a=at(e??{},n,i,r);return{...i,conditions:a}});let ar=(e,n)=>r=>{let{calculatedVariablesNames:i,values:a}=r,o=[...i,n];return e.forEach(({callback:e,requiredVariablesNames:n})=>{n.every(e=>o.includes(e))&&e(Object.fromEntries(Object.entries(a).map(([e,{computable:n}])=>[e,n?.toNumber()??null])))}),r};var ai=e=>n=>rD(ar(e,n)),aa=({customJsListeners:e,datasetsScope:n,valueSetterByVariableName:r})=>i=>{var a;return a=[iu(r)(i),ai(e)(i),an(n)(i)(["input","ui"])],{execute:e=>i_(...a)(e),shouldExecute:(e,n)=>{let r=iH(n,i);if(0===r.length)return!0;let a=Object.fromEntries(iH(e,i));return r.some(([e,{value:n}])=>{let r=a[e];return(0,t9.Rw)(r)||r.value!==n})}}};let ao=e=>n=>rW(e,{referenceValue:n});var al=e=>n=>rD(r=>(0,rN.Uy)(r,r=>{let i=(0,t9.$K)(n)?[n]:Object.keys(r.values);Object.entries(r.values).filter(([e])=>i.includes(e)).forEach(([n,i])=>{if((0,t9.Rw)(i)||(0,t9.Rw)(i.computable))return;let a=function({conversionFormulas:e,formulaUnitDependencyMap:n,type:r,variableName:i}){let a=n[i]??i;return e[a]?.["in"===r?"conversionInFormula":"conversionOutFormula"]}({conversionFormulas:r.conversionFormulas,formulaUnitDependencyMap:r.formulaUnitDependencyMap,type:e,variableName:n});if((0,t9.Rw)(a))return;let o=ao(a)(i.computable);r.values[n]=(0,t9.Rw)(o)||o.isNaN()?rq:{ui:o.toString(),computable:o}})})),as=e=>rD(n=>(0,rN.Uy)(n,n=>{n.conversionFormulas={...n.conversionFormulas,...e};let r=Object.keys(e);n.manualInputs=(0,rI.omit)(n.manualInputs,[...r,...(0,t9.X0)(n.formulaUnitDependencyMap,r)])})),au=e=>({conversionFormulas:n,formulaUnitDependencyMap:r})=>Object.keys({...n,...r}).filter(i=>{let a=r[i]??i,o=e[a],l=n[a];return(0,t9.Rw)(l)?l!==o:Object.entries(l).some(([e,n])=>n!==o?.[e])}),ac=e=>n=>Object.keys(n).filter(r=>{let i=e[r],a=n[r];return(0,t9.Rw)(i?.computable)||(0,t9.Rw)(a?.computable)?i!==a:r2("next != prev",{next:a.computable,prev:i.computable})||i.ui!==a.ui}),ad=e=>rD(n=>(0,rN.Uy)(n,r=>{r.changedVariablesNames=(0,rI.uniq)([...ac(e.values)(n.values),...au(e.conversionFormulas)(n)])})),ah=e=>n=>rD(r=>(0,rN.Uy)(r,r=>{r.manualInputs[e]=n,r.values[e]=n,""===n.ui?ie(r)(e):r7(r)(e),it(r)(e)})),ap=e=>rD(n=>(0,rN.Uy)(n,r=>{r.isDirty=!(0,rI.isEqual)(e,rL(n))})),am=e=>n=>rD(r=>(0,rN.Uy)(r,r=>{if(!0===e){rG(r)(n);return}rH(r)(n)})),af=()=>rD(e=>(0,rN.Uy)(e,e=>{let n=(0,rI.pick)(e.manualInputs,e.manualVariablesNames);e.values={...e.values,...n}}));function ag(e,n){for(let r in e)n(e[r],r)}function ay(e,n){e.forEach(n)}function ab(e,n){if(!e)throw Error(n)}function av({node:e=[],from:n,source:r,parent:i=n||r,to:a,target:o,child:l=a||o,scope:s={},meta:u={},family:c={type:"regular"},regional:d}={}){let h=ou(i),p=ou(c.links),m=ou(c.owners),f=[];ay(e,e=>e&&aM(f,e));let g={id:az(),seq:f,next:ou(l),meta:u,scope:s,family:{type:c.type||"crosslink",links:p,owners:m}};return ay(p,e=>aM(a5(e),g)),ay(m,e=>aM(a8(e),g)),ay(h,e=>aM(e.next,g)),d&&oo&&oa(a9(oo),[g]),g}function a_(e,n,r){let i=oO,a=null,o=ov;if(e.target&&(n=e.params,r=e.defer,i="page"in e?e.page:i,e.stack&&(a=e.stack),o=on(e)||o,e=e.target),o&&ov&&o!==ov&&(ov=null),Array.isArray(e))for(let r=0;r<e.length;r++)of("pure",i,a6(e[r]),a,n[r],o);else of("pure",i,a6(e),a,n,o);if(r&&!o_)return;let l,s,u,c,d,h,p={isRoot:o_,currentPage:oO,scope:ov,isWatch:ox};o_=0;e:for(;c=om();){let{idx:e,stack:n,type:r}=c;u=n.node,oO=d=n.page,ov=on(n),d?h=d.reg:ov&&(h=ov.reg);let i=!!d,a=!!ov,o={fail:0,scope:u.scope};l=s=0;for(let c=e;c<u.seq.length&&!l;c++){let m=u.seq[c];if(m.order){let{priority:i,barrierID:a}=m.order,o=a?d?`${d.fullID}_${a}`:a:0;if(c!==e||r!==i){a?ob.has(o)||(ob.add(o),og(c,n,i,a)):og(c,n,i);continue e}a&&ob.delete(o)}switch(m.type){case"mov":{let e,r=m.data;switch(r.from){case ak:e=a9(n);break;case"a":case"b":e=n[r.from];break;case"value":e=r.store;break;case"store":if(h&&!h[r.store.id]){if(i){let e=oC(d,r.store.id);n.page=d=e,e?h=e.reg:a?(ok(ov,r.store,0,1,r.softRead),h=ov.reg):h=void 0}else a&&ok(ov,r.store,0,1,r.softRead)}e=a0(h&&h[r.store.id]||r.store)}switch(r.to){case ak:n.value=e;break;case"a":case"b":n[r.to]=e;break;case"store":oT(d,ov,u,r.target).current=e}break}case"compute":let f=m.data;if(f.fn){ox="watch"===or(u,"op");let e=f.safe?(0,f.fn)(a9(n),o.scope,n):oR(o,f.fn,n);f.filter?s=!e:n.value=e,ox=p.isWatch}}l=o.fail||s}if(!l){let e=a9(n);ay(u.next,r=>{of("child",d,r,n,e,on(n))});let r=on(n);if(r){or(u,"needFxCounter")&&of("child",d,r.fxCount,n,e,r),or(u,"storeChange")&&of("child",d,r.storeChange,n,e,r);let i=r.additionalLinks[u.id];i&&ay(i,i=>{of("child",d,i,n,e,r)})}}}o_=p.isRoot,oO=p.currentPage,ov=on(p)}function ax(e,...n){let r=ol();if(r){let i=r.handlers[e];if(i)return i(r,...n)}}function aO(e,n){let r=(e,...n)=>(aN(!or(r,"derived"),"call of derived event","createEvent"),oO?((e,n,r,i)=>{let a=oO,o=null;if(n)for(o=oO;o&&o.template!==n;)o=ot(o);oE(o);let l=e.create(r,i);return oE(a),l})(r,i,e,n):r.create(e,n)),i=ol();return Object.assign(r,{graphite:av({meta:oU("event",r,e,n),regional:1}),create:e=>(a_({target:r,params:e,scope:ov}),e),watch:e=>oP(r,e),map:e=>oG(r,aT,e,[aW({fn:a4})]),filter:e=>oG(r,"filter",e.fn?e:e.fn,[aq({fn:a4})]),filterMap:e=>oG(r,"filterMap",e,[aW({fn:a4}),aX(e=>!aP(e),1)]),prepend(e){let n=aO("*  "+r.shortName,{parent:ot(r)});return ax("eventPrepend",a6(n)),oB(n,r,[aW({fn:a4})],"prepend",e),oK(r,n),n}})}function aw(e,n){let r=aQ(e),i=oV("updates");ax("storeBase",r);let a=r.id,o={subscribers:new Map,updates:i,defaultState:e,stateRef:r,getState(){let e,n=r;if(oO){let n=oO;for(;n&&!n.reg[a];)n=ot(n);n&&(e=n)}return!e&&ov&&(ok(ov,r,1),e=ov),e&&(n=e.reg[a]),a0(n)},setState:e=>a_({target:o,params:e,defer:1,scope:ov}),reset:(...e)=>(ay(e,e=>o.on(e,()=>o.defaultState)),o),on:(e,n)=>(aV(e,".on","first argument"),aN(!or(o,"derived"),".on in derived store","createStore"),ay(Array.isArray(e)?e:[e],e=>{o.off(e),oe(o).set(e,oD(oF(e,o,"on",a3,n)))}),o),off(e){let n=oe(o).get(e);return n&&(n(),oe(o).delete(e)),o},map(e,n){let i,a;aD(e)&&(i=e,e=e.fn),aN(aP(n),"second argument of store.map","updateFilter");let l=o.getState();ol()?a=null:aP(l)||(a=e(l,n));let s=aw(a,{name:`${o.shortName} \u2192 *`,derived:1,and:i}),u=oF(o,s,aT,a2,e);return a1(a7(s),{type:aT,fn:e,from:r}),a7(s).noInit=1,ax("storeMap",r,u),s},watch(e,n){if(!n||!aR(e)){let n=oP(o,e);return ax("storeWatch",r,e)||e(o.getState()),n}return ab(aB(n),"second argument should be a function"),e.watch(e=>n(o.getState(),e))}},l=oU("store",o,n),s=o.defaultConfig.updateFilter;o.graphite=av({scope:{state:r,fn:s},node:[aX((e,n,i)=>(i.scope&&!i.scope.reg[r.id]&&(i.b=1),e)),aJ(r),aX((e,n,{a:r,b:i})=>!aP(e)&&(e!==r||i),1),s&&aq({fn:a2}),aj({from:ak,target:r})],child:i,meta:l,regional:1});let u=or(o,"sid");return u&&("ignore"!==or(o,"serialize")&&oi(o,"storeChange",1),r.sid=u),ab(or(o,"derived")||!aP(e),"current state can't be undefined, use null instead"),oa(o,[i]),o}function aE(e,n){let r=aO(aB(e)?{handler:e}:e,n),i=a6(r);oi(i,"op",r.kind="effect"),r.use=e=>(ab(aB(e),".use argument should be a function"),c.scope.handler=e,r),r.use.getCurrent=()=>c.scope.handler;let a=r.finally=oV("finally"),o=r.done=a.filterMap({named:"done",fn({status:e,params:n,result:r}){if("done"===e)return{params:n,result:r}}}),l=r.fail=a.filterMap({named:"fail",fn({status:e,params:n,error:r}){if("fail"===e)return{params:n,error:r}}}),s=r.doneData=o.map({named:"doneData",fn:({result:e})=>e}),u=r.failData=l.map({named:"failData",fn:({error:e})=>e}),c=av({scope:{handlerId:or(i,"sid"),handler:r.defaultConfig.handler||(()=>ab(0,`no handler used in ${r.getType()}`))},node:[aX((e,n,r)=>{let i=n.handler;if(on(r)){let e=on(r).handlers[n.handlerId];e&&(i=e)}return e.handler=i,e},0,1),aX(({params:e,req:n,handler:r,args:i=[e]},o,l)=>{let s=oz(e,n,1,a,l),u=oz(e,n,0,a,l),[c,d]=oH(r,u,i);c&&(aD(d)&&aB(d.then)?d.then(s,u):s(d))},0,1)],meta:{op:"fx",fx:"runner"}});i.scope.runner=c,aM(i.seq,aX((e,{runner:n},r)=>{let i=ot(r)?{params:e,req:{rs(e){},rj(e){}}}:e;return a_({target:n,params:i,defer:1,scope:on(r)}),i.params},0,1)),r.create=e=>{let n;let i=((n={}).req=new Promise((e,r)=>{n.rs=e,n.rj=r}),n.req.catch(()=>{}),n),a={params:e,req:i};if(ov){if(!ox){let e=ov;i.req.finally(()=>{ow(e)}).catch(()=>{})}a_({target:r,params:a,scope:ov})}else a_(r,a);return i.req};let d=r.inFlight=aw(0,{named:"inFlight"}).on(r,e=>e+1).on(a,e=>e-1);oi(a,"needFxCounter","dec"),oi(r,"needFxCounter",1);let h=r.pending=d.map({fn:e=>e>0,named:"pending"});return oa(r,[a,o,l,s,u,h,d]),r}let aC="undefined"!=typeof Symbol&&Symbol.observable||"@@observable",aT="map",ak="stack",aR=e=>(aB(e)||aD(e))&&"kind"in e,aS=e=>n=>aR(n)&&n.kind===e,aA=aS("store"),aI=(aS("event"),aS("effect"),aS("domain"));aS("scope");let aL=(e,n)=>{let r=e.indexOf(n);-1!==r&&e.splice(r,1)},aM=(e,n)=>e.push(n),aN=(e,n,r)=>!e&&console.error(`${n} is deprecated, use ${r} instead`),aD=e=>"object"==typeof e&&null!==e,aB=e=>"function"==typeof e,aP=e=>void 0===e,aK=e=>ab(aD(e)||aB(e),"expect first argument be an object"),aU=(e,n,r,i)=>ab(!(!aD(e)&&!aB(e)||!("family"in e)&&!("graphite"in e)),`${n}: expect ${r} to be a unit (store, event or effect)${i}`),aV=(e,n,r)=>{Array.isArray(e)?ay(e,(e,i)=>aU(e,n,`${i} item of ${r}`,"")):aU(e,n,r," or array of units")},aG=()=>{let e=0;return()=>""+ ++e},aF=aG(),aH=aG(),az=aG(),a$=(e,n,r,i)=>{let a={id:aH(),type:e,data:n};return r&&(a.order={priority:r},i&&(a.order.barrierID=++aZ)),a},aZ=0,aj=({from:e="store",store:n,target:r,to:i=r?"store":ak,batch:a,priority:o})=>a$("mov",{from:e,store:n,to:i,target:r},o,a),aW=({fn:e,batch:n,priority:r,safe:i=0,filter:a=0})=>a$("compute",{fn:e,safe:i,filter:a},r,n),aq=({fn:e})=>aW({fn:e,filter:1}),aY=({fn:e})=>aW({fn:e,priority:"effect"}),aX=(e,n,r)=>aW({fn:e,safe:1,filter:n,priority:r&&"effect"}),aJ=(e,n,r)=>aj({store:e,to:n?ak:"a",priority:r&&"sampler",batch:1}),aQ=e=>({id:aH(),current:e}),a0=({current:e})=>e,a1=(e,n)=>{e.before||(e.before=[]),aM(e.before,n)},a2=(e,{fn:n},{a:r})=>n(e,r),a3=(e,{fn:n},{a:r})=>n(r,e),a4=(e,{fn:n})=>n(e),a6=e=>e.graphite||e,a5=e=>e.family.owners,a8=e=>e.family.links,a7=e=>e.stateRef,a9=e=>e.value,oe=e=>e.subscribers,ot=e=>e.parent,on=e=>e.scope,or=(e,n)=>a6(e).meta[n],oi=(e,n,r)=>a6(e).meta[n]=r,oa=(e,n)=>{let r=a6(e);ay(n,e=>{let n=a6(e);"domain"!==r.family.type&&(n.family.type="crosslink"),aM(a5(n),r),aM(a8(r),n)})},oo=null,ol=()=>oo&&oo.template,os=e=>(e&&oo&&oo.sidRoot&&(e=`${oo.sidRoot}|${e}`),e),ou=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(a6),oc=null,od=(e,n)=>{let r;return e?(n&&((e.v.type===n.v.type&&e.v.id>n.v.id||oy(e.v.type)>oy(n.v.type))&&(r=e,e=n,n=r),r=od(e.r,n),e.r=e.l,e.l=r),e):n},oh=[],op=0;for(;op<6;)aM(oh,{first:null,last:null,size:0}),op+=1;let om=()=>{for(let e=0;e<6;e++){let n=oh[e];if(n.size>0){if(3===e||4===e){n.size-=1;let e=oc.v;return oc=od(oc.l,oc.r),e}1===n.size&&(n.last=null);let r=n.first;return n.first=r.r,n.size-=1,r.v}}},of=(e,n,r,i,a,o)=>og(0,{a:null,b:null,node:r,parent:i,value:a,page:n,scope:o},e),og=(e,n,r,i=0)=>{let a=oy(r),o=oh[a],l={v:{idx:e,stack:n,type:r,id:i},l:null,r:null};3===a||4===a?oc=od(oc,l):(0===o.size?o.first=l:o.last.r=l,o.last=l),o.size+=1},oy=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return -1}},ob=new Set,ov,o_=1,ox=0,oO=null,ow=e=>{ov=e},oE=e=>{oO=e},oC=(e,n)=>{if(e){for(;e&&!e.reg[n];)e=ot(e);if(e)return e}return null},oT=(e,n,r,i,a)=>{let o=oC(e,i.id);return o?o.reg[i.id]:n?(ok(n,i,a),n.reg[i.id]):i},ok=(e,n,r,i,a)=>{let o=e.reg,l=n.sid;if(o[n.id])return;let s={id:n.id,current:n.current};if(l&&l in e.sidValuesMap&&!(l in e.sidIdMap))s.current=e.sidValuesMap[l];else if(n.before&&!a){let a=0,l=r||!n.noInit||i;ay(n.before,n=>{switch(n.type){case aT:{let a=n.from;if(a||n.fn){a&&ok(e,a,r,i);let u=a&&o[a.id].current;l&&(s.current=n.fn?n.fn(u):u)}break}case"field":a||(a=1,s.current=Array.isArray(s.current)?[...s.current]:{...s.current}),ok(e,n.from,r,i),l&&(s.current[n.field]=o[o[n.from.id].id].current)}})}l&&(e.sidIdMap[l]=n.id),o[n.id]=s},oR=(e,n,r)=>{try{return n(a9(r),e.scope,r)}catch(n){console.error(n),e.fail=1}},oS=e=>e.compositeName,oA=(e,n={})=>(aD(e)&&(oA(e.or,n),ag(e,(e,r)=>{aP(e)||"or"===r||"and"===r||(n[r]=e)}),oA(e.and,n)),n),oI=(e,n)=>{aL(e.next,n),aL(a5(e),n),aL(a8(e),n)},oL=(e,n,r)=>{let i;e.next.length=0,e.seq.length=0,e.scope=null;let a=a8(e);for(;i=a.pop();)oI(i,e),(n||r&&"sample"!==or(e,"op")||"crosslink"===i.family.type)&&oL(i,n,"on"!==or(i,"op")&&r);for(a=a5(e);i=a.pop();)oI(i,e),r&&"crosslink"===i.family.type&&oL(i,n,"on"!==or(i,"op")&&r)},oM=e=>e.clear(),oN=(e,{deep:n}={})=>{let r=0;if(e.ownerSet&&e.ownerSet.delete(e),aA(e))oM(oe(e));else if(aI(e)){r=1;let n=e.history;oM(n.events),oM(n.effects),oM(n.stores),oM(n.domains)}oL(a6(e),!!n,r)},oD=e=>{let n=()=>oN(e);return n.unsubscribe=n,n},oB=(e,n,r,i,a)=>av({node:r,parent:e,child:n,scope:{fn:a},meta:{op:i},family:{owners:[e,n],links:n},regional:1}),oP=(e,n)=>(ab(aB(n),".watch argument should be a function"),oD(av({scope:{fn:n},node:[aY({fn:a4})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),oK=(e,n,r="event")=>{ot(e)&&ot(e).hooks[r](n)},oU=(e,n,r,i)=>{let a="domain"===e,o=aF(),l=oA({or:i,and:"string"==typeof r?{name:r}:r}),{parent:s=null,sid:u=null,named:c=null}=l,d=c||l.name||(a?"":o),h=function(e,n){let r,i;if(n){let a=oS(n);0===e.length?(r=a.path,i=a.fullName):(r=a.path.concat([e]),i=0===a.fullName.length?e:a.fullName+"/"+e)}else r=0===e.length?[]:[e],i=e;return{shortName:e,fullName:i,path:r}}(d,s),p={op:n.kind=e,name:n.shortName=d,sid:n.sid=os(u),named:c,unitId:n.id=o,serialize:l.serialize,derived:l.derived};if(n.parent=s,n.compositeName=h,n.defaultConfig=l,n.thru=e=>(aN(0,"thru","js pipe"),e(n)),n.getType=()=>h.fullName,!a){n.subscribe=e=>(aK(e),n.watch(aB(e)?e:n=>e.next&&e.next(n))),n[aC]=()=>n;let e=ol();e&&(p.nativeTemplate=e)}return p},oV=e=>aO({named:e}),oG=(e,n,r,i)=>{let a;aD(r)&&(a=r,r=r.fn);let o=aO({name:`${e.shortName} \u2192 *`,derived:1,and:a});return oB(e,o,i,n,r),o},oF=(e,n,r,i,a)=>{let o=a7(n),l=aj({store:o,to:"a",priority:"read"});r===aT&&(l.data.softRead=1);let s=[l,aW({fn:i})];return ax("storeOnMap",o,s,aA(e)&&a7(e)),oB(e,n,s,r,a)},oH=(e,n,r)=>{try{return[1,e(...r)]}catch(e){return n(e),[0,null]}},oz=(e,n,r,i,a)=>o=>a_({target:[i,o$],params:[r?{status:"done",params:e,result:o}:{status:"fail",params:e,error:o},{value:o,fn:r?n.rs:n.rj}],defer:1,page:a.page,scope:on(a)}),o$=av({node:[aY({fn:({fn:e,value:n})=>e(n)})],meta:{op:"fx",fx:"sidechain"}});var oZ=e=>{let n=function e(n,r){let i=av({family:{type:"domain"},regional:1}),a={history:{},graphite:i,hooks:{}};i.meta=oU("domain",a,n,r),ag({Event:aO,Effect:aE,Store:aw,Domain:e},(e,n)=>{let r=n.toLowerCase(),i=oV(`on${n}`);a.hooks[r]=i;let o=new Set;a.history[`${r}s`]=o,i.create=e=>(a_(i,e),e),aM(a6(i).seq,aX((e,n,r)=>(r.scope=null,e))),i.watch(e=>{oa(a,[e]),o.add(e),e.ownerSet||(e.ownerSet=o),ot(e)||(e.parent=a)}),oa(a,[i]),a[`onCreate${n}`]=e=>(ay(o,e),i.watch(e)),a[`create${n}`]=a[r]=(n,r)=>i(e(n,{parent:a,or:r}))});let o=ot(a);return o&&ag(a.hooks,(e,n)=>oB(e,o.hooks[n])),a}("engine"),r={setChangedVariablesNames:n.createEvent("setChangedVariablesNames"),setComputedInput:n.createEvent("input"),setConversionFormulas:n.createEvent("updateConversionFormulas"),setLock:n.createEvent("lock"),setNewAction:n.createEvent("newAction"),reset:n.createEvent("reset")};return{getState:n.createStore(e).on(r.setChangedVariablesNames,im).on(r.setComputedInput,ig).on(r.setConversionFormulas,iy).on(r.setLock,ib).on(r.setNewAction,iv).reset(r.reset).getState,...r}},oj=(e,n)=>ae("init",e,null,{...n,conditions:{init:{input:n.conditions.init,output:new Map}}});let oW=(0,t9.US)(0),oq=e=>n=>(r=oW)=>{let i=rW("round(originalValue, decimals)",{originalValue:n,decimals:r}),a=rW("abs(originalValue - roundValue)",{originalValue:n,roundValue:i});return(0,t9.$K)(i)&&r2("roundingError <= abs(originalValue * precision) or originalValue == roundValue",{originalValue:n,precision:e,roundingError:a,roundValue:i})?i:oq(e)(n)(r.add(1))};var oY=e=>n=>rW("round(originalValue, precision)",{originalValue:n,precision:(0,t9.US)(e)}),oX=e=>n=>r=>e.reduce((e,i)=>{let a=r[i],{computable:o}=a,l=n[i];if((0,t9.Rw)(l)||(0,t9.Rw)(o))return{...e,[i]:a};let{algorithm:s,precision:u}=l,c="omni"===s?oq(u)(o)():oY(u)(o);return o.toString()===c?.toString()?{...e,[i]:a}:{...e,[i]:{computable:c,ui:c?.toString()??""}}},{}),oJ=(e,n)=>{let r=function(e,n,r){let i=new nt(i=>{Object.entries(e).forEach(([e,n])=>{i(th.hC.modules[e]).toFunction(n)}),i(th.hC.other.definition).toConstantValue(n),(0,t9.$K)(r)&&i(th.hC.other.stateSnapshot).toConstantValue(r)}),a=new rT;return a.bind(iS).toSelf(),a.load(i),a.resolve(iS)}({calculationModule:aa,conditionsModule:an,conversionFormulaModule:as,conversionModule:al,diffModule:ad,isDirtyModule:ap,injectionModule:ah,lockModule:am,outputModule:af,outputOnlyModule:rK,stateManager:oZ},e,n);return{input:(e,n)=>r.input(e,n),inputMultiple:e=>r.inputMultiple(e),lock:(e,n)=>r.lock(e,n),getState:()=>r.getState(),getStateSnapshot:()=>r.getStateSnapshot(),reset:()=>r.reset(),updateConversionFormulas:(e,n)=>r.updateConversionFormulas(e,n),updateManyConversionFormulas:e=>r.updateManyConversionFormulas(e)}},oQ=r(77506);function o0(e,n,r){let[i="",a=""]=e.split(t4.an);return function(e,n){if((0,t9.oM)(e))return"";let r=e.startsWith("-")?"-":"",i=e.replace("-","");try{let e=new Intl.NumberFormat(n).format(BigInt(i));return r+e}catch(n){return e}}(i,n)+function(e,n,r){let i=e.length,a=e+"0".repeat(Math.max(n-i,0));return(0,t9.oM)(a)?a:(0,t4.Tz)(r)+a}(null!=a?a:"",null!=r?r:a.length,n)}let o1=e=>{let{baseUnit:n,selectedUnit:r}=e;return o6(null==n?void 0:n.fromReferenceValue,null==r?void 0:r.toReferenceValue)},o2=e=>{let{baseUnit:n,selectedUnit:r}=e;return o6(null==r?void 0:r.fromReferenceValue,null==n?void 0:n.toReferenceValue)},o3=e=>{let{baseUnit:n,selectedUnit:r}=e;return o6(null==r?void 0:r.fromReferenceValue,null==n?void 0:n.toReferenceValue)},o4=e=>{let{baseUnit:n,selectedUnit:r}=e;return o6(null==n?void 0:n.fromReferenceValue,null==r?void 0:r.toReferenceValue)};function o6(e,n){return(null!=e?e:t2).replace(t2,"(".concat(null!=n?n:t2,")"))}let o5=[t2,t2];function o8(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,[r,i]=o7(e),[a,o]=o7(n);return{conversionInFormula:o6(r,a),conversionOutFormula:o6(i,o)}}function o7(){var e,n,r;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((0,t9.Rw)(i))return o5;let{baseUnit:a=null,defaultUnits:o,inversed:l,selectedUnit:s}=i,u=null!==(n=null==o?void 0:null===(e=o[0])||void 0===e?void 0:e.unit)&&void 0!==n?n:null,c=null!==(r=null!=s?s:u)&&void 0!==r?r:null;return l?[o2({baseUnit:a,selectedUnit:c}),o4({baseUnit:a,selectedUnit:c})]:[o1({baseUnit:a,selectedUnit:c}),o3({baseUnit:a,selectedUnit:c})]}function o9(e){return e.type===rM.kH.chart}function le(e){return e.chartType!==rM.oX.pie}function lt(e){return e.type===rM.kH.image}function ln(e){return e.type===rM.kH.text}function lr(e){return e.type===rM.kH.table}function li(e){return e.tableType===rM.Nd.STATIC}function la(e){return e.tableType===rM.Nd.FLEXIBLE}function lo(e){return e.type===rM.kH.variable}let ll=[rM.VariableType.date,rM.VariableType.datetime,rM.VariableType.time];function ls(e){return lo(e)&&ll.includes(e.variableType)}function lu(e){return lo(e)&&e.variableType===rM.VariableType.dependent}function lc(e){return lo(e)&&e.variableType===rM.VariableType.valueSelect}function ld(e){return e.flatMap(e=>{let{matrices:n}=e;return n.flatMap(e=>{let{columns:n}=e;return n.flat()})}).filter(lo)}function lh(e){return{isAdvanced:!1,isMobile:!1,user:e}}function lp(e){return(0,t9.$K)(e.condition)}function lm(e,n){return(r,i,a)=>lp(i)?[...r,{condition:i.condition,path:"".concat(e,".").concat(n,".").concat(a),hidesVariables:[]}]:r}function lf(e){return e.flatMap((e,n)=>{let{matrices:r}=e;return r.flatMap((e,r)=>{let{columns:i}=e;return i.flatMap((e,i)=>e.map((e,a)=>({block:e,path:(0,t4.cB)(n,r,i,a)})))})})}function lg(e,n,r){if((0,t9.Rw)(e)||t5()(e))return null;let i=oj(r,{extraData:n,conditions:{init:e.reduce((e,n,r)=>{let{condition:i}=n;return e.set("".concat(r),{value:null!=i?i:"true",hidesVariables:[]})},new Map)}});return(0,t9.dF)(e,(e,n)=>{var r,a;return null!==(a=null===(r=i.get("".concat(n)))||void 0===r?void 0:r.value)&&void 0!==a&&a})}function ly(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return i.map(r=>lb(r,e,n))}function lb(){var e,n,r;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0;if((0,t9.Rw)(i))return null;let{defaultUnits:s}=i,u=null!==(r=null!==(n=i.units.find(e=>e.slug===l))&&void 0!==n?n:null===(e=lg(s,lh(a),o))||void 0===e?void 0:e.unit)&&void 0!==r?r:i.units[0];return{...i,selectedUnit:u}}var lv=r(23089),l_=r.n(lv);function lx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";return function(n){try{return t4.w.evaluate("floor(".concat(n," * (").concat(e,")) / (").concat(e,")"),{referenceValue:1}).toString()}catch(e){return""}}}function lO(){return function(e){let n=new Date(e).getTimezoneOffset();return e-6e4*n}(Date.now())}var lw=r(99819);function lE(){return lO()%lw.Jf}function lC(e){return"".concat(e,"-").concat("helpText")}function lT(e){var n;let r=null==e?void 0:null===(n=e.selectedUnit)||void 0===n?void 0:n.subunits;return(0,t9.nH)(r)}let lk=(0,e0.createContext)(null);var lR=(0,e0.memo)(function(e){let{children:n,storageKey:r}=e,i=(0,e0.useMemo)(()=>({storageKey:r}),[r]);return(0,K.tZ)(lk.Provider,{value:i,children:n})});function lS(){let e=(0,e0.useContext)(lk);if(!e)throw Error("useCalculatorStorageKey must be used within CalculatorStorageKeyContextProvider");return e}function lA(e){try{return e()}catch(e){return t9.kg.log(e,t9.kg.WARN),null}}var lI={getItem:e=>lA(()=>(0,t9.yF)()?null:localStorage.getItem(e)),removeItem(e){lA(()=>!(0,t9.yF)()&&localStorage.removeItem(e))},setItem(e,n){lA(()=>!(0,t9.yF)()&&localStorage.setItem(e,n))}};function lL(){let{storageKey:e}=lS();return(0,e0.useCallback)(n=>{let{autosavedByUser:r,doNotRound:i=!0,variableName:a,variableValue:o}=n;if((0,t9.Rw)(e))return;let l=function(e){let{autosavedByUser:n,doNotRound:r,localStorageData:i,variableName:a,variableValue:o=rq}=e,{computable:l,ui:s}=o;return(0,rN.Uy)(i,e=>{var i,o,u;if((0,t9.Rw)(e.saved)){e.saved={[a]:{computable:null!==(o=null==l?void 0:l.toString())&&void 0!==o?o:null,primaryUnitSwitcherSlug:void 0,secondaryUnitSwitcherSlug:void 0,ui:s,autosave:n,doNotRound:r}};return}e.saved[a]={...e.saved[a],computable:null!==(u=null==l?void 0:l.toString())&&void 0!==u?u:null,ui:s,autosave:null!=n?n:null===(i=e.saved[a])||void 0===i?void 0:i.autosave,doNotRound:r}})}({localStorageData:lJ(e),variableName:a,variableValue:o,autosavedByUser:r,doNotRound:i});lI.setItem(e,JSON.stringify(l))},[e])}function lM(e,n){return ld(e.blockGroups).filter(e=>{var r;let i=null==n?void 0:null===(r=n[e.name])||void 0===r?void 0:r.autosave;return null!=i?i:"defaultAutosave"in e&&e.defaultAutosave}).map(e=>{let{name:n}=e;return n})}var lN=r(13546),lD=r.n(lN),lB=r(85466),lP=r.n(lB),lK=r(61230),lU=r.n(lK);function lV(e){return lU()(e,e=>{var n;return{primary:e.primary.selectedUnit.slug,secondary:null===(n=e.secondary)||void 0===n?void 0:n.selectedUnit.slug}})}function lG(e,n){let r=!lP()(lV(e.units),lV(n.units)),i=!lP()(e.autosavedVariableNames,n.autosavedVariableNames);return r||i}let lF=(e,n)=>function(r){var i,a;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l={units:null!==(i=o.units)&&void 0!==i?i:e(sh),autosavedVariableNames:null!==(a=o.autosavedVariableNames)&&void 0!==a?a:e(tJ)},s=lG(e(sn),l);n(sa,r.isDirty||s)};var lH=r(57383),lz=r.n(lH);function l$(e,n){if((0,t9.$K)(n)&&(0,t9.$K)(e)){let r=e.units.find(e=>e.slug===n);if((0,t9.$K)(r))return(0,rN.Uy)(e,e=>{e.selectedUnit=r})}return e}let lZ=(0,e0.createContext)(null);var lj=(0,e0.memo)(function(e){let{children:n,engineDefinition:r,stateSnapshot:i}=e,a=(0,e0.useMemo)(()=>oJ(r,i),[r,i]);return(0,K.tZ)(lZ.Provider,{value:a,children:n})});function lW(){let e=(0,e0.useContext)(lZ);if(!e)throw Error("useEngineApi must be used within EngineApiContextProvider");return e}function lq(e,n){if((0,t9.Rw)(e))return null;let r=e.units.find(e=>e.slug===n);return(0,t9.Rw)(r)?null:{...e,selectedUnit:r}}let lY=e=>e.filter(e=>{let[n,r]=e;return r.doNotRound}).map(e=>{let[n]=e;return n}),lX={saved:null};function lJ(e){try{let n=lI.getItem(e);if((0,t9.Rw)(n))return lX;return JSON.parse(n)}catch(e){return lX}}function lQ(e,n){let{output:r}=n;return(0,rN.Uy)(e,e=>{e.forEach(e=>{e.isDisplayed=Array.from(r).some(n=>{let[r,{value:i}]=n;return!i&&e.id===r})})})}(mB=fr||(fr={})).PRIMARY="primary",mB.SECONDARY="secondary";let{PRIMARY:l0,SECONDARY:l1}=fr;function l2(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return i.reduce((n,r,i)=>(function(e,n){var r,i;let{type:a,unitSwitcherWithSelectedUnit:o=null,variableName:l}=n;if((0,t9.Rw)(o))return e;let{defaultUnits:s,selectedUnit:u=null}=o,c=null!==(i=null!=u?u:null==s?void 0:null===(r=s[0])||void 0===r?void 0:r.unit)&&void 0!==i?i:null;return{...e,[l]:{...e[l],[a]:{...o,selectedUnit:c}}}})(n,{type:0===i?l0:l1,unitSwitcherWithSelectedUnit:r,variableName:e}),n)}function l3(e,n){let r=null,i=new Map,a=new Set,o=a=>{let s;if(void 0===n)s=i.get(a);else for(let[e,r]of i)if(n(e,a)){s=r;break}if(void 0!==s){if(null==r||!r(s[1],a))return s[0];o.remove(a)}let u=e(a);return i.set(a,[u,Date.now()]),l("CREATE",a,u),u};function l(e,n,r){for(let i of a)i({type:e,param:n,atom:r})}return o.unstable_listen=e=>(a.add(e),()=>{a.delete(e)}),o.getParams=()=>i.keys(),o.remove=e=>{if(void 0===n){if(!i.has(e))return;let[n]=i.get(e);i.delete(e),l("REMOVE",e,n)}else for(let[r,[a]]of i)if(n(r,e)){i.delete(r),l("REMOVE",r,a);break}},o.setShouldRemove=e=>{if(r=e)for(let[e,[n,a]]of i)r(a,e)&&(i.delete(e),l("REMOVE",e,n))},o}Symbol("RESET");function l4(e){return l3(n=>tm(r=>e(n)(r)),lP())}!function(e=()=>{try{return window.localStorage}catch(e){"undefined"!=typeof window&&console.warn(e);return}},n){var r;let i;try{i=null==(r=e())?void 0:r.subscribe}catch(e){}if(!i&&"undefined"!=typeof window&&"function"==typeof window.addEventListener&&window.Storage&&(i=(n,r)=>{if(!(e() instanceof window.Storage))return()=>{};let i=i=>{i.storageArea===e()&&i.key===n&&r(i.newValue)};return window.addEventListener("storage",i),()=>{window.removeEventListener("storage",i)}}),i){let e;e=i,(n,r,i)=>e(n,e=>{let n;try{n=JSON.parse(e||"")}catch(e){n=i}r(n)})}}();var l6=tm(t3),l5=tm([]),l8=tm(null),l7=tm({}),l9=tm([]),se=tm(new Map),st=tm([]),sn=tm({units:{},autosavedVariableNames:[]}),sr=tm([]),si=tm(null),sa=tm(!1),so=tm([]),sl=tm([]),ss=tm({}),su=tm([]),sc=tm(null),sd=tm({}),sh=tm({}),sp=tm(r(30526).Q),sm=tm({}),sf=tm({}),sg=tm(null),sy=r(2249),sb=r(49335),sv=r.n(sb);let s_=["invalidDate"];var sx=tm(sv()(sy.Z,s_));let sO=l4(e=>n=>{var r;return null!==(r=n(sf)[e])&&void 0!==r?r:rq});function sw(){return tq((0,e0.useCallback)((e,n)=>{n(l8,null)},[]))}let sE=l4(e=>n=>{var r;return null!==(r=n(ss)[e])&&void 0!==r?r:null});var sC=l4(e=>n=>{let{blockIndex:r,columnIndex:i,groupIndex:a,matrixIndex:o}=(0,t4.dC)(e),l=sT(n(l9)[a],e);if((0,t9.Rw)(o))return l;let s=sT(l.matrices[o],e);return(0,t9.Rw)(i)||(0,t9.Rw)(r)?s:sT(s.columns[i][r],e)});function sT(e,n){if((0,t9.Rw)(e))throw Error("Element of path ".concat(n," does not exist"));return e}function sk(e,n){if((0,t9.Rw)(n))return!1;switch(e){case"block":return!sR(n)&&!sS(n);case"group":return sR(n);case"matrix":return sS(n)}}function sR(e){return e.hasOwnProperty("matrices")}function sS(e){return e.hasOwnProperty("columns")}var sA=l4(e=>n=>{let r=n(sC(e));if(!sk("block",r))throw Error("element of path ".concat(e," is not a block"));return r}),sI=l4(e=>n=>{let r=n(l9).flatMap((e,n)=>{let{matrices:r,uid:i}=e;return r.flatMap((e,r)=>{let{columns:a}=e;return a.flatMap((e,a)=>e.reduce((e,o,l)=>{if(lo(o)){let{name:s}=o;return[{blockGroupUid:i,name:s,path:(0,t4.cB)(n,r,a,l)},...e]}return e},[]))})}),i=n(sC(e));return r.filter(e=>{let{blockGroupUid:n}=e;return i.uid===n})});let sL=l4(e=>n=>{let r=n(sA(e));if(!o9(r)||!le(r))throw Error("block of path ".concat(e," is not a cartesian chart block"));return r}),sM=l4(e=>n=>{let r=n(sA(e));if(!lt(r))throw Error("block of path ".concat(e," is not an image block"));return r});var sN=l4(e=>n=>{let r=n(sC(e));if(!sk("matrix",r))throw Error("element of path ".concat(e," is not a matrix"));return r}),sD=tm(e=>lf(e(l9)).map(e=>{let{path:n}=e;return n}));let sB=l4(e=>n=>{let r=n(sA(e));if(!lr(r))throw Error("block of path ".concat(e," is not a table block"));return r}),sP=l4(e=>n=>{let r=n(sA(e));if(!ln(r))throw Error("block of path ".concat(e," is not a text block"));return r}),sK=l4(e=>n=>{let r=n(sA(e));if(!lo(r))throw Error("block of path ".concat(e," is not a variable block"));return r}),sU=l4(e=>n=>{let r=n(sK(e));if(r.variableType!==rM.VariableType.valueSelect||(0,t9.Rw)(r.datasetUid))throw Error("Variable type of block of path ".concat(e," is not value select"));return r}),sV=l4(e=>n=>{let r=n(sA(e));if(lr(r)&&la(r)||o9(r)&&le(r))return r.dataSources;throw Error("block of path ".concat(e," has no data sources"))}),sG=l4(e=>n=>{let r=n(sV(e)),i=ld(n(l9));return r.map(e=>{var n;return null===(n=i.find(n=>{let{uid:r}=n;return e===r}))||void 0===n?void 0:n.name}).filter(t9.GI)});var sF=l4(e=>n=>{let r=n(sm);return sv()(lU()(r,e=>{var n,r;return null!==(r=null===(n=e.computable)||void 0===n?void 0:n.toString())&&void 0!==r?r:null}),n(sG(e)))});function sH(e){return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];let o=e({match:n,matchArgs:i});return(0,t9.GI)(o)?o:"__"}}var sz=r(14489);function s$(){let e=(0,sz._)(["(.+?)"]);return s$=function(){return e},e}function sZ(){let e=(0,sz._)(["$"],["\\$"]);return sZ=function(){return e},e}function sj(){let e=(0,sz._)(["['"],["\\['"]);return sj=function(){return e},e}function sW(){let e=(0,sz._)(["']"],["'\\]"]);return sW=function(){return e},e}function sq(){let e=(0,sz._)(['["'],['\\["']);return sq=function(){return e},e}function sY(){let e=(0,sz._)(['"]'],['"\\]']);return sY=function(){return e},e}function sX(){let e=(0,sz._)(["(?:(?:",")|(?:","))"]);return sX=function(){return e},e}function sJ(){let e=(0,sz._)(["","","",""]);return sJ=function(){return e},e}function sQ(){let e=(0,sz._)(["{{(",")}}"]);return sQ=function(){return e},e}function s0(){let e=(0,sz._)(["%7B%7B","%7D%7D"]);return s0=function(){return e},e}let s1=String.raw(s$()),s2=String.raw(sZ())+s1,s3=String.raw(sj())+s1+String.raw(sW()),s4=String.raw(sq())+s1+String.raw(sY()),s6=String.raw(sX(),s3,s4),s5=String.raw(sJ(),s2,s6,s6),s8=String.raw(sQ(),s5),s7=String.raw(s0(),s5),s9=RegExp("".concat(s8,"|").concat(s7),"gm");var ue=l4(e=>{let{match:n,matchArgs:r}=e;return e=>{let[,i,a,o]=r.filter(t9.$K),l=e(l5).find(e=>{let{name:n}=e;return n===i});if((0,t9.Rw)(l))return n;let s=l.columns.findIndex(e=>{let{name:n}=e;return n===a}),u=l.options.find(e=>{let{name:n}=e;return n.value===o});return -1===s||(0,t9.Rw)(u)?n:u.values[s]}});function ut(){let e=(0,sz._)(["w+.w+"],["\\w+\\.\\w+"]);return ut=function(){return e},e}function un(){let e=(0,sz._)(["{{(",")}}"]);return un=function(){return e},e}function ur(){let e=(0,sz._)(["%7B%7B","%7D%7D"]);return ur=function(){return e},e}let ui=String.raw(ut()),ua=String.raw(un(),ui),uo=String.raw(ur(),ui),ul=RegExp("".concat(ua,"|").concat(uo),"gm");var us=r(28977),uu=r.n(us);function uc(e,n){return uu()(e,{utc:!0}).format(n)}function ud(e){return!Number.isNaN(new Date(e).getDate())}let uh=tm(e=>{let{countryCode:n,navigatorLanguageTag:r}=e(sp),[i]=r.split("-");return"".concat(i.toLocaleLowerCase(),"-").concat(n.toUpperCase())}),up=l4(e=>{let{variableName:n,variableValue:r}=e;return e=>{var i,a;let o=e(sd),l=null!==(a=null===(i=oX([n])(o)({[n]:r})[n].computable)||void 0===i?void 0:i.toString())&&void 0!==a?a:"";return(0,t9.Hv)(l,!1)?o0(l,e(uh),e(sE(n))):l}});var um=l4(e=>n=>{let r=lf(n(l9)).find(n=>{let{block:r}=n;return r.name===e});return(0,t9.Rw)(r)||!lo(r.block)?null:r.block});let uf=l4(e=>{let{variableName:n,variableValue:r}=e;return e=>{let i=e(um(n));return(0,t9.$K)(i)&&ls(i)?function(e){var n;let{invalidDateText:r,variableType:i,variableValue:a}=e,o=null===(n=a.computable)||void 0===n?void 0:n.toNumber();return(0,t9.Rw)(o)?"":ud(o)?i===rM.VariableType.datetime?uc(o,"L LT"):i===rM.VariableType.time?uc(o,"LT"):uc(o,"L"):r}({invalidDateText:e(sx).invalidDate,variableType:i.variableType,variableValue:r}):e(up({variableName:n,variableValue:r}))}}),ug=l4(e=>{let{variableName:n,variableValue:r}=e;return e=>{let i=e(um(n));return(0,t9.$K)(i)&&ls(i)?function(e){var n;let{invalidDateText:r,variableType:i,variableValue:a}=e,o=null===(n=a.computable)||void 0===n?void 0:n.toNumber();return(0,t9.Rw)(o)?"":ud(o)?i===rM.VariableType.datetime?uc(o,"LL LT"):i===rM.VariableType.time?uc(o,"LT"):uc(o,"LL"):r}({invalidDateText:e(sx).invalidDate,variableType:i.variableType,variableValue:r}):e(up({variableName:n,variableValue:r}))}}),uy=l4(e=>{let{variableName:n,variableValue:r}=e;return e=>{let i=e(um(n));return(0,t9.$K)(i)&&ls(i)?function(e){var n;let{invalidDateText:r,variableType:i,variableValue:a}=e,o=null===(n=a.computable)||void 0===n?void 0:n.toNumber();return(0,t9.Rw)(o)?"":ud(o)?i===rM.VariableType.datetime?uc(o,"ll LT"):i===rM.VariableType.time?uc(o,"LT"):uc(o,"ll"):r}({invalidDateText:e(sx).invalidDate,variableType:i.variableType,variableValue:r}):e(up({variableName:n,variableValue:r}))}});var ub=l4(e=>n=>{let r=n(l5).find(n=>{let{uid:r}=n;return e===r});if((0,t9.Rw)(r))throw Error("Dataset of uid ".concat(e," does not exist"));return r}),uv=l4(e=>n=>n(ub(e)).uiType),u_=l4(e=>n=>{let r=lf(n(l9)).find(n=>{let{block:r}=n;return lo(r)&&r.variableUid===e});return(0,t9.Rw)(r)?null:r.block}),ux=l4(e=>n=>{var r;let i=n(um(e)),a=function(e,n){if((0,t9.Rw)(n))return null;if(lc(n))return e(ub(n.datasetUid));if(lu(n)){let r=e(u_(n.valueSetter.variableUid));if((0,t9.$K)(r)&&lc(r))return e(ub(r.datasetUid))}return null}(n,i);if((0,t9.Rw)(a))return null;let{ui:o}=n(sf)[e];if((0,t9.Rw)(o))return null;let l=a.options.find(e=>e.uid===o);return null!==(r=null==l?void 0:l.name.value)&&void 0!==r?r:null});let uO=l4(e=>n=>{var r;let i=null!==(r=n(l7)[e])&&void 0!==r?r:e;return n(sh)[i]});var uw=r(7656),uE=r.n(uw),uC=r(28893),uT=r.n(uC),uk=r(64663),uR=r.n(uk),uS=r(62923),uA=r.n(uS),uI=r(95718),uL=r.n(uI),uM=r(80229),uN=r.n(uM),uD=r(88773),uB=r.n(uD),uP=r(94437),uK=r.n(uP),uU=r(55259),uV=r.n(uU),uG=r(26626),uF=r.n(uG),uH=r(29671),uz=r.n(uH);let u$=uK()("labelSets"),uZ=uE()([[uB()({inversed:!1}),u$],[uz(),l_()(u$,uV())]]),uj=uE()([[t9.$K,uN()],[uz(),uF()]]);var uW=l_()(uZ,uA(),uT()(uR())(t9.GI),uL(),uj),uq=l4(e=>n=>{let r=n(uO(e));if((0,t9.Rw)(null==r?void 0:r.primary))return;let{inversed:i,selectedUnit:a}=r.primary;return uW({inversed:i,labelSets:function(e){let{fullName:n,name:r,reversedFullName:i,reversedName:a,slug:o}=e;return[[n,r,o],[i,a]]}(a)})});(mP=fi||(fi={})).LEFT="left",mP.NONE="none",mP.RIGHT="right";let uY=l4(e=>n=>{if(!n(sK(e)).monetary)return{position:"none",symbol:""};let{currency:r,currencySymbol:i,navigatorLanguageTag:a}=n(sp),o=new Intl.NumberFormat(a,{currency:r,style:"currency"}).format(1).trim(),l=o.includes(r)?r:i;return{position:1===Number.parseInt(o[0],10)?"right":"left",symbol:l}});var uX=l4(e=>n=>{let r=lf(n(l9)).find(n=>{let{block:r}=n;return r.name===e});return(0,t9.Rw)(r)?null:r.path});let uJ=l4(e=>{let{variableName:n,variableValue:r}=e;return e=>{if((0,t9.Rw)(r.computable))return null;let i=e(uX(n));if((0,t9.Rw)(i))return null;let a=e(uY(i)),o=e(uf({variableName:n,variableValue:r}));return a.position===fi.LEFT?"".concat(a.symbol).concat(o):"".concat(o).concat(a.symbol)}});var uQ=l4(e=>n=>n(sO(e)).ui),u0=l4(e=>n=>{let r=n(uO(e));if((0,t9.Rw)(null==r?void 0:r.primary))return;let{inversed:i,selectedUnit:a}=r.primary;return uW({inversed:i,labelSets:function(e){let{fullName:n,name:r,reversedFullName:i,reversedName:a,slug:o}=e;return[[r,n,o],[a,i]]}(a)})}),u1=l4(e=>n=>{var r,i;return null===(i=n(sO(e)))||void 0===i?void 0:null===(r=i.computable)||void 0===r?void 0:r.toString()});function u2(e){var n,r;return(0,t9.Rw)(e)||(0,t9.Rw)(e.selectedUnit)?[]:[null===(n=e.prefix)||void 0===n?void 0:n.html,uW({inversed:e.inversed,labelSets:function(e){let{fullName:n,name:r,reversedFullName:i,reversedName:a,slug:o}=e;return[[r,n,o],[a,i]]}(e.selectedUnit)}),null===(r=e.suffix)||void 0===r?void 0:r.html]}var u3=l4(e=>{let{variableName:n,variableValue:r}=e;return e=>{let i=e(uO(n)),a=e(uf({variableName:n,variableValue:r}));return(0,t9.oM)(a)?"":(0,t9.$K)(null==i?void 0:i.primary)&&(0,t9.$K)(i.primary.selectedUnit.ratios)?function(e){var n;let{languageAndCountryCode:r,minimumDecimalDigits:i,unit:a,value:o}=e;return(0,t9.Rw)(o)||!o.isFinite()?"":t7({initialValue:o,sortedRatioEntries:(0,t9.uJ)(null!==(n=a.ratios)&&void 0!==n?n:{}),onFormat:(e,n)=>(0,t9.Hv)(e)?o0(e,r,null!=n?n:i):e}).flatMap(e=>{let{formattedValue:n,name:r}=e;return[n,r]}).join(" ")}({languageAndCountryCode:e(uh),value:r.computable,unit:i.primary.selectedUnit,minimumDecimalDigits:e(sE(n))}):[a,...u2(null==i?void 0:i.primary),...u2(null==i?void 0:i.secondary)].filter(Boolean).join(" ")}}),u4=l4(e=>{let{match:n,matchArgs:r}=e;return e=>{let i=r.find(t9.$K);if((0,t9.Rw)(i))throw Error("Invalid argument to dynamicPrintSelector, `matchArgs` must be an array with at least one non-empty string.");let a=e(sf),[o,l]=i.split(t4.an);if(!(o in a))return n;let s=a[o];switch(l){case"value":return e(u1(o));case"formattedValue":return e(uf({variableName:o,variableValue:s}));case"longValue":return e(ug({variableName:o,variableValue:s}));case"shortValue":return e(uy({variableName:o,variableValue:s}));case"unit":return e(u0(o));case"withUnits":return e(u3({variableName:o,variableValue:s}));case"uiValue":return e(uQ(o));case"fullUnit":return e(uq(o));case"name":return e(ux(o));case"monetaryValue":return e(uJ({variableName:o,variableValue:s}));default:return n}}});function u6(){let e=(0,sz._)(["global.(w+)"],["global\\.(\\w+)"]);return u6=function(){return e},e}function u5(){let e=(0,sz._)(["{{","}}"]);return u5=function(){return e},e}function u8(){let e=(0,sz._)(["%7B%7B","%7D%7D"]);return u8=function(){return e},e}let u7=String.raw(u6()),u9=String.raw(u5(),u7),ce=String.raw(u8(),u7),ct=RegExp("".concat(u9,"|").concat(ce),"gm");var cn=l4(e=>{let{match:n,matchArgs:r}=e;return e=>{let{currencySymbol:i}=e(sp);return"currencySymbol"===r[0]?i:n}}),cr=l4(e=>n=>{if((0,t9.Rw)(e))return"";let r=sH(e=>n(u4(e))),i=sH(e=>n(ue(e))),a=sH(e=>n(cn(e)));return e.replace(ct,a).replace(ul,r).replace(s9,i)});let ci=l4(e=>n=>{let r=n(sB(e));if(la(r))try{var i;let a={...i=n(sp),languageCode:i.navigatorLanguageTag},o=n(sF(e)),l=function(e,n,r){let i=(0,t4.JP)(e,{...n,localeData:r});if((0,t9.Rw)(i))return null;if(!Array.isArray(i))throw Error("Generated data is not array");return i.forEach((e,n)=>{if(!Array.isArray(e))throw Error("Generated data is not array of arrays in index ".concat(n))}),i}(r.code,o,a);return{rows:function(e,n,r){if((0,t9.Rw)(n))return null;let i=n.map(e=>e.map((e,n)=>{let i=null==e?void 0:e.toString();return{html:r(i),uid:n.toString(),value:i}}));if(0===n.length)throw Error("Flex table - Cells are empty");if(t5()(e)){let e=n[0];if(!n.every(n=>{let{length:r}=n;return r===e.length}))throw Error("Flex table - Not all cells have the same length");return i}let a=e.length;return n.forEach((e,n)=>{if(e.length!==a)throw Error("Flex table - Cell ".concat(n," have other length than headers"))}),[e.map(e=>({...e,html:r(e.html)})),...i]}(r.headers,l,e=>n(cr(e)))}}catch(e){return t9.kg.log(e,t9.kg.ERROR),{rows:null,error:e}}throw Error("Table block at ".concat(e," is not flexible"))}),ca=l4(e=>n=>{let r=n(sB(e));if(li(r))return r.rows.map(e=>({...e,cells:e.cells.map(e=>({...e,html:n(cr(e.html))}))}));throw Error("Table block at ".concat(e," is not static"))}),co=l4(e=>n=>{let r=n(uO(e));return null!=r?r:null}),cl=l4(e=>{let{type:n,variableName:r}=e;return e=>{let i=e(co(r));if((0,t9.Rw)(i))throw Error("Variable ".concat(r," does not have unit switcher"));let a=i[n];if((0,t9.Rw)(a))throw Error("Variable ".concat(r," does not have ").concat(n," unit switcher"));return a}}),cs=l4(e=>n=>{let{inversed:r,units:i}=n(cl(e));return i.map(e=>({name:uW({inversed:r,labelSets:function(e){let{fullName:n,name:r,reversedFullName:i,reversedName:a,slug:o,subunits:l}=e;return(0,t9.nH)(l)?[]:[[r,n,o],[a,i]]}(e)}),slug:e.slug}))});function cu(e){let{fullName:n,name:r}=e,i=(0,t9.GI)(n),a=(0,t9.GI)(r);return i&&a?"".concat(n," (").concat(r,")"):i?n:a?r:void 0}function cc(e){let{reversedFullName:n,reversedName:r}=e,i=(0,t9.GI)(n),a=(0,t9.GI)(r);return i&&a?"".concat(n," (").concat(r,")"):i?n:a?r:void 0}let cd=l4(e=>n=>{let{inversed:r,units:i}=n(cl(e));return i.map(e=>({value:e.slug,label:function(e,n){var r,i,a,o;let{slug:l}=e;return n?null!==(i=null!==(r=cc(e))&&void 0!==r?r:cu(e))&&void 0!==i?i:l:null!==(o=null!==(a=cu(e))&&void 0!==a?a:cc(e))&&void 0!==o?o:l}(e,r)}))}),ch=l4(e=>n=>{let{inversed:r,units:i}=n(cl(e));if(1!==i.length)throw Error("Unit switcher text selector cannot be used if variable block unit switcher does no contain exactly one units");let[a]=i;return(0,t9.nH)(null==a?void 0:a.subunits)?null:r&&a.reversedName||a.name});var cp=l4(e=>n=>{let r=n(sC(e));if(!sk("group",r))throw Error("element of path ".concat(e," is not a group"));return r}),cm=r(55589),cf=r.n(cm),cg=r(93702),cy=r.n(cg);let cb=l4(e=>n=>{if(sk("block",e))return[];let r=ld([{matrices:sk("group",e)?e.matrices:[e]}]).map(e=>{let{name:n}=e;return n});return n(sr).filter(e=>{let{associatedVariable:n}=e;return r.includes(n)}).map(e=>{let{message:n}=e;return n.uid})}),cv=l4(e=>{let{highlightedTextId:n,path:r}=e;return e=>{let i=e(sC(r)),a=e(cb(i));return[...function e(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(cf()(n))return n.reduce((n,r)=>e(r,n),r);if(cy()(n)){let i=lD()(n,"uid"),a=(0,t9.$K)(i)?[...r,i]:r;return e(Object.values(n),a)}return r}(i),...a].includes(n)}}),c_=l4(e=>{let{highlightedTextId:n,path:r}=e;return e=>{if((0,t9.Rw)(n)||!e(cv({path:r,highlightedTextId:n})))return null;let{description:i,name:a}=e(cp(r));switch(n){case a.uid:return"title";case i.uid:return"description";default:return"content"}}}),cx=l4(e=>n=>{let{code:r,series:i,xAxis:a}=n(sL(e)),o=n(sp),l=n(sF(e));try{let e=(0,t4.JP)(r,{...l,localeData:o});if((0,t4.lR)(e,i,a),(0,t9.Rw)(e))return{error:null,chartData:e,options:null};let{options:n,...s}=e;return{error:null,chartData:s,options:n}}catch(n){let e=n instanceof Error?n.message:"unknown error";return{error:Error("Chart error: ".concat(e)),chartData:null,options:null}}}),cO=tm(e=>ld(e(l9))),cw=l4(e=>n=>{let r=n(sm),i=n(cO);return e.map(e=>{let n=i.find(n=>{let{uid:r}=n;return r===e.dataSource});if((0,t9.$K)(n))return n.name;throw Error("Cannot find variable block with uid ".concat(e.dataSource))}).map(e=>{var n,i,a;return null!==(a=null===(i=r[e])||void 0===i?void 0:null===(n=i.computable)||void 0===n?void 0:n.toNumber())&&void 0!==a?a:null})}),cE=l4(e=>n=>{var r;return null!==(r=n(sf)[e])&&void 0!==r?r:rq}),cC=l4(e=>n=>n(cE(e)).computable);function cT(){return tq((0,e0.useCallback)((e,n,r)=>e(cC(r)),[]))}var ck=l4(e=>n=>n(t1)[e].output),cR=l4(e=>{let{basePath:n,type:r}=e;return e=>{let i=e(ck(r)).get(n);return!!(0,t9.Rw)(i)||i.value}});let cS=l4(e=>n=>n(cR({basePath:e,type:"ui"}))),cA=tm(e=>{let n=e(uh);return(0,t4.Tz)(n)}),cI=l4(e=>n=>n(sO(e)).ui),cL=l4(e=>n=>{let r=n(cI(e));if((0,t9.Rw)(r)||(0,t9.oM)(r))return{formattedValue:"",isNumerical:!0};let i=n(uh),a=n(cA);return(0,t9.Hv)(r,a===t4.iT,!1)?{formattedValue:o0(r,i,n(sE(e))),isNumerical:!0}:{formattedValue:r,isNumerical:!1}}),cM=l4(e=>n=>{let r=n(si);return(0,t9.Rw)(r)?null:t9.LI.isSameOrAncestor(e,r.path)?r:null}),cN=l4(e=>n=>{let r=n(tQ);return n(sI(e)).filter(e=>{var i;let{name:a,path:o}=e;return r.includes(a)&&(0,t9.$K)(null===(i=n(sO(a)))||void 0===i?void 0:i.ui)&&n(cS(o))}).length}),cD=l3(e=>tm(n=>n(t0).includes(e),(n,r,i)=>{let a=n(t0);r(st,n=>n.includes(e)?n:tX()([e,...n])),r(t0,i?tX()([...a,e]):a.filter(n=>n!==e))})),cB=l4(e=>n=>{let r=n(se).get(e);return(null==r?void 0:r.visible)===!0?lC(e):void 0}),cP=tm(e=>{let n=e(t0);return e(l9).reduce((e,r,i)=>{let{uid:a}=r;return n.includes(a)?[...e,(0,t4.cB)(i)]:e},[])}),cK=l4(e=>n=>{let{uid:r}=n(cp(e));return n(st).includes(r)}),cU=l4(e=>{let{highlightedTextId:n,path:r}=e;return e=>{let i=e(sM(r));if((0,t9.$K)(n)){let e=(0,t9.dF)(i.urls,e=>{let{altText:r,caption:i,url:a}=e;return[i.uid,r.uid,a.uid].includes(n)});if((0,t9.$K)(e))return e}return(0,t9.dF)(i.urls,(n,i)=>e(cS("".concat(r,".urls.").concat(i))))}}),cV=l4(e=>n=>n(l8)===e),cG=l4(e=>n=>{let r=n(se).get(e);return(null==r?void 0:r.visible)===!0}),cF=l4(e=>n=>{let r=n(uO(e));if((0,t9.Rw)(r))return!1;let{primary:i,secondary:a}=r;return[i,a].some(lT)}),cH=l4(e=>n=>n(tJ).includes(e)),cz=l4(e=>n=>n(tQ).includes(e));l4(e=>n=>n(so).includes(e));let c$=l4(e=>n=>{let{columns:r}=n(sN(e));return r.flatMap(e=>e.filter(lo))}),cZ=l4(e=>{let{highlightedTextId:n,path:r}=e;return e=>{let i=e(se),a=e(c$(r)).map(e=>{let{name:n}=e;return n});return[...i].filter(e=>{let[n]=e;return a.includes(n)}).map(e=>{let[r,{visible:i,...a}]=e;return{...a,visible:i||a.uid===n,variableName:r}})}}),cj=tm(e=>e(l9).filter(e=>{let{isHiddenGroup:n}=e;return!n})),cW=l4(e=>n=>{let r=n(uO(e));if((0,t9.Rw)(r))throw Error("No unit switcher detected for variable ".concat(e));let{primary:i,secondary:a}=r;return[i,a].find(lT)}),cq=l4(e=>n=>{let r=n(cW(e));return null==r?void 0:r.selectedUnit}),cY=l4(e=>n=>{let r=n(uO(e));if((0,t9.Rw)(r))return"";let{primary:i,secondary:a}=r;return[i,a].reduce((e,n)=>{var r,i;return e+(null!==(i=null==n?void 0:null===(r=n.selectedUnit)||void 0===r?void 0:r.slug)&&void 0!==i?i:"")},"")}),cX=l4(e=>{let{chunkPath:n,highlightedTextId:r=null,variants:i}=e;return e=>{if((0,t9.$K)(r)){let e=i.find(e=>{let{uid:n}=e;return n===r});if((0,t9.$K)(e))return e}return(0,t9.dF)(i,(r,i)=>e(cS("".concat(n,".contentVariants.").concat(i))))}}),cJ=l4(e=>{let{highlightedTextId:n=null,path:r}=e;return e=>e(sP(r)).chunks.map((i,a)=>{let{contentVariants:o}=i,l=e(cX({chunkPath:"".concat(r,".chunks.").concat(a),variants:o,highlightedTextId:n}));return(0,t9.Rw)(l)?null:{uid:l.uid,html:e(cr(l.html))}}).filter(t9.$K)}),{FORCED:cQ,SET:c0}=rM.VariableBlockOutputOnlyOption,c1=l4(e=>n=>{let r=n(sK(e));return!!("outputOnly"in r&&[c0,cQ].includes(r.outputOnly))||n(su).includes(r.name)}),c2=l4(e=>{let{highlightedTextId:n=null,path:r}=e;return e=>{let{labels:i,name:a}=e(sK(r));if((0,t9.Rw)(i)||t5()(i))return{html:a||"[Unnamed variable]",uid:""};if((0,t9.$K)(n)){let e=i.find(e=>{let{uid:r}=e;return r===n});if((0,t9.$K)(e))return e}let o=(0,t9.dF)(i,(n,i)=>e(cS("".concat(r,".labels.").concat(i))));return(0,t9.$K)(o)?{...o,html:e(cr(o.html))}:i[0]}}),c3=l4(e=>n=>n(sU(e)).datasetUid),c4=l4(e=>n=>{let r=n(c3(e)),{columns:i,defaultValueColumn:a,options:o}=n(ub(r)),l=i.findIndex(e=>{let{uid:n}=e;return n===a});return o.map(e=>{let{name:n,uid:r,values:i}=e;return{label:n,uid:r,value:function(e,n){let r=(0,oQ.Z)(e[n]);if((0,t9.$K)(r)&&t4.w.isNaN(r))throw Error("Invalid value select value type: numeric or blank string expected but ".concat(e[n]," was given"));return r}(i,l)}})}),c6=l4(e=>n=>n(uv(n(c3(e))))),c5=l4(e=>n=>{var r,i;return null!==(i=null===(r=n(sr).find(n=>{let{associatedVariable:r,isDisplayed:i}=n;return r===e&&i}))||void 0===r?void 0:r.message.html)&&void 0!==i?i:null}),c8=l4(e=>{let{highlightedTextId:n,variableNames:r}=e;return e=>e(sr).filter(e=>{let{associatedVariable:n}=e;return r.includes(n)}).map(e=>{let{isDisplayed:r,...i}=e;return{...i,isDisplayed:r||i.message.uid===n}})}),c7=l3(e=>tm(n=>n(sc)===e)),c9=l4(e=>{let{highlightedTextId:n,path:r}=e;return e=>{if((0,t9.$K)(n)&&e(cv({path:r,highlightedTextId:n})))return!0;if(e(cR({basePath:r,type:"ui"}))){let n=e(sA(r));return ln(n)?0!==e(cJ({path:r})).length:!lt(n)||(0,t9.$K)(e(cU({path:r})))}return!1}}),de=l4(e=>{let{highlightedTextId:n,path:r}=e;return e=>e(sD).filter(e=>e.startsWith("".concat(r,"."))).some(r=>e(c9({highlightedTextId:n,path:r})))}),dt=l4(e=>{let{highlightedTextId:n,path:r}=e;return e=>!!((0,t9.$K)(n)&&e(cv({path:r,highlightedTextId:n})))||!!e(cR({basePath:r,type:"ui"}))&&e(de({path:r,highlightedTextId:n}))}),dn=l4(e=>n=>{let r=n(sO(e)).ui;return(0,t9.GI)(r)?(0,t9.xO)(r):null}),dr=tm(e=>{let n=e(l9).findLastIndex((n,r)=>!n.isHiddenGroup&&e(dt({path:"blockGroups.".concat(r)})));return -1!==n?"blockGroups.".concat(n):null});function di(e){let n=tZ(uh),r=tZ(sE(e));return(0,e0.useCallback)((e,i)=>(0,t9.Hv)(e)?o0(e,n,null!=i?i:r):e,[n,r])}l4(e=>n=>{let r=ld(n(l9)).find(n=>{let{name:r}=n;return r===e});if((0,t9.Rw)(r))throw Error("No such variable block with name: ".concat(e));return r});let da=e=>Object.fromEntries(Object.entries(e).map(e=>{var n;let[r,i]=e;return[r,{primary:i.primary.selectedUnit.slug,secondary:null===(n=i.secondary)||void 0===n?void 0:n.selectedUnit.slug}]})),dl=e=>Object.fromEntries(Array.from(e.entries()).map(e=>{let[n,r]=e;return[n,r.visible]}));var ds=r(73352),du=r.n(ds);let dc=l4(e=>{let{output:n}=e;return e=>{if(e(l6).skipDebouncingErrorMessages)return!0;let r=e(sr).filter(e=>{let{isDisplayed:n}=e;return n});return!t5()(r)&&r.some(e=>{let{id:r}=e;return Array.from(n).some(e=>{let[n,{value:i}]=e;return n===r&&i})})}});var dd=r(19355);function dh(){let e=function(){let{storageKey:e}=lS();return(0,e0.useCallback)(n=>{let{variableNamesToClear:r,variablesToSave:i}=n;if((0,t9.Rw)(e))return;let a=lJ(e),o=(0,rN.Uy)(a,e=>{(function(e,n){Object.entries(n).forEach(n=>{var r,i;let[a,{computable:o,ui:l}]=n;if((0,t9.Rw)(e.saved)){e.saved={[a]:{doNotRound:!0,computable:null!==(r=null==o?void 0:o.toString())&&void 0!==r?r:null,primaryUnitSwitcherSlug:void 0,secondaryUnitSwitcherSlug:void 0,ui:l}};return}e.saved[a]={...e.saved[a],computable:null!==(i=null==o?void 0:o.toString())&&void 0!==i?i:null,ui:l}})})(e,i),function(e,n){n.forEach(n=>{(0,t9.$K)(e.saved)&&(0,t9.$K)(e.saved[n])&&(e.saved[n].ui=void 0,e.saved[n].computable=void 0,e.saved[n].doNotRound=void 0)})}(e,r)});lI.setItem(e,JSON.stringify(o))},[e])}(),n=lS(),[r,i]=function(){let e=tj(sr),[n,,r]=(0,dd.y1)(n=>{e(e=>lQ(e,n))},1e3);return[(0,e0.useCallback)(function(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n(e),i&&r()},[n,r]),r]}();return[tq((0,e0.useCallback)(function(i,a,o){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],{calculatedVariablesNames:s,changedVariablesNames:u,conditions:c,lockedVariablesNames:d,manualVariablesNames:h,outputOnlyVariables:p,values:m,valuesBase:f}=o,g=i(sd);a(t1,c),a(sl,h),a(su,p),a(tQ,s),a(st,e=>t5()(e)?e:[]),a(sm,f),a(so,d);let y=oX(u)(du()(g,h))(m);a(sf,e=>({...e,...y}));let b=i(dc(c.input));if(r(c.input,b),(0,t9.$K)(n)){let n=i(tJ),r=n.filter(e=>h.includes(e));e({variableNamesToClear:n.filter(e=>!h.includes(e)),variablesToSave:lz()(m,(e,n)=>r.includes(n))})}lF(i,a)(o),l.forEach(e=>e(o))},[r,n,e])),i]}function dp(e){return tq((0,e0.useCallback)((n,r,i)=>{r(si,(0,t9.$K)(i)?{path:e,type:i}:null)},[e]))}let dm=(0,e0.createContext)(null);function df(e){let{callbacks:n,children:r}=e;return(0,K.tZ)(dm.Provider,{value:n,children:r})}function dg(){let e=(0,e0.useContext)(dm);if((0,t9.Rw)(e))throw Error("useEngineCallbacks must be used within EngineCallbacksProvider");return e}function dy(){let e=lW(),{onLatexUsed:n,onVariableCalculated:r,onVariableInputChange:i}=dg(),[a,o]=dh(),l=tZ(cA);return[(0,e0.useCallback)((o,s)=>{var u;null==i||i(),(0,t9.$K)(s.ui)&&(0,t9.$K)(s.computable)&&!(0,t9.Hv)(null!==(u=s.ui)&&void 0!==u?u:"",l===t4.iT,!1)&&(null==n||n()),a(e.input(o,s),[e=>{let{calculatedVariablesNames:n}=e;n.length&&n.forEach(()=>{null==r||r()})}])},[e,a,r,i,n,l]),o]}function db(e){let n=lW(),{onVariableCalculated:r,onVariableInputChange:i}=dg(),[a,o]=dh();return[(0,e0.useCallback)((o,l)=>{null==i||i();let s=function(e,n){let r=(0,t9.LM)(e,n===rM.VariableType.time);return{computable:(0,oQ.Z)(r),ui:null!=r?r:""}}(l,e);a(n.input(o,s),[e=>{let{calculatedVariablesNames:n}=e;n.length&&n.forEach(()=>{null==r||r()})}])},[i,e,a,n,r]),o]}var dv=r(86474),d_=r.n(dv),dx=r(55371),dO=r.n(dx);function dw(e){let{callbacks:n,children:r,config:i,countryCode:a,currency:o,currencySymbol:l,definition:s,navigatorLanguageTag:u,providerState:c,textTranslations:d,useImperialUnits:h,usingSnapshot:p}=e,m=function(e){let{config:n,definition:r,providerState:i,textTranslations:a,userData:o,usingSnapshot:l}=e,{storageKey:s}=lS(),u=function(e,n){let r=lW(),i=function(e){let n=lW();return(0,e0.useCallback)(r=>(n.updateManyConversionFormulas(function(e,n){let r=ld(n.blockGroups);return e.reduce((e,n)=>{let[i,a]=n;if((0,t9.Rw)(a.primaryUnitSwitcherSlug))return e;let o=r.find(e=>e.name===i);if((0,t9.Rw)(o))return e;let l=lq(o.unitSwitcher,a.primaryUnitSwitcherSlug);return(0,t9.Rw)(l)?e:{...e,[i]:o8(l,lq(o.unitSwitcherSecond,a.secondaryUnitSwitcherSlug))}},{})}(r,e)),n.inputMultiple(function(e,n){let r=lM(n,Object.fromEntries(e));return Object.fromEntries(e.filter(e=>{let[n]=e;return r.includes(n)}).filter(e=>{let[n,r]=e;return(0,t9.$K)(r.ui)}).map(e=>{var n;let[r,i]=e;return[r,{ui:null!==(n=i.ui)&&void 0!==n?n:null,computable:(0,oQ.Z)(i.computable)}]}))}(r,e))),[e,n])}(e),a=function(){let{storageKey:e}=lS();return(0,e0.useCallback)(()=>{var n;if((0,t9.Rw)(e))return[];let r=null===(n=lJ(e))||void 0===n?void 0:n.saved;return Object.entries(null!=r?r:{}).filter(e=>{let[n,r]=e;return(0,t9.$K)(r)})},[e])}();return(0,e0.useCallback)(()=>{if(n){let e=r.getState();return{initialState:e,doNotRoundVariables:e.manualVariablesNames}}let e=a();return{initialState:i(e),doNotRoundVariables:lY(e)}},[r,a,i,n])}(r,l);return(0,e0.useCallback)(()=>{var e,l;let{doNotRoundVariables:c,initialState:d}=u(),h=tB(),{calculatedVariablesNames:p,conditions:m,formulaUnitDependencyMap:f,isDirty:g,manualVariablesNames:y,outputOnlyVariables:b,values:v,valuesBase:_}=d,x=function(e,n){let r=(0,t4.jF)(e.datasets);return ld(e.blockGroups).reduce((e,i)=>{let{name:a,unitSwitcher:o,unitSwitcherSecond:l}=i;return l2(a,e,...[o,l].map(e=>lb(e,n,r)))},{})}(r,o),O=function(e){let{blockGroups:n}=e;return ld(n).filter(e=>"defaultAutosave"in e&&e.defaultAutosave).map(e=>{let{name:n}=e;return n})}(r),w=function(e){let{definition:n,localStorageKey:r,selectedUnitsSlugs:i,userData:a}=e,o=(0,t4.jF)(n.datasets);return ld(n.blockGroups).reduce((e,n)=>{let{name:l,unitSwitcher:s=null,unitSwitcherSecond:u=null}=n;if((0,t9.Rw)(l))return e;let[c,d]=ly(a,o,s,u),[h,p]=function(e){let{localStorageKey:n,name:r,selectedUnitsSlugs:i}=e;return(0,t9.$K)(i)?function(e){var n,r;let{name:i,selectedUnitsSlugs:a}=e;return[null==a?void 0:null===(n=a[i])||void 0===n?void 0:n.primary,null==a?void 0:null===(r=a[i])||void 0===r?void 0:r.secondary]}(e):(0,t9.$K)(n)?function(e,n){var r;let i=null===(r=lJ(e).saved)||void 0===r?void 0:r[n];return[null==i?void 0:i.primaryUnitSwitcherSlug,null==i?void 0:i.secondaryUnitSwitcherSlug]}(n,r):[void 0,void 0]}({localStorageKey:r,name:l,selectedUnitsSlugs:i});return l2(l,e,l$(c,h),l$(d,p))},{})}({definition:r,localStorageKey:s,selectedUnitsSlugs:null==i?void 0:i.selectedUnitsSlugs,userData:o}),E=function(e){let{autosavedVariableNames:n,definition:r,localStorageKey:i}=e;return(0,t9.$K)(i)?(0,t9.$K)(n)?n:lM(r,lJ(i).saved):[]}({definition:r,localStorageKey:s,autosavedVariableNames:null==i?void 0:i.autosave});h.set(l6,n),h.set(tJ,E),h.set(t0,(e=null==i?void 0:i.collapsedIds,(0,t9.$K)(e)?e:r.blockGroups.map(e=>{let{collapsableVariant:n,uid:r}=e;return n===rM.fn.DEFAULT_COLLAPSED?r:null}).filter(t9.$K))),h.set(l7,f),h.set(tQ,p),h.set(t1,m),h.set(sl,y),h.set(su,b),h.set(l9,r.blockGroups),h.set(se,(l=null==i?void 0:i.helpText,new Map(ld(r.blockGroups).filter(e=>{var n;return(0,t9.GI)(null===(n=e.helpText)||void 0===n?void 0:n.html)}).map(e=>{var n;return[e.name,{uid:e.helpText.uid,html:e.helpText.html,visible:null!==(n=null==l?void 0:l[e.name])&&void 0!==n&&n}]})))),h.set(sn,{units:x,autosavedVariableNames:O}),h.set(sr,lQ(r.inputConditions.map((e,n)=>({...e,id:"".concat(e.associatedVariable,".").concat(n),isDisplayed:!1})),m.input)),h.set(ss,r.variables.reduce((e,n)=>{let{minimumDecimalDigits:r,name:i}=n;return{...e,[i]:null!=r?r:null}},{})),h.set(sh,w),h.set(sp,o),h.set(so,function(e){let{definition:{variables:n},localStorageKey:r,lockedVariableNames:i}=e;if((0,t9.$K)(i))return i;let a={};if(n.forEach(e=>{a[e.name]=e.lock===rM.Uk.SET}),(0,t9.$K)(r)){var o;let e=null!==(o=lJ(r).saved)&&void 0!==o?o:{};n.forEach(n=>{var r;let{name:i}=n,o=null===(r=e[i])||void 0===r?void 0:r.locked;(0,t9.$K)(o)&&(a[i]=o)})}return Object.keys(lz()(a))}({definition:r,localStorageKey:s,lockedVariableNames:null==i?void 0:i.locked}));let C=r.variables.reduce((e,n)=>{let{name:r,rounding:i}=n;if(ll.includes(n.type))return{...e,[r]:{algorithm:"standard",precision:0}};let a=(0,t9.$K)(i)?{...i,precision:Number(i.precision)}:null;return{...e,[r]:a}},{});return h.set(sd,C),h.set(sf,function(e,n,r){let i=Object.keys(e).filter(e=>!r.includes(e));return{...e,...oX(i)(n)(e)}}(v,C,c)),h.set(sm,_),h.set(l5,r.datasets),h.set(l8,function(e){let{blockGroups:n,conditions:r}=e,i=lf(n).map(e=>{let{path:n}=e;return n}).find(e=>{var n;return(null===(n=r.ui.output.get(e))||void 0===n?void 0:n.value)!==!1});return function(e,n){if((0,t9.Rw)(n))return null;let r=lD()({blockGroups:e},n,{type:null});return lo(r)&&r.variableType===rM.VariableType.numerical&&r.outputOnly===rM.VariableBlockOutputOnlyOption.UNSET?n:null}(n,i)}({blockGroups:r.blockGroups,conditions:m})),h.set(sa,function(e){let{autosavedVariableNames:n,initialAutosavedVariableNames:r,initialUnits:i,isEngineDirty:a,selectedUnits:o}=e,l=lG({units:i,autosavedVariableNames:r},{units:o,autosavedVariableNames:n});return a||l}({initialAutosavedVariableNames:O,autosavedVariableNames:E,initialUnits:x,isEngineDirty:g,selectedUnits:w})),(0,t9.$K)(a)&&h.set(sx,a),h},[u,r,o,s,i,n,a])}({config:i,definition:s,providerState:c,userData:{countryCode:a,currency:o,currencySymbol:l,navigatorLanguageTag:u,useImperialUnits:h},usingSnapshot:p,textTranslations:d}),[f]=(0,e0.useState)(m);return(0,K.tZ)(df,{callbacks:n,children:(0,K.tZ)(tV,{store:f,children:r})})}function dE(e){let{callbacks:n={},children:r,config:i=t3,countryCode:a,currency:o,currencySymbol:l,definition:s,navigatorLanguageTag:u,pageLanguageCode:c,providerState:d,stateSnapshot:h,storageKey:p,textTranslations:m,useImperialUnits:f}=e,g=(0,e0.useMemo)(()=>Object.assign({},th.DEFAULT_USER_DATA,dO()({countryCode:a,currency:o,currencySymbol:l,pageLanguageCode:c,navigatorLanguageTag:u,useImperialUnits:f,...null==h?void 0:h.extraData.user},d_())),[a,o,l,u,c,h,f]),y=(0,e0.useMemo)(()=>(function(e,n){let{blockGroups:r,datasets:i,equations:a,formulas:o,inputConditions:l,variables:s,...u}=e,c=(0,t4.jF)(i),d=ld(r);return{conditions:{input:l.reduce((e,n,r)=>{let{associatedVariable:i,condition:a}=n;return(0,t9.Rw)(a.value)?e:e.set("".concat(i,".").concat(r),{value:a.value,detectedVariables:a.detectedVariables})},new Map),ui:(function(e){let n=e.reduce((e,n,r)=>{if((0,t9.$K)(n.condition)){var i;let a=ld([n]).map(e=>{let{name:n}=e;return n});return[...e,{condition:null!==(i=n.condition)&&void 0!==i?i:"",hidesVariables:a,path:(0,t4.cB)(r)}]}return e},[]);return lf(e).reduce((e,n)=>{let r=function(e){let{block:n,path:r}=e;return"condition"in n&&lp(n)?{condition:n.condition,path:r,hidesVariables:[n.name]}:null}(n),i=function(e){let{block:n,path:r}=e;switch(n.type){case rM.kH.chart:return[];case rM.kH.image:return n.urls.reduce(lm(r,"urls"),[]);case rM.kH.text:return function(e){let{block:n,path:r}=e;return n.chunks.reduce((e,n,i)=>{let{contentVariants:a}=n;return a.reduce(lm(r,"chunks.".concat(i,".contentVariants")),e)},[])}({block:n,path:r});case rM.kH.table:return[];case rM.kH.variable:var i,a;return null!==(a=null===(i=n.labels)||void 0===i?void 0:i.reduce(lm(r,"labels"),[]))&&void 0!==a?a:[]}}(n);return[...e,...(0,t9.$K)(r)?[r,...i]:i]},n)})(r).reduce((e,n)=>{let{condition:r,hidesVariables:i,path:a}=n;return e.set(a,{hidesVariables:i,value:r})},new Map)},datasetsScope:c,equationsVariants:[...new Set(a.flatMap(e=>{let{variants:n}=e;return n})),...new Set(o.flatMap(e=>{let{variants:n}=e;return n}))],extraData:lh(n),formulaUnitDependencyMap:d.reduce((e,n)=>{if(lo(n)&&n.variableType===rM.VariableType.presentation&&(0,t9.GI)(n.unitsSourceVariableUid)){let r=s.find(e=>{let{uid:r}=e;return r===n.unitsSourceVariableUid});return(0,t9.$K)(r)?{...e,[n.name]:r.name}:e}return e},{}),initialConversionFormulas:d.reduce((e,r)=>{let{name:i,unitSwitcher:a,unitSwitcherSecond:o,...l}=r;if("baseUnit"in l&&(0,t9.$K)(l.baseUnit))return(0,rN.Uy)(e,e=>{e[i]={conversionInFormula:l.baseUnit.fromReferenceValue,conversionOutFormula:l.baseUnit.toReferenceValue}});if((0,t9.Rw)(a)||(0,t9.Rw)(i))return e;let s=ly(n,c,a,o);return(0,rN.Uy)(e,e=>{e[i]=o8(...s)})},{}),valueSetters:function(e,n){let r=e.filter(lu).reduce((e,n)=>{let{name:r,valueSetter:i,variableType:a}=n;if(a!==rM.VariableType.dependent||(0,t9.Rw)(i))return e;let{columnUid:o,variableUid:l}=i,s={name:r,columnUid:o};return{...e,[l]:(0,t9.$K)(e[l])?[...e[l],s]:[s]}},{});return e.filter(lc).reduce((e,i)=>{let{datasetUid:a,name:o,variableUid:l}=i,s=n.find(e=>{let{uid:n}=e;return a===n}),u=r[l];return(0,t9.Rw)(s)||(0,t9.Rw)(u)?e:{...e,[o]:function(e,n){let r=n.map(n=>{let{columnUid:r,name:i}=n;return[i,e.columns.findIndex(e=>{let{uid:n}=e;return n===r})]});return e.options.reduce((e,n)=>{let{uid:i,values:a}=n,o=r.map(e=>{var n;let[r,i]=e;return[r,{ui:null!==(n=a[i])&&void 0!==n?n:null,computable:(0,t4.Zp)(a[i])?(0,oQ.Z)(a[i]):null}]});return{...e,[i]:Object.fromEntries(o)}},{})}(s,u)}},{})}(d,i),variables:function(e){let{blocks:n,datasets:r,userData:i,variables:a}=e;return function(e){let{blocks:n,datasets:r,userData:i,variablesWithParsedRounding:a}=e,o=a.map(e=>{let{...n}=e;return{...n,defaultValue:null}}),l=n.filter(ls),s=(0,t4.jF)(r);return(0,rN.Uy)(o,e=>{e.forEach((e,n)=>{let o=lg(a[n].defaultValues,lh(i),s);if((0,t9.Rw)(o)||(0,t9.Rw)(o.value)&&(0,t9.Rw)(o.now)){e.defaultValue=null;return}switch(e.type){case rM.VariableType.presentation:case rM.VariableType.numerical:e.defaultValue={computable:o.value,primaryUnitSwitcherSlug:void 0,secondaryUnitSwitcherSlug:void 0,ui:o.value};return;case rM.VariableType.valueSelect:var u;e.defaultValue=function(e){let{datasets:n,defaultValue:r,variable:i}=e,a=n.find(e=>{let{uid:n}=e;return i.datasetUid===n});if((0,t9.Rw)(a))throw Error("Dataset of id ".concat(i.datasetUid," not found"));return(0,t4.YS)(a)?{computable:a.options.findIndex(e=>{let{uid:n}=e;return n===r}).toString(),primaryUnitSwitcherSlug:void 0,secondaryUnitSwitcherSlug:void 0,ui:r}:{computable:function(e,n){let r=e.columns.findIndex(n=>{let{uid:r}=n;return r===e.defaultValueColumn}),i=e.options.find(e=>{let{uid:r}=e;return n===r});return(0,t9.Rw)(i)?null:-1===r?e.options.indexOf(i).toString():i.values[r]}(a,r),primaryUnitSwitcherSlug:void 0,secondaryUnitSwitcherSlug:void 0,ui:r}}({datasets:r,defaultValue:null!==(u=o.value)&&void 0!==u?u:"",variable:e});return;case rM.VariableType.date:case rM.VariableType.datetime:if(o.now){let n=l.find(n=>n.variableUid===e.uid),r=l_()(lO,lx(null==n?void 0:n.baseUnit.fromReferenceValue))();e.defaultValue={computable:r,primaryUnitSwitcherSlug:void 0,secondaryUnitSwitcherSlug:void 0,ui:r}}else e.defaultValue={computable:o.value,primaryUnitSwitcherSlug:void 0,secondaryUnitSwitcherSlug:void 0,ui:o.value};return;case rM.VariableType.time:if(o.now){let n=l.find(n=>n.variableUid===e.uid),r=l_()(lE,lx(null==n?void 0:n.baseUnit.fromReferenceValue))();e.defaultValue={computable:r,primaryUnitSwitcherSlug:void 0,secondaryUnitSwitcherSlug:void 0,ui:r}}else e.defaultValue={computable:o.value,primaryUnitSwitcherSlug:void 0,secondaryUnitSwitcherSlug:void 0,ui:o.value};return;default:e.defaultValue=null;return}})})}({blocks:n,datasets:r,userData:i,variablesWithParsedRounding:a.map(e=>{let{rounding:n,...r}=e;return{...r,rounding:(0,t9.$K)(n)?{...n,precision:Number(n.precision)}:null}})})}({blocks:d,datasets:i,userData:n,variables:s}),...u}})(s,g),[s,g]);return(0,K.tZ)(lR,{storageKey:p,children:(0,K.tZ)(lj,{engineDefinition:y,stateSnapshot:h,children:(0,K.tZ)(dw,{callbacks:n,config:i,definition:s,providerState:null!=d?d:null,usingSnapshot:(0,t9.$K)(h),textTranslations:m,...g,children:r})})})}var dC=r(68614),dT=r(50917),dk=r(88469),dR=r.n(dk);let dS=(e,n)=>{if("error"===n)return e.palette.error.main},dA=(e,n)=>{if("error"===n)return e.palette.error.main},dI=(e,n)=>{switch(n){case"error":return e.palette.omniPalette.semantics.negatives["300"];case"warning":return e.palette.omniPalette.semantics.warnings["300"];default:return}},dL=(e,n)=>{switch(n){case"error":return e.palette.omniPalette.semantics.negatives["500"];case"warning":return e.palette.omniPalette.semantics.warnings["500"];default:return}},dM=(e,n)=>{if("error"===n)return e.palette.error.contrastText},dN=(e,n)=>{switch(n){case"error":return e.palette.omniPalette.semantics.negatives["50"];case"warning":return e.palette.omniPalette.semantics.warnings["100"];default:return}};var dD=r(25337),dB=r(98776);function dP(e){return e.useExperimentalTheme?dB.go.LOW_ELEVATION:"0px 4px 16px 0 ".concat(e.palette.common.boxShadow)}function dK(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.spacing(5.5*n)}let dU={FAMILY:{DEFAULT:"var(".concat(dC.e_,"), Verdana, sans-serif"),INPUT:"var(".concat(dC.X3,"), 'Courier New', monospace"),MOBILE_KEYBOARD:"var(".concat(dC.X3,"), 'Courier New', monospace")},SIZE:{X_SMALL:12,SMALL:14,MEDIUM:15,LARGE:20,X_LARGE:24},WEIGHT:{LIGHT:300,REGULAR:400,MEDIUM:500,BOLD:600}},dV="20px";function dG(e){let{brand:n,neutrals:r}=dB.PALETTE,{omniBerry:i,omniHappy:a,omniWorld:o}=n,l=[o[400],i[300],a[300],r[300],o[500],i[500],a[500],r[500],o[300],i[400],a[400],r[400]];return l[e%l.length]}function dF(e){let{omniPalette:n}=e.palette,r={ALTERNATIVE:{BORDER_OUTLINE_FOCUS:{DEFAULT:"1px solid ".concat(n.brand.omniWorld[400]),ERROR:"1px solid ".concat(n.brand.omniBerry[300])},BOX_SHADOW_FOCUS:{DEFAULT:"0px 0px 0px 4px ".concat(n.shadows.minimalElevation.subtle),ERROR:"0px 0px 0px 4px ".concat(n.brand.omniBerry[50])},BOX_SHADOW_HOVER:"0px 0px 2px 2px ".concat(n.shadows.minimalElevation.subtle),BORDER_COLOR_HOVER:n.brand.omniWorld[300],HEIGHT:"40px",BACKGROUND_ERROR:n.semantics.negatives[50],BACKGROUND_FOCUS:n.neutrals[0],BORDER:"1px solid ".concat(n.brand.omniWorld[200])},FIELD_PADDING:0,FIELD_BORDER_WIDTH:"2px",FIELD_BORDER_STYLE:"solid",FIELD_MARGIN_TOP:e.spacing(1.5),FIELD_TRANSITION:e.transitions.create("all"),FIELD_BORDER_RADIUS:e.shape.borderRadius,FIELD_OUTLINE:"none",FIELD_BORDER_COLOR:e.palette.primary.light,FIELD_BORDER_COLOR_ACTIVE:e.palette.primary.dark,FIELD_BORDER_COLOR_DISABLED:e.palette.grey[200],FIELD_BORDER_COLOR_ERROR:e.palette.error.main,FIELD_BACKGROUND_COLOR:e.palette.common.white,FIELD_BACKGROUND_COLOR_DISABLED:e.palette.grey[200],FIELD_CURSOR_DEFAULT:"default",FIELD_CURSOR_DISABLED:"pointer"},i={FIELD_BACKGROUND_COLOR:n.neutrals[50],FIELD_BACKGROUND_COLOR_DISABLED:n.neutrals[100],FIELD_BORDER_COLOR_ACTIVE:n.outlines.active,FIELD_BORDER_RADIUS:"6px",FIELD_BORDER_WIDTH:"1px",FIELD_MARGIN_TOP:e.spacing(1),FIELD_BORDER_COLOR_ERROR:n.semantics.negatives[300]};return e.useExperimentalTheme?dR()(r,i):r}(mK=fa||(fa={})).LEFT_TO_RIGHT="ltr",mK.RIGHT_TO_LEFT="rtl";let dH={fontFamily:dU.FAMILY.DEFAULT,fontSize:dU.SIZE.MEDIUM,fontWeightLight:dU.WEIGHT.LIGHT,fontWeightRegular:dU.WEIGHT.REGULAR,fontWeightMedium:dU.WEIGHT.MEDIUM,fontWeightBold:dU.WEIGHT.BOLD,h2:{fontFamily:dU.FAMILY.DEFAULT,fontSize:dU.SIZE.LARGE,fontWeight:dU.WEIGHT.BOLD,lineHeight:"24px"},h3:{fontFamily:dU.FAMILY.DEFAULT,fontSize:dU.SIZE.MEDIUM,fontWeight:dU.WEIGHT.BOLD,lineHeight:dV},button:{fontFamily:dU.FAMILY.DEFAULT,fontSize:dU.SIZE.MEDIUM,fontWeight:dU.WEIGHT.BOLD,lineHeight:dV},body1:{fontFamily:dU.FAMILY.DEFAULT,fontSize:dU.SIZE.MEDIUM,fontWeight:dU.WEIGHT.REGULAR,lineHeight:dV},body2:{fontFamily:dU.FAMILY.DEFAULT,fontSize:dU.SIZE.SMALL,fontWeight:dU.WEIGHT.REGULAR,lineHeight:"16px"},input:{fontFamily:dU.FAMILY.INPUT,fontSize:dU.SIZE.X_LARGE,fontWeight:dU.WEIGHT.REGULAR,lineHeight:"28px"},strong:{fontWeight:dU.WEIGHT.BOLD},inputSmall:{fontFamily:dU.FAMILY.INPUT,fontSize:dU.SIZE.MEDIUM,fontWeight:dU.WEIGHT.BOLD,lineHeight:dV},label:{fontFamily:dU.FAMILY.DEFAULT,fontSize:dU.SIZE.MEDIUM,fontWeight:dU.WEIGHT.BOLD,lineHeight:dV}};function dz(){let e=(0,sz._)(["\n      from {\n        border-width: ",";\n      }\n      to {\n        border-width: ",";\n      }\n    ;"]);return dz=function(){return e},e}function d$(e,n){return(0,U.F4)(dz(),e,n)}function dZ(){return{FIELDSET_BORDER_WIDTH:0,FIELDSET_TOP:0}}var dj={alert:function(e,n){let{severity:r}=n,i={ALERT_BORDER_RADIUS:e.spacing(1),ALERT_BACKGROUND_COLOR:dM(e,r),ALERT_ICON_COLOR:dA(e,r),ALERT_ICON_SIZE:"16px",ALERT_ICON_MARGIN_RIGHT:e.spacing(.5),ALERT_ICON_OVERFLOW:"visible",ALERT_INSIDE_PADDING:0,ALERT_LINE_HEIGHT:"16px",ALERT_PADDING:e.spacing(1),ALERT_TEXT_COLOR:dS(e,r),ALERT_TEXT_FONT_SIZE:"14px",ALERT_WITH_HIGHLIGHT:{ALTERNATIVE:{ICON_DISPLAY:"flex",ICON_FLEX_DIRECTION:"column",JUSTIFY_CONTENT:"center"},AFTER:{BORDER:"2px solid ".concat("error"===r?e.palette.warning.main:"#A46923"),BORDER_RADIUS:"2px",CONTENT:"''",POSITION:"absolute",INSET:e.spacing(-1),TRANSFORM:"scale(0)",Z_INDEX:1},AFTER_HIGHLIGHT:{TRANSFORM:"scale(1)",TRANSITION:e.transitions.create("transform",{duration:"0.2s",easing:"ease-in"})},MESSAGE_OVERFLOW:"visible",POSITION:"relative"}},a={ALERT_BORDER_RADIUS:e.spacing(.75),ALERT_BACKGROUND_COLOR:dN(e,r),ALERT_ICON_COLOR:dI(e,r),ALERT_ICON_MARGIN_RIGHT:e.spacing(1),ALERT_TEXT_COLOR:dL(e,r),ALERT_TEXT_FONT_SIZE:"11px"};return e.useExperimentalTheme?dR()(i,a):i},autocomplete:function(e){let n={"& .MuiAutocomplete-input":{fontFamily:"Poppins",fontWeight:e.typography.fontWeightMedium,fontSize:"13.4px"}};return{root:{color:e.useExperimentalTheme?e.palette.omniPalette.text.primary:e.palette.text.primary,padding:e.spacing(e.useExperimentalTheme?0:.25),flexGrow:1,...e.useExperimentalTheme?n:{}},inputRoot:{padding:e.spacing(0,6,0,0),minHeight:e.spacing(3),transition:e.transitions.create(["color","background-color"]),input:{"&.MuiInput-input":function(e){let n={fontFamily:e.typography.body1.fontFamily,fontSize:"13.4px",fontWeight:e.typography.fontWeightMedium};return{padding:e.spacing(1.75,1.75,1.75,1.5),height:e.spacing(2.5),minHeight:e.spacing(2.5),...e.useExperimentalTheme?n:{}}}(e)}},clearIndicator:{fill:e.palette.text.primary,marginRight:e.spacing(.5),svg:{width:e.spacing(2.5),height:e.spacing(2.5)}},endAdornment:{top:e.useExperimentalTheme?0:"calc(50% - ".concat(dK(e,.5),")"),right:e.spacing(.25),transition:e.transitions.create(["background-color"]),svg:{width:e.spacing(2.5),height:e.spacing(2.5)}},listbox:{padding:e.spacing(e.useExperimentalTheme?.5:1),maxHeight:e.spacing(24.5),option:{backgroundColor:"red"},"& .MuiAutocomplete-option":{...function(e){let n={padding:e.spacing(1),minHeight:e.spacing(4.5),color:e.palette.grey[900],borderRadius:e.shape.borderRadius,whiteSpace:"pre-wrap",transition:e.transitions.create(["color","background-color"]),'&[aria-selected="true"]':{backgroundColor:e.palette.primary.light,color:e.palette.primary.dark,fontWeight:e.typography.fontWeightBold,"&:hover":{backgroundColor:e.palette.primary.light}},"&.Mui-focused":{backgroundColor:e.palette.common.transparent,boxShadow:e.shape.innerOutline,outline:e.shape.outlineWindowsHighContrast,color:e.palette.primary.dark},"&:hover":{boxShadow:"none",backgroundColor:e.palette.primary.light,color:e.palette.primary.dark}},{useExperimentalTheme:r}=e;if(!r)return n;let{omniPalette:i}=e.palette,a={color:i.text.primary,borderRadius:e.spacing(.5),fontSize:"13.4px",'&[aria-selected="true"]':{backgroundColor:i.brand.omniWorld[100],color:i.text.primary,fontWeight:e.typography.fontWeightBold,"&:hover":{backgroundColor:i.brand.omniWorld[100]}},"&.Mui-focused":{boxShadow:"none",color:i.text.primary},"&:hover":{backgroundColor:i.brand.omniWorld[100],color:i.text.primary},"&:not(:last-child)":{marginBottom:e.spacing(e.useExperimentalTheme?.5:0)}};return dR()(n,a)}(e)}},popupIndicatorOpen:{backgroundColor:e.useExperimentalTheme?"transparent":e.palette.primary.light},popupIndicator:{background:e.palette.primary.dark,display:"inline-flex",alignItems:"center",justifyContent:"center",color:e.useExperimentalTheme?e.palette.omniPalette.text.highlight:e.palette.primary.dark,backgroundColor:e.useExperimentalTheme?e.palette.common.transparent:e.palette.common.white,width:dK(e),height:dK(e),borderRadius:e.shape.borderRadiusSmall,disabled:{fill:"currentColor"}},paper:{margin:e.spacing(2,0),borderRadius:e.spacing(e.useExperimentalTheme?.75:2),boxShadow:dP(e)},AUTOCOMPLETE_COLOR_DISABLED:e.palette.grey[500],AUTOCOMPLETE_ERROR_COLOR:e.palette.error.light,AUTOCOMPLETE_PADDING:e.useExperimentalTheme?"9px 14px 9px 16px":"12px 14px 12px 12px",AUTOCOMPLETE_PLACEHOLDER_COLOR:e.useExperimentalTheme?e.palette.omniPalette.text.tertiary:e.palette.primary.dark,AUTOCOMPLETE_PLACEHOLDER_COLOR_ACTIVE:e.palette.grey["500"],AUTOCOMPLETE_LOADER_DISPLAY:"flex",AUTOCOMPLETE_LOADER_PADDING:e.spacing(1.25,0),AUTOCOMPLETE_LOADER_JUSTIFY_CONTENT:"center",AUTOCOMPLETE_LOADER_BACKGROUND_COLOR:(0,dD.Fq)(e.palette.common.white,.8),AUTOCOMPLETE_LOADER_CIRCULAR_PROGRESS_DISPLAY:"block",EXPERIMENTAL:{AUTOCOMPLETE_BUTTON_HEIGHT:"38px",AUTOCOMPLETE_BUTTON_WIDTH:"36px",AUTOCOMPLETE_BUTTON_PADDING:0}}},autocompleteGroup:function(e){return{GROUP_HEADER_FONT_SIZE:"".concat(dU.SIZE.X_SMALL,"px"),GROUP_HEADER_FONT_WEIGHT:"".concat(e.typography.fontWeightBold),GROUP_HEADER_LINE_HEIGHT:"".concat("16px"),GROUP_HEADER_COLOR:e.palette.grey[500],GROUP_HEADER_TEXT_TRANSFORM:"uppercase",GROUP_HEADER_PADDING:e.spacing(1,1,0),GROUP_CONTENT_PADDING:e.spacing(0,0,1)}},blockGroup:function(e){let{neutrals:n}=e.palette.omniPalette;return{BACKGROUND_COLOR:n[0],CONTENT_PADDING_WITH_TITLE:e.spacing(0,3,3,3),CONTENT_PADDING_NO_TITLE:e.spacing(3),HEADER_PADDING:e.spacing(2,3),BORDER_RADIUS:{MOBILE:0,DESKTOP:e.spacing(1.25)},BORDER_RADIUS_MOBILE:0,BORDER:"0.5px solid ".concat(n[300]),OVERFLOW:"hidden",MARGIN_TOP:e.spacing(.5)}},button:function(e){return{BUTTON_TEXT_TRANSFORM:"none",BUTTON_PADDING:e.spacing(.75,3),BUTTON_BORDER_RADIUS:"100px",BUTTON_ICON_WIDTH:"0.65em",BUTTON_ICON_LEFT_MARGIN:e.spacing(.5)}},calculatorActionsPanel:function(e){let{brand:n,neutrals:r}=e.palette.omniPalette;return{BUTTON_PADDING:e.spacing(1.25,2),CONTAINER_GAP:e.spacing(1.5),DESKTOP_HOVER_TEXT_DECORATION:"underline",MOBILE_HOVER_TEXT_DECORATION:"none",MOBILE_LABEL_SVG_HEIGHT:"20px",MOBILE_LABEL_SVG_WIDTH:"20px",ALTERNATIVE:{ACTION_BUTTON:{BACKGROUND_COLOR:{DEFAULT:r[0],HOVER:r[0],PRESS:r[100]},BORDER:{DEFAULT:"1px solid ".concat(r[300]),HOVER:"1px solid ".concat(r[400]),PRESS:"1px solid ".concat(r[400])},BORDER_RADIUS:e.shape.borderRadius,COLOR:r[600],FONT_WEIGHT:e.typography.fontWeightMedium,FONT_SIZE:"13.4px"},ACTIONS_PANEL:{BORDER_TOP:"1px solid ".concat(r[200]),FLEX_DIRECTION:"row",GAP:e.spacing(2),PADDING:e.spacing(2,3,3)},SHARE_BUTTON:{ALIGN_ITEMS:"center",FLEX:2,FLEX_DIRECTION:"column",ICON_COLOR:n.omniBerry[300],ICON_SIZE:"28px",PADDING:e.spacing(2),ROW_GAP:e.spacing(1)},RIGHT_COLUMN:{FLEX_DIRECTION:"column",FLEX:3,GAP:e.spacing(1)}}}},column:function(){return{POSITIONER:{SELF_ALIGNMENT:"end"}}},counterButton:function(e){return{COUNTER_BUTTON_PADDING:e.spacing(.5,.5),COUNTER_BUTTON_BORDER_RADIUS:"128px",COUNTER_BUTTON_TRANSITION:"0.5s",COUNTER_BUTTON_MAIN_COLOR:e.palette.primary.main,COUNTER_BUTTON_ALTERNATIVE_COLOR:e.palette.grey[100],COUNTER_BUTTON:{PADDING:"2px",MIN_WIDTH:0,DISPLAY:"flex",FLEX_DIRECTION:"column"},COUNTER_BUTTON_NUMBER:{OPACITY_VISIBLE:1,OPACITY_HIDDEN:0},COUNTER_BUTTON_POSITIONER:{SIZE:28,TRANSFORM:"translate(0 ,50%)",OPPOSITE_TRANSFORM:"translate(0 ,-50%)"},COUNTER_BUTTON_INDICATOR:{MARGIN:2,OPACITY_VISIBLE:1,OPACITY_HIDDEN:0,SIZE:20},COUNTER_BUTTON_ICON:{DEFAULT_BACKGROUND_COLOR:"transparent",ALTERNATIVE_PADDING:e.spacing(.75),SIZE:24,DISPLAY:"flex",ALIGN_ITEMS:"center",JUSTIFY_CONTENT:"center",TRANSITION_COLLAPSED:"rotate(180deg)",TRANSITION_EXPANDED:"rotate(0deg)",SVG:{SIZE:16}}}},clock:function(e){return{clock:{background:e.palette.omniPalette.brand.omniWorld[50]}}},checkbox:function(e){let n=e.useExperimentalTheme?.375:.75,r=e.useExperimentalTheme?"inset 0 0 0 2px ".concat(e.palette.omniPalette.outlines.active):e.shape.innerOutline,i={root:{padding:e.spacing(n),margin:e.spacing(-n),borderRadius:e.useExperimentalTheme?e.spacing(.875):e.shape.borderRadius,outline:"none","&::before":{content:'""',position:"absolute",width:"36px",height:"36px"},"&.Mui-focusVisible":{boxShadow:r,outline:e.shape.outlineWindowsHighContrast,color:e.palette.common.transparent},"&.Mui-checked.Mui-focusVisible":{boxShadow:r,outline:e.shape.outlineWindowsHighContrast,color:e.palette.primary.dark},"& .MuiTouchRipple-root .MuiTouchRipple-child":{borderRadius:e.shape.borderRadius}},CHECKBOX_LABEL_WEIGHT_SELECTED:e.useExperimentalTheme?500:e.typography.fontWeightBold,CHECKBOX_GAP:e.spacing(e.useExperimentalTheme?2:1.5),CHECKBOX_ROW_HEIGHT:e.spacing(e.useExperimentalTheme?2.5:3),CHECKBOX_LABEL_GAP:e.spacing(e.useExperimentalTheme?2:1.5),CHECKBOX_INLINE_LABEL_ALIGN_ITEMS:e.useExperimentalTheme?"flex-start":"middle",CHECKBOX_INLINE_LABEL_LINE_HEIGHT:e.useExperimentalTheme?"20px":"24px",...function(e){let n=e.spacing(e.useExperimentalTheme?2.5:3);return{CHECKBOX_ICON_BORDER_RADIUS:e.useExperimentalTheme?e.spacing(.5):e.shape.borderRadiusSmall,CHECKBOX_ICON_BORDER_STYLE:"solid",CHECKBOX_ICON_BORDER_WIDTH:e.spacing(e.useExperimentalTheme?.125:.25),CHECKBOX_ICON_BORDER_WIDTH_ACTIVE:0,CHECKBOX_ICON_DISPLAY:"flex",CHECKBOX_ICON_HEIGHT:n,CHECKBOX_ICON_WIDTH:n,CHECKBOX_ICON_TRANSITION:e.transitions.create(["background-color","border-color"]),CHECKBOX_ICON_SVG_WIDTH:e.spacing(e.useExperimentalTheme?1.5625:3),CHECKBOX_ICON_SVG_HEIGHT:e.spacing(e.useExperimentalTheme?1.1875:3)}}(e),...function(e){let n={CHECKBOX_ICON_BACKGROUND_COLOR:e.palette.common.white,CHECKBOX_ICON_BACKGROUND_COLOR_ACTIVE:e.palette.primary.dark,CHECKBOX_ICON_BACKGROUND_COLOR_ACTIVE_ERROR:e.palette.error.main,CHECKBOX_ICON_BACKGROUND_COLOR_ACTIVE_ERROR_HOVER:e.palette.error.light,CHECKBOX_ICON_BACKGROUND_COLOR_ACTIVE_HOVER:e.palette.primary.main,CHECKBOX_ICON_BACKGROUND_COLOR_DISABLED:e.palette.grey["200"],CHECKBOX_ICON_BACKGROUND_COLOR_ERROR:e.palette.common.white,CHECKBOX_ICON_BACKGROUND_COLOR_ERROR_HOVER:e.palette.primary.light,CHECKBOX_ICON_BACKGROUND_COLOR_HOVER:e.palette.primary.light,CHECKBOX_ICON_BORDER_COLOR:e.palette.grey["500"],CHECKBOX_ICON_BORDER_COLOR_ACTIVE:e.palette.primary.dark,CHECKBOX_ICON_BORDER_COLOR_DISABLED:e.palette.grey["500"],CHECKBOX_ICON_BORDER_COLOR_ERROR:e.palette.error.main,CHECKBOX_ICON_BORDER_COLOR_ERROR_HOVER:e.palette.error.main,CHECKBOX_ICON_BORDER_COLOR_HOVER:e.palette.primary.main,CHECKBOX_ICON_COLOR_ERROR:e.palette.error.main},{omniPalette:r}=e.palette,i={CHECKBOX_ICON_BACKGROUND_COLOR:r.neutrals[50],CHECKBOX_ICON_BACKGROUND_COLOR_ACTIVE:r.brand.omniWorld[400],CHECKBOX_ICON_BACKGROUND_COLOR_ACTIVE_ERROR:r.semantics.negatives[300],CHECKBOX_ICON_BACKGROUND_COLOR_ACTIVE_ERROR_HOVER:r.semantics.negatives[400],CHECKBOX_ICON_BACKGROUND_COLOR_ACTIVE_HOVER:r.text.link,CHECKBOX_ICON_BACKGROUND_COLOR_DISABLED:"transparent",CHECKBOX_ICON_BACKGROUND_COLOR_ERROR:r.brand.omniBerry[50],CHECKBOX_ICON_BACKGROUND_COLOR_ERROR_HOVER:r.brand.omniBerry[100],CHECKBOX_ICON_BACKGROUND_COLOR_HOVER:r.neutrals[100],CHECKBOX_ICON_BORDER_COLOR:r.outlines.mid,CHECKBOX_ICON_BORDER_COLOR_ACTIVE:r.brand.omniWorld[300],CHECKBOX_ICON_BORDER_COLOR_DISABLED:r.outlines.subtle,CHECKBOX_ICON_BORDER_COLOR_HOVER:r.outlines.mid,CHECKBOX_ICON_BORDER_COLOR_ERROR_HOVER:r.semantics.negatives[400],CHECKBOX_ICON_BORDER_COLOR_ERROR:r.semantics.negatives[300],CHECKBOX_ICON_COLOR_ERROR:e.palette.common.white};return{CHECKBOX_ICON_BACKGROUND_COLOR_ACTIVE_DISABLED:e.palette.grey["500"],CHECKBOX_ICON_COLOR:e.palette.common.white,CHECKBOX_ICON_MARGIN:"auto",...e.useExperimentalTheme?i:n}}(e)};return e.useExperimentalTheme?dR()(i,{root:{"&:hover":{backgroundColor:"transparent"}}}):i},container:function(e,n){let r={CONTAINER_BACKGROUND_COLOR_INFORMATION:e.palette.info.contrastText,CONTAINER_BACKGROUND_COLOR_NEGATIVE:e.palette.error.contrastText,CONTAINER_BACKGROUND_COLOR_POSITIVE:e.palette.success.contrastText,CONTAINER_BACKGROUND_COLOR_WARNING:e.palette.warning.contrastText,CONTAINER_BACKGROUND_COLOR_PRIMARY:e.palette.grey[100]},{omniPalette:i}=e.palette,a={CONTAINER_BACKGROUND_COLOR_INFORMATION:i.brand.omniWorld[100],CONTAINER_BACKGROUND_COLOR_NEGATIVE:i.semantics.negatives[100],CONTAINER_BACKGROUND_COLOR_POSITIVE:i.semantics.positives[100],CONTAINER_BACKGROUND_COLOR_WARNING:i.semantics.warnings[100],CONTAINER_BACKGROUND_COLOR_PRIMARY:"transparent"};return{CONTAINER_BACKGROUND_COLOR_NONE:e.palette.common.white,CONTAINER_BACKGROUND_COLOR_TRANSPARENT:e.palette.common.transparent,CONTAINER_BORDER_RADIUS_CONTENT:"0 0 ".concat(e.shape.borderRadius," ").concat(e.shape.borderRadius),CONTAINER_BORDER_RADIUS_HEADER:"".concat(e.shape.borderRadius," ").concat(e.shape.borderRadius," 0 0"),CONTAINER_BORDER_RADIUS_WHOLE:e.shape.borderRadius,CONTAINER_ELEVATION_CALCULATOR_UI:1,CONTAINER_ELEVATION_BLOCK_GROUP:0,CONTAINER_PADDING_LARGE:e.spacing(2.5,1.5),CONTAINER_PADDING_NORMAL:e.spacing(2,1.5),CONTAINER_PADDING_SMALL:e.spacing(1.5),CONTAINER_PADDING_NONE:0,CONTAINER_TRANSITION:e.transitions.create(["border-radius"],{duration:"150ms"}),...n?a:r}},calculatorWrapper:function(e){return{TAP_HIGHLIGHT_COLOR:e.palette.common.transparent,ALTERNATIVE_BACKGROUND_COLOR:e.palette.common.transparent}},dateCalendar:function(e){return{root:{"& svg":{height:20,width:20},height:300}}},datePicker:function(e){let{ALTERNATIVE:n}=dF(e);return{PADDING:e.spacing(1.25,1.75),SELECT_BACKGROUND:e.palette.omniPalette.brand.omniWorld[200],DEFAULT_BACKGROUND:e.palette.omniPalette.neutrals[100],BORDER_COLOR:e.palette.omniPalette.brand.omniWorld[200],DISABLED:{SHADOW:"none"},ERROR:{BACKGROUND:e.palette.omniPalette.brand.omniBerry[50],FOCUS:{BACKGROUND:e.palette.omniPalette.neutrals[0],BORDER:e.palette.omniPalette.brand.omniBerry[300],BOX_SHADOW:n.BOX_SHADOW_FOCUS.ERROR}},ICON_SIZE:20,FONT_SIZE:13.4,FONT_FAMILY:e.typography.fontFamily,FONT_WEIGHT:e.typography.fontWeightBold,BUTTON_RADIUS:e.shape.borderRadius}},datePickerToolbar:function(e){return{title:{fontSize:22,fontWeight:e.typography.fontWeightBold}}},dateTimePickerToolbar:function(e){return{root:{fontWeight:e.typography.fontWeightMedium,"& > span":{fontWeight:e.typography.fontWeightBold}},dateContainer:{"& .MuiPickersToolbarText-root":{fontWeight:e.typography.fontWeightMedium,fontSize:13.4},"& > *:last-child > .MuiPickersToolbarText-root":{fontWeight:e.typography.fontWeightBold,fontSize:28}},timeContainer:{"& *":{color:e.palette.omniPalette.neutrals[400],fontSize:48}},timeDigitsContainer:{".MuiPickersToolbarText-root":{fontSize:48,fontWeight:e.typography.fontWeightBold}},separator:{margin:"auto"},content:{"& .Mui-selected":{color:e.palette.omniPalette.text.highlight}}}},divider:function(e){return{BACKGROUND_COLOR:e.palette.grey["200"],MARGIN_BLOCK:e.spacing(2),WIDTH:"100%"}},dynamicImage:function(e){return{SKELETON_LOADER:{HEIGHT:"100%",POSITION:"absolute",WIDTH:"100%"},IMAGE:{WIDTH:"100%"},BROKEN_IMAGE:{WIDTH:"100%",DISPLAY:"flex",ALIGN_ITEMS:"center",JUSTIFY_CONTENT:"center",BACKGROUND_COLOR:e.palette.grey[200],SVG:{SIZE:48,COLOR:e.palette.grey[700]}},WRAPPER:{POSITION:"relative",OVERFLOW:"hidden",ICON_SPACING:e.spacing(.75)}}},chart:function(e){return{CARTESIAN:{HEIGHT:300,MARGIN:{top:8},AXIS:{HIGHLIGHT_BACKGROUND_COLOR:"#777",X_LABEL:{WIDTH:"100%",BOTTOM:e.spacing(.875)},Y_LABEL:{LEFT:e.spacing(2),TOP:"".concat(121,"px"),MAX_WIDTH:"".concat(250,"px"),TRANSFORM:"translateX(-50%) rotate(-90deg)",TRANSFORM_ORIGIN:"center"},LABELS:{POSITION:"absolute",WHITE_SPACE:"nowrap",OVERFLOW:"hidden",TEXT_ALIGN:"center",CONTAINER_POSITION:"relative"}}},PIE:{HEIGHT:232,MARGIN:{left:48,right:48,bottom:16},RADIUS:100},ITEM_MARK:{SIZE:"20px",MARGIN_RIGHT:e.spacing(.5)},LEGEND:{FLEX_DIRECTION:"row",FLEX_WRAP:"wrap",GAP:e.spacing(1),JUSTIFY_CONTENT:"space-around",ENTRY_ALIGN_ITEMS:"center",ENTRY_FLEX_DIRECTION:"row",MARGIN_TOP:e.spacing(1)},TOOLTIP:{AXIS_VALUE_TEXT_PADDING:e.spacing(2),BACKGROUND:{BORDER_RADIUS:dB.n_.SMALL,BOX_SHADOW:e.shadows[8]},DATAPOINT_VALUE_TEXT_MARGIN_LEFT:"auto",ITEM_MARK:{DISPLAY:"inline-block",SIZE:"12px",BORDER_RADIUS:"50%"},LEGEND:{PADDING:e.spacing(2),ROW_GAP:e.spacing(1)},LEGEND_ROW:{ALIGN_ITEMS:"center",COLUMN_GAP:e.spacing(2),FLEX_DIRECTION:"row",JUSTIFY_CONTENT:"flex-start",PADDING:e.spacing(2)}},getSeriesColor:dG}},errorIndicator:function(e){let{neutrals:n,semantics:{negatives:r},shadows:{highElevation:i}}=e.palette.omniPalette;return{ALTERNATIVE:{BOX_SHADOW:"4px 16px 22px 0px ".concat(i.subtle,", 0px 1px 4px 1px ").concat(i.strong),FONT_SIZE:"13px",ICON_COLOR:n[0],LINE_HEIGHT:"20px",BACKGROUND_COLOR:r[400],BACKGROUND_COLOR_HOVER:r[300],BACKGROUND_COLOR_PRESS:r[500]},INDICATOR:{BOTTOM:"70px",DISPLAY:"flex",JUSTIFY_CONTENT:"center",POSITION:"sticky",TOP:"70px",Z_INDEX:10},WRAPPER:{HEIGHT:0}}},formControlLabel:function(){return{root:{margin:0}}},iconButton:function(e){return{ICON_BUTTON_BORDER_RADIUS:e.shape.borderRadius,ICON_SIZE_SMALL:e.spacing(2.5),ICON_SIZE_MEDIUM:e.spacing(3.5),ICON_BUTTON_PADDING:e.spacing(.25),ICON_BUTTON_POINTER_EVENTS:"all",ICON_BUTTON_POINTER_EVENTS_DISABLED:"none",ICON_BUTTON_TRANSITION:e.transitions.create(["color","background-color"]),ICON_BUTTON_BACKGROUND_COLOR_ERROR:e.palette.common.transparent,ICON_BUTTON_BACKGROUND_COLOR_INFO:e.palette.common.transparent,ICON_BUTTON_BACKGROUND_COLOR_PRIMARY:e.palette.common.transparent,ICON_BUTTON_BACKGROUND_COLOR_SECONDARY:e.palette.common.transparent,ICON_BUTTON_BACKGROUND_COLOR_SUCCESS:e.palette.common.transparent,ICON_BUTTON_BACKGROUND_COLOR_WARNING:e.palette.common.transparent,ICON_BUTTON_BACKGROUND_COLOR_ERROR_ACTIVE:e.palette.error.light,ICON_BUTTON_BACKGROUND_COLOR_INFO_ACTIVE:e.palette.info.light,ICON_BUTTON_BACKGROUND_COLOR_PRIMARY_ACTIVE:e.palette.primary.light,ICON_BUTTON_BACKGROUND_COLOR_SECONDARY_ACTIVE:e.palette.grey[200],ICON_BUTTON_BACKGROUND_COLOR_SUCCESS_ACTIVE:e.palette.success.light,ICON_BUTTON_BACKGROUND_COLOR_WARNING_ACTIVE:e.palette.warning.light,ICON_BUTTON_BACKGROUND_COLOR_ERROR_FOCUSED:e.palette.error.light,ICON_BUTTON_BACKGROUND_COLOR_INFO_FOCUSED:e.palette.info.light,ICON_BUTTON_BACKGROUND_COLOR_PRIMARY_FOCUSED:e.palette.primary.light,ICON_BUTTON_BACKGROUND_COLOR_SECONDARY_FOCUSED:e.palette.grey[200],ICON_BUTTON_BACKGROUND_COLOR_SUCCESS_FOCUSED:e.palette.success.light,ICON_BUTTON_BACKGROUND_COLOR_WARNING_FOCUSED:e.palette.warning.light,ICON_BUTTON_BACKGROUND_COLOR_ERROR_HOVERED:e.palette.error.light,ICON_BUTTON_BACKGROUND_COLOR_INFO_HOVERED:e.palette.info.light,ICON_BUTTON_BACKGROUND_COLOR_PRIMARY_HOVERED:e.palette.primary.light,ICON_BUTTON_BACKGROUND_COLOR_SECONDARY_HOVERED:e.palette.grey[200],ICON_BUTTON_BACKGROUND_COLOR_SUCCESS_HOVERED:e.palette.success.light,ICON_BUTTON_BACKGROUND_COLOR_WARNING_HOVERED:e.palette.warning.light,ICON_BUTTON_COLOR_DISABLED:e.palette.grey[500],ICON_BUTTON_COLOR_INACTIVE:e.palette.grey[500],ICON_BUTTON_COLOR_ERROR:e.palette.error.main,ICON_BUTTON_COLOR_INFO:e.palette.info.main,ICON_BUTTON_COLOR_PRIMARY:e.palette.primary.main,ICON_BUTTON_COLOR_SECONDARY:e.palette.grey[700],ICON_BUTTON_COLOR_SUCCESS:e.palette.success.main,ICON_BUTTON_COLOR_WARNING:e.palette.warning.main,ICON_BUTTON_COLOR_ERROR_ACTIVE:e.palette.error.dark,ICON_BUTTON_COLOR_INFO_ACTIVE:e.palette.info.dark,ICON_BUTTON_COLOR_PRIMARY_ACTIVE:e.palette.primary.dark,ICON_BUTTON_COLOR_SECONDARY_ACTIVE:e.palette.grey[900],ICON_BUTTON_COLOR_SUCCESS_ACTIVE:e.palette.success.dark,ICON_BUTTON_COLOR_WARNING_ACTIVE:e.palette.warning.dark,ICON_BUTTON_COLOR_ERROR_HOVERED:e.palette.error.dark,ICON_BUTTON_COLOR_INFO_HOVERED:e.palette.info.dark,ICON_BUTTON_COLOR_PRIMARY_HOVERED:e.palette.primary.dark,ICON_BUTTON_COLOR_SECONDARY_HOVERED:e.palette.grey[900],ICON_BUTTON_COLOR_SUCCESS_HOVERED:e.palette.success.dark,ICON_BUTTON_COLOR_WARNING_HOVERED:e.palette.warning.dark,ICON_BUTTON_COLOR_ERROR_FOCUSED:e.palette.error.dark,ICON_BUTTON_COLOR_INFO_FOCUSED:e.palette.info.dark,ICON_BUTTON_COLOR_PRIMARY_FOCUSED:e.palette.primary.dark,ICON_BUTTON_COLOR_SECONDARY_FOCUSED:e.palette.grey[900],ICON_BUTTON_COLOR_SUCCESS_FOCUSED:e.palette.success.dark,ICON_BUTTON_COLOR_WARNING_FOCUSED:e.palette.warning.light}},iconButtonOverrides:function(e){return{root:{"&.Mui-disabled":{color:e.palette.omniPalette.neutrals[300]}}}},imageBlock:function(e){let n=e.useExperimentalTheme?"11px":"".concat(e.typography.fontSize,"px"),r={IMAGE_BORDER_RADIUS:e.spacing(0),IMAGE_MARGIN:e.spacing(2),TEXT_PADDING:e.spacing(0),TEXT_LINE_HEIGHT:"20px",TEXT_COLOR:"inherit"},i={IMAGE_BORDER_RADIUS:e.spacing(.75),IMAGE_MARGIN:e.spacing(1),TEXT_PADDING:e.spacing(.5),TEXT_LINE_HEIGHT:"16px",TEXT_COLOR:e.palette.omniPalette.text.secondary};return{DEFAULT_LINK_COLOR:"#007bff",IMAGE_BACKGROUND_COLOR:e.palette.common.transparent,IMAGE_CURSOR:"pointer",IMAGE_WRAPPER_PADDING_BOTTOM:0,TEXT_SPACING:e.spacing(1),TEXT_CAPTION_FONT_STYLE:"italic",TEXT_CAPTION_FONT_SIZE:n,...e.useExperimentalTheme?i:r}},lightboxImageOverlay:function(e){return{LIGHTBOX_IMAGE_OVERLAY_BACKGROUND_COLOR:e.palette.background.default,LIGHTBOX_IMAGE_OVERLAY_INSET:0,LIGHTBOX_IMAGE_OVERLAY_POSITION:"absolute",LIGHTBOX_IMAGE_OVERLAY_Z_INDEX:-1}},input:function(e){let{omniPalette:n}=e.palette,r={ALTERNATIVE:{DISPLAY:"flex",INPUT_HEIGHT:e.spacing(4.5),INPUT_CARET_COLOR_ERROR:n.semantics.negatives["400"]},DEFAULT_CURSOR:"default",CARET_WIDTH:"1px",INPUT_BORDER:"none",INPUT_CONTAINER_ALIGN_ITEMS:"center",INPUT_CONTAINER_DISPLAY:"flex",INPUT_CURSOR:"text",INPUT_DISPLAY_TYPE:"block",INPUT_LINE_HEIGHT:1,INPUT_OUTLINE:"none",INPUT_OPACITY:1,INPUT_RADIUS:e.shape.borderRadius,INPUT_PADDING:e.spacing(0,1),INPUT_PADDING_MATH:e.spacing(.75,1.75),INPUT_POINTER_EVENTS_REGULAR:"all",INPUT_POINTER_EVENTS_DISABLED:"none",INPUT_TEXT_ALIGN_NORMAL:e.direction===fa.LEFT_TO_RIGHT?"right":"left",INPUT_TEXT_ALIGN_REVERSE:e.direction===fa.LEFT_TO_RIGHT?"left":"right",INPUT_TEXT_DEFAULT_SIZE:"1em",INPUT_TEXT_MIN_SIZE:"".concat(e.typography.inputSmall.fontSize,"px"),INPUT_TRANSITION:e.transitions.create("all"),INPUT_MIN_HEIGHT:e.spacing(6),INPUT_MIN_HEIGHT_MATH:e.spacing(5),INPUT_HEIGHT_INNER:"100%",INPUT_MAX_WIDTH:"100%",INPUT_BACKGROUND_COLOR_REGULAR:e.palette.common.white,INPUT_BACKGROUND_COLOR_DISABLED:e.palette.grey[200],INPUT_CARET_COLOR:e.palette.primary.dark,INPUT_SELECTION_COLOR:e.palette.primary.light,INPUT_HIGHLIGHT_COLOR:e.palette.common.transparent,INPUT_TEXT_COLOR_COMPUTED:e.palette.info.main,INPUT_TEXT_COLOR_DISABLED:e.palette.grey[700],INPUT_TEXT_COLOR_ERROR:e.palette.error.main,INPUT_TEXT_COLOR_REGULAR:e.palette.grey[900],INPUT_FONT_FAMILY:e.typography.input.fontFamily,INPUT_FONT_SIZE_NORMAL:"".concat(e.typography.input.fontSize,"px"),INPUT_FONT_SIZE_SMALL:"".concat(e.typography.inputSmall.fontSize,"px"),INPUT_FONT_WEIGHT_NORMAL:e.typography.input.fontWeight,INPUT_FONT_WEIGHT_SMALL:e.typography.inputSmall.fontWeight,INPUT_LINE_HEIGHT_NORMAL:e.typography.input.lineHeight,INPUT_LINE_HEIGHT_SMALL:e.typography.inputSmall.lineHeight},i={CARET_WIDTH:"2px",INPUT_BACKGROUND_COLOR_DISABLED:e.palette.common.transparent,INPUT_BACKGROUND_COLOR_REGULAR:e.palette.common.transparent,INPUT_CARET_COLOR:n.text.highlight,INPUT_MIN_HEIGHT:e.spacing(4.5),INPUT_MIN_HEIGHT_MATH:e.spacing(4.75),INPUT_PADDING_MATH:e.spacing(.75,2),INPUT_TEXT_COLOR_DISABLED:n.text.secondary,INPUT_TEXT_COLOR_COMPUTED:n.text.highlight,INPUT_TEXT_COLOR_ERROR:n.text.primary,INPUT_TEXT_DEFAULT_SIZE:"18px",INPUT_FONT_SIZE_NORMAL:"18px",INPUT_FONT_WEIGHT_NORMAL:500,INPUT_FONT_WEIGHT_SMALL:500,INPUT_LINE_HEIGHT:24};return e.useExperimentalTheme?dR()(r,i):r},inputBase:function(e){let n={root:{},input:{fontFamily:e.typography.inputSmall.fontFamily,fontSize:e.typography.inputSmall.fontSize,fontWeight:e.typography.inputSmall.fontWeight,lineHeight:e.typography.inputSmall.lineHeight,"&:focus":{background:e.palette.common.transparent},"&.Mui-disabled":{background:e.palette.common.transparent,WebkitTextFillColor:e.palette.grey["700"]}}};return e.useExperimentalTheme?{...n,root:{...n.root,borderRadius:6,background:e.palette.omniPalette.neutrals[50],"& .MuiIconButton-sizeMedium":{color:e.palette.omniPalette.brand.omniWorld[400]}},input:{...n.input,"::-moz-selectin":{background:e.palette.omniPalette.brand.omniWorld[200]},"::selection":{background:e.palette.omniPalette.brand.omniWorld[200]}}}:n},inputDivider:function(e){return{ALTERNATIVE:{BORDER_COLOR_ERROR:e.palette.omniPalette.semantics.negatives["400"]},DIVIDER_BACKGROUND_COLOR:e.palette.primary.dark,DIVIDER_MARGIN:e.spacing(1.5,0),DIVIDER_WIDTH:"1px"}},inputField:dF,inputOutlined:function(e){let{ALTERNATIVE:n}=dF(e);return e.useExperimentalTheme?{root:{"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.omniPalette.brand.omniWorld[300],boxShadow:n.BOX_SHADOW_HOVER},"&:focus-within .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.omniPalette.brand.omniWorld[400],boxShadow:n.BOX_SHADOW_FOCUS.DEFAULT,borderWidth:2}},notchedOutline:{borderColor:e.palette.omniPalette.brand.omniWorld[200],transition:"all 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",transitionProperty:"box-shadow, border-color"}}:{}},label:function(e){let n={LABEL:{DISPLAY:"inline",PADDING:0,FONT_WEIGHT:e.typography.label.fontWeight,FONT_SIZE:"".concat(e.typography.label.fontSize,"px"),LINE_HEIGHT:e.typography.label.lineHeight,COLOR:e.palette.grey["900"],MARGIN:0,FLEX_GROW:1},WRAPPER:{PADDING_INLINE:e.spacing(.25),SPACING:e.spacing(.25),LINE_HEIGHT:"normal"}},r={LABEL:{DISPLAY:"inline-block",FONT_SIZE:"13.4px",FONT_WEIGHT:500},WRAPPER:{SPACING:e.spacing(.5),PADDING_INLINE:e.spacing(0)}};return e.useExperimentalTheme?dR()(n,r):n},lightbox:function(e){return{BACKGROUND_COLOR:e.palette.common.black,IMAGE_BACKGROUND_COLOR:e.palette.common.white,PADDING:e.spacing(2),TEXT_COLOR:e.palette.common.white,WILL_CHANGE:"opacity",Z_INDEX:2e3}},loader:function(e){return{WRAPPER:{POSITION:"relative"},BOX:{BACKGROUND_COLOR:(0,dD.Fq)(e.palette.common.white,.8),HEIGHT:"100%",PADDING_TOP:"min(100px, 15dvh)",POSITION:"absolute",TEXT_ALIGN:"center",WIDTH:"100%",Z_INDEX:1}}},matrix:function(e){return{CONTAINER:{DISPLAY:"grid",GAP:e.spacing(e.useExperimentalTheme?1:1.5)},INPUT_FEEDBACK_MESSAGE:{MARGIN_TOP:e.spacing(1.5)},WRAPPER:{MARGIN_BOTTOM:e.spacing(e.useExperimentalTheme?2:3),LAST_MARGIN_BOTTOM:0}}},markdownViewer:function(e){let n={MARKDOWN_VIEWER_COLOR_INFO:e.palette.info.main,MARKDOWN_VIEWER_COLOR_NEGATIVE:e.palette.error.main,MARKDOWN_VIEWER_COLOR_POSITIVE:e.palette.success.main,MARKDOWN_VIEWER_COLOR_WARNING:e.palette.warning.main,MARKDOWN_VIEWER_FONT_SIZE_REGULAR:"15px",MARKDOWN_VIEWER_FONT_SIZE_SMALL:"14px",MARKDOWN_VIEWER_LINE_HEIGHT_REGULAR:"20px",MARKDOWN_VIEWER_LINE_HEIGHT_REGULAR_CONDENSED:"20px",MARKDOWN_VIEWER_COLOR_SECONDARY:e.palette.text.secondary,MARKDOWN_VIEWER_LINE_HEIGHT_HEADING:"24px",MARKDOWN_VIEWER_FONT_SIZE_HEADING:"20px",MARKDOWN_VIEWER_LINE_HEIGHT_SMALL:"16px",MARKDOWN_VIEWER_LINE_HEIGHT_SMALL_COMPACT:"16px",MARKDOWN_VIEWER_COLOR_PRIMARY:e.palette.text.primary},{omniPalette:r}=e.palette,i={MARKDOWN_VIEWER_COLOR_INFO:r.text.primary,MARKDOWN_VIEWER_COLOR_NEGATIVE:r.semantics.negatives[500],MARKDOWN_VIEWER_COLOR_POSITIVE:r.semantics.positives[500],MARKDOWN_VIEWER_COLOR_WARNING:r.semantics.warnings[500],MARKDOWN_VIEWER_FONT_SIZE_REGULAR:"13.4px",MARKDOWN_VIEWER_FONT_SIZE_SMALL:"11px",MARKDOWN_VIEWER_COLOR_SECONDARY:e.palette.omniPalette.text.secondary,MARKDOWN_VIEWER_LINE_HEIGHT_REGULAR:"24px",MARKDOWN_VIEWER_LINE_HEIGHT_REGULAR_CONDENSED:"20px",MARKDOWN_VIEWER_LINE_HEIGHT_HEADING:"28px",MARKDOWN_VIEWER_FONT_SIZE_HEADING:"15.8px",MARKDOWN_VIEWER_LINE_HEIGHT_SMALL:"20px",MARKDOWN_VIEWER_LINE_HEIGHT_SMALL_COMPACT:"16px",MARKDOWN_VIEWER_COLOR_PRIMARY:r.text.primary};return{MARKDOWN_VIEWER_BACKGROUND_COLOR:e.palette.common.transparent,MARKDOWN_VIEWER_BASE_PADDING_SCALE:.5,MARKDOWN_VIEWER_CODE_BLOCK_PADDING_TOP_HEADING:e.spacing(1),MARKDOWN_VIEWER_CODE_BLOCK_PADDING_TOP_REGULAR:e.spacing(1),MARKDOWN_VIEWER_CODE_BLOCK_PADDING_TOP_SMALL:e.spacing(.5),MARKDOWN_VIEWER_CODE_BLOCK_WIDTH:"fit-content",MARKDOWN_VIEWER_ELEMENTS_DISPLAY:"block",MARKDOWN_VIEWER_ELEMENTS_DISPLAY_INLINE:"inline",MARKDOWN_VIEWER_ELEMENTS_DISPLAY_NONE:"none",MARKDOWN_VIEWER_ELEMENTS_MARGIN:0,MARKDOWN_VIEWER_FONT_FAMILY:e.typography.fontFamily,MARKDOWN_VIEWER_INPUT_FONT_FAMILY:e.typography.input.fontFamily,MARKDOWN_VIEWER_LINK_BORDER_RADIUS:e.shape.borderRadiusXSmall,MARKDOWN_VIEWER_LINK_COLOR:"inherit",MARKDOWN_VIEWER_LINK_TEXT_SHADOW_BOLD:"1px 0 0",MARKDOWN_VIEWER_LINK_UNDERLINE_THICKNESS:e.spacing(.25),MARKDOWN_VIEWER_LIST_ITEM_PADDING_TOP_HEADING:e.spacing(1),MARKDOWN_VIEWER_LIST_ITEM_PADDING_TOP_REGULAR:e.spacing(1),MARKDOWN_VIEWER_LIST_ITEM_PADDING_TOP_SMALL:e.spacing(.5),MARKDOWN_VIEWER_LIST_NESTED_PADDING_TOP:0,MARKDOWN_VIEWER_LIST_PADDING_LEFT:e.spacing(2.5),MARKDOWN_VIEWER_LIST_PADDING_TOP_HEADING:e.spacing(.5),MARKDOWN_VIEWER_LIST_PADDING_TOP_REGULAR:e.spacing(.5),MARKDOWN_VIEWER_LIST_PADDING_TOP_SMALL:e.spacing(.25),MARKDOWN_VIEWER_OVERFLOW:"visible",...e.useExperimentalTheme?i:n}},mathInputMenu:function(e){return{MATH_INPUT_MENU_ICON_MIN_WIDTH:e.spacing(4),MATH_INPUT_MENU_ITEM_PADDING_INLINE:e.spacing(1.5),MATH_INPUT_MENU_ITEM_OUTLINE:"none",MATH_INPUT_MENU_ITEM_OUTLINE_FOCUSED:e.shape.outline,MATH_INPUT_MENU_ITEM_OUTLINE_FOCUSED_HIGH_CONTRAST:e.shape.outline,MATH_INPUT_MENU_ICON_VIEWBOX:"0 0 24 24",MATH_INPUT_MENU_LIST_PADDING:e.spacing(.5)}},menuItem:function(e){let n={root:{padding:e.spacing(1),minHeight:e.spacing(4.5),color:e.palette.grey[900],borderRadius:e.shape.borderRadius,whiteSpace:"pre-wrap",transition:e.transitions.create(["color","background-color"]),"&.Mui-selected":{background:e.palette.primary.light,color:e.palette.primary.dark,fontWeight:e.typography.fontWeightBold,"&:hover":{background:e.palette.primary.light}},"&:hover":{background:e.palette.primary.light,color:e.palette.primary.dark},"&:focus-visible:hover":{background:e.palette.primary.light},"&:focus-visible":{background:e.palette.common.transparent,color:e.palette.primary.dark,boxShadow:e.shape.innerOutline,outline:e.shape.outlineWindowsHighContrast}}};if(!e.useExperimentalTheme)return n;let{omniPalette:r}=e.palette,i={root:{color:r.text.primary,borderRadius:e.spacing(.5),whiteSpace:"pre-wrap",transition:e.transitions.create(["color","background-color"]),"&.Mui-selected":{background:r.brand.omniWorld[100],color:r.text.primary,fontWeight:e.typography.fontWeightBold,"&:hover":{background:r.brand.omniWorld[100]}},"&:hover":{background:r.brand.omniWorld[100],color:r.text.primary},"&:focus-visible:hover":{background:r.brand.omniWorld[100]},"&:focus-visible":{background:"transparent",color:r.text.primary,boxShadow:"inset ".concat(dB.go.ACTIVE_OUTLINE),outline:e.shape.outlineWindowsHighContrast}}};return dR()(n,i)},menuList:function(e){return{MENU_LIST_PADDING:e.spacing(e.useExperimentalTheme?.5:1),MENU_LIST_DISPLAY:"flex",MENU_LIST_FLEX_DIRECTION:"column",MENU_LIST_GAP:e.spacing(e.useExperimentalTheme?.5:0)}},mixedUnitInput:function(e){return{CONTAINER_FONT_SIZE:"".concat(dH.input.fontSize,"px"),LABEL_ALIGN_ITEMS:"center",LABEL_DISPLAY:"flex",LABEL_FLEX_BASIS:"100%",LABEL_FLEX_SHRINK:1,LABEL_MARGIN:0}},paper:function(e){return{PAPER_MARGIN:e.spacing(1.25,0),PAPER_RADIUS:e.spacing(e.useExperimentalTheme?1:2),PAPER_BOX_SHADOW:dP(e),PAPER_BOX_MAX_HEIGHT:e.spacing(24.5)}},pickersArrowSwitcher:function(e){return{root:{"& svg":{height:20,width:20}}}},pickersCalendarHeader:function(e){return{label:{fontSize:13.4,fontWeight:e.typography.fontWeightBold}}},pickersDay:function(e){return{root:{fontSize:13.4,"&:hover":{background:e.palette.omniPalette.brand.omniWorld[200]},"&:not(.Mui-selected)":{borderColor:e.palette.omniPalette.neutrals[300]}}}},pickersMonth:function(e){return{monthButton:{fontSize:13.4,weight:500,"&:hover":{backgroundColor:e.palette.omniPalette.brand.omniWorld[100]}}}},pickerToolbar:function(e){return{root:{"& > span":{fontSize:11,fontWeight:e.typography.fontWeightBold},"& .Mui-selected":{color:e.palette.omniPalette.text.highlight}},content:{fontSize:22,fontWeight:e.typography.fontWeightBold,color:e.palette.omniPalette.brand.omniWorld[400]}}},pickersToolbarText:function(e){return{root:{fontWeight:e.typography.fontWeightMedium,"&.Mui-selected":{color:e.palette.omniPalette.text.highlight}}}},pickersPopper:function(e){return{paper:{boxShadow:"0px 6px 16px 0px ".concat(e.palette.omniPalette.brand.omniWorld[400],"1A")}}},pickersYear:function(e){return{yearButton:{fontSize:13.4,weight:500,"&:hover":{backgroundColor:e.palette.omniPalette.brand.omniWorld[100]}}}},popperPanel:function(e){let{highElevation:n}=e.palette.omniPalette.shadows,r={BACKDROP_BACKGROUND:"transparent",BACKGROUND_COLOR:e.palette.common.white,BORDER_RADIUS:"8px",BOX_SHADOW:"0px 8px 20px 0px rgba(62, 65, 79, 0.16)",PADDING:e.spacing(2),MIN_WIDTH:"min(320px, 100%)",Z_INDEX:1200},i={BORDER_RADIUS:"6px",BOX_SHADOW:"4px 16px 22px 0px ".concat(n.subtle,", 0px 1px 4px 1px ").concat(n.strong)};return e.useExperimentalTheme?{...r,...i}:r},radio:function(e){let n=e.useExperimentalTheme?.375:.75,r=e.useExperimentalTheme?dB.go.ACTIVE_OUTLINE:e.shape.innerOutline,i={root:{padding:e.spacing(n),margin:e.spacing(-n),"&::before":{content:'""',position:"absolute",width:"36px",height:"36px"},"&.Mui-focusVisible":{boxShadow:r,outline:e.shape.outlineWindowsHighContrast,color:e.palette.common.transparent},"&.Mui-checked.Mui-focusVisible":{boxShadow:r,outline:e.shape.outlineWindowsHighContrast,color:e.palette.primary.dark}},RADIO_CONTAINER_MIN_HEIGHT:"20px",RADIO_CONTAINER_SPACING:e.spacing(e.useExperimentalTheme?2:1.5),...function(e){let n=e.useExperimentalTheme?2.5:3,r=e.useExperimentalTheme?.125:.25,i=e.useExperimentalTheme?.875:1;return{RADIO_ICON_DISPLAY:"flex",RADIO_ICON_WIDTH:e.spacing(n),RADIO_ICON_HEIGHT:e.spacing(n),RADIO_ICON_BORDER_RADIUS:"50%",RADIO_ICON_BORDER_STYLE:"solid",RADIO_ICON_BORDER_WIDTH:e.spacing(r),RADIO_ICON_BORDER_WIDTH_ACTIVE:e.spacing(i),RADIO_ICON_TRANSITION:e.transitions.create(["background-color","border-color"]),RADIO_ICON_ANIMATION_DURATION:"".concat(e.transitions.duration.shortest,"ms"),RADIO_ICON_ANIMATION_TIMING_FUNCTION:e.transitions.easing.easeOut,RADIO_ICON_ANIMATION:d$(e.spacing(i),e.spacing(r)),RADIO_ICON_ANIMATION_ACTIVE:d$(e.spacing(r),e.spacing(i))}}(e),...function(e){let n={RADIO_ICON_BACKGROUND_COLOR:e.palette.common.white,RADIO_ICON_BACKGROUND_COLOR_DISABLED:e.palette.grey["200"],RADIO_ICON_BACKGROUND_COLOR_ERROR:e.palette.common.white,RADIO_ICON_BACKGROUND_COLOR_ERROR_HOVER:e.palette.primary.light,RADIO_ICON_BACKGROUND_COLOR_HOVER:e.palette.primary.light,RADIO_ICON_BORDER_COLOR:e.palette.grey["500"],RADIO_ICON_BORDER_COLOR_ACTIVE:e.palette.primary.dark,RADIO_ICON_BORDER_COLOR_DISABLED:e.palette.grey["500"],RADIO_ICON_BORDER_COLOR_ERROR:e.palette.error.main,RADIO_ICON_BORDER_COLOR_ERROR_HOVER:e.palette.error.light,RADIO_ICON_BORDER_COLOR_HOVER:e.palette.primary.main,RADIO_ICON_BORDER_COLOR_ACTIVE_HOVER:e.palette.primary.main,RADIO_ICON_BORDER_COLOR_ACTIVE_ERROR_HOVER:e.palette.error.main},{omniPalette:r}=e.palette,i={RADIO_ICON_BACKGROUND_COLOR:r.neutrals[50],RADIO_ICON_BACKGROUND_COLOR_DISABLED:"transparent",RADIO_ICON_BACKGROUND_COLOR_ERROR:r.semantics.negatives[50],RADIO_ICON_BACKGROUND_COLOR_ERROR_HOVER:r.semantics.negatives[100],RADIO_ICON_BACKGROUND_COLOR_HOVER:r.neutrals[100],RADIO_ICON_BORDER_COLOR:r.outlines.mid,RADIO_ICON_BORDER_COLOR_ACTIVE:r.outlines.active,RADIO_ICON_BORDER_COLOR_DISABLED:r.outlines.subtle,RADIO_ICON_BORDER_COLOR_ERROR:r.semantics.negatives[300],RADIO_ICON_BORDER_COLOR_ERROR_HOVER:r.semantics.negatives[400],RADIO_ICON_BORDER_COLOR_HOVER:r.outlines.mid,RADIO_ICON_BORDER_COLOR_ACTIVE_HOVER:r.text.link,RADIO_ICON_BORDER_COLOR_ACTIVE_ERROR_HOVER:r.semantics.negatives[400]};return e.useExperimentalTheme?i:n}(e),EXPERIMENTAL:{RADIO_CONTAINER_HEIGHT:"20px"}};return e.useExperimentalTheme?dR()(i,{root:{"&:hover":{backgroundColor:"transparent"}}}):i},radioGroup:function(e){return{RADIO_GROUP_VERTICAL_ALIGN:e.useExperimentalTheme?"baseline":"middle",RADIO_GROUP_HEIGHT:e.spacing(e.useExperimentalTheme?2.5:3),RADIO_GROUP_GAP:e.spacing(e.useExperimentalTheme?2:1.5),RADIO_GROUP_COLOR_ERROR:"".concat(e.palette.error.main),RADIO_GROUP_LABEL_GAP:e.spacing(e.useExperimentalTheme?2:1.5),RADIO_GROUP_LABEL_ALIGN_ITEMS:e.useExperimentalTheme?"flex-start":"center",RADIO_GROUP_LABEL_LINE_HEIGHT:e.useExperimentalTheme?"20px":"24px",RADIO_GROUP_LABEL_WEIGHT_SELECTED:e.useExperimentalTheme?500:e.typography.fontWeightBold}},select:function(e){return{root:{color:e.palette.text.primary,padding:e.spacing(.25),flexGrow:1},select:{minHeight:e.spacing(2.5),padding:e.spacing(.25)},icon:{width:e.spacing(6),height:e.spacing(6),top:"calc(50% - ".concat(e.spacing(3),")"),borderRadius:e.shape.borderRadiusSmall,right:e.spacing(.25),transition:e.transitions.create(["background-color"]),display:"inline-flex",alignItems:"center",justifyContent:"center",color:e.palette.primary.dark,svg:{fill:"currentColor",width:e.spacing(2.5),height:e.spacing(2.5)}},iconOpen:{background:e.palette.primary.light},inputRoot:{paddingRight:e.spacing(7.5),input:{padding:e.spacing(1.75,7.5,1.75,1.5),height:e.spacing(2.5),minHeight:e.spacing(2.5)}},SELECT_PADDING:"2px 0",SELECT_COLOR_DISABLED:e.palette.grey[500],SELECT_ERROR_COLOR:e.palette.error.light,SELECT_LIST_ITEM_MARGIN:e.spacing(0,1),SELECT_PLACEHOLDER_COLOR:e.palette.primary.dark,SELECT_PLACEHOLDER_COLOR_ACTIVE:e.palette.grey["500"]}},stackWithAnimation:function(e){return{SPACING:e.spacing(e.useExperimentalTheme?1:1.5),STACK_WRAPPER_TRANSITION:e.transitions.create(["margin"])}},subtext:function(e){return{WHITE_SPACE:"nowrap",COLOR:e.palette.grey["700"]}},tableBlock:function(e,n){let r={ROW_ODD_BACKGROUND_COLOR:"inherit",ROW_EVEN_BACKGROUND_COLOR:"inherit",ROW_HEIGHT:"inherit",CELL_BORDER_COLOR:"#e0e0e0",CELL_PADDING:e.spacing(1.25,2),CELL_COLOR_HEADER:"inherit",CELL_COLOR_NORMAL:"inherit",FIRST_ROW_HEADER_BORDER_WIDTH:"1px",BORDER_RADIUS:e.spacing(0),CAPTION_FONT_SIZE:"14px",CAPTION_PADDING:e.spacing(0)},{omniPalette:i}=e.palette,a={ROW_ODD_BACKGROUND_COLOR:"white",ROW_EVEN_BACKGROUND_COLOR:i.neutrals[50],ROW_HEIGHT:"44px",CELL_BORDER_COLOR:i.outlines.primary,CELL_PADDING:e.spacing(1.5),CELL_COLOR_HEADER:i.text.primary,CELL_COLOR_NORMAL:i.text.secondary,FIRST_ROW_HEADER_BORDER_WIDTH:"2px",BORDER_RADIUS:e.spacing(1),CAPTION_FONT_SIZE:"11px",CAPTION_PADDING:e.spacing(.5)};return{TABLE_MIN_WIDTH:"100%",TABLE_OVERFLOW_X:"auto",TABLE_WIDTH:"max-content",DEFAULT_LINK_COLOR:"#007bff",CELL_BORDER_WIDTH:"1px",CELL_HEADER_FONT_WEIGHT:"500",CELL_NORMAL_FONT_WEIGHT:"normal",CELL_MAX_WIDTH:"200px",CAPTION_FONT_STYLE:"italic",CAPTION_SPACING:e.spacing(2),EXPERIMENTAL:{CELL_BORDER_BOTTOM:"none"},...n?a:r}},textField:function(e){return{EXPERIMENTAL:{BORDER_RADIUS:"6px",LINE_HEIGHT:"16px",PADDING:{FINE_PRINT:e.spacing(1,1.5),REGULAR:e.spacing(1.5,2.5)}}}},textFieldIcon:function(e){return{TEXT_FIELD_ICON_COLOR_INFO:e.palette.info.main,TEXT_FIELD_ICON_COLOR_NEGATIVE:e.palette.error.main,TEXT_FIELD_ICON_COLOR_POSITIVE:e.palette.success.main,TEXT_FIELD_ICON_COLOR_WARNING:e.palette.warning.main,TEXT_FIELD_FONT_SIZE_REGULAR:"16px",TEXT_FIELD_FONT_SIZE_SMALL:"14px",TEXT_FIELD_ICON_LINE_HEIGHT:1,TEXT_FIELD_SVG_DISPLAY:"inline",TEXT_FIELD_SVG_FONT_SIZE_REGULAR:"20px",TEXT_FIELD_SVG_FONT_SIZE_SMALL:"16px"}},timeClock:function(e){return{root:{fontSize:13.4}}},timePickerToolbar:function(e){return{root:{"& .Mui-selected":{color:e.palette.omniPalette.text.highlight}},hourMinuteLabel:{"& *":{fontWeight:e.typography.fontWeightBold,fontSize:48},"& .Mui-selected":{color:e.palette.omniPalette.text.highlight}},ampmSelection:{"& .Mui-selected":{color:e.palette.omniPalette.text.highlight}}}},toggle:function(e){return{root:{},ALTERNATIVE:{TOGGLE_LABEL_MARGIN_LEFT:e.spacing(-1)},...function(e){let n={TOGGLE_ICON_BORDER_RADIUS:"50%",TOGGLE_ICON_MARGIN_TOP:e.spacing(0),TOGGLE_ICON_MARGIN_LEFT:e.spacing(0),TOGGLE_ICON_WIDTH:e.spacing(2.05),TOGGLE_ICON_HEIGHT:e.spacing(2.05),TOGGLE_ICON_BORDER_STYLE:"solid",TOGGLE_ICON_BORDER_WIDTH:e.spacing(.7),TOGGLE_ICON_FOCUS_OUTLINE:"2px solid ".concat(e.palette.primary.dark),TOGGLE_ICON_FOCUS_OUTLINE_OFFSET:"3px",TOGGLE_ICON_ACTIVE_FOCUS_OUTLINE:"2px solid ".concat(e.palette.primary.main),TOGGLE_ICON_ACTIVE_FOCUS_OUTLINE_OFFSET:"3px",TOGGLE_ICON_TRANSITION:e.transitions.create(["background-color","border-color"])},r={TOGGLE_ICON_HEIGHT:e.spacing(2),TOGGLE_ICON_MARGIN_LEFT:e.spacing(.25),TOGGLE_ICON_MARGIN_TOP:e.spacing(.25),TOGGLE_ICON_WIDTH:e.spacing(2)};return e.useExperimentalTheme?{...n,...r}:n}(e),...function(e){let n={TOGGLE_ICON_COLOR:e.palette.common.white,TOGGLE_ICON_COLOR_ERROR:e.palette.common.white,TOGGLE_ICON_COLOR_DISABLED:e.palette.grey["200"],TOGGLE_ICON_BORDER_COLOR:e.palette.grey["700"],TOGGLE_ICON_BORDER_COLOR_ERROR:e.palette.error.main,TOGGLE_ICON_BORDER_COLOR_DISABLED:e.palette.grey["500"],TOGGLE_ICON_BORDER_COLOR_HOVER:e.palette.primary.main,TOGGLE_ICON_COLOR_ACTIVE:e.palette.primary.dark,TOGGLE_ICON_BORDER_COLOR_ACTIVE:e.palette.common.white,TOGGLE_ICON_BORDER_COLOR_ACTIVE_HOVER:e.palette.primary.light},r={TOGGLE_ICON_BORDER_COLOR:e.palette.omniPalette.neutrals[400]};return e.useExperimentalTheme?{...n,...r}:n}(e),...function(e){let n={TOGGLE_TRACK_HEIGHT:e.spacing(2.5),TOGGLE_TRACK_WIDTH:e.spacing(4.5),TOGGLE_TRACK_BORDER_RADIUS:e.spacing(1.25),TOGGLE_TRACK_OPACITY:"1",TOGGLE_TRACK_OPACITY_ERROR:"0.2",TOGGLE_TRACK_MARGIN_TOP:e.spacing(-.6),TOGGLE_TRACK_MARGIN_LEFT:e.spacing(-.625),TOGGLE_TRANSITION:"translateX(".concat(e.spacing(2),")")},r={TOGGLE_TRACK_HEIGHT:"24px",TOGGLE_TRACK_WIDTH:"40px",TOGGLE_TRACK_BORDER_RADIUS:e.spacing(3)};return e.useExperimentalTheme?{...n,...r}:n}(e),TOGGLE_TRACK_COLOR:e.palette.grey["200"],TOGGLE_TRACK_COLOR_ACTIVE:e.palette.primary.dark,TOGGLE_TRACK_COLOR_ERROR:e.palette.error.light,TOGGLE_TRACK_COLOR_DISABLED:e.palette.grey["200"],TOGGLE_LABEL_COLOR_ERROR:e.palette.error.main,TOGGLE_LABEL_WEIGHT:e.typography.fontWeightBold,TOGGLE_LABEL_MARGIN_TOP:e.spacing(-.25)}},tooltip:function(e){let n={TOOLTIP_BACKGROUND_COLOR:e.palette.grey[900],TOOLTIP_BORDER_RADIUS:e.spacing(.5),TOOLTIP_PADDING:e.spacing(.5,1.5),TOOLTIP_FONT_SIZE:"0.7857142857142857rem",TOOLTIP_LINE_HEIGHT:"22.56px",TOOLTIP_MARGIN_BOTTOM:"14px !important",TOOLTIP_FONT_WEIGHT:500,TOOLTIP_Z_INDEX:5,ALTERNATIVE:{TOOLTIP_ARROW_BOTTOM_RIGHT_BORDER_RADIUS:"3px"}},r={TOOLTIP_BACKGROUND_COLOR:e.palette.omniPalette.neutrals["600"],TOOLTIP_BORDER_RADIUS:e.spacing(.75),TOOLTIP_FONT_SIZE:"11px",TOOLTIP_LINE_HEIGHT:"20px",TOOLTIP_PADDING:e.spacing(.5,1)};return e.useExperimentalTheme?{...n,...r}:n},unitSwitcher:function(e){let{omniPalette:n}=e.palette,r={ALTERNATIVE:{OUTLINE_FOCUS_VISIBLE:"none",ICON_RIGHT:"16px",COMBOBOX_BACKGROUND_COLOR:e.palette.omniPalette.neutrals["0"],COMBOBOX_BORDER_RADIUS:"6px",FIELDSET_BORDER_COLOR:e.palette.omniPalette.neutrals["50"],FIELDSET_BORDER_WIDTH:"2px",SELECT_COLOR_ERROR:n.semantics.negatives["400"],UNIT_TEXT_HEIGHT:"36px"},SELECT_ROOT_PADDING:0,SELECT_BORDER_RADIUS:e.shape.borderRadiusSmall,SELECT_PADDING_BLOCK:e.spacing(1.5),SELECT_PADDING_INLINE:e.spacing(1.25,3.25),SELECT_PADDING_INLINE_EMPTY:e.spacing(2),SELECT_MIN_HEIGHT:e.spacing(2.5),SELECT_DIRECTION:"ltr",SELECT_TRANSITION:e.transitions.create(["color","background-color"]),...function(e){let n={SELECT_COLOR_REGULAR:e.palette.primary.dark,SELECT_COLOR_DISABLED:e.palette.grey["700"],SELECT_BACKGROUND_COLOR_REGULAR:e.palette.common.white,SELECT_BACKGROUND_COLOR_HOVER:e.palette.primary.light,SELECT_BACKGROUND_COLOR_DISABLED:e.palette.common.transparent},{omniPalette:r}=e.palette,i={SELECT_COLOR_REGULAR:r.text.highlight,SELECT_COLOR_DISABLED:r.text.disabled,SELECT_BACKGROUND_COLOR_REGULAR:r.neutrals[50],SELECT_BACKGROUND_COLOR_HOVER:r.neutrals[100],SELECT_BACKGROUND_COLOR_DISABLED:r.neutrals[100]};return e.useExperimentalTheme?i:n}(e),SELECT_FONT_FAMILY:e.typography.input.fontFamily,SELECT_FONT_SIZE:e.useExperimentalTheme?"13.4px":"".concat(e.typography.body1.fontSize,"px"),SELECT_FONT_WEIGHT:e.useExperimentalTheme?500:e.typography.fontWeightMedium,SELECT_LINE_HEIGHT:e.typography.body1.lineHeight,...dZ(),ICON_WIDTH:e.spacing(1.5),ICON_HEIGHT:e.spacing(1.5),ICON_POSITION:"absolute",ICON_TOP:"calc(50% - 7px)",ICON_RIGHT:"10px",ICON_LINE_HEIGHT:"normal",ICON_BACKGROUND:e.palette.common.transparent,...dZ(),LEGEND_DISPLAY:"none",SELECT_UNIT_TEXT_PADDING:e.spacing(1.5)},i={SELECT_BACKGROUND_COLOR_REGULAR:e.palette.common.transparent,SELECT_BACKGROUND_COLOR_HOVER:n.neutrals["100"],SELECT_BORDER_RADIUS:"6px",SELECT_COLOR_REGULAR:n.text.highlight,SELECT_FONT_SIZE:"13.4px",SELECT_PADDING_BLOCK:e.spacing(1),SELECT_PADDING_INLINE:e.spacing(2,4),SELECT_UNIT_TEXT_PADDING:e.spacing(1,2)};return e.useExperimentalTheme?{...r,...i}:r},variableBlock:function(e){let{brand:n}=e.palette.omniPalette;return{FORM_CONTROL:{MARGIN_TOP:"auto",SCROLL_MARGIN:"70px"},LABEL:{ALTERNATIVE:{HEIGHT:e.spacing(2.5),FONT_SIZE:"13.4px"},CHILDREN_SPACING:e.spacing(.5),ALIGN_ITEMS:"center",MIN_HEIGHT:e.spacing(2.5),FLEX_DIRECTION:"row",JUSTIFY_CONTENT:"space-between"},HELP_TEXT:{PADDING:"0",VERTICAL_ALIGN:"sub",ALTERNATIVE:{ACTIVE:{CIRCLE_STROKE:n.omniWorld[300],PATH_STROKE:n.omniWorld[400]},COLOR:e.palette.common.transparent,HOVER:{BACKGROUND_COLOR:e.palette.common.transparent,COLOR:n.omniHappy[200],CIRCLE_STROKE:n.omniHappy[400],PATH_STROKE:n.omniHappy[500]},TOP:"1px"}},POST_INPUT_FIELDS_WRAPPER:{PADDING_INLINE_END:e.spacing(e.useExperimentalTheme?0:.25)},ALTERNATIVE:{DROPDOWN_MARGIN_TOP:0,SUFFIX_MARGIN_RIGHT:e.spacing(1.5)}}},variableSettingsHelpModal:function(e){let{highElevation:n}=e.palette.omniPalette.shadows,r={ACTIONS_CLOSE_BUTTON:{ALTERNATIVE:{HEIGHT:"40px",HOVER_BACKGROUND_COLOR:e.palette.omniPalette.brand.omniWorld["500"]},BACKGROUND_COLOR:e.palette.primary.dark,BORDER_RADIUS:"6px",TEXT_TRANSFORM:"none",FONT_SIZE:"16px",LINE_HEIGHT:"24px",FONT_WEIGHT:500,PADDING:e.spacing(1.5,2)},DIALOG:{ALTERNATIVE:{BOX_SHADOW:"4px 16px 22px 0px ".concat(n.subtle,", 0px 1px 4px 1px ").concat(n.strong)},BORDER_RADIUS:"8px",WIDTH_DESKTOP:"500px",WIDTH_MOBILE:"360px",MARGIN:e.spacing(0),PADDING_DESKTOP:e.spacing(3),PADDING_MOBILE:e.spacing(2),ROW_GAP:e.spacing(2.5)},DIALOG_ACTIONS:{FLEX_DIRECTION:"row",JUSTIFY_CONTENT:"flex-end"},DIALOG_HEADER:{ALTERNATIVE:{BUTTON_PADDING:e.spacing(.5),ICON_SIZE:"20px",ICON_COLOR:e.palette.omniPalette.text.primary},ALIGN_ITEMS:"center",COLOR:e.palette.grey["900"],FLEX_DIRECTION:"row",FONT_SIZE:"20px",JUSTIFY_CONTENT:"space-between",MARGIN_BOTTOM:e.spacing(1.5),FONT_WEIGHT:500},HELP_ENTRY:{DESCRIPTION:{COLOR:e.palette.grey["700"],FONT_SIZE:"".concat(e.typography.fontSize,"px")},ICON:{COLOR:e.palette.primary.dark,SIZE_DESKTOP:"32px",SIZE_MOBILE:"24px",MARGIN_RIGHT:e.spacing(1.5)},TITLE:{FONT_SIZE:"".concat(e.typography.fontSize,"px"),COLOR:e.palette.grey["900"],FONT_WEIGHT:e.typography.fontWeightBold,MARGIN_BOTTOM:e.spacing(1)}}},i={ACTIONS_CLOSE_BUTTON:{FONT_SIZE:"13.4px",LINE_HEIGHT:"20px",PADDING:e.spacing(1.25,2)},DIALOG:{BORDER_RADIUS:"10px",ROW_GAP:e.spacing(3)},DIALOG_HEADER:{MARGIN_BOTTOM:e.spacing(0)},HELP_ENTRY:{DESCRIPTION:{COLOR:e.palette.omniPalette.text.secondary,FONT_SIZE:"13.4px"},TITLE:{COLOR:e.palette.omniPalette.text.primary,FONT_SIZE:"13.4px",MARGIN_BOTTOM:e.spacing(.5)},ICON:{SIZE_DESKTOP:"24px",SIZE_MOBILE:"24px",MARGIN_RIGHT:e.spacing(3)}}};return e.useExperimentalTheme?dR()(r,i):r},variableSettingsMenu:function(e){let{omniPalette:n}=e.palette,r={ENTRY_ICON:{ALIGN_SELF:"center",COLOR:e.palette.grey["700"],LINE_HEIGHT:"1em",SIZE:"20px",WRAPPER_BACKGROUND_COLOR:e.palette.grey["100"],WRAPPER_BORDER_RADIUS:"2px"},INLINE_ICON:{ALIGN_SELF:"center",COLOR:e.palette.grey["500"],MARGIN_RIGHT:e.spacing(1),LINE_HEIGHT:"1em",SIZE:"20px",VISIBILITY_SHOW:"visible",VISIBILITY_HIDE:"hidden"},HEADER:{COLOR:"rgba(19, 28, 64, 0.5)",DISPLAY:"block",FONT_WEIGHT:e.typography.fontWeightBold,PADDING:e.spacing(0),PADDING_BOTTOM:e.spacing(1),MARGIN_BLOCK:e.spacing(0),TEXT_TRANSFORM:"uppercase",FONT_SIZE:"16px",LINE_HEIGHT:"24px"},MENU_ENTRY_ROW:{FLEX_DIRECTION:"row",JUSTIFY_CONTENT:"space-between",COLUMN_GAP:e.spacing(1.5),ALTERNATIVE:{HEIGHT:"24px"}},MENU_WRAPPER:{CURSOR:"pointer",FLEX_DIRECTION:"row",MARGIN_TOP:"auto",MIN_WIDTH:"unset",OUTLINE_COLOR:e.palette.common.transparent},OPEN_HELP_BUTTON:{ALTERNATIVE:{COLOR_HOVER:e.palette.omniPalette.text.highlight},BACKGROUND:n.neutrals[0],BORDER_RADIUS:e.spacing(0),COLOR:e.palette.primary.dark,FONT_SIZE:"16px",FONT_WEIGHT:e.typography.fontWeightRegular,ICON_SIZE:"20px",LINE_HEIGHT:"20px",PADDING:e.spacing(0)},OPTION_LABEL:{COLOR:e.palette.grey["900"],COLOR_DISABLED:e.palette.grey["700"],FONT_WEIGHT:e.typography.fontWeightMedium,ALTERNATIVE:{FONT_SIZE:"13.4px"}},SETTINGS_ICON:{COLOR:e.palette.grey["700"],HEIGHT:"20px",PADDING:e.spacing(0),TRANSFORM_ACTIVE:"rotate(90deg)",TRANSFORM_INACTIVE:"none",TOOLTIP_MARGIN_BOTTOM:e.spacing(0),WIDTH:"20px",ALTERNATIVE:{COLOR:n.text.highlight,BACKGROUND_COLOR:n.brand.omniWorld["100"],BORDER_RADIUS:e.spacing(.75)}}},i={ENTRY_ICON:{COLOR:n.neutrals[400],WRAPPER_BACKGROUND_COLOR:"transparent"},HEADER:{COLOR:n.neutrals[400],FONT_WEIGHT:600,FONT_SIZE:"11px",LINE_HEIGHT:"20px",MARGIN_BLOCK:e.spacing(2),PADDING_BOTTOM:e.spacing(0)},OPEN_HELP_BUTTON:{BACKGROUND:n.semantics.warnings["100"],BORDER_RADIUS:e.spacing(.75),COLOR:n.brand.omniWorld["500"],FONT_SIZE:"13.4px",FONT_WEIGHT:500,PADDING:e.spacing(1.25,2)},OPTION_LABEL:{COLOR:n.neutrals[600],FONT_WEIGHT:400},SETTINGS_ICON:{COLOR:n.text.secondary}};return e.useExperimentalTheme?dR()(r,i):r},virtualKeyboard:function(e,n){let r={KEYBOARD_BACKGROUND_COLOR:e.palette.grey["200"]},i={KEYBOARD_BACKGROUND_COLOR:e.palette.omniPalette.neutrals["300"]};return{EXPAND_TRANSITION_TIME:"500ms",KEYBOARD_BOX_SHADOW:"0px -4px 16px 0px #42365D29",KEYBOARD_BORDER_RADIUS:"8px 8px 0 0",KEYBOARD_MARGIN:"0 auto",KEYBOARD_GRID_TEMPLATE_COLUMNS:"repeat(".concat(5,", 1fr)"),KEYBOARD_DISPLAY:"grid",KEYBOARD_GAP:"2px",KEYBOARD_PADDING:"2px 4px",KEYBOARD_OVERFLOW:"hidden",KEYBOARD_NAVIGATION_CONTAINER_BACKGROUND_COLOR:e.palette.common.white,KEYBOARD_NAVIGATION_CONTAINER_BORDER_RADIUS:"8px 8px 0 0",KEYBOARD_NAVIGATION_CONTAINER_GRID_COLUMN:"span ".concat(5),KEYBOARD_NAVIGATION_CONTAINER_HEIGHT:"100%",KEYBOARD_NAVIGATION_CONTAINER_MARGIN_BOTTOM:"2px",KEYBOARD_VARIANT_BOX:{GAP:"2px",DISPLAY:"grid",BACKGROUND_COLOR:e.palette.grey["200"],gridTemplateColumns:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"repeat(".concat(e,", 1fr)")}},...n?i:r}},virtualKeyboardKey:function(e,n){return{...function(e,n){let r={VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_DIGIT:e.palette.grey["100"],VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_DIGIT:e.palette.grey["900"],VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_NAVIGATION:e.palette.grey["900"],VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_SUBMENU:e.palette.grey["900"],VIRTUAL_KEYBOARD_KEY_BUTTON_FONT_SIZE:e.typography.input.fontSize,VIRTUAL_KEYBOARD_KEY_BUTTON_FONT_WEIGHT:e.typography.input.fontWeight,VIRTUAL_KEYBOARD_KEY_BUTTON_HEIGHT:"40px",VIRTUAL_KEYBOARD_KEY_TEXT_TRANSFORM:"uppercase"},i={VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_DIGIT:e.palette.omniPalette.neutrals["50"],VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_DIGIT:e.palette.omniPalette.neutrals["500"],VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_NAVIGATION:e.palette.omniPalette.neutrals["500"],VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_SUBMENU:e.palette.omniPalette.neutrals["500"],VIRTUAL_KEYBOARD_KEY_BUTTON_FONT_SIZE:18,VIRTUAL_KEYBOARD_KEY_BUTTON_FONT_WEIGHT:500,VIRTUAL_KEYBOARD_KEY_BUTTON_HEIGHT:"44px",VIRTUAL_KEYBOARD_KEY_TEXT_TRANSFORM:"none"};return{VIRTUAL_KEYBOARD_KEY_ALIGN_ITEMS:"center",VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_DIGIT_ACTIVE:e.palette.grey["100"],VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_NAVIGATION:e.palette.common.white,VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_NAVIGATION_ACTIVE:e.palette.grey["100"],VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_SYMBOL:e.palette.common.white,VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_SYMBOL_ACTIVE:e.palette.grey["100"],VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_SUBMENU_ACTIVE:e.palette.grey["100"],VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_VARIANT:e.palette.common.white,VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_SUBMENU:e.palette.common.white,VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_VARIANT_ACTIVE:e.palette.grey["100"],VIRTUAL_KEYBOARD_KEY_BUTTON_BORDER:"none",VIRTUAL_KEYBOARD_KEY_BUTTON_BORDER_RADIUS:"3px",VIRTUAL_KEYBOARD_KEY_BUTTON_BORDER_RADIUS_NAVIGATION:"0",VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_DIGIT_ACTIVE:e.palette.primary.dark,VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_NAVIGATION_ACTIVE:e.palette.primary.dark,VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_SYMBOL:e.palette.primary.dark,VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_SYMBOL_ACTIVE:e.palette.primary.dark,VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_VARIANT:e.palette.grey["900"],VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_VARIANT_ACTIVE:e.palette.primary.dark,VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_SUBMENU_ACTIVE:e.palette.primary.dark,VIRTUAL_KEYBOARD_KEY_BUTTON_DISPLAY:"flex",VIRTUAL_KEYBOARD_KEY_BUTTON_FONT_FAMILY:dU.FAMILY.MOBILE_KEYBOARD,VIRTUAL_KEYBOARD_KEY_BUTTON_INDICATOR_COLOR:e.palette.grey["500"],VIRTUAL_KEYBOARD_KEY_BUTTON_INDICATOR_COLOR_ACTIVE:e.palette.primary.dark,VIRTUAL_KEYBOARD_KEY_BUTTON_OUTLINE:"none",VIRTUAL_KEYBOARD_KEY_BUTTON_PADDING:"0",VIRTUAL_KEYBOARD_KEY_BUTTON_POSITION:"relative",VIRTUAL_KEYBOARD_KEY_BUTTON_TRANSITION_DURATION:"0.1s",VIRTUAL_KEYBOARD_KEY_BUTTON_TRANSITION_EASING:"cubic-bezier(0.4, 0, 0.2, 1)",VIRTUAL_KEYBOARD_KEY_BUTTON_USER_SELECT:"none",VIRTUAL_KEYBOARD_KEY_BUTTON_WIDTH:"100%",VIRTUAL_KEYBOARD_NAVIGATION_KEY_ICON_SIZE:"24px",VIRTUAL_KEYBOARD_NAVIGATION_KEY_SMALL_ICON_SIZE:"20px",VIRTUAL_KEYBOARD_NAVIGATION_KEY_ICON_OVERFLOW:"hidden",VIRTUAL_KEYBOARD_NAVIGATION_KEY_ICON_DISPLAY:"inline-flex",...n?i:r}}(e,n),VIRTUAL_KEYBOARD_KEY_LABEL_TEXT_ALIGN:"center",VIRTUAL_KEYBOARD_KEY_LABEL_WIDTH:"100%",VIRTUAL_KEYBOARD_KEY_LABEL_HEIGHT:"100%",VIRTUAL_KEYBOARD_KEY_LABEL_DISPLAY:"flex",VIRTUAL_KEYBOARD_KEY_LABEL_JUSTIFY_CONTENT:"center",VIRTUAL_KEYBOARD_KEY_LABEL_ALIGN_ITEMS:"center",...function(e,n){let r={VIRTUAL_KEYBOARD_KEY_INDICATOR_CONTAINER_BOTTOM:"3px",VIRTUAL_KEYBOARD_KEY_INDICATOR_CONTAINER_RIGHT:"3px",VIRTUAL_KEYBOARD_KEY_INDICATOR_SVG_TRANSFORM:"translate(25%, 25%) scale(0.6)",VIRTUAL_KEYBOARD_KEY_INDICATOR_SVG_COLOR:e.palette.grey["500"]},i={VIRTUAL_KEYBOARD_KEY_INDICATOR_CONTAINER_BOTTOM:"2px",VIRTUAL_KEYBOARD_KEY_INDICATOR_CONTAINER_RIGHT:"2px",VIRTUAL_KEYBOARD_KEY_INDICATOR_SVG_TRANSFORM:"translate(25%, 25%) scale(0.8)",VIRTUAL_KEYBOARD_KEY_INDICATOR_SVG_COLOR:e.palette.omniPalette.neutrals["400"]};return{VIRTUAL_KEYBOARD_KEY_INDICATOR_CONTAINER_HEIGHT:"20px",VIRTUAL_KEYBOARD_KEY_INDICATOR_CONTAINER_POSITION:"absolute",VIRTUAL_KEYBOARD_KEY_INDICATOR_CONTAINER_WIDTH:"20px",...n?i:r}}(e,n)}}};function dW(){let e=(0,sz._)(["\n      background-color: ",";\n      height: ",";\n      padding-top: ",";\n      position: ",";\n      text-align: ",";\n      width: ",";\n      z-index: ",";\n    "]);return dW=function(){return e},e}function dq(){let e=(0,sz._)(["\n      position: ",";\n    "]);return dq=function(){return e},e}let dY=(0,dC.zo)("div",{target:"ej92w0w0"})(e=>{let{theme:n}=e,{BOX:{BACKGROUND_COLOR:r,HEIGHT:i,PADDING_TOP:a,POSITION:o,TEXT_ALIGN:l,WIDTH:s,Z_INDEX:u}}=dj.loader(n);return(0,U.iv)(dW(),r,i,a,o,l,s,u)},";"),dX=(0,dC.zo)("div",{target:"ej92w0w1"})(e=>{let{theme:n}=e,{WRAPPER:r}=dj.loader(n);return(0,U.iv)(dq(),r.POSITION)},";");function dJ(e){let{children:n,isLoading:r}=e;return(0,K.BX)(dX,{children:[r&&(0,K.tZ)(dY,{"data-testid":"calculator-loader",children:(0,K.tZ)(dT.Z,{disableShrink:!0,size:75})}),n]})}var dQ=r(40788),d0=r(41011),d1=r(65287);let d2=l4(e=>n=>{let{name:r}=n(cp(e));return n(cr(r.html))}),d3=(0,e0.createContext)(null);function d4(){let e=(0,e0.useContext)(d3);if((0,t9.Rw)(e))throw Error("Calculator context is null");return e}function d6(){let{highlightedTextId:e}=d4();return e}var d5=r(98116),d8=r(39183),d7=r(96303),d9=r(31683),he=r(16905),ht=r(63722);function hn(e){let{viewBox:n,...r}=e;return(0,K.BX)(ht.Z,{...r,children:[(0,K.BX)("g",{clipPath:"url(#clip0_4017_86791)",children:[(0,K.tZ)("path",{d:"M3.56054 7.3983L3.60693 12.7137L7.39827 16.4394L12.7137 16.393L16.4394 12.6017L16.393 7.28631L12.6017 3.56057L7.28629 3.60696L3.56054 7.3983Z",fill:"transparent",stroke:"currentColor",strokeWidth:"1.5"}),(0,K.tZ)("path",{d:"M9.16675 7.25506V9.755C9.16675 10.2133 9.54175 10.5883 10.0001 10.5883C10.4584 10.5883 10.8334 10.2133 10.8334 9.755V7.25506C10.8334 6.79673 10.4584 6.42173 10.0001 6.42173C9.54175 6.42173 9.16675 6.79673 9.16675 7.25506ZM9.16675 12.2551C9.16675 11.7948 9.53984 11.4217 10.0001 11.4217C10.4603 11.4217 10.8334 11.7948 10.8334 12.2551C10.8334 12.7153 10.4603 13.0884 10.0001 13.0884C9.53984 13.0884 9.16675 12.7153 9.16675 12.2551Z"})]}),(0,K.tZ)("defs",{children:(0,K.tZ)("clipPath",{id:"clip0_4017_86791",children:(0,K.tZ)("rect",{height:"20",width:"20"})})})]})}function hr(e){return(0,K.tZ)(ht.Z,{...e,children:(0,K.tZ)("path",{d:"M10.0004 4.99173L16.2754 15.8334H3.72543L10.0004 4.99173ZM2.28376 15.0001C1.64209 16.1084 2.44209 17.5001 3.72543 17.5001H16.2754C17.5588 17.5001 18.3588 16.1084 17.7171 15.0001L11.4421 4.1584C10.8004 3.05007 9.20043 3.05007 8.55876 4.1584L2.28376 15.0001ZM9.16709 9.16673V11.6667C9.16709 12.125 9.54209 12.5 10.0004 12.5C10.4588 12.5 10.8338 12.125 10.8338 11.6667V9.16673C10.8338 8.7084 10.4588 8.3334 10.0004 8.3334C9.54209 8.3334 9.16709 8.7084 9.16709 9.16673ZM9.16709 14.1667C9.16709 13.7065 9.54019 13.3334 10.0004 13.3334C10.4607 13.3334 10.8338 13.7065 10.8338 14.1667C10.8338 14.627 10.4607 15.0001 10.0004 15.0001C9.54019 15.0001 9.16709 14.627 9.16709 14.1667Z"})})}let hi=(0,dC.zo)(d9.Z,{target:"e3l6mi10"})(e=>{let{severity:n,theme:r}=e,i=dj.alert(r,{severity:n});return{background:i.ALERT_BACKGROUND_COLOR,["& .".concat(d8.Z.icon)]:{color:i.ALERT_ICON_COLOR,marginRight:i.ALERT_ICON_MARGIN_RIGHT,padding:i.ALERT_INSIDE_PADDING,[".".concat(he.Z.root)]:{height:i.ALERT_ICON_SIZE,width:i.ALERT_ICON_SIZE,overflow:i.ALERT_ICON_OVERFLOW}},["& .".concat(d8.Z.message)]:{color:i.ALERT_TEXT_COLOR,fontSize:i.ALERT_TEXT_FONT_SIZE,padding:i.ALERT_INSIDE_PADDING},["& .".concat(d8.Z.message," *")]:{color:i.ALERT_TEXT_COLOR,lineHeight:i.ALERT_LINE_HEIGHT},borderRadius:i.ALERT_BORDER_RADIUS,padding:i.ALERT_PADDING}});function ha(){let e=(0,sz._)(["\n          ."," {\n            display: ",";\n            flex-direction: ",";\n            justify-content: ",";\n          }\n        "]);return ha=function(){return e},e}function ho(){let e=(0,sz._)(["\n            transform: ","\n            transition: ",";\n          "]);return ho=function(){return e},e}function hl(){let e=(0,sz._)(["\n      position: ",";\n\n      ","\n\n      ."," {\n        overflow: ",";\n      }\n\n      &:after {\n        content: ",";\n        transform: ",";\n        position: ",";\n        border: ",";\n        border-radius: ",";\n        inset: ",";\n        z-index: ",";\n\n        ","\n      }\n    "]);return hl=function(){return e},e}var hs=(0,dC.zo)(function(e){let{severity:n}=e,{useExperimentalTheme:r}=d4(),i=(0,e0.useMemo)(()=>{if(r)switch(n){case"error":return(0,K.tZ)(hn,{});case"warning":return(0,K.tZ)(hr,{});default:return}switch(n){case"error":case"warning":return(0,K.tZ)(hr,{});default:return}},[n,r]);return(0,K.tZ)(hi,{"aria-live":"polite",icon:i,role:"alert",...e})},{target:"ehsqrso0"})(e=>{let{$isHighlighted:n=!1,severity:r,theme:i}=e,{ALERT_WITH_HIGHLIGHT:a}=dj.alert(i,{severity:r}),{AFTER:o,AFTER_HIGHLIGHT:l,ALTERNATIVE:s,MESSAGE_OVERFLOW:u,POSITION:c}=a,d=i.useExperimentalTheme?(0,d7.Z)(ha(),d8.Z.icon,s.ICON_DISPLAY,s.ICON_FLEX_DIRECTION,s.JUSTIFY_CONTENT):"";return(0,d7.Z)(hl(),c,d,d8.Z.message,u,o.CONTENT,o.TRANSFORM,o.POSITION,o.BORDER,o.BORDER_RADIUS,o.INSET,o.Z_INDEX,n?(0,d7.Z)(ho(),l.TRANSFORM,l.TRANSITION):"")}),hu=r(89065);let hc=(0,dC.zo)(hu.Z,{target:"ejym2s60"})(e=>{let{theme:n}=e,r=dj.button(n);return{textTransform:r.BUTTON_TEXT_TRANSFORM,padding:r.BUTTON_PADDING,borderRadius:r.BUTTON_BORDER_RADIUS}});function hd(e){let{label:n,...r}=e;return(0,K.tZ)(hc,{...r,children:n})}var hh=r(84969),hp=r(19173);let hm=(0,dC.zo)(hh.Z,{target:"e142wfoj0"})(e=>{let{$color:n,$shape:r="whole",$spacing:i,theme:a}=e,{useExperimentalTheme:o}=d4(),l=dj.container(a,o);return"\n        background-color: ".concat(function(e,n){switch(e){case"information":return n.CONTAINER_BACKGROUND_COLOR_INFORMATION;case"negative":return n.CONTAINER_BACKGROUND_COLOR_NEGATIVE;case"none":return n.CONTAINER_BACKGROUND_COLOR_NONE;case"transparent":return n.CONTAINER_BACKGROUND_COLOR_TRANSPARENT;case"positive":return n.CONTAINER_BACKGROUND_COLOR_POSITIVE;case"primary":return n.CONTAINER_BACKGROUND_COLOR_PRIMARY;case"warning":return n.CONTAINER_BACKGROUND_COLOR_WARNING}}(n,l),";\n        border-radius: ").concat(function(e,n){switch(e){case"content":return n.CONTAINER_BORDER_RADIUS_CONTENT;case"header":return n.CONTAINER_BORDER_RADIUS_HEADER;case"whole":return n.CONTAINER_BORDER_RADIUS_WHOLE}}(r,l),";\n        padding: ").concat(function(e,n){switch(e){case"large":return n.CONTAINER_PADDING_LARGE;case"normal":return n.CONTAINER_PADDING_NORMAL;case"small":return n.CONTAINER_PADDING_SMALL;case"none":return n.CONTAINER_PADDING_NONE}}(i,l),";\n        transition: ").concat(l.CONTAINER_TRANSITION,";\n    ")}),hf=(0,e0.forwardRef)(function(e,n){let{color:r,elevation:i=0,noPaper:a=!1,shape:o,spacing:l,...s}=e;return a?(0,K.tZ)(hm,{ref:n,$color:r,$shape:o,$spacing:l,...s}):(0,K.tZ)(hp.Z,{elevation:i,ref:n,children:(0,K.tZ)(hm,{$color:r,$shape:o,$spacing:l,...s})})});hf.displayName="Container";var hg=r(79027),hy=r(16716);function hb(e){return(0,K.BX)(ht.Z,{...e,children:[(0,K.tZ)("rect",{x:"2.9",y:"3.9",width:"14.2",height:"13.2",rx:"1.1",stroke:"currentColor",strokeWidth:"1.8",fill:"none"}),(0,K.tZ)("path",{d:"M6 2V3.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"}),(0,K.tZ)("path",{d:"M14 2V3.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"}),(0,K.tZ)("path",{d:"M3 7H5.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"}),(0,K.tZ)("path",{d:"M8 7H16.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})]})}function hv(e){let{viewBox:n,...r}=e;return(0,K.tZ)(ht.Z,{viewBox:"0 0  25 25",...r,children:(0,K.tZ)("path",{d:"M7 10l5 5 5-5z"})})}function h_(e){let{viewBox:n,...r}=e;return(0,K.tZ)(ht.Z,{...r,children:(0,K.tZ)("path",{d:"M12 6L8 10L12 14",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})})}function hx(e){let{viewBox:n,...r}=e;return(0,K.tZ)(ht.Z,{...r,children:(0,K.tZ)("path",{d:"M8 14L12 10L8 6",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})})}let hO=e=>{let{isError:n,theme:r}=e,i=dj.datePicker(r);return{".MuiIconButton-root":{borderRadius:i.BUTTON_RADIUS},".MuiInputBase-input":{padding:i.PADDING,fontSize:i.FONT_SIZE,fontWeight:i.FONT_WEIGHT,fontFamily:i.FONT_FAMILY},".MuiInputBase-root.Mui-disabled":{".MuiOutlinedInput-notchedOutline":{borderColor:i.BORDER_COLOR,boxShadow:i.DISABLED.SHADOW},background:i.DEFAULT_BACKGROUND},".Mui-disable":{},".MuiInputBase-root":{...n&&{background:i.ERROR.BACKGROUND,"&:focus-within":{background:i.ERROR.FOCUS.BACKGROUND},"&:focus-within .MuiOutlinedInput-notchedOutline":{borderColor:i.ERROR.FOCUS.BORDER,boxShadow:i.ERROR.FOCUS.BOX_SHADOW}}},".MuiInputAdornment-root svg":{height:i.ICON_SIZE,width:i.ICON_SIZE}}},hw=(0,dC.zo)(hg.M,{target:"e1mqic5j0"})(hO);function hE(e){let{cwvId:n,dataTestid:r,isDisabled:i,isError:a,onBlur:o,onChange:l,onFocus:s,value:u}=e;return(0,K.tZ)(hw,{isError:a,timezone:hy.GW,disabled:i,closeOnSelect:!1,slotProps:{actionBar:{actions:["accept"]},textField:{"data-cwv-id":n,error:!1,inputProps:{"data-testid":r}},inputAdornment:{onFocus:s,onBlur:o},popper:{"data-cwv-id":"".concat(n,"-popper"),placement:"bottom-end"}},value:u,onChange:l,slots:{openPickerIcon:hb,switchViewIcon:hv,leftArrowIcon:h_,rightArrowIcon:hx},views:["year","month","day"]})}var hC=r(62779),hT=r(97383);function hk(e){return(0,K.BX)(ht.Z,{...e,children:[(0,K.tZ)("path",{d:"M3.07026 6C2.38958 7.17669 2 8.54285 2 10C2 14.4183 5.58172 18 10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C8.36435 2 6.84335 2.49087 5.57627 3.33333",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",fill:"none"}),(0,K.tZ)("path",{d:"M10 10.5L12.5 13",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"}),(0,K.tZ)("path",{d:"M10 6L10 10.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})]})}let hR=(0,dC.zo)(hC.x,{target:"ebczxmp0"})(hO);function hS(e){let{cwvId:n,dataTestid:r,isDisabled:i,isError:a,onBlur:o,onChange:l,onFocus:s,value:u}=e;return(0,K.tZ)(hR,{isError:a,timezone:hy.GW,disabled:i,value:u,onChange:l,viewRenderers:{hours:hT.M6,minutes:hT.M6,seconds:hT.M6},closeOnSelect:!1,slotProps:{textField:{"data-cwv-id":n,error:!1,inputProps:{"data-testid":r}},inputAdornment:{onFocus:s,onBlur:o},popper:{"data-cwv-id":"".concat(n,"-popper"),placement:"bottom-end"},tabs:{dateIcon:(0,K.tZ)(hb,{}),timeIcon:(0,K.tZ)(hk,{})}},slots:{openPickerIcon:hb,switchViewIcon:hv,leftArrowIcon:h_,rightArrowIcon:hx},views:["year","month","day","hours","minutes"]})}var hA=r(59026);let hI=(0,dC.zo)(hA.j,{target:"et0y7av0"})(hO);function hL(e){let{cwvId:n,dataTestid:r,isDisabled:i,isError:a,onBlur:o,onChange:l,onFocus:s,value:u}=e;return(0,K.tZ)(hI,{isError:a,disabled:i,closeOnSelect:!1,slotProps:{textField:{"data-cwv-id":n,error:!1,inputProps:{"data-testid":r}},inputAdornment:{onFocus:s,onBlur:o},popper:{"data-cwv-id":"".concat(n,"-popper"),placement:"bottom-end"}},timezone:hy.GW,value:u,onChange:l,viewRenderers:{hours:hT.M6,minutes:hT.M6,seconds:hT.M6},slots:{openPickerIcon:hk,leftArrowIcon:h_,rightArrowIcon:hx}})}var hM=r(15804);function hN(){let e=(0,sz._)(["\n      background-color: ",";\n      width: ",";\n      margin-block: ",";\n    "]);return hN=function(){return e},e}var hD=(0,dC.zo)(hM.Z,{target:"e1ybld4r0"})(e=>{let{theme:n}=e,{BACKGROUND_COLOR:r,MARGIN_BLOCK:i,WIDTH:a}=dj.divider(n);return(0,U.iv)(hN(),r,a,i)}),hB=r(31109);function hP(){let e=(0,sz._)(["\n      background-color: ",";\n      border-radius: ",";\n      color: ",";\n      pointer-events: ",";\n      transition: ",";\n      padding: ",";\n\n      .MuiSvgIcon-root {\n        width: ",";\n        height: ",";\n      }\n\n      &::before {\n        content: '';\n        position: absolute;\n        width: 48px;\n        height: 48px;\n      }\n\n      &[disabled] {\n        color: ","\n        pointer-events: ",";\n      }\n\n      &:active {\n        background-color: ",";\n        color: ",";\n      }\n\n      &:hover {\n        background-color: ",";\n        color: ",";\n      }\n      \n      &:focus-visible {\n        background-color: ",";\n        color: ",";\n        box-shadow: ",";\n        outline: ",";\n      }\n    "]);return hP=function(){return e},e}let hK=(0,dC.zo)(hB.Z,{target:"e1u8928b0"})(e=>{let{theme:n,...r}=e,i=dj.iconButton(n),a=function(e,n){let{$iconSize:r}=e;return n["ICON_SIZE_".concat(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";switch(e){case"small":return"SMALL";case"medium":return"MEDIUM"}}(r))]}(r,i);return(0,d7.Z)(hP(),hV(r,"base",i),i.ICON_BUTTON_BORDER_RADIUS,hU(r,"base",i),i.ICON_BUTTON_POINTER_EVENTS,i.ICON_BUTTON_TRANSITION,i.ICON_BUTTON_PADDING,a,a,i.ICON_BUTTON_COLOR_DISABLED,i.ICON_BUTTON_POINTER_EVENTS_DISABLED,hV(r,"active",i),hU(r,"active",i),hV(r,"hover",i),hU(r,"hover",i),hV(r,"focus",i),hU(r,"focus",i),n.shape.outline,n.shape.outlineWindowsHighContrast)});function hU(e,n,r){let{$color:i,$isActivable:a}=e;return a&&"base"===n?r.ICON_BUTTON_COLOR_INACTIVE:r["ICON_BUTTON_COLOR_".concat(hG(i,n))]}function hV(e,n,r){let{$color:i}=e;return r["ICON_BUTTON_BACKGROUND_COLOR_".concat(hG(i,n))]}function hG(e,n){let r=function(e){switch(e){case"error":return"ERROR";case"info":return"INFO";case"primary":return"PRIMARY";case"secondary":return"SECONDARY";case"success":return"SUCCESS";case"warning":return"WARNING"}}(e),i=function(e){switch(e){case"active":return"ACTIVE";case"base":return null;case"focus":return"FOCUSED";case"hover":return"HOVERED"}}(n),a=(0,t9.Rw)(i)?"":"_".concat(i);return"".concat(r).concat(a)}function hF(e){let{viewBox:n,...r}=e;return(0,K.BX)(ht.Z,{...r,children:[(0,K.tZ)("path",{d:"M6.99984 16.5L0.909884 11.6334C0.379537 11.1914 0.307883 10.4032 0.749838 9.87286C1.19179 9.34252 1.98 9.27086 2.51035 9.71282L6.99984 13.2457L11.4893 9.71282C12.0197 9.27086 12.8079 9.34252 13.2498 9.87286C13.6918 10.4032 13.6201 11.1914 13.0898 11.6334L6.99984 16.5Z"}),(0,K.tZ)("path",{d:"M8.2499 12.75C8.2499 13.4404 7.69025 14 6.9999 14C6.30954 14 5.7499 13.4404 5.7499 12.75V2.125C5.7499 1.43464 6.30954 0.875 6.9999 0.875C7.69025 0.875 8.2499 1.43464 8.2499 2.125V12.75Z"})]})}function hH(e){let{viewBox:n,...r}=e;return(0,K.BX)(ht.Z,{...r,children:[(0,K.tZ)("path",{d:"M10.025 7.375C10.025 7.375 10.025 10.9387 10.025 15.625M10.025 15.625L15.025 10.375M10.025 15.625L5.02502 10.375",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"}),(0,K.tZ)("path",{d:"M10.025 4.875L10.025 4.375",strokeWidth:"1.8",strokeLinecap:"round"})]})}function hz(e){let{viewBox:n,...r}=e;return(0,K.BX)(ht.Z,{...r,children:[(0,K.tZ)("path",{d:"M2 9.99504C2 9.50414 2.39797 9.10615 2.88889 9.10615H17.1111C17.602 9.10615 18 9.50414 18 9.99504C18 10.4861 17.602 10.8839 17.1111 10.8839H2.88889C2.39797 10.8839 2 10.4861 2 9.99504Z"}),(0,K.tZ)("path",{d:"M10.6285 2.26035C10.9756 2.60748 10.9756 3.1703 10.6285 3.51743L4.14596 10L10.6285 16.4826C10.9756 16.8297 10.9756 17.3925 10.6285 17.7396C10.2814 18.0868 9.71863 18.0868 9.37149 17.7396L2.26035 10.6285C1.91322 10.2814 1.91322 9.71863 2.26035 9.37149L9.37149 2.26035C9.71863 1.91322 10.2814 1.91322 10.6285 2.26035Z"})]})}function h$(e){let{viewBox:n,...r}=e;return(0,K.BX)(ht.Z,{...r,children:[(0,K.tZ)("path",{d:"M18 10.0049C18 10.4958 17.602 10.8938 17.1111 10.8938H2.88889C2.39799 10.8938 2 10.4958 2 10.0049C2 9.5139 2.39799 9.11604 2.88889 9.11604H17.1111C17.602 9.11604 18 9.5139 18 10.0049Z"}),(0,K.tZ)("path",{d:"M9.3715 17.7396C9.02436 17.3925 9.02436 16.8297 9.3715 16.4825L15.854 9.99997L9.3715 3.51736C9.02436 3.17022 9.02436 2.6075 9.3715 2.26036C9.71864 1.91321 10.2814 1.91321 10.6285 2.26036L17.7397 9.37147C18.0868 9.71861 18.0868 10.2813 17.7397 10.6285L10.6285 17.7396C10.2814 18.0868 9.71864 18.0868 9.3715 17.7396Z"})]})}function hZ(e){let{viewBox:n,...r}=e;return(0,K.BX)(ht.Z,{...r,children:[(0,K.tZ)("path",{d:"M6.99984 0.875L13.0898 5.74163C13.6201 6.18358 13.6918 6.97179 13.2498 7.50214C12.8079 8.03248 12.0197 8.10414 11.4893 7.66218L6.99984 4.12927L2.51034 7.66218C1.98 8.10414 1.19179 8.03248 0.749838 7.50214C0.307883 6.97179 0.379538 6.18358 0.909884 5.74163L6.99984 0.875Z"}),(0,K.tZ)("path",{d:"M5.74978 4.625C5.74978 3.93464 6.30942 3.375 6.99978 3.375C7.69013 3.375 8.24978 3.93464 8.24978 4.625V15.25C8.24978 15.9404 7.69013 16.5 6.99978 16.5C6.30942 16.5 5.74978 15.9404 5.74978 15.25V4.625Z"})]})}function hj(e){let{viewBox:n,...r}=e;return(0,K.BX)(ht.Z,{...r,children:[(0,K.tZ)("path",{d:"M10.025 12.625C10.025 12.625 10.025 9.06129 10.025 4.375M10.025 4.375L5.02502 9.625M10.025 4.375L15.025 9.625",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"}),(0,K.tZ)("path",{d:"M10.025 15.125L10.025 15.625",strokeWidth:"1.8",strokeLinecap:"round"})]})}function hW(e){let{viewBox:n,...r}=e;return(0,K.BX)(ht.Z,{viewBox:"0 0 24 17",...r,children:[(0,K.tZ)("path",{d:"M20.9686 0.750008H7.91856C7.58 0.74955 7.24558 0.824575 6.93966 0.969623C6.63374 1.11467 6.364 1.32609 6.15006 1.58851L1.26006 7.57501C0.932646 7.97775 0.753906 8.48096 0.753906 9.00001C0.753906 9.51905 0.932646 10.0223 1.26006 10.425L6.15006 16.4115C6.36408 16.674 6.63394 16.8855 6.94 17.0306C7.24606 17.1756 7.58062 17.2506 7.91931 17.25H20.9693C21.5719 17.2514 22.1505 17.0137 22.578 16.5891C23.0056 16.1645 23.2473 15.5876 23.2501 14.985V3.01501C23.2473 2.41229 23.0055 1.83529 22.5778 1.41065C22.15 0.986008 21.5713 0.748412 20.9686 0.750008ZM21.7501 14.985C21.7475 15.19 21.6638 15.3856 21.5173 15.5289C21.3709 15.6723 21.1735 15.7518 20.9686 15.75H7.91856C7.80184 15.7506 7.68647 15.7251 7.58086 15.6754C7.47524 15.6257 7.38205 15.553 7.30806 15.4628L2.42106 9.47776C2.30998 9.34333 2.24921 9.17439 2.24921 9.00001C2.24921 8.82562 2.30998 8.65669 2.42106 8.52226L7.30806 2.53726C7.38213 2.44688 7.47544 2.37419 7.58119 2.32449C7.68695 2.27479 7.80247 2.24934 7.91931 2.25001H20.9693C21.1742 2.24841 21.3713 2.32799 21.5176 2.47135C21.6639 2.61471 21.7475 2.81018 21.7501 3.01501V14.985Z"}),(0,K.tZ)("path",{d:"M18.7118 5.28751C18.5712 5.1469 18.3804 5.06792 18.1816 5.06792C17.9827 5.06792 17.792 5.1469 17.6513 5.28751L15.0001 7.93951L12.3488 5.28751C12.2074 5.15089 12.0179 5.07529 11.8213 5.077C11.6246 5.07871 11.4365 5.15759 11.2975 5.29664C11.1584 5.4357 11.0795 5.62381 11.0778 5.82046C11.0761 6.01711 11.1517 6.20656 11.2883 6.34801L13.9396 9.00001L11.2883 11.652C11.1477 11.7927 11.0687 11.9834 11.0687 12.1823C11.0687 12.3811 11.1477 12.5719 11.2883 12.7125C11.4305 12.8502 11.6206 12.9273 11.8186 12.9273C12.0165 12.9273 12.2067 12.8502 12.3488 12.7125L15.0001 10.0605L17.6513 12.7125C17.7935 12.8502 17.9836 12.9273 18.1816 12.9273C18.3795 12.9273 18.5697 12.8502 18.7118 12.7125C18.8524 12.5719 18.9314 12.3811 18.9314 12.1823C18.9314 11.9834 18.8524 11.7927 18.7118 11.652L16.0606 9.00001L18.7118 6.34801C18.8524 6.20736 18.9314 6.01663 18.9314 5.81776C18.9314 5.61889 18.8524 5.42815 18.7118 5.28751Z"})]})}function hq(e){let{viewBox:n,...r}=e;return(0,K.tZ)(ht.Z,{...r,children:(0,K.tZ)("path",{clipRule:"evenodd",d:"M2.12331 7.12425C1.51402 7.7325 1.51402 8.71314 2.12331 9.32139L9.12304 16.3034C9.60799 16.7875 10.3914 16.7875 10.8763 16.3034L17.876 9.32139C18.4853 8.71314 18.4853 7.7325 17.876 7.12425C17.2667 6.51601 16.2844 6.51601 15.6751 7.12425L9.99346 12.7781L4.31178 7.11184C3.71492 6.51601 2.72016 6.51601 2.12331 7.12425Z",fillRule:"evenodd"})})}function hY(e){let{viewBox:n,...r}=e;return(0,K.tZ)(ht.Z,{viewBox:"5 5 10 10",...r,children:(0,K.tZ)("path",{clipRule:"evenodd",d:"M9.99983 6.92725L14.1941 10.4225C14.4971 10.675 14.5381 11.1254 14.2855 11.4285C14.033 11.7315 13.5826 11.7725 13.2795 11.5199L9.99983 8.78683L6.72011 11.5199C6.41706 11.7725 5.96666 11.7315 5.71411 11.4285C5.46156 11.1254 5.50251 10.675 5.80557 10.4225L9.99983 6.92725Z",fillRule:"evenodd"})})}function hX(e){return(0,K.tZ)(ht.Z,{...e,children:(0,K.tZ)("path",{d:"M3.63567 3.63616C3.24514 4.02668 3.24514 4.65984 3.63567 5.05037L8.58541 10.0001L3.63567 14.9499C3.24514 15.3404 3.24514 15.9736 3.63567 16.3641C4.02619 16.7546 4.65936 16.7546 5.04988 16.3641L9.99963 11.4143L14.9494 16.3641C15.3399 16.7546 15.9731 16.7546 16.3636 16.3641C16.7541 15.9736 16.7541 15.3404 16.3636 14.9499L11.4138 10.0001L16.3636 5.05037C16.7541 4.65984 16.7541 4.02668 16.3636 3.63616C15.9731 3.24563 15.3399 3.24563 14.9494 3.63616L9.99963 8.5859L5.04988 3.63616C4.65936 3.24563 4.02619 3.24563 3.63567 3.63616Z",fillRule:"evenodd"})})}function hJ(e){let{viewBox:n,...r}=e;return(0,K.tZ)(ht.Z,{...r,children:(0,K.tZ)("path",{d:"M10.8337 6.6665C10.8337 7.12674 10.4606 7.49984 10.0003 7.49984C9.54009 7.49984 9.16699 7.12674 9.16699 6.6665C9.16699 6.20627 9.54009 5.83317 10.0003 5.83317C10.4606 5.83317 10.8337 6.20627 10.8337 6.6665ZM10.8337 13.3332C10.8337 13.7934 10.4606 14.1665 10.0003 14.1665C9.54009 14.1665 9.16699 13.7934 9.16699 13.3332V9.99984C9.16699 9.5396 9.54009 9.1665 10.0003 9.1665C10.4606 9.1665 10.8337 9.5396 10.8337 9.99984V13.3332ZM10.0087 18.3332C14.6087 18.3332 18.3337 14.5998 18.3337 9.99984C18.3337 5.39984 14.6087 1.6665 10.0087 1.6665C5.40033 1.6665 1.66699 5.39984 1.66699 9.99984C1.66699 14.5998 5.40033 18.3332 10.0087 18.3332ZM10.0003 3.33317C13.6837 3.33317 16.667 6.3165 16.667 9.99984C16.667 13.6832 13.6837 16.6665 10.0003 16.6665C6.31699 16.6665 3.33366 13.6832 3.33366 9.99984C3.33366 6.3165 6.31699 3.33317 10.0003 3.33317Z"})})}function hQ(e){let{viewBox:n,...r}=e;return(0,K.BX)(ht.Z,{...r,children:[(0,K.tZ)("circle",{opacity:"0.7",cx:"10",cy:"10",r:"8.2",stroke:"#C3C8D4",strokeWidth:"1.6"}),(0,K.tZ)("path",{d:"M10.1372 6.91884C9.86312 6.91884 9.63215 6.82806 9.44424 6.64649C9.26416 6.45667 9.17412 6.22559 9.17412 5.95323C9.17412 5.68088 9.26416 5.45392 9.44424 5.27235C9.63215 5.09078 9.86312 5 10.1372 5C10.419 5 10.65 5.09078 10.8301 5.27235C11.018 5.45392 11.1119 5.68088 11.1119 5.95323C11.1119 6.22559 11.018 6.45667 10.8301 6.64649C10.65 6.82806 10.419 6.91884 10.1372 6.91884ZM8.00005 14C7.88959 14 7.80005 13.9105 7.80005 13.8V13.2611C7.80005 13.0402 7.97913 12.8611 8.20005 12.8611H9.63215V9.40715C9.63215 9.1348 9.50688 8.99862 9.25633 8.99862H8.26447C8.09878 8.99862 7.96447 8.86431 7.96447 8.69862V8.1597C7.96447 7.99401 8.09878 7.8597 8.26447 7.8597H9.47947C9.9649 7.8597 10.3172 7.97937 10.5365 8.21871C10.7635 8.44979 10.877 8.82118 10.877 9.33287V12.8611H12.3091C12.5301 12.8611 12.7091 13.0402 12.7091 13.2611V13.8C12.7091 13.9105 12.6196 14 12.5091 14H8.00005Z",fill:"#748091"})]})}function h0(e){let{viewBox:n,...r}=e;return(0,K.BX)(ht.Z,{...r,children:[(0,K.tZ)("path",{d:"M2.5 12.6956H17.5V3.43457H2.5V12.6956ZM1 2.93457V13.1956C1 13.7478 1.44772 14.1956 2 14.1956H18C18.5523 14.1956 19 13.7478 19 13.1956V2.93457C19 2.38229 18.5523 1.93457 18 1.93457H2C1.44772 1.93457 1 2.38229 1 2.93457Z",fillRule:"evenodd"}),(0,K.tZ)("path",{d:"M6.5 10.6729C6.5 10.1897 6.89175 9.79791 7.375 9.79791H12.625C13.1082 9.79791 13.5 10.1897 13.5 10.6729C13.5 11.1562 13.1082 11.5479 12.625 11.5479H7.375C6.89175 11.5479 6.5 11.1562 6.5 10.6729Z"}),(0,K.tZ)("path",{d:"M3.65039 8.07111C3.65039 7.58786 4.04214 7.19611 4.52539 7.19611H6.24206C6.72531 7.19611 7.11706 7.58786 7.11706 8.07111C7.11706 8.55436 6.72531 8.94611 6.24206 8.94611H4.52539C4.04214 8.94611 3.65039 8.55436 3.65039 8.07111Z"}),(0,K.tZ)("path",{d:"M8.26685 8.07111C8.26685 7.58786 8.6586 7.19611 9.14185 7.19611H10.8585C11.3418 7.19611 11.7335 7.58786 11.7335 8.07111C11.7335 8.55436 11.3418 8.94611 10.8585 8.94611H9.14185C8.6586 8.94611 8.26685 8.55436 8.26685 8.07111Z"}),(0,K.tZ)("path",{d:"M12.8835 8.07111C12.8835 7.58786 13.2753 7.19611 13.7585 7.19611H15.4752C15.9585 7.19611 16.3502 7.58786 16.3502 8.07111C16.3502 8.55436 15.9585 8.94611 15.4752 8.94611H13.7585C13.2753 8.94611 12.8835 8.55436 12.8835 8.07111Z"}),(0,K.tZ)("path",{d:"M3.65039 5.46912C3.65039 4.98587 4.04214 4.59412 4.52539 4.59412H6.24206C6.72531 4.59412 7.11706 4.98587 7.11706 5.46912C7.11706 5.95237 6.72531 6.34412 6.24206 6.34412H4.52539C4.04214 6.34412 3.65039 5.95237 3.65039 5.46912Z"}),(0,K.tZ)("path",{d:"M8.26709 5.46912C8.26709 4.98587 8.65884 4.59412 9.14209 4.59412H10.8588C11.342 4.59412 11.7338 4.98587 11.7338 5.46912C11.7338 5.95237 11.342 6.34412 10.8588 6.34412H9.14209C8.65884 6.34412 8.26709 5.95237 8.26709 5.46912Z"}),(0,K.tZ)("path",{d:"M12.8835 5.46912C12.8835 4.98587 13.2753 4.59412 13.7585 4.59412H15.4752C15.9585 4.59412 16.3502 4.98587 16.3502 5.46912C16.3502 5.95237 15.9585 6.34412 15.4752 6.34412H13.7585C13.2753 6.34412 12.8835 5.95237 12.8835 5.46912Z"}),(0,K.tZ)("path",{d:"M5.74029 15.6309C5.98005 15.2114 6.51454 15.0656 6.93412 15.3054L10 17.0573L13.0659 15.3054C13.4855 15.0656 14.02 15.2114 14.2597 15.6309C14.4995 16.0505 14.3537 16.585 13.9341 16.8248L10.4341 18.8248C10.1651 18.9785 9.83488 18.9785 9.56588 18.8248L6.06588 16.8248C5.6463 16.585 5.50053 16.0505 5.74029 15.6309Z"})]})}function h1(e){let{viewBox:n,...r}=e;return(0,K.tZ)(ht.Z,{...r,children:(0,K.tZ)("path",{d:"M13 10C13 10.825 13.675 11.5 14.5 11.5C15.325 11.5 16 10.825 16 10C16 9.175 15.325 8.5 14.5 8.5C13.675 8.5 13 9.175 13 10ZM11.5 10C11.5 9.175 10.825 8.5 10 8.5C9.175 8.5 8.5 9.175 8.5 10C8.5 10.825 9.175 11.5 10 11.5C10.825 11.5 11.5 10.825 11.5 10ZM7 10C7 9.175 6.325 8.5 5.5 8.5C4.675 8.5 4 9.175 4 10C4 10.825 4.675 11.5 5.5 11.5C6.325 11.5 7 10.825 7 10Z"})})}function h2(e){let{viewBox:n,...r}=e;return(0,K.tZ)(ht.Z,{...r,children:(0,K.tZ)("path",{d:"M11.6667 3.33341V7.50008C11.6667 8.43341 11.975 9.30008 12.5 10.0001H7.50002C8.04169 9.28341 8.33335 8.41675 8.33335 7.50008V3.33341H11.6667ZM14.1667 1.66675H5.83335C5.37502 1.66675 5.00002 2.04175 5.00002 2.50008C5.00002 2.95841 5.37502 3.33341 5.83335 3.33341H6.66669V7.50008C6.66669 8.88342 5.55002 10.0001 4.16669 10.0001V11.6667H9.14169V17.5001L9.97502 18.3334L10.8084 17.5001V11.6667H15.8334V10.0001C14.45 10.0001 13.3334 8.88342 13.3334 7.50008V3.33341H14.1667C14.625 3.33341 15 2.95841 15 2.50008C15 2.04175 14.625 1.66675 14.1667 1.66675Z"})})}function h3(e){let{viewBox:n,...r}=e;return(0,K.tZ)(ht.Z,{...r,children:(0,K.tZ)("path",{d:"M8.99996 0.666668C4.39996 0.666668 0.666626 4.4 0.666626 9C0.666626 13.6 4.39996 17.3333 8.99996 17.3333C13.6 17.3333 17.3333 13.6 17.3333 9C17.3333 4.4 13.6 0.666668 8.99996 0.666668ZM8.99996 15.6667C5.32496 15.6667 2.33329 12.675 2.33329 9C2.33329 5.325 5.32496 2.33333 8.99996 2.33333C12.675 2.33333 15.6666 5.325 15.6666 9C15.6666 12.675 12.675 15.6667 8.99996 15.6667ZM12.2333 5.90833L7.33329 10.8083L5.76663 9.24167C5.44163 8.91667 4.91663 8.91667 4.59163 9.24167C4.26663 9.56667 4.26663 10.0917 4.59163 10.4167L6.74996 12.575C7.07496 12.9 7.59996 12.9 7.92496 12.575L13.4166 7.08333C13.7416 6.75833 13.7416 6.23334 13.4166 5.90833C13.0916 5.58333 12.5583 5.58333 12.2333 5.90833Z"})})}function h4(){return(0,K.tZ)(ht.Z,{height:"9",width:"9",children:(0,K.tZ)("path",{d:"M4 4L7.2929 0.707105C7.92286 0.0771402 9 0.523309 9 1.41421V7C9 8.10457 8.10457 9 7 9H1.41421C0.523309 9 0.077142 7.92286 0.707107 7.29289L4 4Z",fill:"currentColor"})})}var h6=Object.defineProperty,h5=Object.defineProperties,h8=Object.getOwnPropertyDescriptors,h7=Object.getOwnPropertySymbols,h9=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable,pt=(e,n,r)=>n in e?h6(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,pn=(e,n)=>{for(var r in n||(n={}))h9.call(n,r)&&pt(e,r,n[r]);if(h7)for(var r of h7(n))pe.call(n,r)&&pt(e,r,n[r]);return e},pr=(e,n)=>h5(e,h8(n)),pi=e=>"symbol"==typeof e?e:e+"",pa=(e,n)=>{var r={};for(var i in e)h9.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&h7)for(var i of h7(e))0>n.indexOf(i)&&pe.call(e,i)&&(r[i]=e[i]);return r};function po(e){return Array.isArray(e)}function pl(){return"window"in globalThis&&"document"in globalThis}function ps(){return"function"==typeof navigator.vibrate}function pu(){var e,n;if(!pl())return"other";let r=null!=(n=null==(e=navigator.userAgentData)?void 0:e.platform)?n:navigator.platform;return/^mac/i.test(r)?5===navigator.maxTouchPoints?"ios":"macos":/^win/i.test(r)?"windows":/android/i.test(navigator.userAgent)?"android":/iphone|ipod|ipad/i.test(navigator.userAgent)?"ios":/\bcros\b/i.test(navigator.userAgent)?"chromeos":"other"}function pc(){if(!pl())return!0;if(/firefox/i.test(navigator.userAgent)){let e=navigator.userAgent.match(/firefox\/(\d+)/i);return!!e&&parseInt(e[1])>=78}if(/trident/i.test(navigator.userAgent))return!1;if(/edge/i.test(navigator.userAgent)){let e=navigator.userAgent.match(/edg\/(\d+)/i);return!!e&&parseInt(e[1])>=79}return!0}var pd={strings:{en:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.command":"LaTeX Command Mode","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.alphabetic":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.cut to clipboard":"Cut to Clipboard","tooltip.paste from clipboard":"Paste from Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.undo":"Undo","menu.insert matrix":"Insert Matrix","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Matrix Delimiters","menu.array.add row above":"Add Row After","menu.array.add row below":"Add Row Before","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows","menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","submenu.array.insert separator":"Insert Separator","menu.insert table":"Insert Table","submenu.table style":"Table Style"},ar:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"  ","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"   ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"  ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"   ","menu.array.add row below":"  ","menu.array.add column after":"   ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},bg:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"   ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":"  ","menu.insert vector":"  ","submenu.array.matrix delimiters":" ","menu.array.add row above":"   ","menu.array.add row below":"   ","menu.array.add column after":"   ","menu.array.add column before":"   ","menu.array.delete row":"  ","menu.array.delete rows":"   ","menu.array.delete column":"  ","menu.array.delete columns":"   ","submenu.array.insert separator":" ","menu.insert table":"  ","submenu.table style":" "},bs:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grka slova","keyboard.tooltip.command":"LaTeX naredbeni nain","keyboard.tooltip.numeric":"Numeriki","keyboard.tooltip.alphabetic":"Rimska slova","tooltip.copy to clipboard":"Kopirati u clipboard","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Ukljui / iskljui virtualnu tipkovnicu","tooltip.undo":"Poniti","menu.insert matrix":"Umetni matricu","menu.insert vector":"Umetni vektor","submenu.array.matrix delimiters":"Matrini razdjelnici","menu.array.add row above":"Dodaj redak nakon","menu.array.add row below":"Dodaj red prije","menu.array.add column after":"Dodaj stupac nakon","menu.array.add column before":"Dodaj stupac prije","menu.array.delete row":"Izbrii red","menu.array.delete rows":"Izbrii odabrane redove","menu.array.delete column":"Izbrii stupac","menu.array.delete columns":"Izbrii odabrane stupce","submenu.array.insert separator":"Umetni separator","menu.insert table":"Ubaci tabelu","submenu.table style":"Stil tabele"},cs:{"keyboard.tooltip.functions":"Funkce","keyboard.tooltip.symbols":"Symboly","keyboard.tooltip.greek":"eck\xe9 dopisy","keyboard.tooltip.command":"P\xedkazov\xfd reim LaTeX","keyboard.tooltip.numeric":"\xedseln\xe9","keyboard.tooltip.alphabetic":"\xedmsk\xe9 dopisy","tooltip.copy to clipboard":"Zkop\xedrovat do schr\xe1nky","tooltip.redo":"Pedlat","tooltip.toggle virtual keyboard":"Pepnout virtu\xe1ln\xed kl\xe1vesnici","tooltip.undo":"Vr\xe1tit","menu.insert matrix":"Vlote matici","menu.insert vector":"Vloit vektor","submenu.array.matrix delimiters":"Oddlovae matic","menu.array.add row above":"Pidat \xe1dek za","menu.array.add row below":"Pidat \xe1dek ped","menu.array.add column after":"Pidat sloupec za","menu.array.add column before":"Pidat sloupec d\xedve","menu.array.delete row":"Odstranit \xe1dek","menu.array.delete rows":"Odstranit vybran\xe9 \xe1dky","menu.array.delete column":"Odstranit sloupec","menu.array.delete columns":"Odstranit vybran\xe9 sloupce","submenu.array.insert separator":"Vlote oddlova","menu.insert table":"Vloit tabulku","submenu.table style":"Styl tabulky"},da:{"keyboard.tooltip.functions":"Funktioner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Gr\xe6ske bogstaver","keyboard.tooltip.command":"LaTeX kommandotilstand","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.alphabetic":"Romerske breve","tooltip.copy to clipboard":"Kopier til udklipsholder","tooltip.redo":"Gentag igen","tooltip.toggle virtual keyboard":"Skift virtuelt tastatur","tooltip.undo":"Fortryd","menu.insert matrix":"Inds\xe6t matrix","menu.insert vector":"Inds\xe6t vektor","submenu.array.matrix delimiters":"Matrixafgr\xe6nsere","menu.array.add row above":"Tilf\xf8j r\xe6kke efter","menu.array.add row below":"Tilf\xf8j r\xe6kke f\xf8r","menu.array.add column after":"Tilf\xf8j kolonne efter","menu.array.add column before":"Tilf\xf8j kolonne f\xf8r","menu.array.delete row":"Slet r\xe6kke","menu.array.delete rows":"Slet valgte r\xe6kker","menu.array.delete column":"Slet kolonne","menu.array.delete columns":"Slet valgte kolonner","submenu.array.insert separator":"Inds\xe6t separator","menu.insert table":"Inds\xe6t tabel","submenu.table style":"Tabelstil"},de:{"keyboard.tooltip.functions":"Funktionen","keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.command":"LaTeX-Befehlsmodus","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.alphabetic":"R\xf6mische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einf\xfcgen","menu.insert vector":"Vektor einf\xfcgen","submenu.array.matrix delimiters":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzuf\xfcgen nach","menu.array.add row below":"Zeile hinzuf\xfcgen vor","menu.array.add column after":"Spalte hinzuf\xfcgen nach","menu.array.add column before":"Spalte hinzuf\xfcgen vor","menu.array.delete row":"Zeile l\xf6schen","menu.array.delete rows":"Ausgew\xe4hlte Zeilen l\xf6schen","menu.array.delete column":"Spalte l\xf6schen","menu.array.delete columns":"Ausgew\xe4hlte Spalten l\xf6schen","submenu.array.insert separator":"Trennzeichen einf\xfcgen","menu.insert table":"Tabelle einf\xfcgen","submenu.table style":"Tabellenstil"},el:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  LaTeX","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":"","menu.insert matrix":" Matrix","menu.insert vector":" ","submenu.array.matrix delimiters":" Matrix","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},es:{"keyboard.tooltip.functions":"Funciones","keyboard.tooltip.symbols":"S\xedmbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.command":"Modo Comando LaTeX","keyboard.tooltip.numeric":"Num\xe9rico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"A\xf1adir Matriz","menu.insert vector":"A\xf1adir vector","submenu.array.matrix delimiters":"Delimitadores de Matriz","menu.array.add row above":"A\xf1adir L\xednea Antes","menu.array.add row below":"A\xf1adir L\xednea Despues","menu.array.add column after":"A\xf1adir Columna Despues","menu.array.add column before":"A\xf1adir Columna Antes","menu.array.delete row":"Borrar L\xednea","menu.array.delete rows":"Borrar L\xedneas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","submenu.array.insert separator":"Insertar un Separador","menu.insert table":"Insertar Tabla","submenu.table style":"Estilo de Tabla"},et:{"keyboard.tooltip.functions":"Funktsioonid","keyboard.tooltip.symbols":"S\xfcmbolid","keyboard.tooltip.greek":"Kreeka kirjad","keyboard.tooltip.command":"LaTeXi k\xe4sureiim","keyboard.tooltip.numeric":"Numbriline","keyboard.tooltip.alphabetic":"Rooma kirjad","tooltip.copy to clipboard":"Kopeerida l\xf5ikelauale","tooltip.redo":"Tee uuesti","tooltip.toggle virtual keyboard":"L\xfclitage sisse virtuaalne klaviatuur","tooltip.undo":"V\xf5ta tagasi","menu.insert matrix":"Sisesta maatriks","menu.insert vector":"Sisesta vektor","submenu.array.matrix delimiters":"Maatriksi eraldajad","menu.array.add row above":"Lisa rida p\xe4rast","menu.array.add row below":"Lisa rida enne","menu.array.add column after":"Lisa veerg p\xe4rast","menu.array.add column before":"Lisa veerg enne","menu.array.delete row":"Kustuta rida","menu.array.delete rows":"Kustuta valitud read","menu.array.delete column":"Kustuta veerg","menu.array.delete columns":"Kustuta valitud veerud","submenu.array.insert separator":"Sisestage eraldaja","menu.insert table":"Sisesta tabeli","submenu.table style":"Tabeli stiilis"},fa:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"  ","tooltip.redo":"  ","tooltip.toggle virtual keyboard":"/  ","tooltip.undo":"  ","menu.insert matrix":"   ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"     ","menu.array.add row below":"    ","menu.array.add column after":"   ","menu.array.add column before":"    ","menu.array.delete row":"   ","menu.array.delete rows":"      ","menu.array.delete column":" ","menu.array.delete columns":"      ","submenu.array.insert separator":"  ","menu.insert table":"  ","submenu.table style":" "},fi:{"keyboard.tooltip.functions":"Toiminnot","keyboard.tooltip.symbols":"Symbolit","keyboard.tooltip.greek":"Kreikkalaiset kirjeet","keyboard.tooltip.command":"LaTeX-komentotila","keyboard.tooltip.numeric":"Numeerinen","keyboard.tooltip.alphabetic":"Roomalaiset kirjeet","tooltip.copy to clipboard":"Kopioi leikep\xf6yd\xe4lle","tooltip.redo":"Tee uudelleen","tooltip.toggle virtual keyboard":"Vaihda virtuaalin\xe4pp\xe4imist\xf6","tooltip.undo":"Kumoa","menu.insert matrix":"Lis\xe4\xe4 matriisi","menu.insert vector":"Lis\xe4\xe4 vektori","submenu.array.matrix delimiters":"Matriisin erottimet","menu.array.add row above":"Lis\xe4\xe4 rivi j\xe4lkeen","menu.array.add row below":"Lis\xe4\xe4 rivi ennen","menu.array.add column after":"Lis\xe4\xe4 sarake j\xe4lkeen","menu.array.add column before":"Lis\xe4\xe4 sarake ennen","menu.array.delete row":"Poista rivi","menu.array.delete rows":"Poista valitut rivit","menu.array.delete column":"Poista sarake","menu.array.delete columns":"Poista valitut sarakkeet","submenu.array.insert separator":"Aseta erotin","menu.insert table":"Lis\xe4\xe4 taulukko","submenu.table style":"Taulukon tyyli"},fr:{"keyboard.tooltip.functions":"Fonctions","keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.command":"Mode de commandes LaTeX","keyboard.tooltip.numeric":"Num\xe9rique","keyboard.tooltip.alphabetic":"Lettres romaines","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"R\xe9tablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler","menu.insert matrix":"Ins\xe9rer une Matrice","menu.insert vector":"Ins\xe9rer un Vecteur","submenu.array.matrix delimiters":"D\xe9limiteurs de la Matrice","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne Apr\xe8s","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne Apr\xe8s","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes S\xe9lection\xe9es","menu.array.delete column":"Enlever une Colone","menu.array.delete columns":"Enlever les Colonnes S\xe9lection\xe9es","submenu.array.insert separator":"Ins\xe9rer un S\xe9parateur","menu.insert table":"Ins\xe9rer une Table","submenu.table style":"Style de la  Table"},ga:{"keyboard.tooltip.functions":"Feidhmeanna","keyboard.tooltip.symbols":"Siombail\xed","keyboard.tooltip.greek":"Litreacha na Gr\xe9ige","keyboard.tooltip.command":"M\xf3d Ord\xfa LaTeX","keyboard.tooltip.numeric":"Uimhri\xfail","keyboard.tooltip.alphabetic":"Litreacha R\xf3mh\xe1nacha","tooltip.copy to clipboard":"C\xf3ipe\xe1il chuig an Ghearrthaisce","tooltip.redo":"Athdh\xe9an","tooltip.toggle virtual keyboard":"M\xe9archl\xe1ir F\xedor\xfail a Fh\xe1il","tooltip.undo":"Cealaigh","menu.insert matrix":"Cuir isteach Maitr\xeds","menu.insert vector":"Cuir isteach Veicteoir","submenu.array.matrix delimiters":"Delimiters Maitr\xeds","menu.array.add row above":"Cuir Rae Tar \xe9is","menu.array.add row below":"Cuir Rae Roimh","menu.array.add column after":"Cuir Col\xfan Tar \xe9is","menu.array.add column before":"Cuir Col\xfan Roimh","menu.array.delete row":"Scrios Rae","menu.array.delete rows":"Scrios Sraitheanna Roghnaithe","menu.array.delete column":"Scrios Col\xfan","menu.array.delete columns":"Scrios Col\xfain Roghnaithe","submenu.array.insert separator":"Cuir Deighilteoir isteach","menu.insert table":"Ions\xe1igh T\xe1bla","submenu.table style":"St\xedl T\xe1bla"},he:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":" ","tooltip.redo":" ","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},hr:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grka slova","keyboard.tooltip.command":"LaTeX naredbeni nain","keyboard.tooltip.numeric":"Numeriki","keyboard.tooltip.alphabetic":"Rimska slova","tooltip.copy to clipboard":"Kopirati u meuspremnik","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Ukljui / iskljui virtualnu tipkovnicu","tooltip.undo":"Poniti","menu.insert matrix":"Umetni matricu","menu.insert vector":"Umetni vektor","submenu.array.matrix delimiters":"Matrini razdjelnici","menu.array.add row above":"Dodaj redak nakon","menu.array.add row below":"Dodaj redak prije","menu.array.add column after":"Dodaj stupac nakon","menu.array.add column before":"Dodaj stupac prije","menu.array.delete row":"Izbrii redak","menu.array.delete rows":"Izbrii odabrane retke","menu.array.delete column":"Izbrii stupac","menu.array.delete columns":"Izbrii odabrane stupce","submenu.array.insert separator":"Umetni separator","menu.insert table":"Umetni tablicu","submenu.table style":"Stil tabele"},id:{"keyboard.tooltip.functions":"Fungsi","keyboard.tooltip.symbols":"Simbol","keyboard.tooltip.greek":"Huruf Yunani","keyboard.tooltip.command":"Mode Perintah LaTeX","keyboard.tooltip.numeric":"Numerik","keyboard.tooltip.alphabetic":"Surat Romawi","tooltip.copy to clipboard":"Menyalin ke clipboard","tooltip.redo":"Mengulangi","tooltip.toggle virtual keyboard":"Alihkan Keyboard Virtual","tooltip.undo":"Membuka","menu.insert matrix":"Sisipkan Matriks","menu.insert vector":"Sisipkan Vektor","submenu.array.matrix delimiters":"Pembatas Matriks","menu.array.add row above":"Tambahkan Baris Setelah","menu.array.add row below":"Tambahkan Baris Sebelumnya","menu.array.add column after":"Tambahkan Kolom Setelah","menu.array.add column before":"Tambahkan Kolom Sebelumnya","menu.array.delete row":"Hapus Baris","menu.array.delete rows":"Hapus Baris yang Dipilih","menu.array.delete column":"Hapus Kolom","menu.array.delete columns":"Hapus Kolom yang Dipilih","submenu.array.insert separator":"Sisipkan Pemisah","menu.insert table":"Sisipkan Tabel","submenu.table style":"Gaya Tabel"},hi:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"   ","tooltip.redo":"  ","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"   ","menu.array.add row below":"  ","menu.array.add column after":"   ","menu.array.add column before":"  ","menu.array.delete row":"  ","menu.array.delete rows":"   ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":"  ","submenu.table style":" "},hu:{"keyboard.tooltip.functions":"Funkci\xf3k","keyboard.tooltip.symbols":"Szimb\xf3lumok","keyboard.tooltip.greek":"G\xf6r\xf6g levelek","keyboard.tooltip.command":"LaTeX Parancs m\xf3d","keyboard.tooltip.numeric":"Numerikus","keyboard.tooltip.alphabetic":"R\xf3mai levelek","tooltip.copy to clipboard":"M\xe1solja a v\xe1g\xf3lapra","tooltip.redo":"\xdajra","tooltip.toggle virtual keyboard":"V\xe1lt\xe1s a virtu\xe1lis billentyzetre","tooltip.undo":"Visszavon\xe1s","menu.insert matrix":"Helyezze be a M\xe1trixot","menu.insert vector":"Vektor besz\xfar\xe1sa","submenu.array.matrix delimiters":"M\xe1trixhat\xe1rol\xf3k","menu.array.add row above":"Sor hozz\xe1ad\xe1sa ut\xe1n","menu.array.add row below":"Add Add Sor eltt","menu.array.add column after":"Oszlop hozz\xe1ad\xe1sa ut\xe1n","menu.array.add column before":"Add oszlop eltt","menu.array.delete row":"Sor t\xf6rl\xe9se","menu.array.delete rows":"Kijel\xf6lt sorok t\xf6rl\xe9se","menu.array.delete column":"Oszlop t\xf6rl\xe9se","menu.array.delete columns":"A kijel\xf6lt oszlopok t\xf6rl\xe9se","submenu.array.insert separator":"Helyezze be az elv\xe1laszt\xf3t","menu.insert table":"Helyezze be a t\xe1bl\xe1zatot","submenu.table style":"T\xe1bl\xe1zatos st\xedlus"},it:{"keyboard.tooltip.functions":"Funzioni","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.command":"Modalit\xe0 di comando LaTeX","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.alphabetic":"Lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare","menu.insert matrix":"Inserisci una Matrice","menu.insert vector":"Inserisci Vettore","submenu.array.matrix delimiters":"Delimitatori di Matrice","menu.array.add row above":"Aggiungi una Riga Prima","menu.array.add row below":"Aggiungi una Riga Dopo","menu.array.add column before":"Aggiungi una Colonna Prima","menu.array.add column after":"Aggiungi una Colonna Dopo","menu.array.delete row":"Rimuovi una Riga","menu.array.delete rows":"Rimuovi le Righe Selezionate","menu.array.delete column":"Rimuovi una Colonna","menu.array.delete columns":"Rimuovi le Colonne Selezionate","submenu.array.insert separator":"Inserisci un Separatore","menu.insert table":"Inserisci Tabella","submenu.table style":"Stile tabella"},is:{"keyboard.tooltip.functions":"A\xf0ger\xf0ir","keyboard.tooltip.symbols":"T\xe1kn","keyboard.tooltip.greek":"Gr\xedsk br\xe9f","keyboard.tooltip.command":"LaTeX stj\xf3rnunarstilling","keyboard.tooltip.numeric":"T\xf6lulegt","keyboard.tooltip.alphabetic":"R\xf3mversk br\xe9f","tooltip.copy to clipboard":"Afrita\xf0u \xe1 klemmuspjald","tooltip.redo":"Endurtaka","tooltip.toggle virtual keyboard":"Skiptu um s\xfdndarlyklabor\xf0","tooltip.undo":"Afturkalla","menu.insert matrix":"Settu fylki inn","menu.insert vector":"Settu inn Vector","submenu.array.matrix delimiters":"Matrix afm\xf6rkun","menu.array.add row above":"B\xe6ta vi\xf0 r\xf6\xf0 \xe1 eftir","menu.array.add row below":"B\xe6ta vi\xf0 r\xf6\xf0 \xe1\xf0ur","menu.array.add column after":"B\xe6ta vi\xf0 d\xe1lki \xe1 eftir","menu.array.add column before":"B\xe6ta vi\xf0 d\xe1lki \xe1\xf0ur","menu.array.delete row":"Ey\xf0a r\xf6\xf0","menu.array.delete rows":"Ey\xf0a v\xf6ldum l\xednum","menu.array.delete column":"Ey\xf0a d\xe1lki","menu.array.delete columns":"Ey\xf0a v\xf6ldum d\xe1lkum","submenu.array.insert separator":"Settu skiljuna \xed","menu.insert table":"Settu inn t\xf6flu","submenu.table style":"T\xf6flu st\xedl"},ja:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.command":"","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.insert vector":"","submenu.array.matrix delimiters":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","submenu.array.insert separator":"","menu.insert table":"","submenu.table style":""},ko:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"  ","tooltip.redo":" ","tooltip.toggle virtual keyboard":"  ","tooltip.undo":" ","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":"  ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},lv:{"keyboard.tooltip.functions":"Funkcijas","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grieu burti","keyboard.tooltip.command":"LaTeX komandu rems","keyboard.tooltip.numeric":"Ciparu skaitlis","keyboard.tooltip.alphabetic":"Romieu vstules","tooltip.copy to clipboard":"Kopt starpliktuv","tooltip.redo":"Prtaist","tooltip.toggle virtual keyboard":"Prslgt virtulo tastatru","tooltip.undo":"Atsaukt","menu.insert matrix":"Ievietojiet matricu","menu.insert vector":"Ievietot vektoru","submenu.array.matrix delimiters":"Matricas norobeotji","menu.array.add row above":"Pievienot rindu pc","menu.array.add row below":"Pievienot rindu pirms","menu.array.add column after":"Pievienot kolonnu pc","menu.array.add column before":"Pievienot kolonnu pirms","menu.array.delete row":"Dzst rindu","menu.array.delete rows":"Dzst atlasts rindas","menu.array.delete column":"Dzst kolonnu","menu.array.delete columns":"Dzst atlasts kolonnas","submenu.array.insert separator":"Ievietojiet atdaltju","menu.insert table":"Ievietojiet tabulu","submenu.table style":"Galda stils"},lt:{"keyboard.tooltip.functions":"Funkcijos","keyboard.tooltip.symbols":"Simboliai","keyboard.tooltip.greek":"Graikikos raids","keyboard.tooltip.command":"LaTeX komand reimas","keyboard.tooltip.numeric":"Skaitmeninis","keyboard.tooltip.alphabetic":"Romos laikai","tooltip.copy to clipboard":"Nukopijuoti  ikarpin","tooltip.redo":"Perdaryti","tooltip.toggle virtual keyboard":"Perjungti virtualij klaviatr","tooltip.undo":"Ataukti","menu.insert matrix":"Ievietojiet matricu","menu.insert vector":"Ievietot vektoru","submenu.array.matrix delimiters":"Matricas norobeotji","menu.array.add row above":"Pievienot rindu pc","menu.array.add row below":"Pievienot rindu pirms","menu.array.add column after":"Pievienot kolonnu pc","menu.array.add column before":"Pievienot kolonnu pirms","menu.array.delete row":"Dzst rindu","menu.array.delete rows":"Dzst atlasts rindas","menu.array.delete column":"Dzst kolonnu","menu.array.delete columns":"Dzst atlasts kolonnas","submenu.array.insert separator":"Ievietojiet atdaltju","menu.insert table":"Ievietojiet tabulu","submenu.table style":"Tabulas stili"},lu:{"keyboard.tooltip.functions":"Funktiounen","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Griichesch Br\xe9iwer","keyboard.tooltip.command":"LaTeX Kommando Modus","keyboard.tooltip.numeric":"Numeresch","keyboard.tooltip.alphabetic":"R\xe9imesch Br\xe9iwer","tooltip.copy to clipboard":"Kop\xe9iert op Clipboard","tooltip.redo":"Nees nei maachen","tooltip.toggle virtual keyboard":"Wiesselt Virtuell Tastatur","tooltip.undo":"Undoen","menu.insert matrix":"Matrix asetzen","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Matrix Ofgrenzer","menu.array.add row above":"Dob\xe4izemaachen Rei No","menu.array.add row below":"F\xfc\xfcgt Rei vir","menu.array.add column after":"Dob\xe4izemaachen Kolonn No","menu.array.add column before":"Kolonn derb\xe4i Virun","menu.array.delete row":"Rad l\xe4schen","menu.array.delete rows":"L\xe4scht Ausgewielte Reien","menu.array.delete column":"L\xe4scht Kolonn","menu.array.delete columns":"L\xe4scht Ausgewielte Kolonnen","submenu.array.insert separator":"Insert Separator","menu.insert table":"D\xebsch anzeginn","submenu.table style":"D\xebsch Style"},nl:{"keyboard.tooltip.functions":"Functies","keyboard.tooltip.symbols":"Symbolen","keyboard.tooltip.greek":"Griekse letters","keyboard.tooltip.command":"LaTeX commando mode","keyboard.tooltip.numeric":"Numeriek","keyboard.tooltip.alphabetic":"Romeinse letters","tooltip.copy to clipboard":"Kopi\xebren naar klembord","tooltip.redo":"Opnieuw","tooltip.toggle virtual keyboard":"Schakel naar virtueel toetsenbord","tooltip.undo":"Ongedaan maken","menu.insert matrix":"Matrix invoegen","menu.insert vector":"Vector invoegen","submenu.array.matrix delimiters":"Matrixscheidingstekens","menu.array.add row above":"Rij toevoegen na","menu.array.add row below":"Rij toevoegen eerder","menu.array.add column after":"Kolom toevoegen na","menu.array.add column before":"Kolom toevoegen voor","menu.array.delete row":"Verwijder rij","menu.array.delete rows":"Geselecteerde rijen verwijderen","menu.array.delete column":"Kolom verwijderen","menu.array.delete columns":"Geselecteerde kolommen verwijderen","submenu.array.insert separator":"Scheidingsteken invoegen","menu.insert table":"Tabel invoegen","submenu.table style":"Tabelstijl"},no:{"keyboard.tooltip.functions":"Funksjoner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Greske bokstaver","keyboard.tooltip.command":"LaTeX kommandomodus","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.alphabetic":"Romerske bokstaver","tooltip.copy to clipboard":"Kopiere til utklippstavle","tooltip.redo":"Gj\xf8re om","tooltip.toggle virtual keyboard":"Bytt virtuelt tastatur","tooltip.undo":"Angre","menu.insert matrix":"Sett inn matrise","menu.insert vector":"Sett inn vektor","submenu.array.matrix delimiters":"Matrix avgrensere","menu.array.add row above":"Legg til rad etter","menu.array.add row below":"Legg til rad f\xf8r","menu.array.add column after":"Legg til kolonne etter","menu.array.add column before":"Legg til kolonne f\xf8r","menu.array.delete row":"Slett rad","menu.array.delete rows":"Slett valgte rader","menu.array.delete column":"Slett kolonne","menu.array.delete columns":"Slett valgte kolonner","submenu.array.insert separator":"Sett inn skilletegn","menu.insert table":"Sett inn tabell","submenu.table style":"Tabellstil"},mk:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"    ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":"  ","menu.array.add row above":"  ","menu.array.add row below":"   ","menu.array.add column after":"  ","menu.array.add column before":"   ","menu.array.delete row":"  ","menu.array.delete rows":"   ","menu.array.delete column":"  ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},pl:{"keyboard.tooltip.functions":"Funkcje","keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.command":"Tryb polece LaTeX","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.alphabetic":"Litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.redo":"Przywr\xf3","tooltip.toggle virtual keyboard":"Przecz wirtualn klawiatur","tooltip.undo":"Cofnij","menu.insert matrix":"Wstaw macierz","menu.insert vector":"Wstaw wektor","submenu.array.matrix delimiters":"Ograniczniki macierzy","menu.array.add row above":"Dodaj wiersz po","menu.array.add row below":"Dodaj wiersz przed","menu.array.add column after":"Dodaj kolumn po","menu.array.add column before":"Dodaj kolumn przed","menu.array.delete row":"Usu wiersz","menu.array.delete rows":"Usu wybrane wiersze","menu.array.delete column":"Usu kolumn","menu.array.delete columns":"Usu wybrane kolumny","submenu.array.insert separator":"Wstaw separator","menu.insert table":"Wypenij tabel","submenu.table style":"Styl tabel"},pt:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"S\xedmbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.command":"Modo de Comando LaTeX","keyboard.tooltip.numeric":"Num\xe9rico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar para \xe1rea de transfer\xeancia","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer","menu.insert matrix":"Inserir Matriz","menu.insert vector":"Inserir vetor","submenu.array.matrix delimiters":"Delimitadores de matriz","menu.array.add row above":"Adicionar linha depois","menu.array.add row below":"Adicionar linha antes","menu.array.add column after":"Adicionar coluna depois","menu.array.add column before":"Adicionar coluna antes","menu.array.delete row":"Excluir linha","menu.array.delete rows":"Excluir linhas selecionadas","menu.array.delete column":"Apagar Coluna","menu.array.delete columns":"Excluir Colunas Selecionadas","submenu.array.insert separator":"Inserir Separador","menu.insert table":"Insira a tabela","submenu.table style":"Estilo tabela"},ro:{"keyboard.tooltip.functions":"Funcii","keyboard.tooltip.symbols":"Simboluri","keyboard.tooltip.greek":"Scrisori greceti","keyboard.tooltip.command":"Modul de comand latex","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.alphabetic":"Scrisori romane","tooltip.copy to clipboard":"Copiai \xeen clipboard","tooltip.redo":"A reface","tooltip.toggle virtual keyboard":"Comutai tastatura virtual","tooltip.undo":"Anula","menu.insert matrix":"Introducei Matrix","menu.insert vector":"Inserai Vector","submenu.array.matrix delimiters":"Delimitatori de matrice","menu.array.add row above":"Adugai r\xe2ndul dup","menu.array.add row below":"Adugai r\xe2ndul \xeenainte","menu.array.add column after":"Adugai o coloan dup","menu.array.add column before":"Adugai o coloan \xeenainte","menu.array.delete row":"tergei r\xe2ndul","menu.array.delete rows":"tergei r\xe2ndurile selectate","menu.array.delete column":"tergei coloana","menu.array.delete columns":"tergei coloanele selectate","submenu.array.insert separator":"Introducei separatorul","menu.insert table":"Introducei tabelul","submenu.table style":"Table style"},ru:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"   ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"   ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},sk:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Symboly","keyboard.tooltip.greek":"Gr\xe9cke listy","keyboard.tooltip.command":"Pr\xedkazov\xfd reim LaTeX","keyboard.tooltip.numeric":"Numerick\xe9","keyboard.tooltip.alphabetic":"R\xedmske listy","tooltip.copy to clipboard":"Skop\xedrova do schr\xe1nky","tooltip.redo":"Znova","tooltip.toggle virtual keyboard":"Prepn\xfa virtu\xe1lnu kl\xe1vesnicu","tooltip.undo":"Vr\xe1tenie sp\xe4","menu.insert matrix":"Vlote maticu","menu.insert vector":"Vlote vektor","submenu.array.matrix delimiters":"Oddeovae mat\xedc","menu.array.add row above":"Pridajte riadok za","menu.array.add row below":"Pridajte riadok pred","menu.array.add column after":"Prida stpec za","menu.array.add column before":"Pridajte stpec predt\xfdm","menu.array.delete row":"Odstr\xe1ni riadok","menu.array.delete rows":"Odstr\xe1ni vybrat\xe9 riadky","menu.array.delete column":"Odstr\xe1ni stpec","menu.array.delete columns":"Odstr\xe1ni vybrat\xe9 stpce","submenu.array.insert separator":"Vlote oddeova","menu.insert table":"Vlote tabuku","submenu.table style":"t\xfdl tabuky"},sl:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grka pisma","keyboard.tooltip.command":"Ukazni nain LaTeX","keyboard.tooltip.numeric":"tevilsko","keyboard.tooltip.alphabetic":"Rimska pisma","tooltip.copy to clipboard":"Kopirati v odloie","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Preklop navidezne tipkovnice","tooltip.undo":"Razveljavi","menu.insert matrix":"Vstavi matrico","menu.insert vector":"Vstavi vektor","submenu.array.matrix delimiters":"Matrini loevalniki","menu.array.add row above":"Dodaj vrstico po","menu.array.add row below":"Dodaj vrstico prej","menu.array.add column after":"Dodaj stolpec po","menu.array.add column before":"Dodaj stolpec prej","menu.array.delete row":"Izbrii vrstico","menu.array.delete rows":"Izbrii izbrane vrstice","menu.array.delete column":"Izbrii stolpec","menu.array.delete columns":"Izbrii izbrane stolpce","submenu.array.insert separator":"Vstavi loilo","menu.insert table":"Vstavi tabelo","submenu.table style":"Tabela slog"},sq:{"keyboard.tooltip.functions":"Funksione","keyboard.tooltip.symbols":"Simbolet","keyboard.tooltip.greek":"Letrat Greke","keyboard.tooltip.command":"Modaliteti i komand\xebs latex","keyboard.tooltip.numeric":"Numerike","keyboard.tooltip.alphabetic":"Letrat romake","tooltip.copy to clipboard":"Kopjoni n\xeb Clipboard","tooltip.redo":"Riparo","tooltip.toggle virtual keyboard":"Aktivizo tastier\xebn virtuale","tooltip.undo":"Zhb\xebj","menu.insert matrix":"Vendosni Matric\xebn","menu.insert vector":"Vendos vektorin","submenu.array.matrix delimiters":"P\xebrcaktuesit e matric\xebs","menu.array.add row above":"Shto Rreshtin Pas","menu.array.add row below":"Shto Rreshtin Para","menu.array.add column after":"Shto kolon\xebn pas","menu.array.add column before":"Shto kolon\xebn para","menu.array.delete row":"Fshi Rreshtin","menu.array.delete rows":"Fshi rreshtat e zgjedhur","menu.array.delete column":"Fshi kolon\xebn","menu.array.delete columns":"Fshi kolonat e zgjedhura","submenu.array.insert separator":"Vendos Ndar\xebsin","menu.insert table":"Vendos tabel\xebn","submenu.table style":"Stili tabel\xebn"},sr:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":" /   ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},sv:{"keyboard.tooltip.functions":"Funktioner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Grekiska bokst\xe4ver","keyboard.tooltip.command":"LaTeX kommandol\xe4ge","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.alphabetic":"Romerska bokst\xe4ver","tooltip.copy to clipboard":"Kopiera till Urklipp","tooltip.redo":"G\xf6ra om","tooltip.toggle virtual keyboard":"V\xe4xla virtuellt tangentbord","tooltip.undo":"\xc5ngra","menu.insert matrix":"S\xe4tt in matris","menu.insert vector":"Infoga vektor","submenu.array.matrix delimiters":"Matrisavgr\xe4nsare","menu.array.add row above":"L\xe4gg till rad efter","menu.array.add row below":"L\xe4gg till rad f\xf6re","menu.array.add column after":"L\xe4gg till kolumn efter","menu.array.add column before":"L\xe4gg till kolumn f\xf6re","menu.array.delete row":"Radera rad","menu.array.delete rows":"Ta bort valda rader","menu.array.delete column":"Ta bort kolumn","menu.array.delete columns":"Ta bort valda kolumner","submenu.array.insert separator":"S\xe4tt i separator","menu.insert table":"Infoga tabell","submenu.table style":"Tabellstil"},th:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.command":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.insert vector":"","submenu.array.matrix delimiters":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","submenu.array.insert separator":"","menu.insert table":"","submenu.table style":""},tr:{"keyboard.tooltip.functions":"Fonksiyonlar","keyboard.tooltip.symbols":"Semboller","keyboard.tooltip.greek":"Yunan harfleri","keyboard.tooltip.command":"LaTeX Komut Modu","keyboard.tooltip.numeric":"Saysal","keyboard.tooltip.alphabetic":"Roma Harfleri","tooltip.copy to clipboard":"Panoya kopyala","tooltip.redo":"Yeniden yap","tooltip.toggle virtual keyboard":"Sanal Klavyeyi A\xe7/Kapat","tooltip.undo":"Geri alma","menu.insert matrix":"Matris Ekle","menu.insert vector":"Vekt\xf6r Ekle","submenu.array.matrix delimiters":"Matris Snrlayclar","menu.array.add row above":"Satrdan Sonra Ekle","menu.array.add row below":"\xd6nce Satr Ekle","menu.array.add column after":"Sonra S\xfctun Ekle","menu.array.add column before":"\xd6nce S\xfctun Ekle","menu.array.delete row":"Sray sil","menu.array.delete rows":"Se\xe7ili Satrlar Sil","menu.array.delete column":"S\xfctunu Sil","menu.array.delete columns":"Se\xe7ili S\xfctunlar Sil","submenu.array.insert separator":"Ayrc Ekle","menu.insert table":"Tablo Ekle","submenu.table style":"Tablo Stili"},uk:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"   ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},vi:{"keyboard.tooltip.functions":"Chc nng","keyboard.tooltip.symbols":"K\xfd hiu","keyboard.tooltip.greek":"Ch Hy Lp","keyboard.tooltip.command":"Ch  lnh LaTeX","keyboard.tooltip.numeric":"S","keyboard.tooltip.alphabetic":"Ch c\xe1i La m\xe3","tooltip.copy to clipboard":"Sao ch\xe9p v\xe0o clipboard","tooltip.redo":"L\xe0m li","tooltip.toggle virtual keyboard":"Chuyn i b\xe0n ph\xedm o","tooltip.undo":"Ho\xe0n t\xe1c","menu.insert matrix":"Ch\xe8n ma trn","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Du ph\xe2n c\xe1ch ma trn","menu.array.add row above":"Th\xeam h\xe0ng sau","menu.array.add row below":"Th\xeam h\xe0ng trc","menu.array.add column after":"Th\xeam ct sau","menu.array.add column before":"Th\xeam ct trc","menu.array.delete row":"X\xf3a h\xe0ng","menu.array.delete rows":"X\xf3a h\xe0ng \xe3 chn","menu.array.delete column":"X\xf3a ct","menu.array.delete columns":"X\xf3a c\xe1c ct \xe3 chn","submenu.array.insert separator":"Ch\xe8n du ph\xe2n c\xe1ch","menu.insert table":"Ch\xe8n bng","submenu.table style":"Kiu bng"},zh_cn:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.command":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.insert vector":"","submenu.array.matrix delimiters":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"r","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","submenu.array.insert separator":"","menu.insert table":"","submenu.table style":""},zh_tw:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.command":"","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.insert vector":"","submenu.array.matrix delimiters":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","submenu.array.insert separator":"","menu.insert table":"","submenu.table style":""}},_locale:"",get locale(){return pd._locale||(pd._locale=pl()?navigator.language.slice(0,5):"en"),pd._locale},set locale(t){pd._locale=t},merge(e,n){if(e&&n){let r=pd._locale;pd.locale=e,pd.strings[e]=pn(pn({},pd.strings[e]),n),pd.locale=r}else if(e&&!n)for(let n of Object.keys(e))pd.merge(n,e[n])}};function ph(e){if(void 0===e)return;let n=pd.locale.slice(0,2),r="";if(pd.strings[pd.locale]&&(r=pd.strings[pd.locale][e]),!r&&pd.strings[n]&&(r=pd.strings[n][e]),r||(r=pd.strings.en[e]),r)return r}var pp={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",m9:"#843D99"},pm={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},pf={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},pg={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",blue:"#0d80f2",indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},py={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},pb={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"};function pv(e){var n,r,i,a,o,l;let s=e.split("!"),u,c,d,h=255,p=255,m=255,f=-1,g=s.length>0&&s[0].startsWith("-");g&&(s[0]=s[0].slice(1));for(let e=0;e<s.length;e++){u=h,c=p,d=m;let g=null==(n=s[e].trim().match(/^([A-Za-z\d]+)/))?void 0:n[1],y=null==g?void 0:g.toLowerCase(),b=g&&null!=(l=null!=(o=null!=(a=null!=(i=null!=(r=pg[y])?r:pg[py[g]])?i:pm[g])?a:pb[g])?o:pp[g])?l:s[e].trim(),v=b.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if(null!=v&&v[1]&&v[2]&&v[3])h=Math.max(0,Math.min(255,Number.parseInt(v[1],16))),p=Math.max(0,Math.min(255,Number.parseInt(v[2],16))),m=Math.max(0,Math.min(255,Number.parseInt(v[3],16)));else if(null!=(v=b.match(/^#([\da-f]{3})$/i))&&v[1]){let e=Number.parseInt(v[1][0],16),n=Number.parseInt(v[1][1],16),r=Number.parseInt(v[1][2],16);h=Math.max(0,Math.min(255,16*e+e)),p=Math.max(0,Math.min(255,16*n+n)),m=Math.max(0,Math.min(255,16*r+r))}else{if(null==(v=b.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))||!v[1]||!v[2]||!v[3])return;h=Math.max(0,Math.min(255,Number.parseInt(v[1]))),p=Math.max(0,Math.min(255,Number.parseInt(v[2]))),m=Math.max(0,Math.min(255,Number.parseInt(v[3])))}f>=0&&(h=(1-f)*h+f*u,p=(1-f)*p+f*c,m=(1-f)*m+f*d,f=-1),e+1<s.length&&(f=Math.max(0,Math.min(100,Number.parseInt(s[++e])))/100)}return f>=0&&(h=f*h+(1-f)*u,p=f*p+(1-f)*c,m=f*m+(1-f)*d),g&&(h=255-h,p=255-p,m=255-m),"#"+("00"+Math.round(h).toString(16)).slice(-2)+("00"+Math.round(p).toString(16)).slice(-2)+("00"+Math.round(m).toString(16)).slice(-2)}function p_(e){var n,r;return null!=(r=null!=(n=pf[(e=e.trim()).toLowerCase()])?n:pf[py[e]])?r:pv(e)}function px(e,n,r){return r<0&&(r+=6),r>=6&&(r-=6),r<1?(n-e)*r+e:r<3?n:r<4?(n-e)*(4-r)+e:e}function pO(e){return e<0?0:e>255?255:Math.round(e)}var pw=[0,.69444,0,0],pE=[0,.61111,0,0],pC=[.25,.75,0,0],pT=[0,.44444,0,0],pk=[0,.68611,0,0],pR=[.19444,.69444,0,0],pS=[0,.68333,0,0],pA=[0,.68889,0,0],pI=[0,.69141,0,0],pL=[0,0,0,0],pM=[0,.64444,0,0],pN=[0,.69224,0,0],pD=[.19444,.44444,0,0],pB=[.65002,1.15,0,0],pP=[0,.55556,0,0],pK=[.35001,.85,0,0],pU=[1.25003,1.75,0,0],pV=[.95003,1.45,0,0],pG=[0,.75,0,0],pF=[0,.47534,0,0],pH=[.25001,.75,0,0],pz=[.55001,1.05,0,0],p$=[.16667,.68889,0,0],pZ=[.08167,.58167,0,0],pj={"AMS-Regular":{32:pL,65:pA,66:pA,67:pA,68:pA,69:pA,70:pA,71:pA,72:pA,73:pA,74:p$,75:pA,76:pA,77:pA,78:pA,79:p$,80:pA,81:p$,82:pA,83:pA,84:pA,85:pA,86:pA,87:pA,88:pA,89:pA,90:pA,107:pA,160:pL,165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:pA,295:pA,710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:pZ,1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:pA,8487:pA,8498:pA,8502:pA,8503:pA,8504:pA,8513:pA,8592:[-.03598,.46402,0,0],8594:[-.03598,.46402,0,0],8602:[-.13313,.36687,0,0],8603:[-.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-.13313,.37788,0,0],8622:[-.13313,.36687,0,0],8624:pN,8625:pN,8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,0,0],8647:[.1808,.675,0,0],8648:[.19444,.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-.13313,.36687,0,0],8654:[-.13313,.36687,0,0],8655:[-.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-.13313,.37788,0,0],8672:[-.064,.437,0,0],8674:[-.064,.437,0,0],8705:[0,.825,0,0],8708:pA,8709:pZ,8717:[0,.43056,0,0],8722:[-.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:pZ,8733:pN,8736:pN,8737:pN,8738:[.03517,.52239,0,0],8739:pZ,8740:[.25142,.74111,0,0],8741:pZ,8742:[.25142,.74111,0,0],8756:pN,8757:pN,8764:[-.13313,.36687,0,0],8765:[-.13313,.37788,0,0],8769:[-.13313,.36687,0,0],8770:[-.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-.01688,.48312,0,0],8778:pZ,8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:pN,8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],8807:[.25583,.75583,0,0],8808:[.25142,.75726,0,0],8809:[.25142,.75726,0,0],8812:[.25583,.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,.54986,0,0],8848:[.03517,.54986,0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:pN,8873:pN,8874:pN,8876:pA,8877:pA,8878:pA,8879:pA,8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:pZ,8905:pZ,8906:pZ,8907:pN,8908:pN,8909:[-.03598,.46402,0,0],8910:[0,.54986,0,0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:pN,8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,.70576,0,0],8939:[.20576,.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:pN,9488:pN,9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:pN,10016:pN,10731:[.11111,.69224,0,0],10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,.75726,0,0],10949:[.25583,.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:pZ,57351:pZ,57352:pZ,57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{32:pL,65:[0,.68333,0,.19445],66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,.075,.13889],84:[0,.68333,.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889],160:pL},"Fraktur-Regular":{32:pL,33:pI,34:pI,38:pI,39:pI,40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:pF,49:pF,50:pF,51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,.47534,0,0],54:pI,55:[.18906,.47534,0,0],56:pI,57:[.18906,.47534,0,0],58:pF,59:[.12604,.47534,0,0],61:[-.13099,.36866,0,0],63:pI,65:pI,66:pI,67:pI,68:pI,69:pI,70:[.12604,.69141,0,0],71:pI,72:[.06302,.69141,0,0],73:pI,74:[.12604,.69141,0,0],75:pI,76:pI,77:pI,78:pI,79:pI,80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:pI,83:pI,84:pI,85:pI,86:pI,87:pI,88:pI,89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:pI,97:pF,98:pI,99:pF,100:[0,.62119,0,0],101:pF,102:[.18906,.69141,0,0],103:[.18906,.47534,0,0],104:[.18906,.69141,0,0],105:pI,106:pI,107:pI,108:pI,109:pF,110:pF,111:pF,112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:pF,115:pF,116:[0,.62119,0,0],117:pF,118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],160:pL,8216:pI,8217:pI,58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:pI,58118:[0,.62119,0,0],58119:pF},"Main-Bold":{32:pL,33:pw,34:pw,35:pR,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:pw,39:pw,40:pC,41:pC,42:pG,43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:pT,46:[0,.15556,0,0],47:pC,48:pM,49:pM,50:pM,51:pM,52:pM,53:pM,54:pM,55:pM,56:pM,57:pM,58:pT,59:pD,60:[.08556,.58556,0,0],61:[-.10889,.39111,0,0],62:[.08556,.58556,0,0],63:pw,64:pw,65:pk,66:pk,67:pk,68:pk,69:pk,70:pk,71:pk,72:pk,73:pk,74:pk,75:pk,76:pk,77:pk,78:pk,79:pk,80:pk,81:[.19444,.68611,0,0],82:pk,83:pk,84:pk,85:pk,86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:pk,89:[0,.68611,.02875,0],90:pk,91:pC,92:pC,93:pC,94:pw,95:[.31,.13444,.03194,0],97:pT,98:pw,99:pT,100:pw,101:pT,102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:pw,105:pw,106:pR,107:pw,108:pw,109:pT,110:pT,111:pT,112:pD,113:pD,114:pT,115:pT,116:[0,.63492,0,0],117:pT,118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:pT,121:[.19444,.44444,.01597,0],122:pT,123:pC,124:pC,125:pC,126:[.35,.34444,0,0],160:pL,163:pw,168:pw,172:pT,176:pw,177:[.13333,.63333,0,0],184:[.17014,0,0,0],198:pk,215:[.13333,.63333,0,0],216:[.04861,.73472,0,0],223:pw,230:pT,247:[.13333,.63333,0,0],248:[.09722,.54167,0,0],305:pT,338:pk,339:pT,567:pD,710:pw,711:[0,.63194,0,0],713:[0,.59611,0,0],714:pw,715:pw,728:pw,729:pw,730:pw,732:pw,733:pw,915:pk,916:pk,920:pk,923:pk,926:pk,928:pk,931:pk,933:pk,934:pk,936:pk,937:pk,8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:pw,8217:pw,8220:pw,8221:pw,8224:pR,8225:pR,8242:pP,8407:[0,.72444,.15486,0],8463:pw,8465:pw,8467:pw,8472:pD,8476:pw,8501:pw,8592:[-.10889,.39111,0,0],8593:pR,8594:[-.10889,.39111,0,0],8595:pR,8596:[-.10889,.39111,0,0],8597:pC,8598:pR,8599:pR,8600:pR,8601:pR,8636:[-.10889,.39111,0,0],8637:[-.10889,.39111,0,0],8640:[-.10889,.39111,0,0],8641:[-.10889,.39111,0,0],8656:[-.10889,.39111,0,0],8657:pR,8658:[-.10889,.39111,0,0],8659:pR,8660:[-.10889,.39111,0,0],8661:pC,8704:pw,8706:[0,.69444,.06389,0],8707:pw,8709:[.05556,.75,0,0],8711:pk,8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:pC,8726:pC,8727:[-.02778,.47222,0,0],8728:[-.02639,.47361,0,0],8729:[-.02639,.47361,0,0],8730:[.18,.82,0,0],8733:pT,8734:pT,8736:pN,8739:pC,8741:pC,8743:pP,8744:pP,8745:pP,8746:pP,8747:[.19444,.69444,.12778,0],8764:[-.10889,.39111,0,0],8768:pR,8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,0,0],8839:[.19667,.69667,0,0],8846:pP,8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:pP,8852:pP,8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:pw,8867:pw,8868:pw,8869:pw,8900:[-.02639,.47361,0,0],8901:[-.02639,.47361,0,0],8902:[-.02778,.47222,0,0],8968:pC,8969:pC,8970:pC,8971:pC,8994:[-.13889,.36111,0,0],8995:[-.13889,.36111,0,0],9651:pR,9657:[-.02778,.47222,0,0],9661:pR,9667:[-.02778,.47222,0,0],9711:pR,9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:pG,9838:pR,9839:pR,10216:pC,10217:pC,10815:pk,10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0],57376:pR},"Main-BoldItalic":{32:pL,33:[0,.69444,.11417,0],34:[0,.69444,.07939,0],35:[.19444,.69444,.06833,0],37:[.05556,.75,.12861,0],38:[0,.69444,.08528,0],39:[0,.69444,.12945,0],40:[.25,.75,.15806,0],41:[.25,.75,.03306,0],42:[0,.75,.14333,0],43:[.10333,.60333,.03306,0],44:[.19444,.14722,0,0],45:[0,.44444,.02611,0],46:[0,.14722,0,0],47:[.25,.75,.15806,0],48:[0,.64444,.13167,0],49:[0,.64444,.13167,0],50:[0,.64444,.13167,0],51:[0,.64444,.13167,0],52:[.19444,.64444,.13167,0],53:[0,.64444,.13167,0],54:[0,.64444,.13167,0],55:[.19444,.64444,.13167,0],56:[0,.64444,.13167,0],57:[0,.64444,.13167,0],58:[0,.44444,.06695,0],59:[.19444,.44444,.06695,0],61:[-.10889,.39111,.06833,0],63:[0,.69444,.11472,0],64:[0,.69444,.09208,0],65:pk,66:[0,.68611,.0992,0],67:[0,.68611,.14208,0],68:[0,.68611,.09062,0],69:[0,.68611,.11431,0],70:[0,.68611,.12903,0],71:[0,.68611,.07347,0],72:[0,.68611,.17208,0],73:[0,.68611,.15681,0],74:[0,.68611,.145,0],75:[0,.68611,.14208,0],76:pk,77:[0,.68611,.17208,0],78:[0,.68611,.17208,0],79:[0,.68611,.09062,0],80:[0,.68611,.0992,0],81:[.19444,.68611,.09062,0],82:[0,.68611,.02559,0],83:[0,.68611,.11264,0],84:[0,.68611,.12903,0],85:[0,.68611,.17208,0],86:[0,.68611,.18625,0],87:[0,.68611,.18625,0],88:[0,.68611,.15681,0],89:[0,.68611,.19803,0],90:[0,.68611,.14208,0],91:[.25,.75,.1875,0],93:[.25,.75,.09972,0],94:[0,.69444,.06709,0],95:[.31,.13444,.09811,0],97:[0,.44444,.09426,0],98:[0,.69444,.07861,0],99:[0,.44444,.05222,0],100:[0,.69444,.10861,0],101:[0,.44444,.085,0],102:[.19444,.69444,.21778,0],103:[.19444,.44444,.105,0],104:[0,.69444,.09426,0],105:[0,.69326,.11387,0],106:[.19444,.69326,.1672,0],107:[0,.69444,.11111,0],108:[0,.69444,.10861,0],109:[0,.44444,.09426,0],110:[0,.44444,.09426,0],111:[0,.44444,.07861,0],112:[.19444,.44444,.07861,0],113:[.19444,.44444,.105,0],114:[0,.44444,.11111,0],115:[0,.44444,.08167,0],116:[0,.63492,.09639,0],117:[0,.44444,.09426,0],118:[0,.44444,.11111,0],119:[0,.44444,.11111,0],120:[0,.44444,.12583,0],121:[.19444,.44444,.105,0],122:[0,.44444,.13889,0],126:[.35,.34444,.11472,0],160:pL,168:[0,.69444,.11473,0],176:pw,184:[.17014,0,0,0],198:[0,.68611,.11431,0],216:[.04861,.73472,.09062,0],223:[.19444,.69444,.09736,0],230:[0,.44444,.085,0],248:[.09722,.54167,.09458,0],305:[0,.44444,.09426,0],338:[0,.68611,.11431,0],339:[0,.44444,.085,0],567:[.19444,.44444,.04611,0],710:[0,.69444,.06709,0],711:[0,.63194,.08271,0],713:[0,.59444,.10444,0],714:[0,.69444,.08528,0],715:pw,728:[0,.69444,.10333,0],729:[0,.69444,.12945,0],730:pw,732:[0,.69444,.11472,0],733:[0,.69444,.11472,0],915:[0,.68611,.12903,0],916:pk,920:[0,.68611,.09062,0],923:pk,926:[0,.68611,.15092,0],928:[0,.68611,.17208,0],931:[0,.68611,.11431,0],933:[0,.68611,.10778,0],934:[0,.68611,.05632,0],936:[0,.68611,.10778,0],937:[0,.68611,.0992,0],8211:[0,.44444,.09811,0],8212:[0,.44444,.09811,0],8216:[0,.69444,.12945,0],8217:[0,.69444,.12945,0],8220:[0,.69444,.16772,0],8221:[0,.69444,.07939,0]},"Main-Italic":{32:pL,33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,0],51:[0,.64444,.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:pS,66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,0],75:[0,.68333,.14528,0],76:pS,77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,.43056,.05653,0],100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,.43056,.10764,0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],160:pL,168:[0,.66786,.10474,0],176:pw,184:[.17014,0,0,0],198:[0,.68333,.12028,0],216:[.04861,.73194,.09403,0],223:[.19444,.69444,.10514,0],230:[0,.43056,.07514,0],248:[.09722,.52778,.09194,0],338:[0,.68333,.12028,0],339:[0,.43056,.07514,0],710:[0,.69444,.06646,0],711:[0,.62847,.08295,0],713:[0,.56167,.10333,0],714:[0,.69444,.09694,0],715:pw,728:[0,.69444,.10806,0],729:[0,.66786,.11752,0],730:pw,732:[0,.66786,.11585,0],733:[0,.69444,.1225,0],915:[0,.68333,.13305,0],916:pS,920:[0,.68333,.09403,0],923:pS,926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:pA},"Main-Regular":{32:pL,33:pw,34:pw,35:pR,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:pw,39:pw,40:pC,41:pC,42:pG,43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:pC,48:pM,49:pM,50:pM,51:pM,52:pM,53:pM,54:pM,55:pM,56:pM,57:pM,58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-.13313,.36687,0,0],62:[.0391,.5391,0,0],63:pw,64:pw,65:pS,66:pS,67:pS,68:pS,69:pS,70:pS,71:pS,72:pS,73:pS,74:pS,75:pS,76:pS,77:pS,78:pS,79:pS,80:pS,81:[.19444,.68333,0,0],82:pS,83:pS,84:pS,85:pS,86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:pS,89:[0,.68333,.025,0],90:pS,91:pC,92:pC,93:pC,94:pw,95:[.31,.12056,.02778,0],97:[0,.43056,0,0],98:pw,99:[0,.43056,0,0],100:pw,101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:pw,105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:pw,108:pw,109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],121:[.19444,.43056,.01389,0],122:[0,.43056,0,0],123:pC,124:pC,125:pC,126:[.35,.31786,0,0],160:pL,163:pw,167:pR,168:[0,.66786,0,0],172:[0,.43056,0,0],176:pw,177:[.08333,.58333,0,0],182:pR,184:[.17014,0,0,0],198:pS,215:[.08333,.58333,0,0],216:[.04861,.73194,0,0],223:pw,230:[0,.43056,0,0],247:[.08333,.58333,0,0],248:[.09722,.52778,0,0],305:[0,.43056,0,0],338:pS,339:[0,.43056,0,0],567:[.19444,.43056,0,0],710:pw,711:[0,.62847,0,0],713:[0,.56778,0,0],714:pw,715:pw,728:pw,729:[0,.66786,0,0],730:pw,732:[0,.66786,0,0],733:pw,915:pS,916:pS,920:pS,923:pS,926:pS,928:pS,931:pS,933:pS,934:pS,936:pS,937:pS,8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:pw,8217:pw,8220:pw,8221:pw,8224:pR,8225:pR,8230:[0,.12,0,0],8242:pP,8407:[0,.71444,.15382,0],8463:pA,8465:pw,8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:pw,8501:pw,8592:[-.13313,.36687,0,0],8593:pR,8594:[-.13313,.36687,0,0],8595:pR,8596:[-.13313,.36687,0,0],8597:pC,8598:pR,8599:pR,8600:pR,8601:pR,8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],8636:[-.13313,.36687,0,0],8637:[-.13313,.36687,0,0],8640:[-.13313,.36687,0,0],8641:[-.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-.13313,.36687,0,0],8657:pR,8658:[-.13313,.36687,0,0],8659:pR,8660:[-.13313,.36687,0,0],8661:pC,8704:pw,8706:[0,.69444,.05556,.08334],8707:pw,8709:[.05556,.75,0,0],8711:pS,8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:pC,8726:pC,8727:[-.03472,.46528,0,0],8728:[-.05555,.44445,0,0],8729:[-.05555,.44445,0,0],8730:[.2,.8,0,0],8733:[0,.43056,0,0],8734:[0,.43056,0,0],8736:pN,8739:pC,8741:pC,8743:pP,8744:pP,8745:pP,8746:pP,8747:[.19444,.69444,.11111,0],8764:[-.13313,.36687,0,0],8768:pR,8771:[-.03625,.46375,0,0],8773:[-.022,.589,0,0],8776:[-.01688,.48312,0,0],8781:[-.03625,.46375,0,0],8784:[-.133,.67,0,0],8801:[-.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,.63597,0,0],8839:[.13597,.63597,0,0],8846:pP,8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:pP,8852:pP,8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:pw,8867:pw,8868:pw,8869:pw,8872:[.249,.75,0,0],8900:[-.05555,.44445,0,0],8901:[-.05555,.44445,0,0],8902:[-.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-.19,.31,0,0],8945:[-.1,.82,0,0],8968:pC,8969:pC,8970:pC,8971:pC,8994:[-.14236,.35764,0,0],8995:[-.14236,.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:pR,9657:[-.03472,.46528,0,0],9661:pR,9667:[-.03472,.46528,0,0],9711:pR,9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:pG,9838:pR,9839:pR,10216:pC,10217:pC,10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:pS,10927:[.13597,.63597,0,0],10928:[.13597,.63597,0,0],57376:pR},"Math-BoldItalic":{32:pL,48:pT,49:pT,50:pT,51:pD,52:pD,53:pD,54:pM,55:pD,56:pM,57:pD,65:pk,66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:pk,72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:pk,77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,.05382,0],84:[0,.68611,.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:pT,98:pw,99:pT,100:pw,101:pT,102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:pw,105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:pT,110:pT,111:pT,112:pD,113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:pT,116:[0,.63492,0,0],117:pT,118:[0,.44444,.03704,0],119:[0,.44444,.02778,0],120:pT,121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],160:pL,915:[0,.68611,.15972,0],916:pk,920:[0,.68611,.03194,0],923:pk,926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:pk,936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:pT,946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:pT,950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:pT,954:pT,955:pw,956:pD,957:[0,.44444,.06898,0],958:[.19444,.69444,.03021,0],959:pT,960:[0,.44444,.03704,0],961:pD,962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:pD,967:pD,968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:pw,981:pR,982:[0,.44444,.03194,0],1009:pD,1013:pT,57649:pT,57911:pD},"Math-Italic":{32:pL,48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:pM,55:[.19444,.43056,0,0],56:pM,57:[.19444,.43056,0,0],65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:pw,99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:pw,105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],160:pL,915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:pw,956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556],57649:[0,.43056,0,.02778],57911:[.19444,.43056,0,.08334]},"SansSerif-Bold":{32:pL,33:pw,34:pw,35:pR,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:pw,39:pw,40:pC,41:pC,42:pG,43:[.11667,.61667,0,0],44:[.10556,.13056,0,0],45:[0,.45833,0,0],46:[0,.13056,0,0],47:pC,48:pw,49:pw,50:pw,51:pw,52:pw,53:pw,54:pw,55:pw,56:pw,57:pw,58:[0,.45833,0,0],59:[.10556,.45833,0,0],61:[-.09375,.40625,0,0],63:pw,64:pw,65:pw,66:pw,67:pw,68:pw,69:pw,70:pw,71:pw,72:pw,73:pw,74:pw,75:pw,76:pw,77:pw,78:pw,79:pw,80:pw,81:[.10556,.69444,0,0],82:pw,83:pw,84:pw,85:pw,86:[0,.69444,.01528,0],87:[0,.69444,.01528,0],88:pw,89:[0,.69444,.0275,0],90:pw,91:pC,93:pC,94:pw,95:[.35,.10833,.03056,0],97:[0,.45833,0,0],98:pw,99:[0,.45833,0,0],100:pw,101:[0,.45833,0,0],102:[0,.69444,.07639,0],103:[.19444,.45833,.01528,0],104:pw,105:pw,106:pR,107:pw,108:pw,109:[0,.45833,0,0],110:[0,.45833,0,0],111:[0,.45833,0,0],112:[.19444,.45833,0,0],113:[.19444,.45833,0,0],114:[0,.45833,.01528,0],115:[0,.45833,0,0],116:[0,.58929,0,0],117:[0,.45833,0,0],118:[0,.45833,.01528,0],119:[0,.45833,.01528,0],120:[0,.45833,0,0],121:[.19444,.45833,.01528,0],122:[0,.45833,0,0],126:[.35,.34444,0,0],160:pL,168:pw,176:pw,180:pw,184:[.17014,0,0,0],305:[0,.45833,0,0],567:[.19444,.45833,0,0],710:pw,711:[0,.63542,0,0],713:[0,.63778,0,0],728:pw,729:pw,730:pw,732:pw,733:pw,915:pw,916:pw,920:pw,923:pw,926:pw,928:pw,931:pw,933:pw,934:pw,936:pw,937:pw,8211:[0,.45833,.03056,0],8212:[0,.45833,.03056,0],8216:pw,8217:pw,8220:pw,8221:pw},"SansSerif-Italic":{32:pL,33:[0,.69444,.05733,0],34:[0,.69444,.00316,0],35:[.19444,.69444,.05087,0],36:[.05556,.75,.11156,0],37:[.05556,.75,.03126,0],38:[0,.69444,.03058,0],39:[0,.69444,.07816,0],40:[.25,.75,.13164,0],41:[.25,.75,.02536,0],42:[0,.75,.11775,0],43:[.08333,.58333,.02536,0],44:[.125,.08333,0,0],45:[0,.44444,.01946,0],46:[0,.08333,0,0],47:[.25,.75,.13164,0],48:[0,.65556,.11156,0],49:[0,.65556,.11156,0],50:[0,.65556,.11156,0],51:[0,.65556,.11156,0],52:[0,.65556,.11156,0],53:[0,.65556,.11156,0],54:[0,.65556,.11156,0],55:[0,.65556,.11156,0],56:[0,.65556,.11156,0],57:[0,.65556,.11156,0],58:[0,.44444,.02502,0],59:[.125,.44444,.02502,0],61:[-.13,.37,.05087,0],63:[0,.69444,.11809,0],64:[0,.69444,.07555,0],65:pw,66:[0,.69444,.08293,0],67:[0,.69444,.11983,0],68:[0,.69444,.07555,0],69:[0,.69444,.11983,0],70:[0,.69444,.13372,0],71:[0,.69444,.11983,0],72:[0,.69444,.08094,0],73:[0,.69444,.13372,0],74:[0,.69444,.08094,0],75:[0,.69444,.11983,0],76:pw,77:[0,.69444,.08094,0],78:[0,.69444,.08094,0],79:[0,.69444,.07555,0],80:[0,.69444,.08293,0],81:[.125,.69444,.07555,0],82:[0,.69444,.08293,0],83:[0,.69444,.09205,0],84:[0,.69444,.13372,0],85:[0,.69444,.08094,0],86:[0,.69444,.1615,0],87:[0,.69444,.1615,0],88:[0,.69444,.13372,0],89:[0,.69444,.17261,0],90:[0,.69444,.11983,0],91:[.25,.75,.15942,0],93:[.25,.75,.08719,0],94:[0,.69444,.0799,0],95:[.35,.09444,.08616,0],97:[0,.44444,.00981,0],98:[0,.69444,.03057,0],99:[0,.44444,.08336,0],100:[0,.69444,.09483,0],101:[0,.44444,.06778,0],102:[0,.69444,.21705,0],103:[.19444,.44444,.10836,0],104:[0,.69444,.01778,0],105:[0,.67937,.09718,0],106:[.19444,.67937,.09162,0],107:[0,.69444,.08336,0],108:[0,.69444,.09483,0],109:[0,.44444,.01778,0],110:[0,.44444,.01778,0],111:[0,.44444,.06613,0],112:[.19444,.44444,.0389,0],113:[.19444,.44444,.04169,0],114:[0,.44444,.10836,0],115:[0,.44444,.0778,0],116:[0,.57143,.07225,0],117:[0,.44444,.04169,0],118:[0,.44444,.10836,0],119:[0,.44444,.10836,0],120:[0,.44444,.09169,0],121:[.19444,.44444,.10836,0],122:[0,.44444,.08752,0],126:[.35,.32659,.08826,0],160:pL,168:[0,.67937,.06385,0],176:pw,184:[.17014,0,0,0],305:[0,.44444,.04169,0],567:[.19444,.44444,.04169,0],710:[0,.69444,.0799,0],711:[0,.63194,.08432,0],713:[0,.60889,.08776,0],714:[0,.69444,.09205,0],715:pw,728:[0,.69444,.09483,0],729:[0,.67937,.07774,0],730:pw,732:[0,.67659,.08826,0],733:[0,.69444,.09205,0],915:[0,.69444,.13372,0],916:pw,920:[0,.69444,.07555,0],923:pw,926:[0,.69444,.12816,0],928:[0,.69444,.08094,0],931:[0,.69444,.11983,0],933:[0,.69444,.09031,0],934:[0,.69444,.04603,0],936:[0,.69444,.09031,0],937:[0,.69444,.08293,0],8211:[0,.44444,.08616,0],8212:[0,.44444,.08616,0],8216:[0,.69444,.07816,0],8217:[0,.69444,.07816,0],8220:[0,.69444,.14205,0],8221:[0,.69444,.00316,0]},"SansSerif-Regular":{32:pL,33:pw,34:pw,35:pR,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:pw,39:pw,40:pC,41:pC,42:pG,43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:pT,46:[0,.08333,0,0],47:pC,48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,0,0],58:pT,59:[.125,.44444,0,0],61:[-.13,.37,0,0],63:pw,64:pw,65:pw,66:pw,67:pw,68:pw,69:pw,70:pw,71:pw,72:pw,73:pw,74:pw,75:pw,76:pw,77:pw,78:pw,79:pw,80:pw,81:[.125,.69444,0,0],82:pw,83:pw,84:pw,85:pw,86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:pw,89:[0,.69444,.025,0],90:pw,91:pC,93:pC,94:pw,95:[.35,.09444,.02778,0],97:pT,98:pw,99:pT,100:pw,101:pT,102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:pw,105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:pw,108:pw,109:pT,110:pT,111:pT,112:pD,113:pD,114:[0,.44444,.01389,0],115:pT,116:[0,.57143,0,0],117:pT,118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:pT,121:[.19444,.44444,.01389,0],122:pT,126:[.35,.32659,0,0],160:pL,168:[0,.67937,0,0],176:pw,184:[.17014,0,0,0],305:pT,567:pD,710:pw,711:[0,.63194,0,0],713:[0,.60889,0,0],714:pw,715:pw,728:pw,729:[0,.67937,0,0],730:pw,732:[0,.67659,0,0],733:pw,915:pw,916:pw,920:pw,923:pw,926:pw,928:pw,931:pw,933:pw,934:pw,936:pw,937:pw,8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:pw,8217:pw,8220:pw,8221:pw},"Script-Regular":{32:pL,65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,.7,.2939,0],90:[0,.7,.24037,0],160:pL},"Size1-Regular":{32:pL,40:pK,41:pK,47:pK,91:pK,92:pK,93:pK,123:pK,125:pK,160:pL,710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-.00099,.601,0,0],8593:[1e-5,.6,0,0],8595:[1e-5,.6,0,0],8657:[1e-5,.6,0,0],8659:[1e-5,.6,0,0],8719:pH,8720:pH,8721:pH,8730:pK,8739:[-.00599,.606,0,0],8741:[-.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:pH,8897:pH,8898:pH,8899:pH,8968:pK,8969:pK,8970:pK,8971:pK,9168:[-.00099,.601,0,0],10216:pK,10217:pK,10752:pH,10753:pH,10754:pH,10756:pH,10758:pH},"Size2-Regular":{32:pL,40:pB,41:pB,47:pB,91:pB,92:pB,93:pB,123:pB,125:pB,160:pL,710:pG,732:pG,770:pG,771:pG,8719:pz,8720:pz,8721:pz,8730:pB,8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:pz,8897:pz,8898:pz,8899:pz,8968:pB,8969:pB,8970:pB,8971:pB,10216:pB,10217:pB,10752:pz,10753:pz,10754:pz,10756:pz,10758:pz},"Size3-Regular":{32:pL,40:pV,41:pV,47:pV,91:pV,92:pV,93:pV,123:pV,125:pV,160:pL,710:pG,732:pG,770:pG,771:pG,8730:pV,8968:pV,8969:pV,8970:pV,8971:pV,10216:pV,10217:pV},"Size4-Regular":{32:pL,40:pU,41:pU,47:pU,91:pU,92:pU,93:pU,123:pU,125:pU,160:pL,710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:pU,8968:pU,8969:pU,8970:pU,8971:pU,9115:[.64502,1.155,0,0],9116:[1e-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1e-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,1.155,0,0],9122:[-.00099,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-.00099,.601,0,0],9126:[.64502,1.155,0,0],9127:[1e-5,.9,0,0],9128:pB,9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1e-5,.9,0,0],9132:pB,9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:pU,10217:pU,57344:[-.00499,.605,0,0],57345:[-.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{32:pL,33:pE,34:pE,35:pE,36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:pE,39:pE,40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:pE,49:pE,50:pE,51:pE,52:pE,53:pE,54:pE,55:pE,56:pE,57:pE,58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-.05556,.55556,0,0],61:[-.19549,.41562,0,0],62:[-.05556,.55556,0,0],63:pE,64:pE,65:pE,66:pE,67:pE,68:pE,69:pE,70:pE,71:pE,72:pE,73:pE,74:pE,75:pE,76:pE,77:pE,78:pE,79:pE,80:pE,81:[.13889,.61111,0,0],82:pE,83:pE,84:pE,85:pE,86:pE,87:pE,88:pE,89:pE,90:pE,91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:pE,95:[.09514,0,0,0],96:pE,97:[0,.43056,0,0],98:pE,99:[0,.43056,0,0],100:pE,101:[0,.43056,0,0],102:pE,103:[.22222,.43056,0,0],104:pE,105:pE,106:[.22222,.61111,0,0],107:pE,108:pE,109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:pE,127:pE,160:pL,176:pE,184:[.19445,0,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],711:[0,.56597,0,0],713:[0,.56555,0,0],714:pE,715:pE,728:pE,730:pE,770:pE,771:pE,776:pE,915:pE,916:pE,920:pE,923:pE,926:pE,928:pE,931:pE,933:pE,934:pE,936:pE,937:pE,8216:pE,8217:pE,8242:pE,9251:[.11111,.21944,0,0]}},pW=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,pq={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},pY=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],pX={"\xa0":" ","":" ",:"A",:"C",:"D",:"o",:"a",:"c",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function pJ(e,n){void 0===e&&(e=77);let r=pj[n][e];if(r)return{defaultMetrics:!1,depth:r[0],height:r[1],italic:r[2],skew:r[3]};if(11034===e)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0};let i=String.fromCodePoint(e);if(i in pX)e=pX[i].codePointAt(0);else if(pW.test(i))return e=77,{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0}}var pQ={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},p0={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},p1={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:`m 529 160
  c -179 0 -524 -115 -524 -115
  c -5 -1 -9 -5 -9 -10
  c 0 -1 1 -2 1 -3
  l 4 -22
  c 1 -5 5 -9 11 -9
  h 2
  s 338 93 512 92
  c 174 0 513 -92 513 -92
  h 2
  c 5 0 9 4 11 9
  l 5 22
  c 1 6 -2 12 -8 13
  c 0 0 -342 115 -520 115
  z
  `,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,widetilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,widetilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,widetilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,widetilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},p2=class{constructor(e){p2._registry[e]=this}static createAtom(e,n,r,i){return p2._registry[e].createAtom(n,r,i)}static serialize(e,n){return e.length,p2._registry[e[0].mode].serialize(e,n)}static applyStyle(e,n,r){return p2._registry[e].applyStyle(n,r)}},p3=p2;function p4(e,n){let r=[],i=[],a;for(let o of e)if("first"!==o.type&&o.style){let e;"variant"===n?(e=o.style.variant,o.style.variantStyle&&"up"!==o.style.variantStyle&&(e+="-"+o.style.variantStyle)):"cssClass"===n?"group"===o.type&&(e=o.customClass):e=o.style[n],e===a?i.push(o):(i.length>0&&r.push(i),i=[o],a=e)}return i.length>0&&r.push(i),r}function p6(e){return({chem:"chem",mord:"ord",mbin:"bin",mop:"op",mrel:"rel",mopen:"open",mclose:"close",mpunct:"punct",minner:"inner",spacing:"spacing",first:"first",latex:"latex",composition:"composition",error:"error",placeholder:"placeholder",supsub:"supsub"})[e]}function p5(e){if(0===e.length)return"ord";let n=p6(e[0].type),r=p6(e[e.length-1].type);return n&&n===r?n:"ord"}p3._registry={};var p8={ord:{op:3,bin:4,rel:5,inner:3},op:{ord:3,op:3,rel:5,inner:3},bin:{ord:4,op:4,open:4,inner:4},rel:{ord:5,op:5,open:5,inner:5},close:{op:3,bin:4,rel:5,inner:3},punct:{ord:3,op:3,rel:3,open:3,punct:3,inner:3},inner:{ord:3,op:3,bin:4,rel:5,open:3,punct:3,inner:3}},p7={ord:{op:3},op:{ord:3,op:3},close:{op:3},inner:{op:3}};function p9(e,n){if("string"==typeof e)return e;if("number"==typeof e){Number.isFinite(e);let r=Math.ceil(100*e)/100;return 0===r?"0":r.toString()+(null!=n?n:"")}return""}var me=class{constructor(e,n){var r,i,a,o,l,s;if("number"==typeof e?this.value=String.fromCodePoint(e):"string"==typeof e?this.value=e:po(e)?this.children=e.filter(e=>null!==e):e&&e instanceof me&&(this.children=[e]),this.type=null!=(r=null==n?void 0:n.type)?r:"",this.isSelected=!1,this.isTight=null!=(i=null==n?void 0:n.isTight)&&i,this.break=null!=(a=null==n?void 0:n.newList)&&a,null!=n&&n.properties)for(let e of Object.keys(n.properties))this.setStyle(e,n.properties[e]);null!=n&&n.attributes&&(this.attributes=n.attributes),this.classes=null!=(o=null==n?void 0:n.classes)?o:"";let u=(null==n?void 0:n.fontFamily)||"Main-Regular";if(null!=n&&n.style&&this.value&&(u=p3.applyStyle(null!=(l=n.mode)?l:"math",this,n.style)||"Main-Regular"),this.height=0,this.depth=0,this.skew=0,this.italic=0,this.maxFontSize=0,"latex"===this.type)this.height=.8,this.depth=.2;else if("number"==typeof e){let n=pJ(e,u);this.height=n.height,this.depth=n.depth,this.skew=n.skew,this.italic=n.italic}else if(this.value){this.height=-1/0,this.depth=-1/0,this.skew=-1/0,this.italic=-1/0;for(let e=0;e<this.value.length;e++){let n=pJ(this.value.codePointAt(e),u||"Main-Regular");this.height=Math.max(this.height,n.height),this.depth=Math.max(this.depth,n.depth),this.skew=n.skew,this.italic=n.italic}}else if(this.children&&this.children.length>0){if(1===this.children.length){let e=this.children[0];this.height=e.height,this.depth=e.depth,this.maxFontSize=e.maxFontSize,this.skew=e.skew,this.italic=e.italic}else{let e=-1/0,n=-1/0,r=0;for(let i of this.children)i.height>e&&(e=i.height),i.depth>n&&(n=i.depth),r=Math.max(r,null!=(s=i.maxFontSize)?s:0);this.height=e,this.depth=n,this.maxFontSize=r}}(null==n?void 0:n.height)!==void 0&&(this.height=n.height),(null==n?void 0:n.depth)!==void 0&&(this.depth=n.depth),(null==n?void 0:n.maxFontSize)!==void 0&&(this.maxFontSize=n.maxFontSize)}set atomID(e){void 0===e||0===e.length||(this.attributes||(this.attributes={}),this.attributes["data-atom-id"]=e)}selected(e){if(this.isSelected!==e&&(this.isSelected=e,this.children))for(let n of this.children)n.selected(e)}setStyle(e,n,r){if(void 0===n)return;let i=p9(n,r);i.length>0&&(this.cssProperties||(this.cssProperties={}),this.cssProperties[e]=i)}setTop(e){Number.isFinite(e)&&Math.abs(e)>.01&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=p9(e,"em"),this.height-=e,this.depth+=e)}get left(){var e;return null!=(e=this.cssProperties)&&e["margin-left"]?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(e){Number.isFinite(e)&&(0===e?this.cssProperties&&delete this.cssProperties["margin-left"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-left"]=p9(e,"em")))}set right(e){Number.isFinite(e)&&(0===e?this.cssProperties&&delete this.cssProperties["margin-right"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-right"]=p9(e,"em")))}set width(e){Number.isFinite(e)&&(0===e?this.cssProperties&&delete this.cssProperties.width:(this.cssProperties||(this.cssProperties={}),this.cssProperties.width=p9(e,"em")))}wrap(e,n){let r,i=e.parent;if(!i)return this;e.isPhantom&&this.setStyle("opacity",0);let a=e.computedColor;a===i.computedColor&&(a=""),this.setStyle("color",a);let o=e.effectiveFontSize===i.effectiveFontSize?void 0:e.effectiveFontSize,l=e.computedBackgroundColor;if(this.isSelected&&(l=function(e){let n=function(e){let n;if(e&&"#"===e[0])return(e=e.slice(1)).length<=4?(n={r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16)},4===e.length&&(n.a=parseInt(e[3]+e[3],16)/255)):(n={r:parseInt(e[0]+e[1],16),g:parseInt(e[2]+e[3],16),b:parseInt(e[4]+e[5],16)},8===e.length&&(n.a=parseInt(e[6]+e[7],16)/255)),n&&void 0===n.a&&(n.a=1),n}(e);if(!n)return e;let{h:r,s:i,l:a}=function(e){let{r:n,g:r,b:i}=e,a=Math.min(n/=255,r/=255,i/=255),o=Math.max(n,r,i),l=o-a,s;o===a?s=0:n===o?s=(r-i)/l:r===o?s=2+(i-n)/l:i===o&&(s=4+(n-r)/l),(s=Math.min(60*s,360))<0&&(s+=360);let u=(a+o)/2;return{h:s,s:o===a?0:u<=.5?l/(o+a):l/(2-o-a),l:u}}(n);return function(e){let{r:n,g:r,b:i}=e,a=(16777216+(pO(n)<<16)+(pO(r)<<8)+pO(i)).toString(16).slice(1);return a[0]===a[1]&&a[2]===a[3]&&a[4]===a[5]&&a[6]===a[7]&&(a=a[0]+a[2]+a[4]),"#"+a}(function(e){let[n,r,i]=[e.h,e.s,e.l];n=(n+360)%360/60,i=Math.max(0,Math.min(i,1)),r=Math.max(0,Math.min(r,1));let a=i<=.5?i*(r+1):i+r-i*r,o=2*i-a;return{r:Math.round(255*px(o,a,n+2)),g:Math.round(255*px(o,a,n)),b:Math.round(255*px(o,a,n-2))}}({h:r,s:i+=.1,l:a-=.1}))}(l)),l===i.computedBackgroundColor&&(l=""),!o&&!l&&!(n&&(n.classes||n.type)))return this;l?((r=mi(this,n)).selected(this.isSelected),r.setStyle("background-color",l),r.setStyle("display","inline-block")):r=new me(this,n);let s=e.scalingFactor;return 1!==s&&(r.setStyle("font-size",100*s,"%"),r.height*=s,r.depth*=s,r.italic*=s,r.skew*=s),r}toMarkup(){var e,n,r;let i=null!=(e=this.value)?e:"";if(this.children)for(let e of this.children)i+=e.toMarkup();let a=this.classes.split(" ");a.push(null!=(n=({latex:"ML__latex",placeholder:"ML__placeholder",error:"ML__error"})[this.type])?n:""),"latex"===this.caret&&a.push("ML__latex-caret");let o=1===a.length?a[0]:a.filter((e,n,r)=>e.length>0&&r.indexOf(e)===n).join(" "),l="";if(i.length>0&&""!==i||o.length>0||this.cssId||this.htmlData||this.htmlStyle||this.attributes||this.cssProperties||this.svgBody||this.svgOverlay){let e="";if(this.cssId&&(e+=` id="${this.cssId.replace(/ /g,"-")}" `),this.htmlData)for(let n of this.htmlData.split(",")){let r=n.match(/([^=]+)=(.+$)/);if(r){let n=r[1].trim().replace(/ /g,"-");n&&(e+=` data-${n}="${r[2]}" `)}else{let r=n.trim().replace(/ /g,"-");r&&(e+=` data-${r} `)}}if(this.htmlStyle){let n=this.htmlStyle.split(";"),r="";for(let e of n){let n=e.match(/([^=]+):(.+$)/);if(n){let e=n[1].trim().replace(/ /g,"-");e&&(r+=`${e}:${n[2]};`)}}r&&(e+=` style="${r}"`)}if(this.attributes&&(e+=" "+Object.keys(this.attributes).map(e=>`${e}="${this.attributes[e]}"`).join(" ")),o.length>0&&(e+=` class="${o}"`),this.cssProperties){let n=Object.keys(this.cssProperties).map(e=>`${e}:${this.cssProperties[e]}`).join(";");n.length>0&&(e+=` style="${n}"`)}let n="";this.svgBody?n=function(e){if(p0[e]){let[n,r,i]=p0[e],a=`<span class="stretchy" style="height:${i}em"><svg width="100%" height="${i}em" viewBox="0 0 ${n} ${r}" preserveAspectRatio="none" ><path fill="currentcolor" d="${p1[e]}"></path></svg></span>`;return`<span style="display:inline-block;height:${i/2}em;min-width:0">${a}</span>`}let[n,r,i,a]=pQ[e],o,l,s=i/1e3;3===n.length?(o=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],l=["xMinYMin","xMidYMin","xMaxYMin"]):2===n.length?(o=["slice-1-of-2","slice-2-of-2"],l=["xMinYMin","xMaxYMin"]):(o=["slice-1-of-1"],l=[a]);let u=n.map((e,n)=>`<span class="${o[n]}" style=height:${s}em><svg width=400em height=${s}em viewBox="0 0 400000 ${i}" preserveAspectRatio="${l[n]} slice"><path fill="currentcolor" d="${p1[e]}"></path></svg></span>`).join("");return`<span style="display:inline-block;height:${s}em;min-width:${r}em;">${u}</span>`}(this.svgBody):this.svgOverlay&&(n=`<span style="display: inline-block;height:${this.height+this.depth}em;vertical-align:${this.depth}em;">`+i+'</span><svg style="position:absolute;overflow:overlay;'+`height:${this.height+this.depth}em;`,null!=(r=this.cssProperties)&&r.padding?n+=`top:${this.cssProperties.padding}em;left:${this.cssProperties.padding}em;width:calc(100% - 2 * ${this.cssProperties.padding}em );`:n+="top:0;left:0;width:100%;",n+='z-index:2;"',this.svgStyle&&(n+=` style="${this.svgStyle}"`),n+=`>${this.svgOverlay}</svg>`),l=`<span${e}>${i}${n}</span>`}return"text"===this.caret?l+='<span class="ML__text-caret"></span>':"math"===this.caret&&(l+='<span class="ML__caret"></span>'),l}tryCoalesceWith(e){if(this.type!==e.type||!/ML__text/.test(this.classes)&&!["ord","bin","rel"].includes(this.type)||this.svgBody||!this.value||e.svgBody||!e.value)return!1;let n=this.children&&this.children.length>0,r=e.children&&e.children.length>0;if(n||r)return!1;let i=this.cssProperties?Object.keys(this.cssProperties).length:0;if(i!==(e.cssProperties?Object.keys(e.cssProperties).length:0))return!1;if(i>0){for(let n of Object.keys(this.cssProperties))if(this.cssProperties[n]!==e.cssProperties[n])return!1}let a=this.classes.trim().replace(/\s+/g," ").split(" "),o=e.classes.trim().replace(/\s+/g," ").split(" ");if(a.length!==o.length)return!1;for(let[e,n]of(a.sort(),o.sort(),a.entries()))if("vertical-separator"===n||n!==o[e])return!1;return this.value+=e.value,this.height=Math.max(this.height,e.height),this.depth=Math.max(this.depth,e.depth),this.maxFontSize=Math.max(this.maxFontSize,e.maxFontSize),this.italic=e.italic,!0}};function mt(e){return e.children&&(e.children=function e(n){if(!n||0===n.length)return[];n[0].children=e(n[0].children);let r=[n[0]];for(let i=1;i<n.length;i++)r[r.length-1].tryCoalesceWith(n[i])||(n[i].children=e(n[i].children),r.push(n[i]));return r}(e.children)),e}function mn(e,n){e&&function e(n,r,i){var a;if(r.break&&(n=null),(null==(a=r.children)?void 0:a.length)===1&&"first"===r.children[0].type)return;let o=r.type,l="none"===o||"first"===o||"spacing"===o||void 0===o||0===o.length;if(l||i(n,r),!r.children)return l?void 0:r;let s=n;for(let n of r.children){let r=e(s,n,i);void 0!==r&&(s=r)}return s}(null,e,n)}function mr(e,n){let r,i,a;return mn(e,(e,n)=>{"bin"===n.type&&(!e||/^(first|none|bin|op|rel|open|punct)$/.test(e.type))&&(n.type="ord"),e&&"bin"===e.type&&/^(rel|close|punct|placeholder)$/.test(n.type)&&(e.type="ord")}),r=n.getRegisterAsEm("thinmuskip"),i=n.getRegisterAsEm("medmuskip"),a=n.getRegisterAsEm("thickmuskip"),mn(e,(e,n)=>{var o,l,s;if(!(null!=e&&e.type))return;let u=e.type,c=n.isTight?null!=(o=p7[u])?o:null:null!=(l=p8[u])?l:null,d=null!=(s=null==c?void 0:c[n.type])?s:"none";"none"!==d&&(3===d&&(n.left+=r),4===d&&(n.left+=i),5===d&&(n.left+=a))}),e}function mi(e,n){if(!e)return new me(null,n);let r=new me(null,{classes:"ML__strut"});r.setStyle("height",Math.max(0,e.height),"em");let i=[r];if(0!==e.depth){let n=new me(null,{classes:"ML__strut--bottom"});n.setStyle("height",e.height+e.depth,"em"),n.setStyle("vertical-align",-e.depth,"em"),i.push(n)}return i.push(e),new me(i,n)}function ma(e,n,r){return e.svgOverlay=n,e.svgStyle=r,e}function mo(e){let n=(pQ[e]?pQ[e][2]/1e3:p0[e][2])/2,r=new me(null,{height:n+.166,depth:n-.166,maxFontSize:0});return r.svgBody=e,r}var ml,ms,mu,mc,md,mh,mp,mm,mf,mg,my,mb,mv,m_,mx,mO,mw,mE,mC,mT,mk,mR,mS,mA,mI,mL,mM,mN,mD,mB,mP,mK,mU,mV,mG,mF,mH,mz,m$,mZ,mj,mW,mq,mY,mX,mJ,mQ,m0,m1,m2,m3,m4,m6,m5,m8,m7,m9,fe,ft,fn,fr,fi,fa,fo,fl=class extends me{constructor(e,n){var r;let[i,a,o]=function(e){var n;let[r,i]=function(e){if("individualShift"in e){let n=e.individualShift,r=n[0],i=[r],a=-r.shift-r.box.depth,o=a;for(let e=1;e<n.length;e++){let a=n[e],l=-a.shift-o-a.box.depth,s=l-(r.box.height+r.box.depth);o+=l,i.push(s),i.push(a),r=a}return[i,a]}if("top"in e){let n=e.top;for(let r of e.children)n-="number"==typeof r?r:r.box.height+r.box.depth;return[e.children,n]}if("bottom"in e)return[e.children,-e.bottom];if("firstBaseline"in e){let n=e.firstBaseline[0];if("number"==typeof n)throw Error("First child must be an element.");return[e.firstBaseline,-n.box.depth]}if("shift"in e){let n=e.children[0];if("number"==typeof n)throw Error("First child must be an element.");return[e.children,-n.box.depth-e.shift]}return[null,0]}(e);if(!r)return[[],0,0];let a=0;for(let e of r)if("number"!=typeof e){let n=e.box;a=Math.max(a,n.maxFontSize,n.height)}a+=2;let o=new me(null,{classes:"pstrut"});o.setStyle("height",a,"em");let l=[],s=i,u=i,c=i;for(let e of r){if("number"==typeof e)c+=e;else{let r=e.box,i=new me([o,r],{classes:(null!=(n=e.classes)?n:[]).join(" "),style:e.style});i.setStyle("top",-a-c-r.depth,"em"),e.marginLeft&&i.setStyle("margin-left",e.marginLeft,"em"),e.marginRight&&i.setStyle("margin-right",e.marginRight,"em"),l.push(i),c+=r.height+r.depth}s=Math.min(s,c),u=Math.max(u,c)}let d=new me(l,{classes:"vlist"});if(d.setStyle("height",u,"em"),s>=0)return[[new me(d,{classes:"vlist-r"})],u,-s];let h=new me(new me(null),{classes:"vlist"});h.setStyle("height",-s,"em");let p=new me(8203,{classes:"vlist-s",maxFontSize:0,height:0,depth:0});return[[new me([d,p],{classes:"vlist-r"}),new me(h,{classes:"vlist-r"})],u,-s]}(e);super(1===i.length?i[0]:i,{classes:(null!=(r=null==n?void 0:n.classes)?r:"")+" vlist-t"+(2===i.length?" vlist-t2":""),height:a,depth:o,type:null==n?void 0:n.type,newList:!0})}},fs=[[8205,1],[65038,2],[127995,5],[129456,4],[917536,96]];function fu(e){var n;if(void 0===fo)for(let e of(fo={},fs))for(let n=e[0];n<=e[0]+e[1]-1;n++)fo[n]=!0;return null!=(n=fo[e])&&n}function fc(e){if(/^[\u0020-\u00FF]*$/.test(e))return e;let n=[],r=function(e){let n=[];for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(13===i&&10===e.charCodeAt(r+1)&&(i=10,r++),(13===i||12===i)&&(i=10),0===i&&(i=65533),i>=55296&&i<=56319){let n=e.charCodeAt(r+1);n>=56320&&n<=57343&&(i=65536+1024*(i-55296)+(n-56320),r++)}n.push(i)}return n}(e),i=0;for(;i<r.length;){let e=r[i++],a=r[i];if(8205===a){let e=i-1;for(i+=2;8205===r[i];)i+=2;n.push(String.fromCodePoint(...r.slice(e,i-e+1)))}else if(fu(a)){let e=i-1;for(;fu(r[i]);)i+=8205===r[i]?2:1;n.push(String.fromCodePoint(...r.slice(e,2*i-e-1)))}else e>=127462&&e<=127487?(i+=1,n.push(String.fromCodePoint(...r.slice(i-2,2)))):n.push(String.fromCodePoint(e))}return n}var fd=class{constructor(e){this.s=fc(e),this.pos=0,this.obeyspaces=!1}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(e){let n="string"==typeof this.s?e.exec(this.s.slice(this.pos)):e.exec(this.s.slice(this.pos).join(""));return null!=n&&n[0]?(this.pos+=n[0].length,n[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"<space>";let e=this.get();if("\\"===e){if(!this.end()){let e=this.match(/^[a-zA-Z\*]+/);if(e)this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/);else if(" "===(e=this.get()))return"<space>";return"\\"+e}}else{if("{"===e)return"<{>";if("}"===e)return"<}>";if("^"===e){if("^"===this.peek()){this.get();let e=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(e)return String.fromCodePoint(Number.parseInt(e.slice(e.lastIndexOf("^")+1),16))}}else if("#"===e){if(!this.end()){let e=!1;if(/[\d?@]/.test(this.peek())&&(e=!0,this.pos+1<this.s.length)){let n=this.s[this.pos+1];e=/[^\dA-Za-z]/.test(n)}return e?"#"+this.get():"#"}}else if("$"===e)return"$"===this.peek()?(this.get(),"<$$>"):"<$>"}return e}};function fh(e,n=null){let r=[],i="";for(let n of e.toString().split(/\r?\n/)){i&&r.push(i),i=" ";let e=n.match(/((?:\\%)|[^%])*/);null!==e&&r.push(e[0])}let a=new fd(r.join("")),o=[];do o.push(...function(e,n){var r,i,a,o;let l=[],s=e.next();if(s&&"\\relax"!==s){if("\\noexpand"===s)(s=e.next())&&l.push(s);else if("\\obeyspaces"===s)e.obeyspaces=!0;else if("\\space"===s||"~"===s)l.push("<space>");else if("\\bgroup"===s)l.push("<{>");else if("\\egroup"===s)l.push("<}>");else if("\\string"===s){if(s=e.next()){if(s.startsWith("\\"))for(let e of s)l.push("\\"===e?"\\backslash":e);else"<{>"===s?l.push("\\{"):"<space>"===s?l.push("~"):"<}>"===s&&l.push("\\}")}}else if("\\csname"===s){for(;"<space>"===e.peek();)e.next();let a="",o=!1,u=[];do{if(0===u.length){if(/^#[\d?@]$/.test(e.peek())){let a=e.get().slice(1);s=(u=fh(null!=(i=null!=(r=null==n?void 0:n(a))?r:null==n?void 0:n("?"))?i:"\\placeholder{}",n))[0]}else u=(s=e.next())?[s]:[]}(o=0===u.length)||"\\endcsname"!==s||(o=!0,u.shift()),o||(o="<$>"===s||"<$$>"===s||"<{>"===s||"<}>"===s||"string"==typeof s&&s.length>1&&s.startsWith("\\")),o||(a+=u.shift())}while(!o);a&&l.push("\\"+a),l.push(...u)}else if("\\endcsname"!==s){if(s.length>1&&s.startsWith("#")){let e=s.slice(1);l.push(...fh(null!=(o=null!=(a=null==n?void 0:n(e))?a:null==n?void 0:n("?"))?o:"\\placeholder{}",n))}else l.push(s)}}return l}(a,n));while(!a.end());return o}function fp(e){let n="",r=[];for(let i of e)i&&(n&&/^[a-zA-Z\*]/.test(i)&&r.push(n),r.push(i),/^\\[a-zA-Z]+\*?[\"\'][^\ ]+$/.test(i)&&r.push(" "),n=/\\[a-zA-Z]+\*?$/.test(i)?" ":"");return r.join("")}function fm(e,...n){return e.startsWith("\\"),0===n.length?e:fp([e,...n.map(e=>`{${e}}`)])}function ff(e){return fp(e.map(e=>{var n;return null!=(n=({"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"})[e])?n:e}))}var fg={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},fy=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"},{start:120822,len:10,offset:48,variant:"monospace"}];function fb(e){return e?Array.isArray(e)?e:"object"==typeof e&&"group"in e?e.group:[]:[]}var fv={},f_={60:"\\lt",62:"\\gt",111:"o",38:"\\&",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\mathbb{C}",8469:"\\mathbb{N}",8473:"\\mathbb{P}",8474:"\\mathbb{Q}",8477:"\\mathbb{R}",8484:"\\mathbb{Z}",8461:"\\mathbb{H}",8476:"\\Re",8465:"\\Im",42:"\\ast",11036:"\\square",9633:"\\square",8720:"\\coprod",8716:"\\not\\ni",9671:"\\diamond",8846:"\\uplus",8851:"\\sqcap",8852:"\\sqcup",8768:"\\wr",8750:"\\oint",8226:"\\textbullet",8722:"-",978:"\\Upsilon"},fx={},fO={},fw={iff:"\\;\\;",nicefrac:"^{#1}\\!\\!/\\!_{#2}",rd:"\\mathrm{d}",rD:"\\mathrm{D}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",capitalDifferentialD:"\\mathrm{D}","braket.sty":{package:{bra:"\\mathinner{\\langle{#1}|}",ket:"\\mathinner{|{#1}\\rangle}",braket:"\\mathinner{\\langle{#1}\\rangle}",set:"\\mathinner{\\lbrace #1 \\rbrace}",Bra:"\\left\\langle #1\\right|",Ket:"\\left|#1\\right\\rangle",Braket:"\\left\\langle{#1}\\right\\rangle",Set:"\\left\\lbrace #1 \\right\\rbrace"}},"amsmath.sty":{package:{varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},expand:!1},"texvc.sty":{package:{darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",Uarr:"\\Uparrow",N:"\\mathbb{N}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",Kappa:"\\mathrm{K}",larr:"\\leftarrow",lArr:"\\Leftarrow",Larr:"\\Leftarrow",lrarr:"\\leftrightarrow",lrArr:"\\Leftrightarrow",Lrarr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",plusmn:"\\pm",rarr:"\\rightarrow",rArr:"\\Rightarrow",Rarr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",weierp:"\\wp",Zeta:"\\mathrm{Z}"},expand:!1}},fE={" ":32,"\\#":35,"\\&":38,"\\$":36,"\\%":37,"\\_":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbraceleft":123,"\\textbraceright":125,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,"\\textdaggerdbl":8225,"":8211,"":8212,"":8216,"":8217,"":8220,"":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197},fC=/[\w!@*()-=+{}[\]\\';:?/.,~<>`|$%#&^" ]/,fT=pc()?RegExp("\\p{Letter}","u"):/[a-zA-Z]/,fk=pc()?RegExp("[0-9\\p{Letter}]","u"):/[\da-zA-Z]/;function fR(e,n,r="mord",i){void 0!==n&&(fv[e]={definitionType:"symbol",type:r,variant:i,codepoint:n},f_[n]||(f_[n]=e),fE[e]||(fE[e]=n))}function fS(e,n,r){if("string"==typeof e){for(let n=0;n<e.length;n++){let r=e.charAt(n);fR(r,r.codePointAt(0))}return}for(let[i,a,o,l]of e)fR(i,a,null!=o?o:n,null!=l?l:r)}function fA(e,n){for(let r=e;r<=n;r++)fR(String.fromCodePoint(r),r)}function fI(e){let n="auto",r=e.match(/:([^=]+)/);return r&&(n=r[1].trim()),n}function fL(e){if(!e)return[];let n=[],r=e.split("]");if(r[0].startsWith("[")){n.push({isOptional:!0,type:fI(r[0].slice(1))});for(let e=1;e<=r.length;e++)n.push(...fL(r[e]))}else if((r=e.split("}"))[0].startsWith("{")){n.push({isOptional:!1,type:fI(r[0].slice(1))});for(let e=1;e<=r.length;e++)n.push(...fL(r[e]))}return n}function fM(e){if(!e)return"";let n="",r=!0;for(let i of e)"string"==typeof i.value?n+=i.value:r=!1;return r?n:""}function fN(e,n){"string"==typeof e&&(e=[e]);let r={tabular:!1,params:[],createAtom:n};for(let n of e)fO[n]=r}function fD(e,n,r){"string"==typeof e&&(e=[e]);let i={tabular:!0,params:fL(n),createAtom:r};for(let n of e)fO[n]=i}function fB(e,n,r){var i,a;r||(r={});let o={definitionType:"function",params:fL(n),ifMode:r.ifMode,isFunction:null!=(i=r.isFunction)&&i,applyMode:r.applyMode,infix:null!=(a=r.infix)&&a,createAtom:r.createAtom,applyStyle:r.applyStyle};if("string"==typeof e)fx["\\"+e]=o;else for(let n of e)fx["\\"+n]=o}function fP(e){return gG||(gG=fU(fw)),e?fU(pn(pn({},gG),e)):gG}function fK(e,n){var r,i,a,o;if("string"==typeof e){let a=0;return/(^|[^\\])#1/.test(e)&&(a=1),/(^|[^\\])#2/.test(e)&&(a=2),/(^|[^\\])#3/.test(e)&&(a=3),/(^|[^\\])#4/.test(e)&&(a=4),/(^|[^\\])#5/.test(e)&&(a=5),/(^|[^\\])#6/.test(e)&&(a=6),/(^|[^\\])#7/.test(e)&&(a=7),/(^|[^\\])#8/.test(e)&&(a=8),/(^|[^\\])#9/.test(e)&&(a=9),{expand:null==(r=null==n?void 0:n.expand)||r,captureSelection:null==(i=null==n?void 0:n.captureSelection)||i,args:a,def:e}}return pn({expand:null==(a=null==n?void 0:n.expand)||a,captureSelection:null==(o=null==n?void 0:n.captureSelection)||o,args:0},e)}function fU(e){if(!e)return{};let n={};for(let r of Object.keys(e)){let i=e[r];if(null==i)delete n[r];else if("object"==typeof i&&"package"in i)for(let e of Object.keys(i.package))n[e]=fK(i.package[e],{expand:i.expand,captureSelection:i.captureSelection});else n[r]=fK(i)}return n}function fV(e,n="math"){if(!e||0===e.length)return null;let r=null;if(e.startsWith("\\")){if(r=fx[e])return r.ifMode&&r.ifMode!==n?null:r;"math"===n?r=fv[e]:fE[e]&&(r={definitionType:"symbol",type:"mord",codepoint:fE[e]})}else if("math"===n){if(!(r=fv[e])&&1===e.length){let n=fF("math",e.codePointAt(0));return n.startsWith("\\")?pr(pn({},fV(n,"math")),{command:n}):null}}else fE[e]?r={definitionType:"symbol",type:"mord",codepoint:fE[e]}:"text"===n&&(r={definitionType:"symbol",type:"mord",codepoint:e.codePointAt(0)});return r&&"symbol"===r.definitionType&&"mord"===r.type&&(102===r.codepoint||103===r.codepoint||104===r.codepoint)&&(r.isFunction=!0),null!=r?r:null}function fG(e,n){return e.startsWith("\\")?n[e.slice(1)]:null}function fF(e,n){if(void 0===n)return"";if("math"===e&&f_[n])return f_[n];if("text"===e){let e=Object.keys(fE).find(e=>fE[e]===n);if(!e){let r=n.toString(16);e="^".repeat(r.length)+r}return e}return String.fromCodePoint(n)}var fH=class{constructor(e,n,r){this.id=e,this.sizeDelta=n,this.cramped=r;let i={"-4":2,"-3":1,0:0}[n];this.metrics=Object.keys(pq).reduce((e,n)=>pr(pn({},e),{[n]:pq[n][i]}),{})}getFontSize(e){return Math.max(1,e+this.sizeDelta)}get sup(){return fz[[0,1,0,1,2,3,2,3][this.id]]}get sub(){return fz[[0,0,0,0,2,2,2,2][this.id]]}get fracNum(){return fz[[0,1,0,1,2,3,4,5][this.id]]}get fracDen(){return fz[[0,0,0,0,2,2,4,4][this.id]]}get cramp(){return fz[[0,0,2,2,4,4,6,6][this.id]]}get isTight(){return this.sizeDelta<0}},fz={7:new fH(7,0,!1),6:new fH(6,0,!0),5:new fH(5,0,!1),4:new fH(4,0,!0),3:new fH(3,-3,!1),2:new fH(2,-3,!0),1:new fH(1,-4,!1),0:new fH(0,-4,!0)};function f$(e,n){return null===e?0:function(e,n){var r;if(!e)return 0;let i={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:3/4,em:10,bp:1.00375,dd:1238/1157,pc:12,in:72.27,mu:10/18}[null!=(r=e.unit)?r:"pt"];if(Number.isFinite(n)){let r=10**n;return Math.round(e.dimension/10*i*r)/r}return e.dimension*i}(e,n)/10}function fZ(e){var n;return`${e.dimension}${null!=(n=e.unit)?n:"pt"}`}fz.displaystyle=fz[7],fz.textstyle=fz[5],fz.scriptstyle=fz[3],fz.scriptscriptstyle=fz[1];var fj=class{constructor(e,n,r){var i,a,o,l,s,u;let c;e instanceof fj||null==n||n.fontSize,e instanceof fj&&(this.parent=e),e instanceof fj||(this.registers=null!=(i=e.registers)?i:{}),this.isPhantom=null!=(l=null!=(o=null==n?void 0:n.isPhantom)?o:null==(a=this.parent)?void 0:a.isPhantom)&&l;let d=pn({},e);if(n&&(n.letterShapeStyle&&"auto"!==n.letterShapeStyle&&(d.letterShapeStyle=n.letterShapeStyle),n.color&&"none"!==n.color&&(d.color=n.color),n.backgroundColor&&"none"!==n.backgroundColor&&(d.backgroundColor=n.backgroundColor),n.fontSize&&"auto"!==n.fontSize&&n.fontSize!==(null==(s=this.parent)?void 0:s._size)&&(this._size=n.fontSize)),this.letterShapeStyle=null!=(u=d.letterShapeStyle)?u:"tex",this.color=d.color,this.backgroundColor=d.backgroundColor,"string"==typeof r){if(e instanceof fj)switch(r){case"cramp":c=e.mathstyle.cramp;break;case"superscript":c=e.mathstyle.sup;break;case"subscript":c=e.mathstyle.sub;break;case"numerator":c=e.mathstyle.fracNum;break;case"denominator":c=e.mathstyle.fracDen}switch(r){case"textstyle":c=fz.textstyle;break;case"displaystyle":c=fz.displaystyle;break;case"scriptstyle":c=fz.scriptstyle;break;case"scriptscriptstyle":c=fz.scriptscriptstyle}}this._mathstyle=c,this.atomIdsSettings=e.atomIdsSettings,this.renderPlaceholder=d.renderPlaceholder,e instanceof fj&&(this.atomIdsSettings,e.atomIdsSettings)}get mathstyle(){let e=this._mathstyle,n=this.parent;for(;!e;)e=n._mathstyle,n=n.parent;return e}getRegister(e){var n;return null!=(n=this.registers)&&n[e]?this.registers[e]:this.parent?this.parent.getRegister(e):void 0}getRegisterAsNumber(e){let n=this.getRegister(e);return"number"==typeof n?n:"string"==typeof n?Number(n):void 0}getRegisterAsGlue(e){var n;if(null!=(n=this.registers)&&n[e]){let n=this.registers[e];return"object"==typeof n&&"glue"in n?n:"object"==typeof n&&"dimension"in n?{glue:{dimension:n.dimension}}:"number"==typeof n?{glue:{dimension:n}}:void 0}if(this.parent)return this.parent.getRegisterAsGlue(e)}getRegisterAsEm(e){return f$(this.getRegisterAsDimension(e))}getRegisterAsDimension(e){var n;if(null!=(n=this.registers)&&n[e]){let n=this.registers[e];return"object"==typeof n&&"glue"in n?n.glue:"object"==typeof n&&"dimension"in n?n:"number"==typeof n?{dimension:n}:void 0}if(this.parent)return this.parent.getRegisterAsDimension(e)}setRegister(e,n){if(void 0===n){delete this.registers[e];return}this.registers[e]=n}setGlobalRegister(e,n){let r=this;for(;r.parent;)r.setRegister(e,void 0),r=r.parent;r.setRegister(e,n)}get size(){let e=this._size,n=this.parent;for(;!e;)e=n._size,n=n.parent;return e}makeID(){if(!this.atomIdsSettings)return;if(this.atomIdsSettings.overrideID)return this.atomIdsSettings.overrideID;if("number"!=typeof this.atomIdsSettings.seed)return Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36);let e=this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,e}scale(e){return e*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return 7===this.mathstyle.id||6===this.mathstyle.id}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get effectiveFontSize(){return pY[Math.max(1,this.size+this.mathstyle.sizeDelta)]}get computedColor(){let e=this.color,n=this.parent;return!e&&n&&(e=n.color,n=n.parent),null!=e?e:""}get computedBackgroundColor(){let e=this.backgroundColor,n=this.parent;return!e&&n&&(e=n.backgroundColor,n=n.parent),null!=e?e:""}get metrics(){return this.mathstyle.metrics}},fW=["above","body","below","superscript","subscript"];function fq(e){return"string"==typeof e&&fW.includes(e)}function fY(e){return void 0!==e&&Array.isArray(e)&&2===e.length}var fX=class{constructor(e,n,r){var i,a,o,l,s,u;this.id=void 0,this.verbatimLatex=void 0,this._isDirty=!1,this._changeCounter=0,this.subsupPlacement=void 0,this.explicitSubsupPlacement=!1,this.skipBoundary=!1,this.captureSelection=!1,this.type=e,this.context=n,"string"==typeof(null==r?void 0:r.value)&&(this.value=r.value),this.command=null!=(a=null!=(i=null==r?void 0:r.command)?i:this.value)?a:"",this.mode=null!=(o=null==r?void 0:r.mode)?o:"math",this.isFunction=null!=(l=null==r?void 0:r.isFunction)&&l,this.subsupPlacement=null==r?void 0:r.limits,this.style=null!=(s=pn({},null==r?void 0:r.style))?s:{},this.displayContainsHighlight=null!=(u=null==r?void 0:r.displayContainsHighlight)&&u,null!=r&&r.serialize&&(this._serializer=r.serialize)}static createBox(e,n,r){var i,a,o,l;if(!n)return null;let s=(null!=(i=null==r?void 0:r.classes)?i:"").trim(),u=function(e){let n,r=[],i=[];for(let a of e)if(n||a.style){let e=a.computedStyle;n&&e.color===n.color&&e.backgroundColor===n.backgroundColor&&e.fontSize===n.fontSize?i.push(a):(i.length>0&&r.push(i),i=[a],n=e)}else i.push(a);return i.length>0&&r.push(i),r}(n);if(1===u.length){let n=u[0];return n[0].style?fQ(e,n,pr(pn({},r),{style:{color:n[0].style.color,backgroundColor:n[0].style.backgroundColor,fontSize:n[0].style.fontSize}})):fQ(e,n,r)}let c=[],d=null==r?void 0:r.newList;for(let n of u){let r=fQ(new fj(e,{color:null==(a=n[0].style)?void 0:a.color,backgroundColor:null==(o=n[0].style)?void 0:o.backgroundColor,fontSize:null==(l=n[0].style)?void 0:l.fontSize}),n,{newList:d});r&&(d=!1,c.push(r))}return 0===c.length?null:1!==c.length||s||null!=r&&r.type?new me(c,{classes:s,type:null==r?void 0:r.type,newList:null==r?void 0:r.newList}).wrap(e):c[0].wrap(e)}static serialize(e,n){return po(e)?fJ(e,n):"number"==typeof e||"boolean"==typeof e?e.toString():"string"==typeof e?e.replace(/\s/g,"~"):void 0===e?"":n.expandMacro||"string"!=typeof e.verbatimLatex?e._serializer?e._serializer(e,n):e.serialize(n):e.verbatimLatex}static commonAncestor(e,n){if(e===n||e.parent===n.parent)return e.parent;let r=new WeakSet,{parent:i}=e;for(;i;)r.add(i),i=i.parent;for(i=n.parent;i;){if(r.has(i))return i;i=i.parent}}static fromJson(e,n){let r=new fX(e.type,n,e);for(let n of fW)e[n]&&r.setChildren(e[n],n);return r}toJson(){let e={type:this.type};if("math"!==this.mode&&(e.mode=this.mode),this.command&&this.command!==this.value&&(e.command=this.command),void 0!==this.value&&(e.value=this.value),this.style&&Object.keys(this.style).length>0&&(e.style=pn({},this.style)),void 0!==this.verbatimLatex&&(e.verbatimLatex=this.verbatimLatex),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.explicitSubsupPlacement&&(e.explicitSubsupPlacement=!0),this.isFunction&&(e.isFunction=!0),this.displayContainsHighlight&&(e.displayContainsHighlight=!0),this.isExtensibleSymbol&&(e.isExtensibleSymbol=!0),this.skipBoundary&&(e.skipBoundary=!0),this.captureSelection&&(e.captureSelection=!0),this._branches)for(let n of Object.keys(this._branches))this._branches[n]&&(e[n]=this._branches[n].filter(e=>"first"!==e.type).map(e=>e.toJson()));return e}get changeCounter(){return this._changeCounter}get isDirty(){return this._isDirty}set isDirty(e){if(this._isDirty=e,e){this._changeCounter++,this.verbatimLatex=void 0,this._children=void 0;let{parent:e}=this;for(;e;)e._isDirty=!0,e._changeCounter++,e.verbatimLatex=void 0,e._children=void 0,e=e.parent}}serialize(e){var n;return this.body&&this.command?fp([fm(this.command,this.bodyToLatex(e)),this.supsubToLatex(e)]):this.body?fp([this.bodyToLatex(e),this.supsubToLatex(e)]):this.value&&""!==this.value?null!=(n=this.command)?n:function(e,n){var r;let i;if("text"===e)return null!=(r=fF(e,n.codePointAt(0)))?r:n;if(i=fF(e,n.codePointAt(0)))return i;let a=function(e){var n;if((e<119808||e>120831)&&(e<8448||e>8527))return{char:String.fromCodePoint(e)};for(let r in fg)if(fg[r]===e){e=null!=(n=r.codePointAt(0))?n:0;break}for(let n of fy)if(e>=n.start&&e<n.start+n.len)return{char:String.fromCodePoint(e-n.start+n.offset),variant:n.variant,style:n.style};return{char:String.fromCodePoint(e)}}(n.codePointAt(0));return a.style||a.variant?(i=a.char,a.variant&&(i="\\"+a.variant+"{"+i+"}"),"bold"===a.style?i="\\mathbf{"+i+"}":"italic"===a.style?i="\\mathit{"+i+"}":"bolditalic"===a.style&&(i="\\mathbfit{"+i+"}"),"\\mathord{"+i+"}"):""}(this.mode,this.value):""}bodyToLatex(e){return fJ(this.body,e)}aboveToLatex(e){return fJ(this.above,e)}belowToLatex(e){return fJ(this.below,e)}supsubToLatex(e){let n="";if(void 0!==this.branch("subscript")){let r=fJ(this.subscript,e);0===r.length?n+="_{}":1===r.length&&/^[0-9]$/.test(r)?n+=`_${r}`:n+=`_{${r}}`}if(void 0!==this.branch("superscript")){let r=fJ(this.superscript,e);0===r.length?n+="^{}":1===r.length?""===r?n+="^\\prime ":""===r?n+="^\\doubleprime ":/^[0-9]$/.test(r)?n+=`^${r}`:n+=`^{${r}}`:n+=`^{${r}}`}return n}get treeDepth(){let e=1,n=this.parent;for(;n;)n=n.parent,e+=1;return e}get inCaptureSelection(){let e=this;for(;e;){if(e.captureSelection)return!0;e=e.parent}return!1}get parentPrompt(){let e=this.parent;for(;e;){if("prompt"===e.type&&!e.captureSelection)return e;e=e.parent}return null}branch(e){if(fq(e)&&this._branches)return this._branches[e]}get branches(){if(!this._branches)return[];let e=[];for(let n of fW)this._branches[n]&&e.push(n);return e}createBranch(e){return fq(e),fq(e)?(this._branches?this._branches[e]||(this._branches[e]=[this.makeFirstAtom(e)]):this._branches={[e]:[this.makeFirstAtom(e)]},this.isDirty=!0,this._branches[e]):[]}get row(){return fY(this.parentBranch)?this.parentBranch[0]:-1}get col(){return fY(this.parentBranch)?this.parentBranch[1]:-1}get body(){var e;return null==(e=this._branches)?void 0:e.body}set body(e){this.setChildren(e,"body")}get superscript(){var e;return null==(e=this._branches)?void 0:e.superscript}set superscript(e){this.setChildren(e,"superscript")}get subscript(){var e;return null==(e=this._branches)?void 0:e.subscript}set subscript(e){this.setChildren(e,"subscript")}get above(){var e;return null==(e=this._branches)?void 0:e.above}set above(e){this.setChildren(e,"above")}get below(){var e;return null==(e=this._branches)?void 0:e.below}set below(e){this.setChildren(e,"below")}get computedStyle(){var e;if(!this.parent)return pn({},null!=(e=this.style)?e:{});let n=void 0!==this.style.verbatimColor,r=void 0!==this.style.verbatimBackgroundColor,i=pn(pn({},this.parent.computedStyle),this.style);return delete i.variant,delete i.variantStyle,r||delete i.verbatimBackgroundColor,n||delete i.verbatimColor,i}applyStyle(e){for(let n of(this.isDirty=!0,this.style=pn(pn({},this.style),e),"none"===this.style.fontFamily&&delete this.style.fontFamily,"auto"===this.style.fontShape&&delete this.style.fontShape,"auto"===this.style.fontSeries&&delete this.style.fontSeries,"none"===this.style.color&&(delete this.style.color,delete this.style.verbatimColor),"none"===this.style.backgroundColor&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor),"auto"===this.style.fontSize&&delete this.style.fontSize,this.children))n.applyStyle(e)}getInitialBaseElement(){var e,n,r;return this.hasEmptyBranch("body")?this:(null==(e=this.body)||e[0].type,null!=(r=null==(n=this.body[1])?void 0:n.getInitialBaseElement())?r:this)}getFinalBaseElement(){return this.hasEmptyBranch("body")?this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){return"leftright"!==this.type&&"genfrac"!==this.type&&"subsup"!==this.type&&"delim"!==this.type&&"array"!==this.type&&"surd"!==this.type&&"mord"===this.getFinalBaseElement().type}hasEmptyBranch(e){let n=this.branch(e);return!n||(n.length,n[0].type,1===n.length)}setChildren(e,n){var r;if(!e||(fq(n),!fq(n)))return;null==(r=e[0])||r.type;let i=[this.makeFirstAtom(n),...e];for(let r of(this._branches?this._branches[n]=i:this._branches={[n]:i},e))r.parent=this,r.parentBranch=n;this.isDirty=!0}makeFirstAtom(e){let n=new fX("first",this.context,{mode:this.mode});return n.parent=this,n.parentBranch=e,n}addChild(e,n){e.type,this.createBranch(n).push(e),this.isDirty=!0,e.parent=this,e.parentBranch=n}addChildBefore(e,n){n.parentBranch;let r=this.createBranch(n.parentBranch);r.splice(r.indexOf(n),0,e),this.isDirty=!0,e.parent=this,e.parentBranch=n.parentBranch}addChildAfter(e,n){n.parentBranch;let r=this.createBranch(n.parentBranch);r.splice(r.indexOf(n)+1,0,e),this.isDirty=!0,e.parent=this,e.parentBranch=n.parentBranch}addChildren(e,n){let r=this.createBranch(n);for(let i of e)i.parent=this,i.parentBranch=n,r.push(i);this.isDirty=!0}addChildrenAfter(e,n){0===e.length||e[0].type,n.parentBranch;let r=this.createBranch(n.parentBranch);for(let i of(r.splice(r.indexOf(n)+1,0,...e),this.isDirty=!0,e))i.parent=this,i.parentBranch=n.parentBranch;return e[e.length-1]}removeBranch(e){let n=this.branch(e);if(fq(e)&&(this._branches[e]=void 0),!n)return[];for(let e of n)e.parent=void 0,e.parentBranch=void 0;return n[0].type,n.shift(),this.isDirty=!0,n}removeChild(e){if(e.parent,"first"===e.type)return;let n=this.branch(e.parentBranch),r=n.indexOf(e);n.splice(r,1),this.isDirty=!0,e.parent=void 0,e.parentBranch=void 0}get siblings(){return this.parent?this.parent.branch(this.parentBranch):[]}get firstSibling(){return this.siblings[0]}get lastSibling(){let{siblings:e}=this;return e[e.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return 1===this.siblings.length}get leftSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)-1]}get rightSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)+1]}get hasChildren(){return!!(this._branches&&this.children.length>0)}get firstChild(){return this.hasChildren,this.children[0]}get lastChild(){this.hasChildren;let{children:e}=this;return e[e.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];let e=[];for(let n of fW)if(this._branches[n])for(let r of this._branches[n])e.push(...r.children),e.push(r);return this._children=e,e}render(e,n){if("first"===this.type&&!e.atomIdsSettings)return null;let r=new fj(e,this.style),i="";this.parent||(i+=" ML__base"),this.isSelected&&(i+=" ML__selected");let a=(null==n?void 0:n.newList)===!0,o=this.createBox(r,{classes:i,newList:a});return o?(!this.subsupPlacement&&(this.superscript||this.subscript)&&(o=this.attachSupsub(r,{base:o})),o.wrap(r)):null}attachSupsub(e,n){var r;let i;let a=n.base,o=this.superscript,l=this.subscript;if(!o&&!l)return a;let s=null,u=null,c=null!=(r=n.isCharacterBox)?r:this.isCharacterBox(),d=0;if(o){let n=new fj(e,void 0,"superscript");s=fX.createBox(n,o,{newList:!0}),c||(d=a.height-e.metrics.supDrop*n.scalingFactor)}let h=0;if(l){let n=new fj(e,void 0,"subscript");u=fX.createBox(n,l,{newList:!0}),c||(h=a.depth+e.metrics.subDrop*n.scalingFactor)}i=e.isDisplayStyle?e.metrics.sup1:e.isCramped?e.metrics.sup3:e.metrics.sup2;let p=.05/e.scalingFactor,m=null;if(u&&s){d=Math.max(d,i,s.depth+.25*e.metrics.xHeight),h=Math.max(h,e.metrics.sub2);let n=e.metrics.defaultRuleThickness;if(d-s.depth-(u.height-h)<4*n){h=4*n-(d-s.depth)+u.height;let r=.8*e.metrics.xHeight-(d-s.depth);r>0&&(d+=r,h-=r)}m=new fl({individualShift:[{box:u,shift:h,marginLeft:this.isExtensibleSymbol&&a.italic?-a.italic:0},{box:s,shift:-d}]}).wrap(e)}else u&&!s?m=new fl({shift:h=Math.max(h,e.metrics.sub1,u.height-.3448),children:[{box:u,marginRight:p,marginLeft:this.isCharacterBox()?-a.italic:0}]}):!u&&s&&(m=new fl({shift:-(d=Math.max(d,i,s.depth+.10775)),children:[{box:s,marginRight:p}]})).wrap(e);let f=new me(m,{classes:"msubsup"+(this.isSelected?" ML__selected":"")});return this.caret&&(f.caret=this.caret),new me([a,f],{type:n.type})}attachLimits(e,n){var r,i,a,o,l,s;let u,c,d,h,p,m,f=this.superscript?fX.createBox(new fj(e,this.style,"superscript"),this.superscript,{newList:!0}):null,g=this.subscript?fX.createBox(new fj(e,this.style,"subscript"),this.subscript,{newList:!0}):null;return f||g?(r=pr(pn({},n),{above:f,below:g}),u=e.metrics,c=new me(r.base),d=null!=(i=r.baseShift)?i:0,h=null!=(a=r.slant)?a:0,p=0,m=0,r.above&&(p=null!=(o=r.aboveShift)?o:Math.max(u.bigOpSpacing1,u.bigOpSpacing3-r.above.depth)),r.below&&(m=null!=(l=r.belowShift)?l:Math.max(u.bigOpSpacing2,u.bigOpSpacing4-r.below.height)),new me(r.below&&r.above?new fl({bottom:u.bigOpSpacing5+r.below.height+r.below.depth+m+c.depth+d,children:[u.bigOpSpacing5,{box:r.below,marginLeft:-h,classes:["ML__center"]},m,{box:c,classes:["ML__center"]},p,{box:r.above,marginLeft:h,classes:["ML__center"]},u.bigOpSpacing5]}).wrap(e):r.below&&!r.above?new fl({top:c.height-d,children:[u.bigOpSpacing5,{box:r.below,marginLeft:-h,classes:["ML__center"]},m,{box:c,classes:["ML__center"]}]}).wrap(e):!r.below&&r.above?new fl({bottom:c.depth+d,children:[{box:c,classes:["ML__center"]},p,{box:r.above,marginLeft:h,classes:["ML__center"]},u.bigOpSpacing5]}).wrap(e):new fl({bottom:c.depth+d,children:[{box:c},u.bigOpSpacing5]}).wrap(e),{type:null!=(s=r.type)?s:"op"})):n.base.wrap(e)}bind(e,n){if(!n||e.isPhantom||""===this.value)return n;let r=this.parent;for(;r&&!r.captureSelection;)r=r.parent;return null!=r&&r.captureSelection||(this.id||(this.id=e.makeID()),n.atomID=this.id),n}createBox(e,n){var r,i,a;let o=null!=(r=this.value)?r:this.body,l=p6(this.type),s=null!=(i=null==n?void 0:n.classes)?i:"";"text"===this.mode&&(s+=" ML__text");let u="string"==typeof o||void 0===o?new me(null!=o?o:null,{type:l,mode:this.mode,maxFontSize:e.scalingFactor,style:pr(pn({variant:"normal"},this.style),{letterShapeStyle:e.letterShapeStyle,fontSize:Math.max(1,e.size+e.mathstyle.sizeDelta)}),classes:s,newList:null==n?void 0:n.newList}):null!=(a=fX.createBox(e,o,{type:l,mode:this.mode,style:this.style,classes:s,newList:null==n?void 0:n.newList}))?a:new me(null);return e.isTight&&(u.isTight=!0),("math"!==this.mode||"main"===this.style.variant)&&(u.italic=0),u.right=u.italic,this.bind(e,u),!this.caret||this.superscript||this.subscript||(u.caret=this.caret),u}isDigit(){var e;return"mord"===this.type&&this.value?/^[\d,.]$/.test(this.value):"group"===this.type&&(null==(e=this.body)?void 0:e.length)===2&&"first"===this.body[0].type&&","===this.body[1].value}asDigit(){var e;return"mord"===this.type&&this.value&&/^[\d,.]$/.test(this.value)?this.value:"group"===this.type&&(null==(e=this.body)?void 0:e.length)===2&&"first"===this.body[0].type&&","===this.body[1].value?".":""}};function fJ(e,n){if(!e||0===e.length)return"";if("first"===e[0].type){if(1===e.length)return"";e=e.slice(1)}if(0===e.length)return"";let r=[];for(let i of p4(e,"cssClass"))for(let e of p4(i,"color"))for(let i of function(e){let n=[],r=[],i="NONE";for(let a of e)"first"!==a.type&&(a.mode!==i?(r.length>0&&n.push(r),r=[a],i=a.mode):r.push(a));return r.length>0&&n.push(r),n}(e))r.push(...p3.serialize(i,n));return fp(r)}function fQ(e,n,r){var i,a,o,l,s;let u;function c(e){return"text"===e.mode}if(!n||0===n.length)return null;let d=new fj(e,null==r?void 0:r.style),h=!(null!=(i=d.atomIdsSettings)&&i.groupNumbers),p=[],m=null!=(a=null==r?void 0:r.newList)&&a;if(1===n.length){let e=n[0],r=e.render(d,{newList:m});r&&(h&&e.isSelected&&r.selected(!0),p=[r])}else{let e="",r=!0;for(let i of n){null!=(o=d.atomIdsSettings)&&o.groupNumbers&&e&&(r&&i.isDigit()||!r&&c(i))&&(d.atomIdsSettings.overrideID=e);let n=i.render(d,{newList:m});m=!1,d.atomIdsSettings&&(d.atomIdsSettings.overrideID=void 0),n&&(null==(l=d.atomIdsSettings)||!l.groupNumbers||((i.isDigit()||c(i))&&(!e||r!==i.isDigit())&&(r=i.isDigit(),e=null!=(s=i.id)?s:""),!e||(i.isDigit()||c(i))&&i.hasEmptyBranch("superscript")&&i.hasEmptyBranch("subscript")||(e="")),h&&i.isSelected&&n.selected(!0),p.push(n))}}return 0===p.length?null:(r||d.isTight||p.length>1?(u=new me(p,pn({isTight:d.isTight},null!=r?r:{}))).isSelected=p.every(e=>e.isSelected):u=p[0],u.wrap(d).wrap(e))}var f0=class extends fX{constructor(e,n,r,i){super("accent",r,{command:e,style:i.style}),i.accentChar?this.accent=i.accentChar:this.svgAccent=null==i?void 0:i.svgAccent,this.body=n,this.skipBoundary=!0,this.captureSelection=!0}static fromJson(e,n){return new f0(e.command,e.body,n,{accentChar:e.accentChar,svgAccent:e.svgAccent,style:e.style})}toJson(){return pr(pn({},super.toJson()),{accentChar:this.accent,svgAccent:this.svgAccent})}render(e){var n;let r=new fj(e,this.style,"cramp"),i=null!=(n=fX.createBox(r,this.body))?n:new me(null),a=0;!this.hasEmptyBranch("body")&&2===this.body.length&&this.body[1].isCharacterBox()&&(a=i.skew);let o=Math.min(i.height,.431),l;if(this.svgAccent)l=mo(this.svgAccent),o=r.metrics.bigOpSpacing1-o;else if(this.accent){let e=new me(this.accent,{fontFamily:"Main-Regular"});e.italic=0;let n=8407===this.accent?" ML__accent-vec":"";l=new me(new me(e),{classes:"ML__accent-body"+n})}l=new fl({shift:0,children:[{box:new me(i)},-o,{box:l,marginLeft:i.left+2*a,classes:["ML__center"]}]});let s=new me(l,{newList:!0,type:"ord"});return this.caret&&(s.caret=this.caret),this.bind(r,s.wrap(r)),this.attachSupsub(r,{base:s})}},f1={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},f2=Object.fromEntries(Object.entries(f1).map(([e,n])=>[n,e]));function f3(e){var n;return null!=(n=({"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"":8739,"":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730})[e])?n:e.codePointAt(0)}function f4(e,n,r,i,a){let o=new fj(i,null==a?void 0:a.style,"textstyle"),l=new me(f3(e),{fontFamily:`Size${n}-Regular`,classes:`ML__delim-size${n}`,type:a.type||"none"}).wrap(o);return r&&l.setTop((1-o.scalingFactor)*.25),l}function f6(e,n,r,i,a){var o;let l,s,u,c;l=u=c=f3(e),s=null;let d="Size1-Regular";"\\vert"===e||"\\lvert"===e||"\\rvert"===e||"\\mvert"===e||"\\mid"===e?u=l=c=8739:"\\Vert"===e||"\\lVert"===e||"\\rVert"===e||"\\mVert"===e||"\\|"===e?u=l=c=8741:"\\uparrow"===e?u=c=9168:"\\Uparrow"===e?u=c=8214:"\\downarrow"===e?l=u=9168:"\\Downarrow"===e?l=u=8214:"\\updownarrow"===e?(l=8593,u=9168,c=8595):"\\Updownarrow"===e?(l=8657,u=8214,c=8659):"["===e||"\\lbrack"===e?(l=9121,u=9122,c=9123,d="Size4-Regular"):"]"===e||"\\rbrack"===e?(l=9124,u=9125,c=9126,d="Size4-Regular"):"\\lfloor"===e||""===e?(u=l=9122,c=9123,d="Size4-Regular"):"\\lceil"===e||""===e?(l=9121,u=c=9122,d="Size4-Regular"):"\\rfloor"===e||""===e?(u=l=9125,c=9126,d="Size4-Regular"):"\\rceil"===e||""===e?(l=9124,u=c=9125,d="Size4-Regular"):"("===e||"\\lparen"===e?(l=9115,u=9116,c=9117,d="Size4-Regular"):")"===e||"\\rparen"===e?(l=9118,u=9119,c=9120,d="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(l=9127,s=9128,c=9129,u=9130,d="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(l=9131,s=9132,c=9133,u=9130,d="Size4-Regular"):"\\lgroup"===e||""===e?(l=9127,c=9129,u=9130,d="Size4-Regular"):"\\rgroup"===e||""===e?(l=9131,c=9133,u=9130,d="Size4-Regular"):"\\lmoustache"===e||""===e?(l=9127,c=9133,u=9130,d="Size4-Regular"):"\\rmoustache"===e||""===e?(l=9131,c=9129,u=9130,d="Size4-Regular"):"\\surd"===e?(l=57345,c=9143,u=57344,d="Size4-Regular"):"\\ulcorner"===e?(l=9484,u=c=32):"\\urcorner"===e?(l=9488,u=c=32):"\\llcorner"===e?(c=9492,u=l=32):"\\lrcorner"===e&&(l=9496,u=l=32);let h=pJ(l,d),p=h.height+h.depth,m=pJ(u,d),f=m.height+m.depth,g=pJ(c,d),y=g.height+g.depth,b=0,v=1;if(null!==s){let e=pJ(s,d);b=e.height+e.depth,v=2}let _=p+y+b,x=Math.max(0,Math.ceil((n-_)/(v*f))),O=_+x*v*f,w=.25;r&&(w*=i.scalingFactor);let E=O/2-w,C=[];C.push({box:new me(c,{fontFamily:d})}),C.push(-.008);let T=new me(u,{fontFamily:d});if(null===s)for(let e=0;e<x;e++)C.push({box:T});else{for(let e=0;e<x;e++)C.push({box:T});C.push(-.008),C.push({box:new me(s,{fontFamily:d})}),C.push(-.008);for(let e=0;e<x;e++)C.push({box:T})}C.push(-.008),C.push({box:new me(l,{fontFamily:d})});let k="";return"Size1-Regular"===d?k=" delim-size1":"Size4-Regular"===d&&(k=" delim-size4"),new me(new fl({bottom:E,children:C},{classes:k}),pr(pn({},null!=a?a:{}),{classes:(null!=(o=null==a?void 0:a.classes)?o:"")+" ML__delim-mult"}))}var f5=new Set(["(",")","\\lparen","\\rparen","[","]","\\lbrack","\\rbrack","\\{","\\}","\\lbrace","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd","","","",""]),f8=new Set(["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","","","",""]),f7=new Set(["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"]),f9=[0,1.2,1.8,2.4,3],ge=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],gt=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],gn=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function gr(e,n,r,i,a,o){var l,s,u;let c,d;if(!n||0===n.length||"."===n)return ga(a,e);"<"===n||"\\lt"===n?n="\\langle":(">"===n||"\\gt"===n)&&(n="\\rangle"),c=f7.has(n)?ge:f5.has(n)?gn:gt;let h=function(e,n,r,i){let a={"-4":0,"-3":1,0:2}[i.mathstyle.sizeDelta];for(let l=a;l<r.length&&"stack"!==r[l].type;l++){var o;let a=pJ(e,"small"===(o=r[l]).type?"Main-Regular":"large"===o.type?"Size"+o.size+"-Regular":(o.type,"Size4-Regular"));if(a.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};let s=a.height+a.depth;if("small"===r[l].type&&("scriptscriptstyle"===r[l].mathstyle?s*=pY[Math.max(1,i.size-2)]:"scriptstyle"===r[l].mathstyle&&(s*=pY[Math.max(1,i.size-1)])),s>n)return r[l]}return r[r.length-1]}(f3(n),r,c,a),p=new fj(a,null==o?void 0:o.style,h.mathstyle);return"small"===h.type?(s=n,u={type:e,classes:"ML__small-delim "+(null!=(l=null==o?void 0:o.classes)?l:"")},d=new me(f3(s),{fontFamily:"Main-Regular"}).wrap(p,u),i&&d.setTop((1-p.scalingFactor)*.25),d):"large"===h.type?f4(n,h.size,i,p,pr(pn({},o),{type:e})):(h.type,f6(n,r,i,p,pr(pn({},o),{type:e})))}function gi(e,n,r,i,a,o){if("."===n)return ga(a,e,null==o?void 0:o.classes);let l=.25*a.scalingFactor,s=Math.max(r-l,i+l);return gr(e,n,Math.max(s/500*901,2*s-.5),!0,a,o)}function ga(e,n,r){let i=new fj(e,void 0,"textstyle");return new me(null,{classes:" nulldelimiter "+(null!=r?r:""),type:"none"}).wrap(i)}var go=class extends fX{constructor(e,n,r){var i,a,o,l;super("overunder",n,{command:e,serialize:r.serialize,style:r.style}),this.skipBoundary=null==(i=r.skipBoundary)||i,this.subsupPlacement=r.supsubPlacement,this.body=r.body,this.svgAbove=r.svgAbove,this.svgBelow=r.svgBelow,this.svgBody=r.svgBody,this.above=r.above,this.below=r.below,this.boxType=null!=(a=r.boxType)?a:"ord",this.paddedBody=null!=(o=r.paddedBody)&&o,this.paddedLabels=null!=(l=r.paddedLabels)&&l}static fromJson(e,n){return new go(e.command,n,e)}toJson(){let e={};return this.skipBoundary||(e.skipBoundary=!1),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.svgAbove&&(e.svgAbove=this.svgAbove),this.svgBelow&&(e.svgBelow=this.svgBelow),this.svgBody&&(e.svgBody=this.svgBody),"ord"!==this.boxType&&(e.boxType=this.boxType),this.paddedBody&&(e.paddedBody=!0),this.paddedLabels&&(e.paddedLabels=!0),pn(pn({},super.toJson()),e)}render(e){let n=this.svgBody?mo(this.svgBody):fX.createBox(e,this.body,{newList:!0}),r=new fj(e,this.style,"scriptstyle"),i=null;this.svgAbove?i=mo(this.svgAbove):this.above&&(i=fX.createBox(r,this.above,{newList:!0}));let a=null;this.svgBelow?a=mo(this.svgBelow):this.below&&(a=fX.createBox(r,this.below,{newList:!0})),this.paddedBody&&(n=new me([ga(e,"open"),n,ga(e,"close")],{newList:!0}));let o=function(e,n){if(!n.base)return null;if(!n.above&&!n.below){let e=new me(n.base,{type:n.type});return e.setStyle("position","relative"),e}let r=0;n.above&&(r=-n.above.depth+e.metrics.bigOpSpacing2);let i=null,a=n.base,o=["ML__center"];return(n.paddedAboveBelow&&o.push("ML__label_padding"),n.below&&n.above)?i=new fl({bottom:e.metrics.bigOpSpacing5+n.below.height+n.below.depth+a.depth+0,children:[e.metrics.bigOpSpacing5,{box:n.below,classes:o},{box:a,classes:["ML__center"]},r,{box:n.above,classes:o},e.metrics.bigOpSpacing5]}):n.below?i=new fl({top:a.height-0,children:[e.metrics.bigOpSpacing5,{box:n.below,classes:o},{box:a,classes:["ML__center"]}]}):n.above&&(i=new fl({bottom:a.depth+0,children:[{box:a,classes:["ML__center"]},r,{box:n.above,classes:o},e.metrics.bigOpSpacing5]})),new me(i,{type:n.type})}(e,{base:n,above:i,below:a,type:"bin"===this.boxType||"rel"===this.boxType?this.boxType:"ord",paddedAboveBelow:this.paddedLabels});return o?(o="over-under"===this.subsupPlacement?this.attachLimits(e,{base:o,type:o.type}):this.attachSupsub(e,{base:o}),this.caret&&(o.caret=this.caret),this.bind(e,o)):null}},gl=class extends fX{constructor(e,n){var r;super("placeholder",e,{mode:null!=(r=null==n?void 0:n.mode)?r:"math",style:null==n?void 0:n.style,value:(null==n?void 0:n.value)||e.placeholderSymbol,command:"\\placeholder"}),this.captureSelection=!0}static fromJson(e,n){return new gl(n,e)}toJson(){let e=super.toJson();return this.value===this.context.placeholderSymbol&&delete e.value,this.defaultValue&&(e.defaultValue=this.defaultValue.map(e=>e.toJson())),e}render(e){if("function"==typeof e.renderPlaceholder)return e.renderPlaceholder(e);let n="";return this.caret&&(n+="ML__placeholder-selected "),this.isSelected&&(n+=" ML__selected "),this.createBox(e,{classes:n})}serialize(e){let n=this.value;return n===this.context.placeholderSymbol&&(n=""),fm("\\placeholder",n)}},gs={acute:714,grave:715,dot:729,ddot:168,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};fB(Object.keys(gs),"{body:auto}",{createAtom:(e,n,r,i)=>new f0(e,i[0]?fb(i[0]):[new gl(n)],n,{accentChar:gs[e.slice(1)],style:r})}),fB(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:(e,n,r,i)=>{let a=fM(fb(i[0]));return new f0(e,fb(i[0]),n,{style:r,svgAccent:e.slice(1)+(a.length>5?"4":["1","1","2","2","3","3"][a.length])})}}),fB(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:(e,n,r,i)=>new f0(e,fb(i[0]),n,{style:r,svgAccent:"overarc"})}),fB(["underarc","underparen"],"{body:auto}",{createAtom:(e,n,r,i)=>new go(e,n,{body:fb(i[0]),style:r,svgBelow:"underarc"})}),fB("utilde","{body:auto}",{createAtom:(e,n,r,i)=>{let a=fM(fb(i[0])),o="widetilde"+(a.length>5?"4":["1","1","2","2","3","3"][a.length]);return new go(e,n,{body:fb(i[0]),svgBelow:o,style:r,boxType:p5(fb(i[0]))})}}),fB("^","{:string}",{createAtom:(e,n,r,i)=>{var a;return new fX("mord",n,{command:e,isFunction:!1,limits:"adjacent",style:r,value:i[0]&&null!=(a=({a:"\xe2",e:"\xea",i:"\xee",o:"\xf4",u:"\xfb",A:"\xc2",E:"\xca",I:"\xce",O:"\xd4",U:"\xdb"})[i[0]])?a:"^"})}}),fB("`","{:string}",{createAtom:(e,n,r,i)=>{var a;return new fX("mord",n,{command:e,isFunction:!1,limits:"adjacent",style:r,value:i[0]&&null!=(a=({a:"\xe0",e:"\xe8",i:"\xec",o:"\xf2",u:"\xf9",A:"\xc0",E:"\xc8",I:"\xcc",O:"\xd2",U:"\xd9"})[i[0]])?a:"`"})}}),fB("'","{:string}",{createAtom:(e,n,r,i)=>{var a;return new fX("mord",n,{command:e,isFunction:!1,limits:"adjacent",style:r,value:i[0]&&null!=(a=({a:"\xe1",e:"\xe9",i:"\xed",o:"\xf3",u:"\xfa",A:"\xc1",E:"\xc9",I:"\xcd",O:"\xd3",U:"\xda"})[i[0]])?a:"^"})}}),fB("~","{:string}",{createAtom:(e,n,r,i)=>{var a;return new fX("mord",n,{command:e,isFunction:!1,limits:"adjacent",style:r,value:i[0]&&null!=(a=({n:"\xf1",N:"\xd1",a:"\xe3",o:"\xf5",A:"\xc3",O:"\xd5"})[i[0]])?a:"\xb4"})}}),fB("c","{:string}",{createAtom:(e,n,r,i)=>{var a;return new fX("mord",n,{command:e,isFunction:!1,limits:"adjacent",style:r,value:i[0]&&null!=(a=({c:"\xe7",C:"\xc7"})[i[0]])?a:""})}});var gu=class extends fX{constructor(e,n){super("error",n,{value:e,command:e,mode:"math"}),this.verbatimLatex=e}static fromJson(e,n){return new gu(e.command,n)}toJson(){return super.toJson()}render(e){let n=this.createBox(e,{classes:"ML__error"});return this.caret&&(n.caret=this.caret),n}},gc=class extends fX{constructor(e,n,r){var i,a,o;super("group",n,{command:null==r?void 0:r.command,mode:null!=(i=null==r?void 0:r.mode)?i:"math",serialize:null==r?void 0:r.serialize,style:null==r?void 0:r.style}),this.body=e,this.mathstyleName=null==r?void 0:r.mathstyleName,null!=r&&r.serialize&&null!=r&&r.latexClose&&(null==r||r.latexOpen),null==r||r.command,this.latexOpen=null==r?void 0:r.latexOpen,this.latexClose=null==r?void 0:r.latexClose,this.cssId=null==r?void 0:r.cssId,this.htmlData=null==r?void 0:r.htmlData,this.htmlStyle=null==r?void 0:r.htmlStyle,this.customClass=null==r?void 0:r.customClass,this.renderClass=null==r?void 0:r.renderClass,this.boxType=null==r?void 0:r.boxType,this.skipBoundary=!0,this.captureSelection=null!=(a=null==r?void 0:r.captureSelection)&&a,this.break=null!=(o=null==r?void 0:r.break)&&o,this.displayContainsHighlight=!1,e&&1===e.length&&","===e[0].command&&(this.captureSelection=!0)}static fromJson(e,n){return new gc(e.body,n,e)}toJson(){let e={};return this.mathstyleName&&(e.mathstyleName=this.mathstyleName),this.latexOpen&&(e.latexOpen=this.latexOpen),this.latexClose&&(e.latexClose=this.latexClose),this.cssId&&(e.cssId=this.cssId),this.htmlData&&(e.htmlData=this.htmlData),this.htmlStyle&&(e.htmlStyle=this.htmlStyle),this.customClass&&(e.customClass=this.customClass),this.renderClass&&(e.renderClass=this.renderClass),this.boxType&&(e.boxType=this.boxType),this.captureSelection&&(e.captureSelection=!0),this.break&&(e.break=!0),pn(pn({},super.toJson()),e)}render(e){var n,r;let i=new fj(e,this.style,this.mathstyleName),a=this.customClass||this.renderClass?`${null!=(n=this.customClass)?n:""} ${null!=(r=this.renderClass)?r:""}`:"",o=fX.createBox(i,this.body,{type:this.boxType,classes:a,mode:this.mode,style:{backgroundColor:this.style.backgroundColor}});return o?(this.cssId&&(o.cssId=this.cssId),this.htmlData&&(o.htmlData=this.htmlData),this.htmlStyle&&(o.htmlStyle=this.htmlStyle),this.caret&&(o.caret=this.caret),this.bind(e,o)):null}serialize(e){let n=super.serialize(e);return"string"==typeof this.latexOpen&&(n=this.latexOpen+n+this.latexClose),this.htmlData&&(n=`\\htmlData{${this.htmlData}}{${n}}`),this.htmlStyle&&(n=`\\htmlStyle{${this.htmlStyle}}{${n}}`),this.customClass&&(n=`\\class{${this.customClass}}{${n}}`),this.cssId&&(n=`\\cssId{${this.cssId}}{${n}}`),n}},gd=class extends fX{constructor(e,n,r,i){super("leftright",r,{style:i.style,displayContainsHighlight:!0}),this.variant=e,this.body=n,this.leftDelim=i.leftDelim,this.rightDelim=i.rightDelim}static fromJson(e,n){var r;return new gd(null!=(r=e.variant)?r:"",e.body,n,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),e}serialize(e){var n,r;let i=this.matchingRightDelim();return"left...right"===this.variant?fp(["\\left",null!=(n=this.leftDelim)?n:".",this.bodyToLatex(e),"\\right",i]):"mleft...mright"===this.variant?fp(["\\mleft",null!=(r=this.leftDelim)?r:".",this.bodyToLatex(e),"\\mright",i]):fp([this.leftDelim&&"."!==this.leftDelim?this.leftDelim:"",this.bodyToLatex(e),i])}matchingRightDelim(){var e,n;if(this.rightDelim&&"?"!==this.rightDelim)return this.rightDelim;let r=null!=(e=this.leftDelim)?e:".";return null!=(n=f1[r])?n:r}render(e){var n,r,i,a,o;let l=new fj(e,this.style);this.body;let s=new fj(e,this.style,"textstyle"),u=null!=(n=fX.createBox(l,this.body,{newList:!0}))?n:new me(null,{newList:!0}),c=u.height/s.scalingFactor,d=u.depth/s.scalingFactor,h=[];this.leftDelim&&h.push(this.bind(s,gi("open",this.leftDelim,c,d,s,{classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style})));let p=null!=(i=null==(r=this.body)?void 0:r[this.body.length-1].style)?i:{};if(u&&(function e(n,r,i,a,o){if(n)for(let l=0;l<n.length;l++){let s=n[l];"middle"===s.type?(n[l]=r.bind(i,gi("inner",s.value,a,o,i)),n[l].caret=s.caret,n[l].isSelected=s.isSelected,n[l].cssId=s.cssId,n[l].htmlData=s.htmlData,n[l].htmlStyle=s.htmlStyle,n[l].attributes=s.attributes,n[l].cssProperties=s.cssProperties):s.children&&e(s.children,r,i,a,o)}}(u.children,this,l,c,d),h.push(u)),this.rightDelim){let e=this.containsCaret?" ML__contains-caret":"",n=this.rightDelim;"?"===n&&(this.context.smartFence?(n=this.matchingRightDelim(),e+=" ML__smart-fence__close"):n="."),h.push(this.bind(s,gi("close",n,c,d,s,{classes:e+" ML__close",mode:this.mode,style:p})))}let m=new me(h,{type:null!=(o="mleft...mright"===this.variant||(null==(a=this.leftSibling)?void 0:a.isFunction))&&o?"close":"inner",classes:"left-right"});return this.caret&&(m.caret=this.caret),this.bind(l,m.wrap(l))}},gh=class extends fX{constructor(e,n,r){var i;super("macro",n,{command:e,style:r.style}),this.body=r.body,void 0===r.captureSelection?r.args?this.captureSelection=!1:this.captureSelection=!0:this.captureSelection=r.captureSelection,this.macroArgs=r.args,this.expand=null!=(i=r.expand)&&i}static fromJson(e,n){return new gh(e.command,n,e)}toJson(){let e=super.toJson();return this.expand&&(e.expand=!0),void 0!==this.captureSelection&&(e.captureSelection=this.captureSelection),this.macroArgs&&(e.args=this.macroArgs),e}serialize(e){var n;return e.expandMacro&&this.expand?this.bodyToLatex(e):this.command+(null!=(n=this.macroArgs)?n:"")}render(e){let n=fX.createBox(e,this.body);return n?(this.caret&&(n.caret=this.caret),this.bind(e,n)):null}},gp=class extends fX{constructor(e,n,r,i=!1,a,o){var l;super("prompt",e,{mode:null!=(l=null==o?void 0:o.mode)?l:"math",style:null==o?void 0:o.style,command:"\\placeholder"}),this.body=a,this.correctness=r,this.placeholderId=n,this.locked=i,this.captureSelection=this.locked}static fromJson(e,n){return new gp(n,e.placeholderId,e.correctness,e.locked,e.body,e)}toJson(){let e=super.toJson();return this.placeholderId&&(e.placeholderId=this.placeholderId),this.body||delete e.body,this.body&&(e.body=this.body.filter(e=>"first"!==e.type).map(e=>e.toJson())),this.correctness&&(e.correctness=this.correctness),e.locked=this.locked,e}render(e){let n=new fj(e),r=f$(n.getRegisterAsDimension("fboxsep")),i=fX.createBox(e,this.body);if(!i)return null;i.height||(i.height=.5),i.setStyle("vertical-align",-i.height,"em"),"correct"===this.correctness?i.setStyle("color","var(--correct-color, var(--ML__correct-color))"):"incorrect"===this.correctness&&i.setStyle("color","var(--incorrect-color, var(--ML__incorrect-color))");let a=new me(i,{type:"ord"}),o="ML__prompt ";this.locked?o+=" ML__lockedPromptBox ":o+=" ML__editablePromptBox ","correct"===this.correctness?o+=" ML__correctPromptBox ":"incorrect"===this.correctness&&(o+=" ML__incorrectPromptBox "),this.containsCaret&&(o+=" ML__focusedPromptBox ");let l=new me(null,{classes:o});l.height=a.height+r,l.depth=a.depth+r,l.setStyle("box-sizing","border-box"),l.setStyle("position","absolute"),l.setStyle("height",a.height+a.depth+2*r,"em"),0===r?l.setStyle("width","100%"):(l.setStyle("width",`calc(100% + ${2*r}em)`),l.setStyle("top",r,"em"),l.setStyle("left",-r,"em")),this.body&&1!==this.body.length||(l.setStyle("width",`calc(100% + ${3*r}em)`),l.setStyle("left",-1.5*r,"em"));let s="";"incorrect"===this.correctness&&(s+='<line x1="3%"  y1="97%" x2="97%" y2="3%" stroke-width="0.5" stroke="var(--incorrect-color, var(--ML__incorrect-color))" stroke-linecap="round" />'),s&&ma(l,s,""),a.setStyle("display","inline-block"),a.setStyle("height",i.height+i.depth,"em"),a.setStyle("vertical-align",-r,"em");let u=new me([l,a],{classes:"ML__prompt-atom"});return u.setStyle("position","relative"),u.setStyle("display","inline-block"),u.setStyle("line-height",0),u.height=a.height+r+.2,u.depth=a.depth+r,u.left=r,u.right=r,u.setStyle("height",a.height+r,"em"),u.setStyle("top",a.depth-a.height,"em"),u.setStyle("vertical-align",a.depth+r,"em"),u.setStyle("margin-left",.5,"em"),u.setStyle("margin-right",.5,"em"),this.caret&&(u.caret=this.caret),this.bind(n,this.attachSupsub(e,{base:u}))}serialize(e){var n;let r=null!=(n=this.bodyToLatex(e))?n:"";r===this.context.placeholderSymbol&&(r="");let i="\\placeholder";return this.placeholderId&&(i=`\\placeholder[${this.placeholderId}]`),"correct"===this.correctness?i+="[correct]":"incorrect"===this.correctness&&(i+="[incorrect]"),this.locked&&(i+="[locked]"),fm(i,r)}},gm=class extends fX{constructor(e,n,r,i){super("spacing",r,{command:e,style:n}),this.width=i}static fromJson(e,n){return new gm(e.command,e.style,n,e.width)}toJson(){let e={};return this.width&&(e.width=this.width),pn(pn({},super.toJson()),e)}render(e){var n;let r;return this.width?(r=new me(null,{classes:"mspace"})).left=f$(this.width.glue):r=new me(null,{classes:null!=(n=({"\\qquad":"qquad","\\quad":"quad","\\enspace":"enspace","\\;":"thickspace","\\:":"mediumspace","\\,":"thinspace","\\!":"negativethinspace"})[this.command])?n:"mediumspace"}),r=this.bind(e,r),this.caret&&(r.caret=this.caret),r}serialize(e){var n;let r=null!=(n=this.command)?n:"";return"\\hspace"===this.command||"\\hspace*"===this.command?Number.isFinite(this.width)?fm(r,`${this.width}em'}`):`${r}0pt`:Number.isFinite(this.width)?fm(r,`${this.width}em`):r}},gf=class extends fX{constructor(e,n){super("subsup",e,{style:null==n?void 0:n.style})}static fromJson(e,n){let r=new gf(n,e);for(let n of fW)e[n]&&r.setChildren(e[n],n);return r}toJson(){return super.toJson()}render(e){var n;this.subsupPlacement;let r=this.leftSibling,i=new fj(e,{isPhantom:!0}),a=null!=(n=r.render(i))?n:new me(null),o=new me(null,{height:a.height,depth:a.depth});return this.attachSupsub(e,{base:o,isCharacterBox:r.isCharacterBox(),type:"none"})}serialize(e){return this.supsubToLatex(e)}},gg=class extends fX{constructor(e,n,r,i){super("text",i,{command:e,mode:"text",displayContainsHighlight:!0}),this.value=n,this.verbatimLatex=n,this.applyStyle(r)}static fromJson(e,n){return new gg(e.command,e.value,e.style,n)}toJson(){return super.toJson()}render(e){let n=this.createBox(e);return this.caret&&(n.caret=this.caret),n}serialize(e){var n;return null!=(n=this.verbatimLatex)?n:fF("text",this.value.codePointAt(0))}};function gy(e){return(null==e?void 0:e.length)===1&&""!==e}var gb=class{constructor(e,n,r){var i,a,o,l;this.errors=[],this.index=0,this.endCount=0,this.tokens=e,this.context=n,this.args=null!=(i=r.args)?i:null,this.smartFence=n.smartFence,this.currentContext={parent:void 0,mathlist:[],style:null!=(a=r.style)?a:{},parseMode:null!=(o=r.parseMode)?o:"math",mathstyle:null!=(l=r.mathstyle)?l:"displaystyle",registers:n.registers,tabular:!1}}get rootContext(){let e=this.currentContext;for(;e.parent;)e=e.parent;return e}beginContext(e){var n,r,i;let a=this.currentContext,o={parent:a,mathlist:[],style:pn({},a.style),parseMode:null!=(n=null==e?void 0:e.mode)?n:a.parseMode,mathstyle:null!=(r=null==e?void 0:e.mathstyle)?r:a.mathstyle,registers:null,tabular:null!=(i=null==e?void 0:e.tabular)&&i};this.currentContext=o}endContext(){this.currentContext=this.currentContext.parent}onError(e){this.errors.push(pn({before:ff(this.tokens.slice(this.index,this.index+10)),after:ff(this.tokens.slice(Math.max(0,this.index-10),this.index))},e))}get mathlist(){return this.currentContext.mathlist}set mathlist(e){this.currentContext.mathlist=e}get parseMode(){return this.currentContext.parseMode}set parseMode(e){this.currentContext.parseMode=e}get tabularMode(){return this.currentContext.tabular}get style(){let e=this.currentContext;for(;e;){if(e.style)return e.style;e=e.parent}return{}}set style(e){this.currentContext.style=e}getRegister(e){var n,r,i;if(e[0],e.startsWith("global "))return null!=(r=null==(n=this.rootContext.registers)?void 0:n[e.slice(7)])?r:0;let a=this.currentContext;for(;a;){if(null!=(i=a.registers)&&i[e])return a.registers[e];a=a.parent}return 0}setRegister(e,n){var r;if(e.startsWith("global ")){e=e.slice(7);let i=this.currentContext;for(;i;)null!=(r=i.registers)&&r[e]&&delete i.registers[e],i=i.parent;this.rootContext.registers[e]=n;return}this.currentContext.registers||(this.currentContext.registers={}),this.currentContext.registers[e]=n}end(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}next(){this.index+=1}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}match(e){return this.tokens[this.index]===e&&(this.index++,!0)}lastSubsupAtom(){let e;return this.mathlist.length>0&&("subsup"===(e=this.mathlist[this.mathlist.length-1]).type||void 0!==e.subsupPlacement)||(e=new gf(this.context,{style:this.style}),this.mathlist.push(e)),e}hasPattern(e){return e.test(this.tokens[this.index])}hasInfixCommand(){var e;let{index:n}=this;if(n<this.tokens.length&&this.tokens[n].startsWith("\\")){let r=this.context.getDefinition(this.tokens[n],this.parseMode);return!!(r&&"symbol"!==r.definitionType&&(!r.ifMode||r.ifMode.includes(this.parseMode)))&&null!=(e=r.infix)&&e}return!1}matchColumnSeparator(){return!!this.tabularMode&&"&"===this.peek()&&(this.index++,!0)}matchRowSeparator(){if(!this.tabularMode)return!1;let e=this.peek();return("\\\\"===e||"\\cr"===e||"\\tabularnewline"===e)&&(this.index++,!0)}placeholder(){var e;let n=null==(e=this.args)?void 0:e.call(this,"?");return n?gv(n,this.context,{parseMode:this.parseMode,mathstyle:"textstyle"}):[new gl(this.context,{mode:this.parseMode,style:this.style})]}skipWhitespace(){for(;this.match("<space>"););}skipUntilToken(e){let n=this.tokens[this.index];for(;n&&n!==e;)n=this.tokens[++this.index];n===e&&this.index++}skipFiller(){for(;this.match("\\relax")||this.match("<space>"););}matchKeyword(e){let n=this.index,r=this.end(),i="";for(;!r;){let n=this.get();gy(n)?(i+=n,r=this.end()||i.length>=e.length):r=!0}let a=e.toUpperCase()===i.toUpperCase();return a||(this.index=n),a}scanString(){let e="";for(;!this.end();){let n=this.peek();if("]"===n)break;if("<space>"===n)e+=" ";else if(n.startsWith("\\"))this.onError({code:"unexpected-command-in-string"}),e+=n.substring(1);else if(gy(n))e+=n;else break;this.next()}return e}scanBalancedString(){let e="",n=this.end(),r=1;for(;!n;){let i=this.get();"<space>"===i?e+=" ":"<{>"===i?(e+="{",r+=1):"<}>"===i?(r-=1)>0?e+="}":this.index-=1:"<$>"===i?e+="$":"<$$>"===i?e+="$$":e+=i,n=0===r||this.end()}return e}scanLiteralGroup(){var e;if(!this.match("<{>"))return"";let n="",r=1;for(;r>0&&!this.end();){let i=this.get();"<}>"===i?(r-=1)>0&&(n+="}"):"<{>"===i?(r+=1,n+="{"):(/\\[a-zA-Z]+$/.test(n)&&/^[a-zA-Z]/.test(i)&&(n+=" "),n+=null!=(e=({"<space>":" ","<$$>":"$$","<$>":"$"})[i])?e:i)}return n}scanNumber(e=!0){var n,r;let i=!1,a=this.peek();for(;"<space>"===a||"+"===a||"-"===a;)this.get(),"-"===a&&(i=!i),a=this.peek();e=!!e;let o=10,l=/\d/;if(this.match("'"))o=8,l=/[0-7]/,e=!0;else if(this.match('"')||this.match("x"))o=16,l=/[\dA-F]/,e=!0;else if(this.match("`"))return(a=this.get())?2===a.length&&a.startsWith("\\")?(i?-1:1)*(null!=(n=a.codePointAt(1))?n:0):(i?-1:1)*(null!=(r=a.codePointAt(0))?r:0):null;let s="";for(;this.hasPattern(l);)s+=this.get();if(!e&&(this.match(".")||this.match(",")))for(s+=".";this.hasPattern(l);)s+=this.get();let u=e?Number.parseInt(s,o):Number.parseFloat(s);return Number.isNaN(u)?null:i?-u:u}scanDimen(){var e,n,r;let i;let a=this.scanNumber(!1);if(null===a){if(!(null!=(e=this.peek())&&e.startsWith("\\")))return null;a=1}return this.skipWhitespace(),this.matchKeyword("pt")?i={dimension:a,unit:"pt"}:this.matchKeyword("mm")?i={dimension:a,unit:"mm"}:this.matchKeyword("cm")?i={dimension:a,unit:"cm"}:this.matchKeyword("ex")?i={dimension:a,unit:"ex"}:this.matchKeyword("px")?i={dimension:a,unit:"px"}:this.matchKeyword("em")?i={dimension:a,unit:"em"}:this.matchKeyword("bp")?i={dimension:a,unit:"bp"}:this.matchKeyword("dd")?i={dimension:a,unit:"dd"}:this.matchKeyword("pc")?i={dimension:a,unit:"pc"}:this.matchKeyword("in")?i={dimension:a,unit:"in"}:this.matchKeyword("mu")?i={dimension:a,unit:"mu"}:null!=(n=this.peek())&&n.startsWith("\\")?(i=null!=(r=g_(this.getRegister(this.get().slice(1)),this.context))?r:{dimension:0},i.dimension*=a):(this.match("\\relax")||this.onError({code:"missing-unit"}),i={dimension:a,unit:"pt"}),i}scanGlue(){let e=this.scanDimen();return null===e?null:(this.skipWhitespace(),this.match("\\relax")||(this.matchKeyword("plus")&&this.scanDimen(),this.skipWhitespace(),this.match("\\relax"))||(this.skipWhitespace(),this.matchKeyword("minus")&&this.scanDimen()),{glue:e})}scanColspec(){this.skipWhitespace();let e=[];for(;!this.end()&&!("<}>"===this.peek()||"]"===this.peek());){let n=this.get();"c"===n||"r"===n||"l"===n?e.push({align:n}):"|"===n?e.push({separator:"solid"}):":"===n?e.push({separator:"dashed"}):"@"===n&&(this.match("<{>")&&(this.beginContext({mode:"math"}),e.push({gap:this.scan(e=>"<}>"===e)}),this.endContext()),this.match("<}>")||this.onError({code:"unbalanced-braces"}))}return e}scanModeSet(){let e;if(this.match("\\(")&&(e="textstyle"),!e&&this.match("\\[")&&(e="displaystyle"),!e)return null;this.beginContext({mode:"math",mathstyle:e});let n=new gc(this.scan(n=>n===("displaystyle"===e?"\\]":"\\)")),this.context,{mathstyleName:e,latexOpen:"displaystyle"===e?"\\[":"\\(",latexClose:"displaystyle"===e?"\\]":"\\)",boxType:"inner",break:!0});return this.match("displaystyle"===e?"\\]":"\\)")||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),n.hasEmptyBranch("body")?null:n}scanModeShift(){let e="";if(this.match("<$>")&&(e="<$>"),!e&&this.match("<$$>")&&(e="<$$>"),!e)return null;this.beginContext({mode:"math",mathstyle:"textstyle"});let n=new gc(this.scan(n=>n===e),this.context,{mathstyleName:"<$>"===e?"textstyle":"displaystyle",latexOpen:"<$>"===e?"$ ":"$$ ",latexClose:"<$>"===e?" $":" $$",break:!0});return this.match(e)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),n.hasEmptyBranch("body")?null:n}scanEnvironment(){var e;if(!this.match("\\begin"))return null;let n=this.scanArgument("string");if(!n)return null;let r=null!=(e=fO[n])?e:null;if(!r)return this.onError({code:"unknown-environment",arg:n}),null;let i=[];if(r.params)for(let e of r.params)if(e.isOptional)i.push(this.scanOptionalArgument(e.type));else{let r=this.scanArgument(e.type);r||this.onError({code:"missing-argument",arg:n}),i.push(r)}this.beginContext({tabular:r.tabular});let a=[],o=[],l=[],s=!1;do if(this.end()&&(this.onError({code:"unbalanced-environment",arg:n}),s=!0),!s&&this.match("\\end")&&(this.scanArgument("string")!==n&&this.onError({code:"unbalanced-environment",arg:n}),s=!0),!s){if(this.matchColumnSeparator())l.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){l.push(this.mathlist),this.mathlist=[];let e=null;this.skipWhitespace(),this.match("[")&&(e=this.scanDimen(),this.skipWhitespace(),this.match("]")),o.push(null!=e?e:{dimension:0}),a.push(l),l=[]}else this.mathlist.push(...this.scan(e=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline"].includes(e)))}while(!s);return l.push(this.mathlist),l.length>0&&a.push(l),this.endContext(),r.createAtom(this.context,n,a,o,i)}scanExpression(){let e=this.mathlist;if(this.mathlist=[],this.parseExpression()){let n=this.mathlist;return this.mathlist=e,n}return this.mathlist=e,null}scan(e){var n;let r;this.beginContext(),e||(e=e=>"<}>"===e);let i="",a=null,o=[],l=null;this.mathlist.length;let s=this.mathlist;for(this.mathlist=[];!this.end()&&!e(null!=(n=this.peek())?n:"");)this.hasInfixCommand()&&!i?(i=this.get(),(a=this.context.getDefinition(i,"math"))&&(o=this.scanArguments(a)[1]),l=this.mathlist,this.mathlist=[]):this.parseExpression();return i?(o.unshift(this.mathlist),this.mathlist=s,l&&o.unshift(l),r=[a.createAtom(i,this.context,this.style,o)]):(r=this.mathlist,this.mathlist=s),this.endContext(),r}scanGroup(){if("text"===this.parseMode)return this.match("<{>")?new fX("text",this.context,{value:"{",mode:"text",style:this.style}):this.match("<}>")?new fX("text",this.context,{value:"}",mode:"text",style:this.style}):null;if(!this.match("<{>"))return null;let e=this.scan(e=>"<}>"===e);return this.match("<}>")||this.onError({code:"unbalanced-braces"}),new gc(e,this.context,{break:e.length>1,mode:this.parseMode,latexOpen:"{",latexClose:"}"})}scanSmartFence(){if(this.skipWhitespace(),!this.match("("))return null;this.beginContext();let e=1;for(;!this.end()&&0!==e;)this.match("(")&&(e+=1),this.match(")")&&(e-=1),0!==e&&this.parseExpression();0===e&&this.match(")");let n=new gd("",this.mathlist,this.context,{leftDelim:"(",rightDelim:0===e?")":"?"});return this.endContext(),n}scanDelim(){this.skipWhitespace();let e=this.peek();if(!e)return this.onError({code:"unexpected-end-of-string"}),null;if(!gy(e)&&!e.startsWith("\\"))return null;this.next();let n=this.context.getDefinition(e,"math");return n?"function"===n.definitionType&&n.ifMode&&!n.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",arg:e}),null):"symbol"===n.definitionType&&("mopen"===n.type||"mclose"===n.type)||/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(e)?e:(this.onError({code:"unexpected-delimiter",arg:e}),null):(this.onError({code:"unknown-command",arg:e}),null)}scanLeftRight(){var e;if(this.match("\\right"))return this.onError({code:"unbalanced-braces"}),new gu("\\right",this.context);if(this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),new gu("\\mright",this.context);let n="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;n="\\mright"}let r=this.scanDelim();if(!r)return this.onError({code:"unexpected-delimiter"}),new gu("\\right"===n?"\\left":"\\mleft",this.context);for(this.beginContext();!this.end()&&!this.match(n);)this.parseExpression();let i=this.mathlist;this.endContext();let a=null!=(e=this.scanDelim())?e:".";return new gd("\\right"===n?"left...right":"mleft...mright",i,this.context,{leftDelim:r,rightDelim:a,style:this.style})}parseSupSub(){if("math"!==this.parseMode)return!1;let e=this.peek();if("^"!==e&&"_"!==e&&"'"!==e)return!1;for(;"^"===e||"_"===e||"'"===e;)this.match("'")?this.match("'")?this.lastSubsupAtom().addChild(new fX("mord",this.context,{command:"\\doubleprime",mode:"math",value:""}),"superscript"):this.lastSubsupAtom().addChild(new fX("mord",this.context,{command:"\\prime",mode:"math",value:""}),"superscript"):(this.match("^")||this.match("_"))&&this.lastSubsupAtom().addChildren(fb(this.scanArgument("expression")),"_"===e?"subscript":"superscript"),e=this.peek();return!0}parseLimits(){let e=this.match("\\limits"),n=!e&&this.match("\\nolimits"),r=!n&&!e&&this.match("\\displaylimits");if(!e&&!n&&!r)return!1;let i=this.mathlist.length>0?this.mathlist[this.mathlist.length-1]:null;return null!==i&&"mop"===i.type&&(e?(i.subsupPlacement="over-under",i.explicitSubsupPlacement=!0,!0):n?(i.subsupPlacement="adjacent",i.explicitSubsupPlacement=!0,!0):!!r&&(i.subsupPlacement="auto",i.explicitSubsupPlacement=!0,!0))}scanArguments(e){if(!(null!=e&&e.params))return[void 0,[]];let n,r=[],i=e.infix?2:0;for(;i<e.params.length;){let a=e.params[i];"rest"===a.type?r.push(this.scan(e=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline"].includes(e))):a.isOptional?r.push(this.scanOptionalArgument(a.type)):a.type.endsWith("*")?n=a.type.slice(0,-1):r.push(this.scanArgument(a.type)),i+=1}return[n,r]}scanSymbolOrLiteral(){let e,n=this.peek();if(!n)return null;if(this.next(),gy(n)){let e=p3.createAtom(this.parseMode,n,this.context,pn({},this.style));return e?[e]:null}if(e=this.scanMacro(n))return[e];if(n.startsWith("\\")){let r=this.context.getDefinition(n,this.parseMode);if(!r)return this.onError({code:"unknown-command",arg:n}),[new gu(n,this.context)];if("symbol"===r.definitionType){let i=pn({},this.style);r.variant&&(i.variant=r.variant),(e=new fX(r.type,this.context,{command:n,style:i,value:String.fromCodePoint(r.codepoint),mode:this.parseMode})).verbatimLatex=n}else{if(r.applyMode||r.applyStyle||r.infix)return this.onError({code:"invalid-command",arg:n}),[new gu(n,this.context)];r.createAtom&&(e=r.createAtom(n,this.context,this.style,[]))}}return e?[e]:null}scanArgument(e){var n;if(this.skipFiller(),"auto"===e&&(e=this.parseMode),!this.match("<{>")){if("dimen"===e)return this.scanDimen();if("glue"===e)return this.scanGlue();if("number"===e)return this.scanNumber();if("delim"===e)return null!=(n=this.scanDelim())?n:".";if("expression"===e)return this.scanExpression();if("math"===e)return this.scanSymbolOrLiteral();if("text"===e){this.beginContext({mode:"text"});let e=this.scanSymbolOrLiteral();return this.endContext(),e}return null}if("text"===e){this.beginContext({mode:e}),this.index-=1;let n=gv(this.scanLiteralGroup(),this.context,{parseMode:"text",style:this.currentContext.style});return this.endContext(),{group:n}}if("math"===e){this.beginContext({mode:e});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let n=this.mathlist;return this.endContext(),{group:n}}let r=null;if("expression"===e){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let e=this.mathlist;return this.endContext(),{group:e}}return"string"===e?r=this.scanString():"balanced-string"===e?r=this.scanBalancedString():"colspec"===e?r=this.scanColspec():"dimen"===e?r=this.scanDimen():"glue"===e?r=this.scanGlue():"number"===e&&(r=this.scanNumber()),this.skipUntilToken("<}>"),r}scanOptionalArgument(e){var n,r;if(e="auto"===e?this.parseMode:e,this.skipFiller(),!this.match("["))return null;let i=null;for(;!this.end()&&!this.match("]");)if("string"===e)i=this.scanString();else if("dimen"===e)i=this.scanDimen();else if("glue"===e)i=this.scanGlue();else if("number"===e)i=this.scanNumber();else if("colspec"===e)i=this.scanColspec();else if("bbox"===e){let e=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/),a={};for(let i of e){let e=null==(r=(n=this.context).backgroundColorMap)?void 0:r.call(n,i);if(e)a.backgroundcolor=e;else{let e=i.match(/^\s*([\d.]+)\s*([a-z]{2})/);if(e)a.padding=e[0];else{let e=i.match(/^\s*border\s*:\s*(.*)/);e&&(a.border=e[1])}}}i=a}else"math"===e&&(this.beginContext({mode:"math"}),i=this.mathlist.concat(this.scan(e=>"]"===e)),this.endContext());return i}scanSymbolOrCommand(e){var n,r,i,a;if("\\placeholder"===e){let e=this.scanOptionalArgument("string"),n=this.scanOptionalArgument("math"),r=fJ(n,{defaultMode:"math"}),i=[],a;a||"correct"!==r?a||"incorrect"!==r?""!==r&&(i=n):a="incorrect":a="correct";let o="locked"===this.scanOptionalArgument("string"),l=this.scanArgument("auto"),s;return s=l&&Array.isArray(l)&&l.length>0?l:l&&"object"==typeof l&&"group"in l?l.group:i,e?[new gp(this.context,e,a,o,null!=s?s:i,{mode:this.parseMode,style:this.style})]:[new gl(this.context,{mode:this.parseMode,placeholderId:e,style:this.style})]}let o=null;if("\\char"===e){let e=this.index,r=Math.floor(null!=(n=this.scanNumber(!0))?n:Number.NaN);return(!Number.isFinite(r)||r<0||r>1114111)&&(r=10067),(o=new fX("math"===this.parseMode?"mord":"text",this.context,{command:"\\char",mode:this.parseMode,value:String.fromCodePoint(r),serialize:e=>{var n;return null!=(n=e.verbatimLatex)?n:`\\char"${e.value.codePointAt(0).toString(16).toUpperCase()}`}})).verbatimLatex="\\char"+ff(this.tokens.slice(e,this.index)),[o]}if("\\hskip"===e||"\\kern"===e){let n=this.scanGlue();return n?[new gm(e,this.style,this.context,n)]:null}if(o=this.scanMacro(e))return[o];let l=this.context.getDefinition(e,this.parseMode);if(!l)return this.onError({code:"unknown-command",arg:e}),"text"===this.parseMode?[...e].map(e=>new fX("text",this.context,{value:e,mode:"text",style:this.style})):[new gu(e,this.context)];let s=this.index;if("symbol"===l.definitionType){let n=pn({},this.style);l.variant&&(n.variant=l.variant),o=new fX(l.type,this.context,{command:e,style:n,value:String.fromCodePoint(l.codepoint),mode:this.parseMode})}else{if(l.ifMode&&!l.ifMode.includes(this.parseMode))return[];let n=this.parseMode;l.applyMode&&(this.parseMode=l.applyMode);let[a,s]=this.scanArguments(l);if(this.parseMode=n,l.applyMode&&!l.applyStyle&&!l.createAtom)return fb(s[0]);if(l.infix)return this.onError({code:"too-many-infix-commands",arg:e}),null;if("function"==typeof l.createAtom)o=l.createAtom(e,this.context,this.style,s),a&&(o.body=fb(this.scanArgument(a)));else if("function"==typeof l.applyStyle){let n=l.applyStyle(e,this.context,s),r=this.parseMode;if(l.applyMode&&(this.parseMode=l.applyMode),a){let e=this.style;this.style=pn(pn({},this.style),n);let i=this.scanArgument(a);return this.style=e,this.parseMode=r,fb(i)}this.style=pn(pn({},this.style),n),this.parseMode=r}else o=new fX("mop",this.context,{command:null!=(r=l.command)?r:e,style:pn({},this.style),value:e,mode:null!=(i=l.applyMode)?i:this.parseMode})}if(o instanceof fX&&void 0===o.verbatimLatex&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(e)&&(o.verbatimLatex=(null!=(a=o.command)?a:"")+ff(this.tokens.slice(s,this.index)),0===o.verbatimLatex.length&&(o.verbatimLatex=void 0),o.isFunction&&this.smartFence)){let e=this.scanSmartFence();if(e)return[o,e]}return o?[o]:null}scanSymbolCommandOrLiteral(){let e=this.get();if(!e)return null;if(gy(e)){let n=p3.createAtom(this.parseMode,e,this.context,pn({},this.style));if(!n)return null;if(n.isFunction&&this.smartFence){let e=this.scanSmartFence();if(e)return[n,e]}return[n]}return e.startsWith("\\")?this.scanSymbolOrCommand(e):"<space>"===e?"text"===this.parseMode?[new gg(" "," ",this.style,this.context)]:null:("<}>"===e?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:e}),null)}scanMacro(e){var n;let r=this.context.getMacro(e);if(!r)return null;let i=this.index,a=r.args,o={"?":null==(n=this.args)?void 0:n.call(this,"?")};for(let e=1;e<=a;e++)o[e]=this.scanLiteralGroup();return new gh(e,this.context,{expand:r.expand,captureSelection:r.captureSelection,args:i===this.index?null:ff(this.tokens.slice(i,this.index)),style:this.currentContext.style,body:gv(r.def,this.context,{parseMode:this.parseMode,args:e=>o[e],mathstyle:this.currentContext.mathstyle,style:this.currentContext.style})})}parseExpression(){var e,n,r,i;let a=null!=(i=null!=(r=null!=(n=null!=(e=this.scanEnvironment())?e:this.scanModeShift())?n:this.scanModeSet())?r:this.scanGroup())?i:this.scanLeftRight();if(null===a){if(this.parseSupSub()||this.parseLimits())return!0;a=this.scanSymbolCommandOrLiteral()}return!!a&&(Array.isArray(a)?this.mathlist.push(...a):this.mathlist.push(a),!0)}};function gv(e,n,r){var i,a,o,l;let s=null!=(i=null==r?void 0:r.args)?i:null,u=new gb(fh(e,s),n,{args:s,mathstyle:null!=(a=null==r?void 0:r.mathstyle)?a:"displaystyle",parseMode:null!=(o=null==r?void 0:r.parseMode)?o:"math",style:null!=(l=null==r?void 0:r.style)?l:{}}),c=[];for(;!u.end();)c.push(...u.scan(()=>!1));return c}function g_(e,n){return"number"==typeof e?{dimension:e,unit:"pt"}:("object"==typeof e&&"glue"in e&&(e=e.glue),"object"==typeof e&&"dimension"in e?e:new gb(fh(e),n,{}).scanDimen())}var gx=class extends fX{constructor(e,n,r,i,a){super("enclose",i,{command:e,style:a.style}),this.body=n,this.backgroundcolor=a.backgroundcolor,r.updiagonalarrow&&(r.updiagonalstrike=!1),r.box&&(r.left=!1,r.right=!1,r.bottom=!1,r.top=!1),this.notation=r,this.shadow=a.shadow,this.strokeWidth=a.strokeWidth,this.strokeStyle=a.strokeStyle,this.svgStrokeStyle=a.svgStrokeStyle,this.strokeColor=a.strokeColor,this.borderStyle=a.borderStyle,this.padding=a.padding,this.captureSelection=!0}static fromJson(e,n){return new gx(e.command,e.body,e.notation,n,e)}toJson(){return pr(pn({},super.toJson()),{notation:this.notation,shadow:this.shadow,strokeWidth:this.strokeWidth,strokeStyle:this.strokeStyle,svgStrokeStyle:this.svgStrokeStyle,strokeColor:this.strokeColor,borderStyle:this.borderStyle,padding:this.padding})}serialize(e){var n;let r=null!=(n=this.command)?n:"";if("\\enclose"===this.command){r+="{"+Object.keys(this.notation).join(" ")+"}";let e="",n="";this.backgroundcolor&&"transparent"!==this.backgroundcolor&&(e+=n+'mathbackground="'+this.backgroundcolor+'"',n=","),this.shadow&&"auto"!==this.shadow&&(e+=n+'shadow="'+this.shadow+'"',n=","),this.strokeWidth||"solid"!==this.strokeStyle?(e+=n+this.borderStyle,n=","):this.strokeColor&&"currentColor"!==this.strokeColor&&(e+=n+'mathcolor="'+this.strokeColor+'"',n=","),e&&(r+=`[${e}]`)}return fm(r,this.bodyToLatex(e))}render(e){var n;let r=new fj(e,this.style),i=fX.createBox(r,this.body);if(!i)return null;let a=null!=(n=f$(this.padding&&"auto"!==this.padding?g_(this.padding,pr(pn({},this.context),{registers:e.registers})):r.getRegisterAsDimension("fboxsep")))?n:0,o=function(e){if(!e)return"1px";let n=e.match(/([0-9][a-zA-Z\%]+)/);return null===n?"1px":n[1]}(this.borderStyle),l=new me(null,{classes:"ML__notation"});l.setStyle("box-sizing","border-box"),l.setStyle("top",`calc(-${o} / 2 - ${a}em)`),l.setStyle("left",`calc(-${o} / 2 - ${a}em)`),l.setStyle("height",`calc(100% + ${2*a}em + 2 * ${o})`),l.height=i.height+a,l.depth=i.depth+a,l.setStyle("width",`calc(100% + ${2*a}em + 2 * ${o})`),this.backgroundcolor&&l.setStyle("background-color",this.backgroundcolor),this.notation.box&&l.setStyle("border",this.borderStyle),this.notation.actuarial&&(l.setStyle("border-top",this.borderStyle),l.setStyle("border-right",this.borderStyle)),this.notation.madruwb&&(l.setStyle("border-bottom",this.borderStyle),l.setStyle("border-right",this.borderStyle)),this.notation.roundedbox&&(l.setStyle("border-radius","8px"),l.setStyle("border",this.borderStyle)),this.notation.circle&&(l.setStyle("border-radius","50%"),l.setStyle("border",this.borderStyle)),this.notation.top&&l.setStyle("border-top",this.borderStyle),this.notation.left&&l.setStyle("border-left",this.borderStyle),this.notation.right&&l.setStyle("border-right",this.borderStyle),this.notation.bottom&&l.setStyle("border-bottom",this.borderStyle);let s="";if(this.notation.horizontalstrike&&(s+=`<line x1="3%"  y1="50%" x2="97%" y2="50%" stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}" stroke-linecap="round"`,this.svgStrokeStyle&&(s+=` stroke-dasharray="${this.svgStrokeStyle}"`),s+="/>"),this.notation.verticalstrike&&(s+=`<line x1="50%"  y1="3%" x2="50%" y2="97%" stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}" stroke-linecap="round"`,this.svgStrokeStyle&&(s+=` stroke-dasharray="${this.svgStrokeStyle}"`),s+="/>"),this.notation.updiagonalstrike&&(s+=`<line x1="3%"  y1="97%" x2="97%" y2="3%" stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}" stroke-linecap="round"`,this.svgStrokeStyle&&(s+=` stroke-dasharray="${this.svgStrokeStyle}"`),s+="/>"),this.notation.downdiagonalstrike&&(s+=`<line x1="3%"  y1="3%" x2="97%" y2="97%" stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}" stroke-linecap="round"`,this.svgStrokeStyle&&(s+=` stroke-dasharray="${this.svgStrokeStyle}"`),s+="/>"),s){let e;"none"!==this.shadow&&(e="auto"===this.shadow?"filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)":"filter: drop-shadow("+this.shadow+")"),ma(l,s,e)}let u=new me([l,i]);return u.setStyle("position","relative"),u.setStyle("display","inline"),u.height=i.height+a,u.depth=i.depth+a,u.left=a,u.right=a,this.caret&&(u.caret=this.caret),u.wrap(r)}};fB("enclose","{notation:string}[style:string]{body:auto}",{createAtom:(e,n,r,i)=>{var a;let o={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"auto",svgStrokeStyle:void 0,borderStyle:void 0,style:r};if(i[1]){for(let e of i[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/)){let n=e.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(n)o.strokeWidth=n[1],o.strokeStyle=n[2],o.strokeColor=n[3];else{let n=e.match(/\s*([a-z]*)\s*=\s*"(.*)"/);n&&("mathbackground"===n[1]?o.backgroundcolor=n[2]:"mathcolor"===n[1]?o.strokeColor=n[2]:"padding"===n[1]?o.padding=n[2]:"shadow"===n[1]&&(o.shadow=n[2]))}}"dashed"===o.strokeStyle?o.svgStrokeStyle="5,5":"dotted"===o.strokeStyle&&(o.svgStrokeStyle="1,5")}o.borderStyle=`${o.strokeWidth} ${o.strokeStyle} ${o.strokeColor}`;let l={};return(null!=(a=i[0])?a:"").split(/[, ]/).filter(e=>e.length>0).forEach(e=>{l[e.toLowerCase()]=!0}),new gx(e,fb(i[2]),l,n,o)}}),fB("cancel","{body:auto}",{createAtom:(e,n,r,i)=>new gx(e,fb(i[0]),{updiagonalstrike:!0},n,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:r})}),fB("bcancel","{body:auto}",{createAtom:(e,n,r,i)=>new gx(e,fb(i[0]),{downdiagonalstrike:!0},n,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:r})}),fB("xcancel","{body:auto}",{createAtom:(e,n,r,i)=>new gx(e,fb(i[0]),{updiagonalstrike:!0,downdiagonalstrike:!0},n,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:r})});var gO=["matrix","matrix*","pmatrix","pmatrix*","bmatrix","bmatrix*","Bmatrix","Bmatrix*","vmatrix","vmatrix*","Vmatrix","Vmatrix*"],gw=["cases","dcases","rcases"],gE=["align","align*","aligned","gather","gathered","split"],gC=["array","subequations","eqnarray"];function gT(e){return gO.includes(e)}var gk=class extends fX{constructor(e,n,r,i,a={}){var o;super("array",e),this.environmentName=n,this.rowGaps=i,a.mathstyleName&&(this.mathstyleName=a.mathstyleName),a.columns&&(0===a.columns.length?this.colFormat=[{align:"l"}]:this.colFormat=a.columns),this.colFormat||(this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}]),this.array=function(e,n,r,i){let a=0;for(let e of i)"align"in e&&(a+=1);let o=0,l=[];for(let i of r){let r=0;for(o=Math.max(o,Math.min(i.length,a));r<i.length;){let o=[],s=Math.min(i.length,r+a);for(;r<s;){let a=i[r];0===a.length?o.push([new fX("first",e,{mode:n.mode})]):"first"!==a[0].type?o.push([new fX("first",e,{mode:n.mode}),...a]):(a.slice(1).some(e=>"first"===e.type),o.push(a)),r+=1}l.push(o)}}l.length>0&&1===l[l.length-1].length&&1===l[l.length-1][0].length&&"first"===l[l.length-1][0][0].type&&l.pop();let s=[];for(let r of l){if(r.length!==o)for(let i=r.length;i<o;i++)r.push([new fX("first",e,{mode:n.mode}),new gl(e)]);s.push(r)}let u=0,c=0;for(let e of s){for(let r of(c=0,e)){for(let e of r)e.parent=n,e.parentBranch=[u,c];c+=1}u+=1}return n.isDirty=!0,s}(e,this,r,this.colFormat),a.leftDelim&&(this.leftDelim=a.leftDelim),a.rightDelim&&(this.rightDelim=a.rightDelim),void 0!==a.arraycolsep&&(this.arraycolsep=a.arraycolsep),this.colSeparationType=a.colSeparationType,void 0!==a.arraystretch&&(this.arraystretch=a.arraystretch),this.minColumns=null!=(o=a.minColumns)?o:1}static fromJson(e,n){return new gk(n,e.environmentName,e.array,e.rowGaps,e)}toJson(){let e=pr(pn({},super.toJson()),{environmentName:this.environmentName,array:this.array.map(e=>e.map(e=>e.map(e=>e.toJson()))),rowGaps:this.rowGaps,columns:this.colFormat,colSeparationType:this.colSeparationType});return void 0!==this.arraystretch&&(e.arraystretch=this.arraystretch),void 0!==this.arraycolsep&&(e.arraycolsep=this.arraycolsep),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),e}branch(e){var n;if(fY(e))return null!=(n=this.array[e[0]][e[1]])?n:void 0}createBranch(e){var n;return fY(e)?(this.isDirty=!0,null!=(n=this.branch(e))?n:[]):[]}get rowCount(){return this.array.length}get colCount(){return this.array[0].length}get maxColumns(){return this.colFormat.filter(e=>!!e.align).length}removeBranch(e){if(fq(e))return super.removeBranch(e);let n=this.branch(e);return this.array[e[0]][e[1]]=void 0,n.forEach(e=>{e.parent=void 0,e.parentBranch=void 0}),n[0].type,n.shift(),this.isDirty=!0,n}get hasChildren(){return this.children.length>0}get children(){let e=[];for(let n of this.array)for(let r of n)if(r)for(let n of r)e.push(...n.children),e.push(n);return[...e,...super.children]}render(e){var n,r,i,a,o,l;let s=new fj(e,this.style,this.mathstyleName),u=s.getRegisterAsEm("arrayrulewidth"),c=s.getRegisterAsEm("arraycolsep"),d=s.getRegisterAsEm("doublerulesep"),h=null!=(r=null!=(n=this.arraystretch)?n:s.getRegisterAsNumber("arraystretch"))?r:1,p="number"==typeof this.arraycolsep?this.arraycolsep:c;"small"===this.colSeparationType&&(p=new fj(e,void 0,"scriptstyle").scalingFactor/e.scalingFactor*.2778);let m=1.2*h,f=.7*m,g=.3*m,y=0,b=[],v=0,_=this.array.length;for(let e=0;e<_;++e){let n=this.array[e];v=Math.max(v,n.length);let r=new fj(s,this.style,this.mathstyleName),o=f/r.scalingFactor,l=g/r.scalingFactor,u={cells:[],height:0,depth:0,pos:0};for(let e of n){let n=null!=(i=fX.createBox(r,e,{newList:!0}))?i:new me(null,{newList:!0});l=Math.max(l,n.depth),o=Math.max(o,n.height),u.cells.push(n)}let c=null!=(a=f$(this.rowGaps[e]))?a:0;c>0&&(c+=g,l=Math.max(l,c),c=0),e<_-1&&!gT(this.environmentName)&&"cases"!==this.environmentName&&"array"!==this.environmentName&&(l+=s.getRegisterAsEm("jot")),u.height=o,u.depth=l,y+=o,u.pos=y,y+=l+c,b.push(u)}let x=y/2+.25,O=[];for(let e=0;e<v;e++){let n=[];for(let r of b){let i=r.cells[e];i.depth=r.depth,i.height=r.height,n.push({box:i,shift:r.pos-x})}n.length>0&&O.push(new fl({individualShift:n}))}let w=[],E=!1,C=!1,T=0,k=!this.leftDelim,{colFormat:R}=this;for(let n of R){if("align"in n&&T>=O.length)break;if("align"in n)E?w.push(gS(2*p)):(C||k)&&w.push(gS(p)),w.push(new me(O[T],{classes:"col-align-"+n.align})),T++,E=!0,C=!1,k=!1;else if("gap"in n){if("number"==typeof n.gap)w.push(gS(n.gap));else{let r=function(e,n,r,i){if(!i)return null;let a=[];for(let o of n){let n=fX.createBox(e,i,{newList:!0});n&&(n.depth=o.depth,n.height=o.height,a.push({box:n,shift:o.pos-r}))}return new fl({individualShift:a}).wrap(e)}(e,b,x,n.gap);r&&w.push(r)}E=!1,C=!1,k=!1}else if("separator"in n){let e=new me(null,{classes:"vertical-separator"});e.setStyle("height",y,"em"),e.setStyle("border-right",`${u}em ${n.separator} currentColor`),e.setStyle("vertical-align",-(y-x),"em");let r=0;C?r=d-u:E&&(r=p-u),e.left=r,w.push(e),E=!1,C=!0,k=!1}}E&&!this.rightDelim&&w.push(gS(p));let S=new me(w,{classes:"mtable"});if((!this.leftDelim||"."===this.leftDelim)&&(!this.rightDelim||"."===this.rightDelim))return this.caret&&(S.caret=this.caret),S;let A=S.height,I=S.depth,L=this.bind(e,new me([this.bind(e,gi("open",null!=(o=this.leftDelim)?o:".",A,I,s)),S,this.bind(e,gi("close",null!=(l=this.rightDelim)?l:".",A,I,s))],{type:"ord"}));return L?(this.caret&&(L.caret=this.caret),this.attachSupsub(e,{base:L})):null}serialize(e){var n;let r=[`\\begin{${this.environmentName}}`];if("array"===this.environmentName){if(r.push("{"),void 0!==this.colFormat)for(let e of this.colFormat)"align"in e&&"string"==typeof e.align?r.push(e.align):"separator"in e&&"solid"===e.separator?r.push("|"):"separator"in e&&"dashed"===e.separator&&r.push(":");r.push("}")}for(let i=0;i<this.array.length;i++){for(let n=0;n<this.array[i].length;n++)n>0&&r.push(" & "),r.push(fX.serialize(this.array[i][n],e));if(i<this.array.length-1){let e=this.rowGaps[i];null!=e&&e.dimension?r.push(`\\\\[${e.dimension} ${null!=(n=e.unit)?n:"pt"}] `):r.push("\\\\ ")}}return r.push(`\\end{${this.environmentName}}`),fp(r)}getCell(e,n){return this.array[e][n]}setCell(e,n,r){for(let r of("array"===this.type&&Array.isArray(this.array)&&this.array[e][n],this.array[e][n]))r.parent=void 0,r.parentBranch=void 0;let i=r;for(let a of((0===r.length||"first"!==r[0].type)&&(i=[new fX("first",this.context,{mode:this.mode}),...r]),this.array[e][n]=i,i))a.parent=this,a.parentBranch=[e,n];this.isDirty=!0}addRowBefore(e){"array"===this.type&&Array.isArray(this.array);let n=[];for(let e=0;e<this.colCount;e++)n.push(gR(this));this.array.splice(e,0,n);for(let n=e;n<this.rowCount;n++)for(let e=0;e<this.colCount;e++){let r=this.array[n][e];if(r)for(let i of r)i.parentBranch=[n,e]}this.isDirty=!0}addRowAfter(e){"array"===this.type&&Array.isArray(this.array);let n=[];for(let e=0;e<this.colCount;e++)n.push(gR(this));this.array.splice(e+1,0,n);for(let n=e+1;n<this.rowCount;n++)for(let e=0;e<this.colCount;e++){let r=this.array[n][e];if(r)for(let i of r)i.parentBranch=[n,e]}this.isDirty=!0}removeRow(e){for(let n of("array"===this.type&&Array.isArray(this.array)&&this.rowCount,this.array.splice(e,1)))for(let e of n)if(e)for(let n of e)n.parent=void 0,n.parentBranch=void 0;for(let n=e;n<this.rowCount;n++)for(let e=0;e<this.colCount;e++){let r=this.array[n][e];if(r)for(let i of r)i.parentBranch=[n,e]}this.isDirty=!0}addColumnBefore(e){for(let n of("array"===this.type&&Array.isArray(this.array),this.array))n.splice(e,0,gR(this));for(let n=0;n<this.rowCount;n++)for(let r=e;r<this.colCount;r++){let e=this.array[n][r];if(e)for(let i of e)i.parentBranch=[n,r]}this.isDirty=!0}addColumnAfter(e){for(let n of("array"===this.type&&Array.isArray(this.array),this.array))n.splice(e+1,0,gR(this));for(let n=0;n<this.rowCount;n++)for(let r=e+1;r<this.colCount;r++){let e=this.array[n][r];if(e)for(let i of e)i.parentBranch=[n,r]}this.isDirty=!0}addColumn(){this.addColumnAfter(this.colCount-1)}removeColumn(e){for(let n of("array"===this.type&&Array.isArray(this.array)&&this.colCount,this.array))for(let r of n.splice(e,1))if(r)for(let e of r)e.parent=void 0,e.parentBranch=void 0;for(let n=0;n<this.rowCount;n++)for(let r=e;r<this.colCount;r++){let e=this.array[n][r];if(e)for(let i of e)i.parentBranch=[n,r]}this.isDirty=!0}get cells(){let e=[];for(let n of this.array)for(let r of n)r&&e.push(r.filter(e=>"first"!==e.type));return e}};function gR(e){let n=new fX("first",e.context,{mode:e.mode});n.parent=e;let r=new gl(e.context,{mode:e.mode});return r.parent=e,[n,r]}function gS(e){let n=new me(null,{classes:"arraycolsep"});return n.width=e,n}function gA(e,n,r=1){return!function(e){for(let n of e)for(let e of n)if(e.length>0)return!1;return!0}(n)?n.map(n=>0===n.length?[[new fX("first",e)]]:n.map(n=>0===n.length?[new fX("first",e)]:("first"!==n[0].type&&n.unshift(new fX("first",e)),n))):Array(r).fill([[new fX("first",e),new gl(e)]])}function gI(e,n,r=[[[]]],i=[],a=[]){switch(r=gA(e,r,["split","align","align*","aligned","eqnarray"].includes(n)?2:1),n){case"math":case"displaymath":break;case"center":return new gk(e,n,r,i,{columns:[{align:"c"}]});case"multline":case"multline*":return new gk(e,n,r,i,{columns:[{align:"m"}],leftDelim:".",rightDelim:"."});case"split":return new gk(e,n,r,i,{columns:[{align:"r"},{align:"l"}],minColumns:2});case"gather":case"gathered":return new gk(e,n,r,i,{columns:[{gap:.25},{align:"c"},{gap:0}]});case"pmatrix":case"pmatrix*":return new gk(e,n,r,i,{mathstyleName:"textstyle",leftDelim:"(",rightDelim:")",columns:gL(a[0])});case"bmatrix":case"bmatrix*":return new gk(e,n,r,i,{mathstyleName:"textstyle",leftDelim:"[",rightDelim:"]",columns:gL(a[0])});case"Bmatrix":case"Bmatrix*":return new gk(e,n,r,i,{mathstyleName:"textstyle",leftDelim:"\\lbrace",rightDelim:"\\rbrace",columns:gL(a[0])});case"vmatrix":case"vmatrix*":return new gk(e,n,r,i,{mathstyleName:"textstyle",leftDelim:"\\vert",rightDelim:"\\vert",columns:gL(a[0])});case"Vmatrix":case"Vmatrix*":return new gk(e,n,r,i,{mathstyleName:"textstyle",leftDelim:"\\Vert",rightDelim:"\\Vert",columns:gL(a[0])});case"matrix":case"matrix*":return new gk(e,n,r,i,{mathstyleName:"textstyle",leftDelim:".",rightDelim:".",columns:gL(null==a?void 0:a[0])});case"smallmatrix":case"smallmatrix*":return new gk(e,n,r,i,{mathstyleName:"scriptstyle",columns:gL(null==a?void 0:a[0]),colSeparationType:"small",arraystretch:.5});case"cases":case"dcases":return new gk(e,n,r,i,{mathstyleName:"dcases"===n?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]});case"rcases":return new gk(e,n,r,i,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]});case"lines":return new gk(e,n,r,i,{leftDelim:".",rightDelim:".",columns:[{align:"l"}]});case"align":case"align*":case"aligned":case"eqnarray":{let a=0;for(let e of r)a=Math.max(a,e.length);let o=[{gap:0},{align:"r"},{gap:.25},{align:"l"}],l=2;for(;l<a;)o.push({gap:1},{align:"r"},{gap:.25},{align:"l"}),l+=2;return o.push({gap:0}),new gk(e,n,r,i,{arraycolsep:0,columns:o,minColumns:2})}}return new gk(e,n,r,i,{mathstyleName:"textstyle"})}function gL(e){return null!=e?e:[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}]}fN(["math","displaymath"],gI),fN("center",gI),fD("array","{columns:colspec}",(e,n,r,i,a)=>new gk(e,n,gA(e,r),i,{columns:a[0],mathstyleName:"textstyle"})),fD(["equation","equation*","subequations"],"",(e,n,r,i)=>new gk(e,n,gA(e,r),i,{columns:[{align:"c"}]})),fD(["multline","multline*"],"",gI),fD(["align","align*","aligned","eqnarray"],"",gI),fD("split","",gI),fD(["gather","gathered"],"",gI),fD(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],"[columns:colspec]",gI),fD(["smallmatrix","smallmatrix*"],"[columns:colspec]",gI),fD(["cases","dcases","rcases"],"",gI),fB(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overlinesegment","overgroup"],"{:auto}",{createAtom:(e,n,r,i)=>new go(e,n,{body:fb(i[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",style:r,svgAbove:e.slice(1)})}),fB("overbrace","{:auto}",{createAtom:(e,n,r,i)=>new go(e,n,{body:fb(i[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",style:r,svgAbove:e.slice(1)})}),fB(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:(e,n,r,i)=>new go(e,n,{body:fb(i[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",style:r,svgBelow:e.slice(1)})}),fB(["underbrace"],"{:auto}",{createAtom:(e,n,r,i)=>new go(e,n,{body:fb(i[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",style:r,svgBelow:e.slice(1)})}),fB(["xrightarrow","xleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","xLeftrightarrow","xrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xrightleftarrows","xrightequilibrium","xleftequilibrium"],"[:auto]{:auto}",{createAtom:(e,n,r,i)=>{var a,o;return new go(e,n,{style:r,svgBody:e.slice(1),above:(null==(a=fb(i[1]))?void 0:a.length)===0?void 0:fb(i[1]),below:null!=(o=fb(i[0]))?o:null,skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,paddedLabels:!0,boxType:"rel",serialize:(n,r)=>e+(n.hasEmptyBranch("below")?"":`[${n.belowToLatex(r)}]`)+`{${n.aboveToLatex(r)}}${n.supsubToLatex(r)}`})}});var gM=class extends fX{constructor(e,n,r,i){var a,o,l,s;super(null!=(a=i.type)?a:"mop",r,{command:e,style:i.style,isFunction:null==i?void 0:i.isFunction}),"string"==typeof n?this.value=n:this.body=n,this.captureSelection=null!=(o=i.captureSelection)&&o,this.hasArgument=null!=(l=i.hasArgument)&&l,this.variant=null==i?void 0:i.variant,this.variantStyle=null==i?void 0:i.variantStyle,this.subsupPlacement=null==i?void 0:i.limits,this.isExtensibleSymbol=null!=(s=null==i?void 0:i.isExtensibleSymbol)&&s}static fromJson(e,n){return new gM(e.command,e.body?e.body:e.value,n,e)}toJson(){let e=super.toJson();return this.hasArgument&&(e.hasArgument=!0),this.variant&&(e.variant=this.variant),this.variantStyle&&(e.variantStyle=this.variantStyle),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.isExtensibleSymbol&&(e.isExtensibleSymbol=!0),this.value&&(e.symbol=this.value),e}render(e){var n;let r,i=0,a=0;if(this.isExtensibleSymbol){let n=e.isDisplayStyle&&"\\smallint"!==this.value;(r=new me(this.value,{fontFamily:n?"Size2-Regular":"Size1-Regular",classes:"op-symbol "+(n?"large-op":"small-op"),type:"op",maxFontSize:e.scalingFactor})).right=r.italic,i=(r.height-r.depth)/2-.25*e.scalingFactor,a=r.italic,r.setStyle("color",this.style.color),r.setStyle("background-color",this.style.backgroundColor)}else if(this.body){if(!(r=fX.createBox(e,this.body,{newList:!0})))return null;r.setStyle("color",this.style.color),r.setStyle("background-color",this.style.backgroundColor)}else this.type,r=new me(this.value,{type:"op",mode:"math",maxFontSize:e.scalingFactor,style:{color:this.style.color,backgroundColor:this.style.backgroundColor,letterShapeStyle:e.letterShapeStyle,variant:this.variant,variantStyle:this.variantStyle}});this.isExtensibleSymbol&&r.setTop(i);let o=r;if(this.superscript||this.subscript){let l=null!=(n=this.subsupPlacement)?n:"auto";o="over-under"===l||"auto"===l&&e.isDisplayStyle?this.attachLimits(e,{base:r,baseShift:i,slant:a}):this.attachSupsub(e,{base:r})}return this.caret&&(o.caret=this.caret),new me(this.bind(e,o),{type:"op",classes:"op-group"+(this.isSelected?" ML__selected":"")})}serialize(e){if(""===this.value)return this.supsubToLatex(e);let n=[];return this.hasArgument?n.push(fm(this.command,this.bodyToLatex(e))):n.push(this.command),this.explicitSubsupPlacement&&("over-under"===this.subsupPlacement&&n.push("\\limits"),"adjacent"===this.subsupPlacement&&n.push("\\nolimits"),"auto"===this.subsupPlacement&&n.push("\\displaylimits")),n.push(this.supsubToLatex(e)),fp(n)}},gN=class extends fX{constructor(e,n,r){var i;super("surd",n,{command:e,mode:null!=(i=r.mode)?i:"math",style:r.style,displayContainsHighlight:!0}),this.body=r.body,this.above=r.index}static fromJson(e,n){return new gN(e.command,n,pr(pn({},e),{index:e.above}))}toJson(){return super.toJson()}serialize(e){let n=this.command,r=this.bodyToLatex(e);return this.above&&!this.hasEmptyBranch("above")?fm(`${n}[${this.aboveToLatex(e)}]`,r):/^[0-9]$/.test(r)?`${n}${r}`:fm(n,r)}render(e){var n;let r=new fj(e,this.style,"cramp"),i=null!=(n=fX.createBox(r,this.body,{style:this.style,newList:!0}))?n:new me(null),a=r.scalingFactor,o=r.metrics.defaultRuleThickness/a,l=e.isDisplayStyle?.431:o,s=new me(null,{classes:"ML__sqrt-line",style:this.style,height:o}),u=a*(o+l/4),c=Math.max(2*a*l,i.height+i.depth)+u+o,d=new fj(e,this.style),h=this.isSelected?" ML__selected":"",p=this.bind(d,new me(gr("","\\surd",c,!1,d,{classes:h}),{classes:"ML__sqrt-sign"+h,style:this.style}));if(!p)return null;let m=p.height+p.depth-o;m>i.height+i.depth+u&&(u=(u+m-(i.height+i.depth))/2),p.setTop(p.height-i.height-u);let f=this.bind(e,new fl({firstBaseline:[{box:new me(i)},u-2*o,{box:s},o]}).wrap(e)),g=fX.createBox(new fj(e,this.style,"scriptscriptstyle"),this.above,{style:this.style,newList:!0});if(!g){let n=new me([p,f],{classes:this.containsCaret?"ML__contains-caret":"",type:"inner"});return this.caret&&(n.caret=this.caret),this.bind(e,n.wrap(e))}let y=new me([new me(new fl({shift:-.6*(Math.max(p.height,f.height)-Math.max(p.depth,f.depth)),children:[{box:g}]}),{classes:"ML__sqrt-index",newList:!0}),p,f],{type:"inner",newList:!0,classes:this.containsCaret?"ML__contains-caret":""});return y.height=p.height,y.depth=p.depth,this.caret&&(y.caret=this.caret),this.bind(e,y.wrap(e))}},gD=class extends fX{constructor(e,n,r,i,a){var o,l;super("genfrac",i,{style:a.style,command:e,serialize:a.serialize,displayContainsHighlight:!0}),this.above=n,this.below=r,this.hasBarLine=null==(o=null==a?void 0:a.hasBarLine)||o,this.continuousFraction=null!=(l=null==a?void 0:a.continuousFraction)&&l,this.numerPrefix=null==a?void 0:a.numerPrefix,this.denomPrefix=null==a?void 0:a.denomPrefix,this.mathstyleName=null==a?void 0:a.mathstyleName,this.leftDelim=null==a?void 0:a.leftDelim,this.rightDelim=null==a?void 0:a.rightDelim}static fromJson(e,n){return new gD(e.command,e.above,e.below,n,e)}toJson(){let e={};return this.continuousFraction&&(e.continuousFraction=!0),this.numerPrefix&&(e.numerPrefix=this.numerPrefix),this.denomPrefix&&(e.denomPrefix=this.denomPrefix),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.hasBarLine||(e.hasBarLine=!1),this.mathstyleName&&(e.mathstyleName=this.mathstyleName),pn(pn({},super.toJson()),e)}serialize(e){return fm(this.command,this.aboveToLatex(e),this.belowToLatex(e))}get children(){if(this._children)return this._children;let e=[];if("numerator-denominator"===this.context.fractionNavigationOrder){for(let n of this.above)e.push(...n.children),e.push(n);for(let n of this.below)e.push(...n.children),e.push(n)}else{for(let n of this.below)e.push(...n.children),e.push(n);for(let n of this.above)e.push(...n.children),e.push(n)}return this._children=e,e}render(e){var n,r;let i=new fj(e,this.style,this.mathstyleName),a=i.metrics,o=new fj(i,this.style,this.continuousFraction?"":"numerator"),l=this.numerPrefix?new me([new me(this.numerPrefix),fX.createBox(o,this.above)],{isTight:o.isTight,newList:!0}):null!=(n=fX.createBox(o,this.above,{newList:!0}))?n:new me(null,{newList:!0}),s=new fj(i,this.style,this.continuousFraction?"":"denominator"),u=this.denomPrefix?new me([new me(this.denomPrefix),fX.createBox(s,this.below,{newList:!0})]):null!=(r=fX.createBox(s,this.below,{newList:!0}))?r:new me(null,{newList:!0}),c=this.hasBarLine?a.defaultRuleThickness:0,d,h=0,p;i.isDisplayStyle?(d=a.num1,h=c>0?3*c:7*c,p=a.denom1):(c>0?(d=a.num2,h=c):(d=a.num3,h=3*c),p=a.denom2);let m=[];this.isSelected&&m.push("ML__selected");let f=l.depth,g=u.height,y;if(c<=0){let e=d-f-(g-p);e<h&&(d+=(h-e)/2,p+=(h-e)/2),y=new fl({individualShift:[{box:l,shift:-d,classes:[...m,"ML__center"]},{box:u,shift:p,classes:[...m,"ML__center"]}]}).wrap(i)}else{let e=.25+c/2,n=.25-c/2;d<h+f+e&&(d=h+f+e),p<h+g-n&&(p=h+g-n);let r=new me(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});r.height=c/2,r.depth=c/2,y=new fl({individualShift:[{box:u,shift:p,classes:[...m,"ML__center"]},{box:r,shift:-n+c/2,classes:m},{box:l,shift:-d,classes:[...m,"ML__center"]}]}).wrap(i)}let b=i.isDisplayStyle?a.delim1:a.delim2,v=this.isSelected?" ML__selected":"",_=this.leftDelim?this.bind(e,gr("open",this.leftDelim,b,!0,e,{style:this.style,mode:this.mode,classes:v})):ga(i,"open"),x=null;x=this.continuousFraction?new me(null,{type:"close"}):this.rightDelim?this.bind(e,gr("close",this.rightDelim,b,!0,e,{style:this.style,mode:this.mode,classes:v})):ga(i,"close");let O=this.bind(e,new me([_,y,x],{isTight:i.isTight,type:"inner",classes:"mfrac"}));return O?(this.caret&&(O.caret=this.caret),this.attachSupsub(e,{base:O})):null}},gB=class extends fX{constructor(e,n,r,i){super("delim",r,{command:e,style:null==i?void 0:i.style}),this.value=n,this.size=null==i?void 0:i.size}static fromJson(e,n){return new gB(e.command,e.delim,n,e)}toJson(){return pr(pn({},super.toJson()),{delim:this.value,size:this.size})}render(e){return new me(this.value,{type:"middle"})}serialize(e){return fm(this.command,this.value)}},gP=class extends fX{constructor(e,n,r,i){super("sizeddelim",r,{command:e,style:i.style}),this.value=n,this.delimType=i.delimType,this.size=i.size}static fromJson(e,n){return new gP(e.command,e.delim,n,e)}toJson(){return pr(pn({},super.toJson()),{delim:this.value,size:this.size,delimType:this.delimType})}render(e){var n,r,i,a;let o=(n=this.value,r=this.size,i={classes:({open:"mopen",close:"mclose"})[this.delimType],type:this.delimType},void 0===n||"."===n?ga(e,null!=(a=i.type)?a:"inner",i.classes):("<"===n||"\\lt"===n||""===n?n="\\langle":(">"===n||"\\gt"===n||""===n)&&(n="\\rangle"),f5.has(n)||f7.has(n)?f4(n,r,!1,e,i):f8.has(n)?f6(n,f9[r],!1,e,i):null));return o?(o=this.bind(e,o),this.caret&&(o.caret=this.caret),o):null}serialize(e){return fm(this.command,this.value)}};fB(["arccos","arcsin","arctan","arctg","arcctg","arg","ch","cos","cosh","cot","cotg","coth","ctg","cth","csc","cosec","dim","exp","hom","inf","ker","lb","lg","ln","log","Pr","sec","sh","sin","sinh","sup","tan","tanh","tg","th","arcsec","arccsc","arsinh","arcosh","artanh","arcsech","arccsch"],"",{isFunction:!0,ifMode:"math",createAtom:(e,n,r)=>new gM(e,e.slice(1),n,{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up",style:r})}),fB(["liminf","limsup"],"",{ifMode:"math",createAtom:(e,n,r)=>new gM(e,{"\\liminf":"lim inf","\\limsup":"lim sup"}[e],n,{limits:"over-under",variant:"main",style:r})}),fB(["lim","mod"],"",{ifMode:"math",createAtom:(e,n,r)=>new gM(e,e.slice(1),n,{limits:"over-under",variant:"main",style:r})}),fB(["det","max","min"],"",{ifMode:"math",isFunction:!0,createAtom:(e,n,r)=>new gM(e,e.slice(1),n,{limits:"over-under",isFunction:!0,variant:"main",style:r})}),fB(["ang"],"{:math}",{ifMode:"math",isFunction:!0,createAtom:(e,n,r,i)=>new gc([...fb(i[0]),new fX("mord",n,{value:"\xb0",style:r})],n,{mode:"math",latexOpen:"\\ang{",latexClose:"}",style:r})}),fB("sqrt","[index:auto]{radicand:expression}",{ifMode:"math",createAtom:(e,n,r,i)=>new gN(e,n,{body:fb(i[1]),index:i[0]?fb(i[0]):void 0,style:r})}),fB(["frac","dfrac","tfrac","cfrac","binom","dbinom","tbinom"],"{:expression}{:expression}",{ifMode:"math",createAtom:(e,n,r,i)=>{let a={style:r};switch(e){case"\\dfrac":case"\\frac":case"\\tfrac":a.hasBarLine=!0;break;case"\\atopfrac":a.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a.hasBarLine=!1,a.leftDelim="(",a.rightDelim=")";break;case"\\cfrac":a.hasBarLine=!0,a.continuousFraction=!0}switch(e){case"\\dfrac":case"\\dbinom":a.mathstyleName="displaystyle";break;case"\\tfrac":case"\\tbinom":a.mathstyleName="textstyle"}return new gD(e,i[0]?fb(i[0]):[new gl(n)],i[1]?fb(i[1]):[new gl(n)],n,pr(pn({},a),{serialize:(n,r)=>{let i=n.aboveToLatex(r),a=n.belowToLatex(r);return/^[0-9]$/.test(i)&&/^[0-9]$/.test(a)?`${e}${i}${a}`:fm(e,i,a)}}))}}),fB(["brace","brack"],"",{infix:!0,createAtom:(e,n,r,i)=>new gD(e,fb(i[0]),fb(i[1]),n,{hasBarLine:!1,leftDelim:"\\brace"===e?"\\lbrace":"\\lbrack",rightDelim:"\\brace"===e?"\\rbrace":"\\rbrack",style:r,serialize:(e,n)=>fp([e.aboveToLatex(n),e.command,e.belowToLatex(n)])})}),fB(["over","atop","choose"],"",{infix:!0,createAtom:(e,n,r,i)=>{let a,o;return"\\choose"===e&&(a="(",o=")"),new gD(e,fb(i[0]),fb(i[1]),n,{hasBarLine:"\\over"===e,leftDelim:a,rightDelim:o,style:r,serialize:(e,n)=>fp([e.aboveToLatex(n),e.command,e.belowToLatex(n)])})}}),fB(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",{infix:!0,createAtom:(e,n,r,i)=>{var a,o;return new gD(e,fb(i[0]),fb(i[1]),n,{leftDelim:null!=(a=i[2])?a:".",rightDelim:null!=(o=i[3])?o:".",hasBarLine:!1,style:r,serialize:(e,n)=>`${e.aboveToLatex(n)} ${e.command}${e.leftDelim}${e.rightDelim}${e.belowToLatex(n)}`})}}),fB("pdiff","{numerator}{denominator}",{ifMode:"math",createAtom:(e,n,r,i)=>new gD(e,fb(i[0]),fb(i[1]),n,{hasBarLine:!0,numerPrefix:"",denomPrefix:"",style:r})}),fB(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","intop"],"",{ifMode:"math",createAtom:(e,n,r)=>new gM(e,{coprod:"",bigvee:"",bigwedge:"",biguplus:"",bigcap:"",bigcup:"",intop:"",prod:"",sum:"",bigotimes:"",bigoplus:"",bigodot:"",bigsqcup:"",smallint:""}[e.slice(1)],n,{isExtensibleSymbol:!0,limits:"auto",variant:"main",style:r})}),fB("smallint","",{ifMode:"math",createAtom:(e,n,r)=>new gM(e,"",n,{limits:"adjacent",isExtensibleSymbol:!1,style:r,variant:"main"})});var gK={int:"",iint:"",iiint:"",oint:"",oiint:"",oiiint:"",intclockwise:"",varointclockwise:"",ointctrclockwise:"",intctrclockwise:"",sqcup:"",sqcap:"",uplus:"",wr:"",amalg:"",Cap:"",Cup:"",doublecap:"",doublecup:""};fB(Object.keys(gK),"",{ifMode:"math",createAtom:(e,n,r)=>new gM(e,gK[e.slice(1)],n,{limits:"adjacent",isExtensibleSymbol:!0,style:r,variant:{"":"ams","":"ams"}[gK[e.slice(1)]]})}),fB(["Re","Im"],"",{ifMode:"math",createAtom:(e,n,r)=>new gM(e,{"\\Re":"","\\Im":""}[e],n,{limits:"adjacent",style:r,isFunction:!0,variant:"fraktur"})}),fB("middle","{:delim}",{ifMode:"math",createAtom:(e,n,r,i)=>{var a;return new gB(e,null!=(a=i[0])?a:"|",n,{size:1,style:r})}});var gU=class extends fX{constructor(e,n,r){super("chem",r,{command:e,mode:"math"});let i=gH.go(gV.go(n,"\\pu"===e?"pu":"ce"),!1);this.body=gv(i,r),this.verbatimLatex=e+"{"+n+"}",this.arg=n,this.captureSelection=!0}static fromJson(e,n){return new gU(e.command,e.arg,n)}toJson(){return pr(pn({},super.toJson()),{arg:this.arg})}render(e){let n=fX.createBox(e,this.body,{type:"chem",newList:!0});return this.caret&&(n.caret=this.caret),this.bind(e,n)}serialize(e){return this.verbatimLatex}};fB(["ce","pu"],"{chemformula:balanced-string}",{createAtom:(e,n,r,i)=>{var a;return new gU(e,null!=(a=i[0])?a:"",n)}});var gV={go:function(e,n){if(!e)return[];void 0===n&&(n="ce");var r="0",i={};i.parenthesisLevel=0,e=(e=(e=e.replace(/\n/g," ")).replace(/[\u2212\u2013\u2014\u2010]/g,"-")).replace(/[\u2026]/g,"...");for(var a,o=10,l=[];;){a!==e?(o=10,a=e):o--;for(var s=gV.stateMachines[n],u=s.transitions[r]||s.transitions["*"],c=0;c<u.length;c++){var d=gV.patterns.match_(u[c].pattern,e);if(d){for(var h,p=u[c].task,m=0;m<p.action_.length;m++){if(s.actions[p.action_[m].type_])h=s.actions[p.action_[m].type_](i,d.match_,p.action_[m].option);else if(gV.actions[p.action_[m].type_])h=gV.actions[p.action_[m].type_](i,d.match_,p.action_[m].option);else throw["MhchemBugA","mhchem bug A. Please report. ("+p.action_[m].type_+")"];gV.concatArray(l,h)}if(r=p.nextState||r,!(e.length>0))return l;if(p.revisit||(e=d.remainder),!p.toContinue)break}}if(o<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(e,n){if(n){if(Array.isArray(n))for(var r=0;r<n.length;r++)e.push(n[r]);else e.push(n)}},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(e){var n=e.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:([eE]|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return n&&n[0]?{match_:n.splice(1),remainder:e.substr(n[0].length)}:null},"(-)(9)^(-9)":function(e){var n=e.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return n&&n[0]?{match_:n.splice(1),remainder:e.substr(n[0].length)}:null},"state of aggregation $":function(e){var n=gV.patterns.findObserveGroups(e,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(n&&n.remainder.match(/^($|[\s,;\)\]\}])/))return n;var r=e.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return r?{match_:r[0],remainder:e.substr(r[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(e){return gV.patterns.findObserveGroups(e,"^{","","","}")},"^($...$)":function(e){return gV.patterns.findObserveGroups(e,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(e){return gV.patterns.findObserveGroups(e,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(e){return gV.patterns.findObserveGroups(e,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(e){return gV.patterns.findObserveGroups(e,"_{","","","}")},"_($...$)":function(e){return gV.patterns.findObserveGroups(e,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(e){return gV.patterns.findObserveGroups(e,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(e){return gV.patterns.findObserveGroups(e,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(e){return gV.patterns.findObserveGroups(e,"","{","}","")},"{(...)}":function(e){return gV.patterns.findObserveGroups(e,"{","","","}")},"$...$":function(e){return gV.patterns.findObserveGroups(e,"","$","$","")},"${(...)}$":function(e){return gV.patterns.findObserveGroups(e,"${","","","}$")},"$(...)$":function(e){return gV.patterns.findObserveGroups(e,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(e){return gV.patterns.findObserveGroups(e,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(e){return gV.patterns.findObserveGroups(e,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(e){return gV.patterns.findObserveGroups(e,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(e){return gV.patterns.findObserveGroups(e,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(e){return gV.patterns.findObserveGroups(e,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(e){return gV.patterns.findObserveGroups(e,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(e){return gV.patterns.findObserveGroups(e,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(e){return gV.patterns.findObserveGroups(e,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(e){return gV.patterns.findObserveGroups(e,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(e){return gV.patterns.findObserveGroups(e,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(e){return gV.patterns.findObserveGroups(e,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(e){return gV.patterns.findObserveGroups(e,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(e){if(n=e.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/))return{match_:n[0],remainder:e.substr(n[0].length)};var n,r=gV.patterns.findObserveGroups(e,"","$","$","");return r&&(n=r.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/))?{match_:n[0],remainder:e.substr(n[0].length)}:null},amount2:function(e){return this.amount(e)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(e){if(e.match(/^\([a-z]+\)$/))return null;var n=e.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return n?{match_:n[0],remainder:e.substr(n[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(e,n,r,i,a,o,l,s,u,c){var d=function(e,n){if("string"==typeof n)return 0!==e.indexOf(n)?null:n;var r=e.match(n);return r?r[0]:null},h=d(e,n);if(null===h||null===(h=d(e=e.substr(h.length),r)))return null;var p=function(e,n,r){for(var i=0;n<e.length;){var a=e.charAt(n),o=d(e.substr(n),r);if(null!==o&&0===i)return{endMatchBegin:n,endMatchEnd:n+o.length};if("{"===a)i++;else if("}"===a){if(0===i)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];i--}n++}return null}(e,h.length,i||a);if(null===p)return null;var m=e.substring(0,i?p.endMatchEnd:p.endMatchBegin);if(!o&&!l)return{match_:m,remainder:e.substr(p.endMatchEnd)};var f=this.findObserveGroups(e.substr(p.endMatchEnd),o,l,s,u);if(null===f)return null;var g=[m,f.match_];return{match_:c?g.join(""):g,remainder:f.remainder}},match_:function(e,n){var r=gV.patterns.patterns[e];if(void 0===r)throw["MhchemBugP","mhchem bug P. Please report. ("+e+")"];if("function"==typeof r)return gV.patterns.patterns[e](n);var i=n.match(r);return i?{match_:i[2]?[i[1],i[2]]:i[1]?i[1]:i[0],remainder:n.substr(i[0].length)}:null}},actions:{"a=":function(e,n){e.a=(e.a||"")+n},"b=":function(e,n){e.b=(e.b||"")+n},"p=":function(e,n){e.p=(e.p||"")+n},"o=":function(e,n){e.o=(e.o||"")+n},"q=":function(e,n){e.q=(e.q||"")+n},"d=":function(e,n){e.d=(e.d||"")+n},"rm=":function(e,n){e.rm=(e.rm||"")+n},"text=":function(e,n){e.text_=(e.text_||"")+n},insert:function(e,n,r){return{type_:r}},"insert+p1":function(e,n,r){return{type_:r,p1:n}},"insert+p1+p2":function(e,n,r){return{type_:r,p1:n[0],p2:n[1]}},copy:function(e,n){return n},rm:function(e,n){return{type_:"rm",p1:n||""}},text:function(e,n){return gV.go(n,"text")},"{text}":function(e,n){var r=["{"];return gV.concatArray(r,gV.go(n,"text")),r.push("}"),r},"tex-math":function(e,n){return gV.go(n,"tex-math")},"tex-math tight":function(e,n){return gV.go(n,"tex-math tight")},bond:function(e,n,r){return{type_:"bond",kind_:r||n}},"color0-output":function(e,n){return{type_:"color0",color:n[0]}},ce:function(e,n){return gV.go(n)},"1/2":function(e,n){var r=[];n.match(/^[+\-]/)&&(r.push(n.substr(0,1)),n=n.substr(1));var i=n.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return i[1]=i[1].replace(/\$/g,""),r.push({type_:"frac",p1:i[1],p2:i[2]}),i[3]&&(i[3]=i[3].replace(/\$/g,""),r.push({type_:"tex-math",p1:i[3]})),r},"9,9":function(e,n){return gV.go(n,"9,9")}},createTransitions:function(e){var n,r,i,a,o={};for(n in e)for(r in e[n])for(i=r.split("|"),e[n][r].stateArray=i,a=0;a<i.length;a++)o[i[a]]=[];for(n in e)for(r in e[n])for(i=e[n][r].stateArray||[],a=0;a<i.length;a++){var l=e[n][r];if(l.action_){l.action_=[].concat(l.action_);for(var s=0;s<l.action_.length;s++)"string"==typeof l.action_[s]&&(l.action_[s]={type_:l.action_[s]})}else l.action_=[];for(var u=n.split("|"),c=0;c<u.length;c++)if("*"===i[a])for(var d in o)o[d].push({pattern:u[c],task:l});else o[i[a]].push({pattern:u[c],task:l})}return o},stateMachines:{}};gV.stateMachines={ce:{transitions:gV.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(e,n){var r;if((e.d||"").match(/^[0-9]+$/)){var i=e.d;e.d=void 0,r=this.output(e),e.b=i}else r=this.output(e);return gV.actions["o="](e,n),r},"d= kv":function(e,n){e.d=n,e.dType="kv"},"charge or bond":function(e,n){if(e.beginsWithBond){var r=[];return gV.concatArray(r,this.output(e)),gV.concatArray(r,gV.actions.bond(e,n,"-")),r}e.d=n},"- after o/d":function(e,n,r){var i=gV.patterns.match_("orbital",e.o||""),a=gV.patterns.match_("one lowercase greek letter $",e.o||""),o=gV.patterns.match_("one lowercase latin letter $",e.o||""),l=gV.patterns.match_("$one lowercase latin letter$ $",e.o||""),s="-"===n&&(i&&""===i.remainder||a||o||l);!s||e.a||e.b||e.p||e.d||e.q||i||!o||(e.o="$"+e.o+"$");var u=[];return s?(gV.concatArray(u,this.output(e)),u.push({type_:"hyphen"})):(i=gV.patterns.match_("digits",e.d||""),r&&i&&""===i.remainder?(gV.concatArray(u,gV.actions["d="](e,n)),gV.concatArray(u,this.output(e))):(gV.concatArray(u,this.output(e)),gV.concatArray(u,gV.actions.bond(e,n,"-")))),u},"a to o":function(e){e.o=e.a,e.a=void 0},"sb=true":function(e){e.sb=!0},"sb=false":function(e){e.sb=!1},"beginsWithBond=true":function(e){e.beginsWithBond=!0},"beginsWithBond=false":function(e){e.beginsWithBond=!1},"parenthesisLevel++":function(e){e.parenthesisLevel++},"parenthesisLevel--":function(e){e.parenthesisLevel--},"state of aggregation":function(e,n){return{type_:"state of aggregation",p1:gV.go(n,"o")}},comma:function(e,n){var r=n.replace(/\s*$/,"");return r!==n&&0===e.parenthesisLevel?{type_:"comma enumeration L",p1:r}:{type_:"comma enumeration M",p1:r}},output:function(e,n,r){var i,a,o;for(var l in e.r?(a="M"===e.rdt?gV.go(e.rd,"tex-math"):"T"===e.rdt?[{type_:"text",p1:e.rd||""}]:gV.go(e.rd),o="M"===e.rqt?gV.go(e.rq,"tex-math"):"T"===e.rqt?[{type_:"text",p1:e.rq||""}]:gV.go(e.rq),i={type_:"arrow",r:e.r,rd:a,rq:o}):(i=[],(e.a||e.b||e.p||e.o||e.q||e.d||r)&&(e.sb&&i.push({type_:"entitySkip"}),e.o||e.q||e.d||e.b||e.p||2===r?e.o||e.q||e.d||!e.b&&!e.p?e.o&&"kv"===e.dType&&gV.patterns.match_("d-oxidation$",e.d||"")?e.dType="oxidation":e.o&&"kv"===e.dType&&!e.q&&(e.dType=void 0):(e.o=e.a,e.d=e.b,e.q=e.p,e.a=e.b=e.p=void 0):(e.o=e.a,e.a=void 0),i.push({type_:"chemfive",a:gV.go(e.a,"a"),b:gV.go(e.b,"bd"),p:gV.go(e.p,"pq"),o:gV.go(e.o,"o"),q:gV.go(e.q,"pq"),d:gV.go(e.d,"oxidation"===e.dType?"oxidation":"bd"),dType:e.dType}))),e)"parenthesisLevel"!==l&&"beginsWithBond"!==l&&delete e[l];return i},"oxidation-output":function(e,n){var r=["{"];return gV.concatArray(r,gV.go(n,"oxidation")),r.push("}"),r},"frac-output":function(e,n){return{type_:"frac-ce",p1:gV.go(n[0]),p2:gV.go(n[1])}},"overset-output":function(e,n){return{type_:"overset",p1:gV.go(n[0]),p2:gV.go(n[1])}},"underset-output":function(e,n){return{type_:"underset",p1:gV.go(n[0]),p2:gV.go(n[1])}},"underbrace-output":function(e,n){return{type_:"underbrace",p1:gV.go(n[0]),p2:gV.go(n[1])}},"color-output":function(e,n){return{type_:"color",color1:n[0],color2:gV.go(n[1])}},"r=":function(e,n){e.r=n},"rdt=":function(e,n){e.rdt=n},"rd=":function(e,n){e.rd=n},"rqt=":function(e,n){e.rqt=n},"rq=":function(e,n){e.rq=n},operator:function(e,n,r){return{type_:"operator",kind_:r||n}}}},a:{transitions:gV.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:gV.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:gV.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(e){if(e.text_){var n={type_:"text",p1:e.text_};for(var r in e)delete e[r];return n}}}},pq:{transitions:gV.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(e,n){return{type_:"state of aggregation subscript",p1:gV.go(n,"o")}},"color-output":function(e,n){return{type_:"color",color1:n[0],color2:gV.go(n[1],"pq")}}}},bd:{transitions:gV.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(e,n){return{type_:"color",color1:n[0],color2:gV.go(n[1],"bd")}}}},oxidation:{transitions:gV.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(e,n){return{type_:"roman numeral",p1:n||""}}}},"tex-math":{transitions:gV.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(e){if(e.o){var n={type_:"tex-math",p1:e.o};for(var r in e)delete e[r];return n}}}},"tex-math tight":{transitions:gV.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(e,n){e.o=(e.o||"")+"{"+n+"}"},output:function(e){if(e.o){var n={type_:"tex-math",p1:e.o};for(var r in e)delete e[r];return n}}}},"9,9":{transitions:gV.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:gV.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(e,n){var r=[];return"+-"===n[0]||"+/-"===n[0]?r.push("\\pm "):n[0]&&r.push(n[0]),n[1]&&(gV.concatArray(r,gV.go(n[1],"pu-9,9")),n[2]&&(n[2].match(/[,.]/)?gV.concatArray(r,gV.go(n[2],"pu-9,9")):r.push(n[2])),n[3]=n[4]||n[3],n[3]&&(n[3]=n[3].trim(),"e"===n[3]||"*"===n[3].substr(0,1)?r.push({type_:"cdot"}):r.push({type_:"times"}))),n[3]&&r.push("10^{"+n[5]+"}"),r},"number^":function(e,n){var r=[];return"+-"===n[0]||"+/-"===n[0]?r.push("\\pm "):n[0]&&r.push(n[0]),gV.concatArray(r,gV.go(n[1],"pu-9,9")),r.push("^{"+n[2]+"}"),r},operator:function(e,n,r){return{type_:"operator",kind_:r||n}},space:function(){return{type_:"pu-space-1"}},output:function(e){var n,r=gV.patterns.match_("{(...)}",e.d||"");r&&""===r.remainder&&(e.d=r.match_);var i=gV.patterns.match_("{(...)}",e.q||"");if(i&&""===i.remainder&&(e.q=i.match_),e.d&&(e.d=e.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),e.d=e.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),e.q){e.q=e.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),e.q=e.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var a={d:gV.go(e.d,"pu"),q:gV.go(e.q,"pu")};"//"===e.o?n={type_:"pu-frac",p1:a.d,p2:a.q}:(n=a.d,a.d.length>1||a.q.length>1?n.push({type_:" / "}):n.push({type_:"/"}),gV.concatArray(n,a.q))}else n=gV.go(e.d,"pu-2");for(var o in e)delete e[o];return n}}},"pu-2":{transitions:gV.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(e,n){e.rm+="^{"+n+"}"},space:function(){return{type_:"pu-space-2"}},output:function(e){var n=[];if(e.rm){var r=gV.patterns.match_("{(...)}",e.rm||"");n=r&&""===r.remainder?gV.go(r.match_,"pu"):{type_:"rm",p1:e.rm}}for(var i in e)delete e[i];return n}}},"pu-9,9":{transitions:gV.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(e){var n=[];if(e.text_=e.text_||"",e.text_.length>4){var r=e.text_.length%3;0===r&&(r=3);for(var i=e.text_.length-3;i>0;i-=3)n.push(e.text_.substr(i,3)),n.push({type_:"1000 separator"});n.push(e.text_.substr(0,r)),n.reverse()}else n.push(e.text_);for(var a in e)delete e[a];return n},"output-o":function(e){var n=[];if(e.text_=e.text_||"",e.text_.length>4){for(var r=e.text_.length-3,i=0;i<r;i+=3)n.push(e.text_.substr(i,3)),n.push({type_:"1000 separator"});n.push(e.text_.substr(i))}else n.push(e.text_);for(var a in e)delete e[a];return n}}}};var gG,gF,gH={go:function(e,n){if(!e)return"";for(var r="",i=!1,a=0;a<e.length;a++){var o=e[a];"string"==typeof o?r+=o:(r+=gH._go2(o),"1st-level escape"===o.type_&&(i=!0))}return n||i||!r||(r="{"+r+"}"),r},_goInner:function(e){return e&&gH.go(e,!0)},_go2:function(e){var n;switch(e.type_){case"chemfive":n="";var r={a:gH._goInner(e.a),b:gH._goInner(e.b),p:gH._goInner(e.p),o:gH._goInner(e.o),q:gH._goInner(e.q),d:gH._goInner(e.d)};r.a&&(r.a.match(/^[+\-]/)&&(r.a="{"+r.a+"}"),n+=r.a+"\\,"),(r.b||r.p)&&(n+="{\\vphantom{X}}"+("^{\\hphantom{"+(r.b||"")+"}}_{\\hphantom{")+(r.p||"")+"}}{\\vphantom{X}}^{\\smash[t]{\\vphantom{2}}\\mathllap{"+(r.b||"")+"}}_{\\vphantom{2}\\mathllap{\\smash[t]{"+(r.p||"")+"}}}"),r.o&&(r.o.match(/^[+\-]/)&&(r.o="{"+r.o+"}"),n+=r.o),"kv"===e.dType?((r.d||r.q)&&(n+="{\\vphantom{X}}"),r.d&&(n+="^{"+r.d+"}"),r.q&&(n+="_{\\smash[t]{"+r.q+"}}")):"oxidation"===e.dType?(r.d&&(n+="{\\vphantom{X}}^{"+r.d+"}"),r.q&&(n+="{\\vphantom{X}}_{\\smash[t]{"+r.q+"}}")):(r.q&&(n+="{\\vphantom{X}}_{\\smash[t]{"+r.q+"}}"),r.d&&(n+="{\\vphantom{X}}^{"+r.d+"}"));break;case"rm":case"roman numeral":n="\\mathrm{"+e.p1+"}";break;case"text":e.p1.match(/[\^_]/)?(e.p1=e.p1.replace(" ","~").replace("-","\\text{-}"),n="\\mathrm{"+e.p1+"}"):n="\\text{"+e.p1+"}";break;case"state of aggregation":n="\\mskip2mu "+gH._goInner(e.p1);break;case"state of aggregation subscript":n="\\mskip1mu "+gH._goInner(e.p1);break;case"bond":if(!(n=gH._getBond(e.kind_)))throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+e.kind_+")"];break;case"frac":var i="\\frac{"+e.p1+"}{"+e.p2+"}";n="\\mathchoice{\\textstyle"+i+"}{"+i+"}{"+i+"}{"+i+"}";break;case"pu-frac":var a="\\frac{"+gH._goInner(e.p1)+"}{"+gH._goInner(e.p2)+"}";n="\\mathchoice{\\textstyle"+a+"}{"+a+"}{"+a+"}{"+a+"}";break;case"tex-math":case"1st-level escape":n=e.p1+" ";break;case"frac-ce":n="\\frac{"+gH._goInner(e.p1)+"}{"+gH._goInner(e.p2)+"}";break;case"overset":n="\\overset{"+gH._goInner(e.p1)+"}{"+gH._goInner(e.p2)+"}";break;case"underset":n="\\underset{"+gH._goInner(e.p1)+"}{"+gH._goInner(e.p2)+"}";break;case"underbrace":n="\\underbrace{"+gH._goInner(e.p1)+"}_{"+gH._goInner(e.p2)+"}";break;case"color":n="{\\color{"+e.color1+"}{"+gH._goInner(e.color2)+"}}";break;case"color0":n="\\color{"+e.color+"}";break;case"arrow":var o={rd:gH._goInner(e.rd),rq:gH._goInner(e.rq)},l="\\x"+gH._getArrow(e.r);o.rq&&(l+="[{"+o.rq+"}]"),o.rd?l+="{"+o.rd+"}":l+="{}",n=l;break;case"operator":n=gH._getOperator(e.kind_);break;case"space":n=" ";break;case"entitySkip":case"pu-space-1":n="~";break;case"pu-space-2":n="\\mkern3mu ";break;case"1000 separator":n="\\mkern2mu ";break;case"commaDecimal":n="{,}";break;case"comma enumeration L":n="{"+e.p1+"}\\mkern6mu ";break;case"comma enumeration M":n="{"+e.p1+"}\\mkern3mu ";break;case"comma enumeration S":n="{"+e.p1+"}\\mkern1mu ";break;case"hyphen":n="\\text{-}";break;case"addition compound":n="\\,{\\cdot}\\,";break;case"electron dot":n="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":n="{\\times}";break;case"prime":n="\\prime ";break;case"cdot":n="\\cdot ";break;case"tight cdot":n="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":n="\\times ";break;case"circa":n="{\\sim}";break;case"^":n="uparrow";break;case"v":n="downarrow";break;case"ellipsis":n="\\ldots ";break;case"/":n="/";break;case" / ":n="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return n},_getArrow:function(e){switch(e){case"->":case"":case"":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<-->":return"rightleftarrows";case"<=>":case"":return"rightleftharpoons";case"<=>>":return"rightequilibrium";case"<<=>":return"leftequilibrium";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(e){switch(e){case"-":case"1":return"{-}";case"=":case"2":return"{=}";case"#":case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\mathrlap{\\raisebox{-.1em}{$-$}}\\raisebox{.1em}{$\\tripledash$}}";case"~=":case"~--":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$\\tripledash$}}-}";case"-~-":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$-$}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(e){switch(e){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":case"$\\approx$":return" {}\\approx{} ";case"v":case"(v)":return" \\downarrow{} ";case"^":case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}},gz=class extends fX{constructor(e,n,r,i){super("box",r,{command:e,serialize:i.serialize,style:i.style}),this.body=n,this.framecolor=i.framecolor,this.verbatimFramecolor=i.verbatimBackgroundcolor,this.backgroundcolor=i.backgroundcolor,this.verbatimBackgroundcolor=i.verbatimBackgroundcolor,this.padding=i.padding,this.border=i.border}static fromJson(e,n){return new gz(e.command,e.body,n,e)}toJson(){return pr(pn({},super.toJson()),{framecolor:this.framecolor,verbatimFramecolor:this.verbatimFramecolor,backgroundcolor:this.backgroundcolor,verbatimBackgroundcolor:this.verbatimBackgroundcolor,padding:this.padding,border:this.border})}render(e){let n=new fj(e,this.style),r=f$(n.getRegisterAsDimension("fboxsep")),i=void 0===this.padding?r:f$(g_(this.padding,pr(pn({},this.context),{registers:e.registers}))),a=fX.createBox(e,this.body);if(!a)return null;a.setStyle("vertical-align",-a.height,"em");let o=new me(a,{type:"ord"}),l=new me(null,{classes:"ML__box"});l.height=o.height+i,l.depth=o.depth+i,l.setStyle("box-sizing","border-box"),l.setStyle("position","absolute"),l.setStyle("height",o.height+o.depth+2*i,"em"),0===i?l.setStyle("width","100%"):(l.setStyle("width",`calc(100% + ${2*i}em)`),l.setStyle("top",r,"em"),l.setStyle("left",-i,"em")),this.backgroundcolor&&l.setStyle("background-color",this.backgroundcolor),this.framecolor&&l.setStyle("border",`${f$(n.getRegisterAsDimension("fboxrule"))}em solid ${this.framecolor}`),this.border&&l.setStyle("border",this.border),o.setStyle("display","inline-block"),o.setStyle("height",a.height+a.depth,"em"),o.setStyle("vertical-align",-i,"em");let s=new me([l,o]);return s.setStyle("position","relative"),s.setStyle("display","inline-block"),s.setStyle("line-height",0),s.height=o.height+i,s.depth=o.depth+i,s.left=i,s.right=i,s.setStyle("height",o.height+i,"em"),s.setStyle("top",o.depth-o.height,"em"),s.setStyle("vertical-align",o.depth+i,"em"),this.caret&&(s.caret=this.caret),this.attachSupsub(e,{base:s})}},g$=class extends fX{constructor(e,n,r){var i;super("composition",n,{mode:null!=(i=null==r?void 0:r.mode)?i:"math",value:e})}static fromJson(e,n){return new g$(e.value,n,e)}toJson(){return super.toJson()}get computedStyle(){return{}}render(e){let n=new me(this.value,{classes:"ML__composition",type:"composition"});return this.bind(e,n),this.caret&&(n.caret=this.caret),n}serialize(e){return""}},gZ=class extends fX{constructor(e,n,r){var i;super("latex",n,{value:e,mode:"latex"}),this.isSuggestion=null!=(i=null==r?void 0:r.isSuggestion)&&i,this.isError=!1,this.verbatimLatex=e}static fromJson(e,n){let r=new gZ(e.command,n);return e.isSuggestion&&(r.isSuggestion=!0),e.isError&&(r.isError=!0),r}toJson(){let e={};return this.isSuggestion&&(e.isSuggestion=!0),this.isError&&(e.isError=!0),pn(pn({},super.toJson()),e)}get computedStyle(){return{}}render(e){let n=new me(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return n?(this.caret&&(n.caret=this.caret),this.bind(e,n)):null}},gj=class extends fX{constructor(e,n){super("latexgroup",n,{mode:"latex"}),this.body=[...e].map(e=>new gZ(e,n)),this.skipBoundary=!1}static fromJson(e,n){return new gj("",n)}toJson(){return super.toJson()}render(e){let n=fX.createBox(e,this.body,{newList:!0});return n?(this.caret&&(n.caret=this.caret),this.bind(e,n)):null}serialize(e){var n,r;return null!=(r=null==(n=this.body)?void 0:n.map(e=>e.value).join(""))?r:""}},gW=class extends fX{constructor(e,n,r,i){super("line",r,{command:e,style:i.style}),this.skipBoundary=!0,this.body=n,this.position=i.position}static fromJson(e,n){return new gW(e.command,e.body,n,e)}toJson(){return pr(pn({},super.toJson()),{position:this.position})}render(e){let n,r=new fj(e,this.style,"cramp"),i=fX.createBox(r,this.body);if(!i)return null;let a=r.metrics.defaultRuleThickness/r.scalingFactor,o=new me(null,{classes:this.position+"-line"});return o.height=a,o.maxFontSize=1.125*a*r.scalingFactor,n=new fl("overline"===this.position?{shift:0,children:[{box:i},3*a,{box:o},a]}:{top:i.height,children:[a,{box:o},3*a,{box:i}]}),this.caret&&(n.caret=this.caret),new me(n,{classes:this.position,type:"ord",newList:!0})}},gq=class extends fX{constructor(e,n,r,i){var a,o;super("overlap",r,{command:e,style:null==i?void 0:i.style}),this.skipBoundary=!0,"string"==typeof n?this.body=[new fX("mord",r,{value:n})]:this.body=n,this.align=null!=(a=null==i?void 0:i.align)?a:"left",this.boxType=null!=(o=null==i?void 0:i.boxType)?o:"ord"}static fromJson(e,n){return new gq(e.command,e.body,n,e)}toJson(){let e={};return this.align&&(e.align=this.align),this.boxType&&(e.boxType=this.boxType),pn(pn({},super.toJson()),e)}render(e){let n=fX.createBox(e,this.body,{classes:"inner"});return n?(this.caret&&(n.caret=this.caret),this.bind(e,new me([n,new me(null,{classes:"fix"})],{classes:"left"===this.align?"llap":"rlap",type:this.boxType,newList:!0}))):null}},gY=class extends fX{constructor(e,n,r,i){var a,o,l,s;super("phantom",r,{command:e,style:i.style}),this.captureSelection=!0,this.body=n,this.isInvisible=null!=(a=i.isInvisible)&&a,this.smashDepth=null!=(o=i.smashDepth)&&o,this.smashHeight=null!=(l=i.smashHeight)&&l,this.smashWidth=null!=(s=i.smashWidth)&&s}static fromJson(e,n){return new gY(e.command,e.body,n,e)}toJson(){let e={};return this.isInvisible&&(e.isInvisible=!0),this.smashDepth&&(e.smashDepth=!0),this.smashHeight&&(e.smashHeight=!0),this.smashWidth&&(e.smashWidth=!0),pn(pn({},super.toJson()),e)}render(e){let n=new fj(e,{isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return this.isInvisible,fX.createBox(n,this.body,{classes:"inner"});let r=fX.createBox(this.isInvisible?n:e,this.body);if(!r)return null;if(this.smashWidth){let n=new me(null,{classes:"fix"});return new me([r,n],{classes:"rlap"}).wrap(e)}if(!this.smashHeight&&!this.smashDepth)return r;if(this.smashHeight&&(r.height=0),this.smashDepth&&(r.depth=0),r.children)for(let e of r.children)this.smashHeight&&(e.height=0),this.smashDepth&&(e.depth=0);return new fl({firstBaseline:[{box:r}]},{type:"ord"}).wrap(e)}},gX=class extends fX{constructor(e,n,r){var i;super("rule",n,{command:e,style:r.style}),this.shift=null!=(i=r.shift)?i:{dimension:0},this.height=r.height,this.width=r.width}static fromJson(e,n){return new gX(e.command,n,e)}toJson(){let e={height:this.height,width:this.width};return this.shift&&(e.shift=this.shift),pn(pn({},super.toJson()),e)}render(e){let n=new fj(e,this.style,"textstyle"),r=f$(this.shift),i=f$(this.width),a=f$(this.height),o=new me(null,{classes:"rule",type:"ord"});return o.setStyle("border-right-width",i,"em"),o.setStyle("border-top-width",a,"em"),o.setStyle("border-color",this.style.color),o.setStyle("vertical-align",r,"em"),this.isSelected&&o.setStyle("opacity","50%"),o.width=i,o.height=a+r,o.depth=-r,this.bind(e,o),this.caret&&(o.caret=this.caret),o.wrap(n)}serialize(e){var n;let r=null!=(n=this.command)?n:"";return this.shift&&(r+=`[${fZ(this.shift)}]`),fm(r,fZ(this.width),fZ(this.height))}},gJ={"p@":"1pt ","z@":"0pt",maxdimen:"16383.99999pt",hfuzz:"0.1pt",vfuzz:"0.1pt",overfullrule:"5pt",hsize:"6.5in",vsize:"8.9in",parindent:"20pt",maxdepth:"4pt",splitmaxdepth:"\\maxdimen",boxmaxdepth:"\\maxdimen",delimitershortfall:"5pt",nulldelimiterspace:"1.2pt",scriptspace:"0.5pt",topskip:"10pt",splittopskip:"10pt",normalbaselineskip:"12pt",normallineskip:"1pt",normallineskiplimit:"0pt",jot:"3pt",doublerulesep:"2pt",arrayrulewidth:"0.4pt",arraycolsep:"5pt",fboxsep:"3pt",fboxrule:"0.4pt"},gQ={"z@skip":"0pt plust0pt minus0pt",hideskip:"-1000pt plust 1fill","@flushglue":"0pt plust 1fill",parskip:"0pt plus 1pt",abovedisplayskip:"12pt plus 3pt minus 9pt",abovedisplayshortskip:"0pt plus 3pt",belowdisplayskip:"12pt plus 3pt minus 9pt",belowdisplayshortskip:"7pt plus 3pt minus 4pt",parfillskip:"0pt plus 1fil",thinmuskip:"3mu",medmuskip:"4mu plus 2mu minus 4mu",thickmuskip:"5mu plus 5mu",smallskipamount:"3pt plus1pt minus1pt",medskipamount:"6pt plus2pt minus2pt",bigskipamount:"12pt plus4pt minus4pt"},g0={pretolerance:100,tolerance:200,hbadness:1e3,vbadness:1e3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1e4,doublehyphendemerits:1e4,finalhyphendemerits:5e3,adjdemerits:1e4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,baselineSkip:1.2,arraystretch:1,month:new Date().getMonth()+1,day:new Date().getDate(),year:new Date().getFullYear()};function g1(e){var n,r,i,a;if(gF)return gF;for(let r of(gF=pn({},g0),Object.keys(gJ)))gF[r]=null!=(n=g_(gJ[r],pr(pn({},e),{registers:gF})))?n:0;for(let n of Object.keys(gQ))gF[n]=null!=(i=gQ[n],a=pr(pn({},e),{registers:gF}),r="object"==typeof i&&"glue"in i?i:"object"==typeof i&&"dimension"in i?{glue:i}:"number"==typeof i?{glue:{dimension:i}}:new gb(fh(i),a,{}).scanGlue())?r:0;return gF}function g2(){let e={registers:{},smartFence:!1,fractionNavigationOrder:"numerator-denominator",placeholderSymbol:"",letterShapeStyle:pd.locale.startsWith("fr")?"french":"tex",colorMap:pv,backgroundColorMap:p_,getDefinition:fV,getMacro:e=>fG(e,fP())};return pr(pn({},e),{registers:g1(e)})}var g3=class extends fX{constructor(e,n,r,i){super("tooltip",r,{command:null==i?void 0:i.command,mode:"math",serialize:null==i?void 0:i.serialize,style:null==i?void 0:i.style,displayContainsHighlight:!0}),this.body=e;let a=g2();this.tooltip=new fX("root",a,{style:{}}),this.tooltip.body=n,this.skipBoundary=!0,this.captureSelection=!1}static fromJson(e,n){return new g3(e.body,g4(e.tooltip,n),n,e)}toJson(){var e;let n=null==(e=this.tooltip.body)?void 0:e.filter(e=>"first"!==e.type).map(e=>e.toJson());return pr(pn({},super.toJson()),{tooltip:n})}render(e){let n=fX.createBox(e,this.body,{style:this.style});if(!n)return null;let r=new fj({registers:e.registers},{fontSize:5},"displaystyle"),i=mt(mr(new me(this.tooltip.render(r),{classes:"ML__tooltip-content"}),r)),a=new me([i,n],{classes:"ML__tooltip-container"});return this.caret&&(a.caret=this.caret),this.bind(e,a)}serialize(e){return fm(this.command,this.bodyToLatex(e),fX.serialize(this.tooltip.body,e))}};function g4(e,n){if(po(e))return e.map(e=>g4(e,n));for(let r of(e=pn({},e),fW))e[r]&&(e[r]=g4(e[r],n));e.array&&(e.array=g4(e.array,n));let r=e.type,i;for(let a of("accent"===r&&(i=f0.fromJson(e,n)),"array"===r&&(i=gk.fromJson(e,n)),"box"===r&&(i=gz.fromJson(e,n)),"chem"===r&&(i=gU.fromJson(e,n)),"choice"===r&&(i=g6.fromJson(e,n)),"composition"===r&&(i=g$.fromJson(e,n)),"delim"===r&&(i=gB.fromJson(e,n)),"enclose"===r&&(i=gx.fromJson(e,n)),"error"===r&&(i=gu.fromJson(e,n)),"genfrac"===r&&(i=gD.fromJson(e,n)),"group"===r&&(i=gc.fromJson(e,n)),"latex"===r&&(i=gZ.fromJson(e,n)),"latexgroup"===r&&(i=gj.fromJson(e,n)),"leftright"===r&&(i=gd.fromJson(e,n)),"line"===r&&(i=gW.fromJson(e,n)),"macro"===r&&(i=gh.fromJson(e,n)),"subsup"===r&&(i=gf.fromJson(e,n)),"overlap"===r&&(i=gq.fromJson(e,n)),"overunder"===r&&(i=go.fromJson(e,n)),"placeholder"===r&&(i=gl.fromJson(e,n)),"prompt"===r&&(i=gp.fromJson(e,n)),"phantom"===r&&(i=gY.fromJson(e,n)),"rule"===r&&(i=gX.fromJson(e,n)),"sizeddelim"===r&&(i=gP.fromJson(e,n)),"spacing"===r&&(i=gm.fromJson(e,n)),"surd"===r&&(i=gN.fromJson(e,n)),"text"===r&&(i=gg.fromJson(e,n)),"tooltip"===r&&(i=g3.fromJson(e,n)),"mop"===r&&(i=gM.fromJson(e,n)),i||(["first","mbin","mrel","mclose","minner","mopen","mord","mpunct","root","space"].includes(r),i=fX.fromJson(e,n)),fW))e[a]&&i.setChildren(e[a],a);return void 0!==e.verbatimLatex&&(i.verbatimLatex=e.verbatimLatex),e.subsupPlacement&&(i.subsupPlacement=e.subsupPlacement),e.explicitSubsupPlacement&&(i.explicitSubsupPlacement=!0),e.isFunction&&(i.isFunction=!0),e.isExtensibleSymbol&&(i.isExtensibleSymbol=!0),e.skipBoundary&&(i.skipBoundary=!0),e.captureSelection&&(i.captureSelection=!0),i}var g6=class extends fX{constructor(e,n){super("choice",n),this.choices=e,this.skipBoundary=!0}static fromJson(e,n){return new g6([g4(e.choices[0],n),g4(e.choices[1],n),g4(e.choices[2],n),g4(e.choices[3],n)],n)}toJson(){let e=[];for(let n of this.choices)e.push(n.filter(e=>"first"!==e.type).map(e=>e.toJson()));return pr(pn({},super.toJson()),{choices:e})}render(e){let n=fX.createBox(e,this.choices[Math.floor(e.mathstyle.id/2)]);return n?(this.caret&&(n.caret=this.caret),this.bind(e,n)):null}serialize(e){return fm("\\mathchoice",fX.serialize(this.choices[0],e),fX.serialize(this.choices[1],e),fX.serialize(this.choices[2],e),fX.serialize(this.choices[3],e))}};fB("mathtip","{:math}{:math}",{createAtom:(e,n,r,i)=>new g3(fb(i[0]),fb(i[1]),n,{command:e,content:"math",style:r})}),fB("texttip","{:math}{:text}",{createAtom:(e,n,r,i)=>new g3(fb(i[0]),fb(i[1]),n,{command:e,content:"text",style:r})}),fB("error","{:math}",{createAtom:(e,n,r,i)=>new gc(fb(i[0]),n,{mode:"math",command:"\\error",renderClass:"ML__error",style:r})}),fB("ensuremath","{:math}",{createAtom:(e,n,r,i)=>new gc(fb(i[0]),n,{mode:"math",latexOpen:"\\ensuremath{",latexClose:"}",style:r})}),fB("color","{:string}",{applyStyle:(e,n,r)=>{var i,a,o,l;let s=null!=(i=r[0])?i:"red";return{verbatimColor:null!=(a=r[0])?a:void 0,color:null!=(l=null==(o=n.colorMap)?void 0:o.call(n,s))?l:s}}}),fB("textcolor","{:string}{content:auto*}",{applyStyle:(e,n,r)=>{var i,a,o,l;let s=null!=(i=r[0])?i:"red";return{verbatimColor:null!=(a=r[0])?a:void 0,color:null!=(l=null==(o=n.colorMap)?void 0:o.call(n,s))?l:s}}}),fB("boxed","{content:math}",{createAtom:(e,n,r,i)=>new gz(e,fb(i[0]),n,{framecolor:"black",style:r})}),fB("colorbox","{:string}{content:auto*}",{applyMode:"text",applyStyle:(e,n,r)=>{var i,a,o,l;let s=null!=(i=r[0])?i:"yellow";return{verbatimBackgroundColor:null!=(a=r[0])?a:void 0,backgroundColor:null!=(l=null==(o=n.backgroundColorMap)?void 0:o.call(n,s))?l:s}}}),fB("fcolorbox","{frame-color:string}{background-color:string}{content:auto}",{applyMode:"text",createAtom:(e,n,r,i)=>{var a,o,l,s,u,c,d;let h=null!=(a=i[0])?a:"blue",p=null!=(o=i[1])?o:"yellow";return new gz(e,fb(i[2]),n,{verbatimFramecolor:h,framecolor:null!=(s=null==(l=n.colorMap)?void 0:l.call(n,h))?s:h,verbatimBackgroundcolor:null!=(u=i[1])?u:void 0,backgroundcolor:null!=(d=null==(c=n.backgroundColorMap)?void 0:c.call(n,p))?d:p,style:r,serialize:(e,n)=>{var r,i,a,o;return fm(e.command,null!=(i=null!=(r=e.verbatimFramecolor)?r:e.framecolor)?i:"",null!=(o=null!=(a=e.verbatimBackgroundcolor)?a:e.backgroundcolor)?o:"",e.bodyToLatex(n))}})}}),fB("bbox","[:bbox]{body:auto}",{createAtom:(e,n,r,i)=>{if(i[0]){let a=i[0];return new gz(e,fb(i[1]),n,{padding:a.padding,border:a.border,backgroundcolor:a.backgroundcolor,style:r,serialize:(n,r)=>{var i;let a=e;if(Number.isFinite(n.padding)||void 0!==n.border||void 0!==n.backgroundcolor){let e=[];n.padding&&e.push(n.padding),n.border&&e.push(`border: ${n.border}`),(n.verbatimBackgroundcolor||n.backgroundcolor)&&e.push(null!=(i=n.verbatimBackgroundcolor)?i:n.backgroundcolor),a+=`[${e.join(",")}]`}return fm(a,n.bodyToLatex(r))}})}return new gz(e,fb(i[1]),n,{style:r})}}),fB(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:(e,n,r,i)=>new gc(fb(i[0]),n,{latexOpen:`{${e} `,latexClose:"}",style:r,mathstyleName:e.slice(1),break:!0})}),fB(["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],"",{applyStyle:e=>({fontSize:({"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10})[e]})}),fB("fontseries","{:string}",{ifMode:"text",applyStyle:(e,n,r)=>{var i;return{fontSeries:null!=(i=r[0])?i:"auto"}}}),fB("fontshape","{:string}",{ifMode:"text",applyStyle:(e,n,r)=>{var i;return{fontShape:null!=(i=r[0])?i:"auto"}}}),fB("fontfamily","{:string}",{ifMode:"text",applyStyle:(e,n,r)=>{var i;return{fontFamily:null!=(i=r[0])?i:"roman"}}}),fB("selectfont","",{ifMode:"text",applyStyle:()=>({})}),fB("bf","",{applyStyle:()=>({fontSeries:"b",fontShape:"n",fontFamily:"cmr"})}),fB(["boldsymbol","bm"],"{:math*}",{applyMode:"math",createAtom:(e,n,r,i)=>new gc(fb(i[0]),n,{latexOpen:`${e}{`,latexClose:"}",style:r,renderClass:"ML__boldsymbol"})}),fB("bold","{:math*}",{applyMode:"math",applyStyle:()=>({variantStyle:"bold"})}),fB("bfseries","",{applyMode:"text",applyStyle:()=>({fontSeries:"b"})}),fB("mdseries","",{applyMode:"text",applyStyle:()=>({fontSeries:"m"})}),fB("upshape","",{applyMode:"text",applyStyle:()=>({fontShape:"n"})}),fB("slshape","",{applyMode:"text",applyStyle:()=>({fontShape:"sl"})}),fB("scshape","",{applyMode:"text",applyStyle:()=>({fontShape:"sc"})}),fB("textbf","{:text*}",{applyMode:"text",applyStyle:()=>({fontSeries:"b"})}),fB("textmd","{:text*}",{applyMode:"text",applyStyle:()=>({fontSeries:"m"})}),fB("textup","{:text*}",{applyMode:"text",applyStyle:()=>({fontShape:"n"})}),fB("textnormal","{:text*}",{applyMode:"text",applyStyle:()=>({fontShape:"n",fontSeries:"m"})}),fB("textsl","{:text*}",{applyMode:"text",applyStyle:()=>({fontShape:"sl"})}),fB("textit","{:text*}",{applyMode:"text",applyStyle:()=>({fontShape:"it"})}),fB("textsc","{:text*}",{applyMode:"text",applyStyle:()=>({fontShape:"sc"})}),fB("textrm","{:text*}",{applyMode:"text",applyStyle:()=>({fontFamily:"roman"})}),fB("textsf","{:text*}",{applyMode:"text",applyStyle:()=>({fontFamily:"sans-serif"})}),fB("texttt","{:text*}",{applyMode:"text",applyStyle:()=>({fontFamily:"monospace"})}),fB("mathbf","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"normal",variantStyle:"bold"})}),fB("mathit","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"main",variantStyle:"italic"})}),fB("mathnormal","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"normal",variantStyle:"italic"})}),fB("mathbfit","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"main",variantStyle:"bolditalic"})}),fB("mathrm","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"normal",variantStyle:"up"})}),fB("mathsf","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"sans-serif",variantStyle:"up"})}),fB("mathtt","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"monospace",variantStyle:"up"})}),fB("it","",{applyStyle:()=>({fontSeries:"m",fontShape:"it",fontFamily:"cmr",variantStyle:"italic"})}),fB("rmfamily","",{applyStyle:()=>({fontFamily:"roman"})}),fB("sffamily","",{applyStyle:()=>({fontFamily:"sans-serif"})}),fB("ttfamily","",{applyStyle:()=>({fontFamily:"monospace"})}),fB(["Bbb","mathbb"],"{:math*}",{applyStyle:()=>({variant:"double-struck",variantStyle:"up"})}),fB(["frak","mathfrak"],"{:math*}",{applyStyle:()=>({variant:"fraktur",variantStyle:"up"})}),fB("mathcal","{:math*}",{applyStyle:()=>({variant:"calligraphic",variantStyle:"up"})}),fB("mathscr","{:math*}",{applyStyle:()=>({variant:"script",variantStyle:"up"})}),fB("mbox","{:text}",{ifMode:"math",createAtom:(e,n,r,i)=>new gc(fb(i[0]),n,{style:r,mode:"text",command:e,serialize:(e,n)=>fm("\\mbox",e.bodyToLatex(pr(pn({},n),{skipModeCommand:!0})))})}),fB("text","{:text}",{ifMode:"math",applyMode:"text"}),fB("class","{name:string}{content:auto*}",{createAtom:(e,n,r,i)=>{var a;return new gc(fb(i[1]),n,{customClass:null!=(a=i[0])?a:"",style:r})}}),fB("cssId","{id:string}{content:auto}",{createAtom:(e,n,r,i)=>{var a;return new gc(fb(i[1]),n,{cssId:null!=(a=i[0])?a:"",style:r})}}),fB("htmlData","{data:string}{content:auto}",{createAtom:(e,n,r,i)=>{var a;return new gc(fb(i[1]),n,{htmlData:null!=(a=i[0])?a:"",style:r})}}),fB("htmlStyle","{data:string}{content:auto}",{createAtom:(e,n,r,i)=>{var a;return new gc(fb(i[1]),n,{htmlStyle:null!=(a=i[0])?a:"",style:r})}}),fB("em","{:auto*}",{createAtom:(e,n,r,i)=>new gc(fb(i[0]),n,{latexOpen:"\\em",latexClose:"",renderClass:"ML__emph",style:r})}),fB("emph","{:auto}",{createAtom:(e,n,r,i)=>new gc(fb(i[0]),n,{latexOpen:"\\emph{",latexClose:"}",renderClass:"ML__emph",style:r})});var g5={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};fB(["bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","big","Big","bigg","Bigg"],"{:delim}",{createAtom:(e,n,r,i)=>{var a;return new gP(e,null!=(a=i[0])?a:".",n,{size:g5[e].size,delimType:g5[e].mclass,style:r})}}),fB(["hspace","hspace*"],"{width:glue}",{createAtom:(e,n,r,i)=>{var a;return new gm(e,r,n,null!=(a=i[0])?a:{glue:{dimension:0}})}}),fB(["mkern","kern"],"{width:glue}",{createAtom:(e,n,r,i)=>{var a;return new gm(e,r,n,null!=(a=i[0])?a:{glue:{dimension:0}})}}),fB("mspace","{width:glue}",{createAtom:(e,n,r,i)=>{var a;return new gm(e,r,n,null!=(a=i[0])?a:{glue:{dimension:0}})}}),fB("mathop","{:auto}",{createAtom:(e,n,r,i)=>new gM(e,fb(i[0]),n,{type:"mop",captureSelection:!0,limits:"over-under",isFunction:!0,hasArgument:!0,style:r})}),fB("mathchoice","{:math}{:math}{:math}{:math}",{createAtom:(e,n,r,i)=>new g6(i.map(e=>fb(e)),n)}),fB(["mathbin","mathrel","mathopen","mathclose","mathpunct","mathord","mathinner"],"{:auto}",{createAtom:(e,n,r,i)=>new gM(e,fb(i[0]),n,{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[e],captureSelection:!0,hasArgument:!0,style:r})}),fB(["operatorname","operatorname*"],"{operator:math}",{createAtom:(e,n,r,i)=>{let a=new gM(e,fb(i[0]),n,{isFunction:!0,hasArgument:!0,limits:"\\operatorname"===e?"adjacent":"over-under",style:r});return a.captureSelection=!0,a.body&&a.body.forEach(e=>{var n;"first"===e.type||(e.type="mord",e.value=null!=(n=({"":"*","":"-"})[e.value])?n:e.value,e.isFunction=!1,e.style.variant||e.style.variantStyle||(e.style.variant="main",e.style.variantStyle="up"))}),a}});var g8=class extends fX{constructor(e,n,r){Number.isFinite(e)||(e=10067),super("mord",r,{value:String.fromCodePoint(e),style:n}),this.codepoint=e}serialize(e){return'\\unicode"'+("000000"+this.codepoint.toString(16)).toUpperCase().slice(-6)}};function g7(e){let n=1/0,r=-1/0;for(let i of e.ranges)n=Math.min(n,i[0],i[1]),r=Math.max(r,i[0],i[1]);return[n,r]}function g9(e,n,r){return r?function(e,n){if(!n)return"";if("string"==typeof n)return n;if(!e||void 0===n.after)return n.value;let r=!1,i=!1,a=!1,o=!1,l=!1,s=!1,u=!1,c=!1,d=!1,h=!1,p=!1,m=!1,f=!1,g=!1,y=!1,b=e[0],v=0;for(;b&&/msubsup|placeholder/.test(b.type);)v+=1,b=e[v];return r=!b||"first"===b.type,b&&(i=!(g="text"===b.mode)&&"mord"===b.type&&fT.test(b.value),a=!g&&"mord"===b.type&&/\d+$/.test(b.value),o=!g&&b.isFunction,l="genfrac"===b.type,s="surd"===b.type,u="mbin"===b.type,c="mrel"===b.type,d="mop"===b.type,h="mpunct"===b.type||"minner"===b.type,p="array"===b.type,m="mopen"===b.type,f="mclose"===b.type||"leftright"===b.type,y="space"===b.type),n.after.includes("nothing")&&r||n.after.includes("letter")&&i||n.after.includes("digit")&&a||n.after.includes("function")&&o||n.after.includes("frac")&&l||n.after.includes("surd")&&s||n.after.includes("binop")&&u||n.after.includes("relop")&&c||n.after.includes("operator")&&d||n.after.includes("punct")&&h||n.after.includes("array")&&p||n.after.includes("openfence")&&m||n.after.includes("closefence")&&f||n.after.includes("text")&&g||n.after.includes("space")&&y?n.value:""}(e,r[n]):""}fB("unicode","{charcode:number}",{createAtom:(e,n,r,i)=>{var a;return new g8(null!=(a=i[0])?a:65533,r,n)}}),fB("rule","[raise:dimen]{width:dimen}{thickness:dimen}",{createAtom:(e,n,r,i)=>{var a,o,l;return new gX(e,n,{shift:null!=(a=i[0])?a:{dimension:0},width:null!=(o=i[1])?o:{dimension:1,unit:"em"},height:null!=(l=i[2])?l:{dimension:1,unit:"em"},style:r})}}),fB("overline","{:auto}",{createAtom:(e,n,r,i)=>new gW(e,fb(i[0]),n,{position:"overline",style:r})}),fB("underline","{:auto}",{createAtom:(e,n,r,i)=>new gW(e,fb(i[0]),n,{position:"underline",style:r})}),fB("overset","{above:auto}{base:auto}",{createAtom:(e,n,r,i)=>new go(e,n,{above:fb(i[0]),body:fb(i[1]),skipBoundary:!1,style:r,boxType:p5(fb(i[1])),serialize:(e,n)=>fm(e.command,e.aboveToLatex(n),e.bodyToLatex(n))})}),fB("underset","{below:auto}{base:auto}",{createAtom:(e,n,r,i)=>new go(e,n,{below:fb(i[0]),body:fb(i[1]),skipBoundary:!1,style:r,boxType:p5(fb(i[1])),serialize:(n,r)=>fm(e,n.belowToLatex(r),n.bodyToLatex(r))})}),fB("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:(e,n,r,i)=>new go(e,n,{above:fb(i[0]),below:fb(i[1]),body:fb(i[2]),skipBoundary:!1,style:r,boxType:p5(fb(i[2])),serialize:(e,n)=>fm(e.command,e.aboveToLatex(n),e.bodyToLatex(n))})}),fB(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:(e,n,r,i)=>new go(e,n,{body:fb(i[2]),above:fb(i[1]),below:fb(i[0]),skipBoundary:!1,style:r,boxType:"\\stackrel"===e?"rel":"bin",serialize:(e,n)=>fm(e.command,e.aboveToLatex(n),e.bodyToLatex(n))})}),fB("smash","[:string]{:auto}",{createAtom:(e,n,r,i)=>i[0]?new gY(e,fb(i[1]),n,{smashHeight:i[0].includes("t"),smashDepth:i[0].includes("b"),style:r}):new gY(e,fb(i[1]),n,{smashHeight:!0,smashDepth:!0,style:r})}),fB(["vphantom"],"{:auto*}",{createAtom:(e,n,r,i)=>new gY(e,fb(i[1]),n,{isInvisible:!0,smashWidth:!0,style:r})}),fB(["hphantom"],"{:auto*}",{createAtom:(e,n,r,i)=>new gY(e,fb(i[1]),n,{isInvisible:!0,smashHeight:!0,smashDepth:!0,style:r})}),fB(["phantom"],"{:auto*}",{createAtom:(e,n,r,i)=>new gY(e,fb(i[1]),n,{isInvisible:!0,style:r})}),fB("not","{:math}",{createAtom:(e,n,r,i)=>{let a=fb(i[0]);if(i.length<1||null===i[0]||0===a.length)return new fX("mrel",n,{command:e,style:r,value:"",serialize:(e,n)=>null!==i[0]&&0===a.length?"\\not{}":"\\not"});let o="object"==typeof i[0]&&"group"in i[0];return new gc([new gq(e,"",n,{align:"right",style:r,boxType:o?"inner":p5(a)}),...a],n,{boxType:o?"inner":p5(a),captureSelection:!0,command:"\\not",serialize:(e,n)=>o?`\\not{${fX.serialize(a,n)}}`:`\\not${fX.serialize(a,n)}`})}}),fB(["ne","neq"],"",{createAtom:(e,n,r)=>new gc([new gq(e,"",n,{align:"right",style:r,boxType:"rel"}),new fX("mrel",n,{style:r,value:"="})],n,{boxType:"rel",captureSelection:!0,serialize:()=>e,command:e})}),fB("rlap","{:auto}",{createAtom:(e,n,r,i)=>new gq(e,fb(i[0]),n,{align:"right",style:r})}),fB("llap","{:auto}",{createAtom:(e,n,r,i)=>new gq(e,fb(i[0]),n,{style:r})}),fB("mathllap","{:auto}",{createAtom:(e,n,r,i)=>new gq(e,fb(i[0]),n,{style:r})}),fB("mathrlap","{:auto}",{createAtom:(e,n,r,i)=>new gq(e,fb(i[0]),n,{align:"right",style:r})}),fS("0123456789/@.?!"),fA(65,90),fA(97,122),fS([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],["\\top",8868],["\\bot",8869]]),fS([["\\sharp",9839],["\\flat",9837],["\\natural",9838],["\\#",35],["\\&",38],["\\clubsuit",9827],["\\heartsuit",9825],["\\spadesuit",9824],["\\diamondsuit",9826],["\\parallelogram",9649]]),fS([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\Q",81,"mord","double-struck"],["\\C",67,"mord","double-struck"],["\\P",80,"mord","double-struck"],["\\pounds",163],["\\euro",8364]]),fS([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel"),fS([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]),fS([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\twoheadrightarrowtail",10518],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nleftarrow",8602],["\\nrightarrow",8603],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\nvrightarrow",8696],["\\nvtwoheadrightarrow",10496],["\\nvrightarrowtail",10516],["\\nvtwoheadrightarrowtail",10519],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams"),fS([["+",43],["-",8722],["",8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin"),fS([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams"),fS([["\\surd",8730],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",937],["\\digamma",989,"mord","ams"],["\\emptyset",8709]]),fS([["=",61],["<",60],["\\lt",60],[">",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",8869],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel"),fS([["\\lnot",172],["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams"),fS([["\\wp",8472],["\\aleph",8501]]),fS([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams"),fS([["\\ ",160],["~",160],["\\space",160]],"space"),fB(["!",",",":",";","enskip","enspace","quad","qquad"],"",{createAtom:(e,n,r)=>new gm(e,r,n)}),fS([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct"),fS([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner"),fS([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]);var ye={"&":"\\&","%":"\\%","''":"^{\\doubleprime}",alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:"\\pi",Pi:"\\Pi",theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:"\\nabla",grad:"\\nabla",del:"\\partial",deg:{after:"digit+space",value:"\\degree"},infty:"\\infty","":"\\infty",oo:{after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"":"\\sum",sum:"\\sum_{#?}^{#?}",int:"\\int_{#?}^{#?}",prod:"\\prod_{#?}^{#?}",sqrt:"\\sqrt{#?}","":"\\differentialD","":"\\differentialD",arcsin:"\\arcsin",arccos:"\\arccos",arctan:"\\arctan",arcsec:"\\arcsec",arccsc:"\\arccsc",arsinh:"\\arsinh",arcosh:"\\arcosh",artanh:"\\artanh",arcsech:"\\arcsech",arccsch:"\\arccsch",arg:"\\arg",ch:"\\ch",cosec:"\\cosec",cosh:"\\cosh",cot:"\\cot",cotg:"\\cotg",coth:"\\coth",csc:"\\csc",ctg:"\\ctg",cth:"\\cth",sec:"\\sec",sinh:"\\sinh",sh:"\\sh",tanh:"\\tanh",tg:"\\tg",th:"\\th",sin:"\\sin",cos:"\\cos",tan:"\\tan",lg:"\\lg",lb:"\\lb",log:"\\log",ln:"\\ln",exp:"\\exp",lim:"\\lim_{#?}",dx:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},AA:"\\forall",EE:"\\exists","!EE":"\\nexists","&&":"\\land",xin:{after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},in:{after:"nothing+letter+closefence",value:"\\in"},"!in":"\\notin",NN:"\\mathbb{N}",ZZ:"\\Z",QQ:"\\Q",RR:"\\R",CC:"\\C",xx:"\\times","+-":"\\pm","":"\\ne","!=":"\\ne","":"\\ge",">=":"\\ge","":"\\le","<=":"\\le","<<":"\\ll",">>":"\\gg","~~":"\\approx","":"\\approx","?=":"\\questeq","\xf7":"\\div","\xac":"\\neg",":=":"\\coloneq","::":"\\Colon","(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},nu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu"},:"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega",:"\\omega",forall:"\\forall",exists:"\\exists","!exists":"\\nexists",":.":"\\therefore",liminf:"\\liminf_{#?}",limsup:"\\limsup_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:"\\mod",max:"\\max",min:"\\min",erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:"\\operatorname{bessel}",mean:"\\operatorname{mean}",median:"\\operatorname{median}",fft:"\\operatorname{fft}",lcm:"\\operatorname{lcm}",gcd:"\\operatorname{gcd}",randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:"\\operatorname{Re}",Im:"\\operatorname{Im}",mm:{after:"nothing+digit+operator",value:"\\operatorname{mm}"},cm:{after:"nothing+digit+operator",value:"\\operatorname{cm}"},km:{after:"nothing+digit+operator",value:"\\operatorname{km}"},kg:{after:"nothing+digit+operator",value:"\\operatorname{kg}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","-->...":"\\longrightarrow\\cdots","->":"\\to","|->":"\\mapsto","-->":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\Leftrightarrow","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","{":"\\{","}":"\\}","*":"\\cdot","**":"\\star","***":"\\ast","//":"\\slash","\\\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceil","~|":"\\rceil",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail",frac:"\\frac{#?}{#?}",cbrt:"\\sqrt[3]{#?}",nthroot:"\\sqrt[#?]{#?}"};function yt(e,n){var r,i;let a;let o=null!=(r=null==n?void 0:n.format)?r:"auto";return"auto"===o&&([o,e]=(i=(i=e).trim()).length<=1?["latex",i]:([a,i]=yo(i),a?["latex",i]:i.startsWith("`")&&i.endsWith("`")?["ascii-math",i=i.substring(1,i.length-1)]:i.includes("\\")?["latex",i]:/\$.+\$/.test(i)?["latex",`\\text{${i}}`]:[void 0,i])),"ascii-math"===o?["ascii-math",yn(e=(e=(e=(e=(e=(e=e.replace(/\u2061/gu,"")).replace(/\u3016/gu,"{")).replace(/\u3017/gu,"}")).replace(/([^\\])sinx/g,"$1\\sin x")).replace(/([^\\])cosx/g,"$1\\cos x ")).replace(/\u2013/g,"-"),{inlineShortcuts:null==n?void 0:n.inlineShortcuts})]:["latex",e]}function yn(e,n){var r,i,a;if(!e)return"";let o=!1,l,s=null!=(r=n.inlineShortcuts)?r:ye;if(!o&&(e.startsWith("^")||e.startsWith("_"))&&(l=yr(e.slice(1),{inlineShortcuts:s,noWrap:!0}),e=e[0]+"{"+l.match+"}"+yn(l.rest,n),o=!0),o||(l=e.match(/^(sqrt|\u221A)(.*)/))&&(e="\\sqrt{"+(null!=(i=(l=yr(l[2],{inlineShortcuts:s,noWrap:!0})).match)?i:"\\placeholder{}")+"}"+yn(l.rest,n),o=!0),o||(l=e.match(/^(\\cbrt|\u221B)(.*)/))&&(e="\\sqrt[3]{"+(null!=(a=(l=yr(l[2],{inlineShortcuts:s,noWrap:!0})).match)?a:"\\placeholder{}")+"}"+yn(l.rest,n),o=!0),o||(l=e.match(/^abs(.*)/))&&(e="\\left|"+(l=yr(l[1],{inlineShortcuts:s,noWrap:!0})).match+"\\right|"+yn(l.rest,n),o=!0),o||(l=e.match(/^["](.*?)["](.*)/))&&(e="\\text{"+l[1]+"}"+yn(l[2],n),o=!0),o||(l=e.match(/^([^a-zA-Z\(\{\[\_\^\\\s"]+)(.*)/))&&(e=yi(l[1],s)+yn(l[2],n),o=!0),!o&&/^([fgh])[^a-zA-Z]/.test(e)&&(l=yr(e.slice(1),{inlineShortcuts:s,noWrap:!0}),e=("("===e[1]?e[0]+"\\left("+l.match+"\\right)":e[0]+l.match)+yn(l.rest,n),o=!0),o||(l=e.match(/^([a-zA-Z]+)(.*)/))&&(e=yi(l[1],s)+yn(l[2],n),o=!0),!o){if((l=yr(e,{inlineShortcuts:s,noWrap:!0})).match&&"/"===l.rest[0]){let r=yr(l.rest.slice(1),{inlineShortcuts:s,noWrap:!0});r.match&&(e="\\frac{"+l.match+"}{"+r.match+"}"+yn(r.rest,n)),o=!0}else l.match&&(e=e.startsWith("(")?"\\left("+l.match+"\\right)"+yn(l.rest,n):l.match+yn(l.rest,n),o=!0)}return o||(l=e.match(/^(\s+)(.*)$/))&&(e=" "+yn(l[2],n),o=!0),e}function yr(e,n){let r="",i=e=e.trim(),a=e.charAt(0),o={"(":")","{":"}","[":"]"}[a];if(o){let l=1,s=1;for(;s<e.length&&l>0;)e[s]===a&&l++,e[s]===o&&l--,s++;0===l?(n.noWrap&&"("===a?r=yn(e.substring(1,s-1),n):("{"===a&&"}"===o&&(a="\\{",o="\\}"),r="\\left"+a+yn(e.substring(1,s-1),n)+"\\right"+o),i=e.slice(Math.max(0,s))):(r=e.substring(1,s),i="")}else{let a=e.match(/^([a-zA-Z]+)/);if(a){let r=g9(null,e,n.inlineShortcuts);if(r)return{match:r=(r=r.replace("_{#?}","")).replace("^{#?}",""),rest:e.slice(r.length)}}if(a=e.match(/^([a-zA-Z])/))return{match:a[1],rest:e.slice(1)};if(a=e.match(/^(-)?\d+(\.\d*)?/))return{match:a[0],rest:e.slice(a[0].length)};/^\\(left|right)/.test(e)||(a=e.match(/^(\\[a-zA-Z]+)/))&&(i=e.slice(a[1].length),r=a[1])}return{match:r,rest:i}}function yi(e,n){let r=g9(null,e,n);return r?(r=r.replace("_{#?}","")).replace("^{#?}","")+" ":e}var ya=[["\\[","\\]"],["\\(","\\)"],["$$","$$"],["$","$"],["\\begin{math}","\\end{math}"],["\\begin{displaymath}","\\end{displaymath}"],["\\begin{equation}","\\end{equation}"],["\\begin{equation*}","\\end{equation*}"]];function yo(e){let n=e.trim();for(let e of ya)if(n.startsWith(e[0])&&n.endsWith(e[1]))return[!0,n.substring(e[0].length,n.length-e[1].length)];return[!1,e]}var yl=(e,n,r)=>(ya.some(e=>n.startsWith(e[0])&&n.endsWith(e[1]))||(n=`$$ ${n} $$`),n),ys=class{constructor(e){ys._registry[e]=this}static onPaste(e,n,r){var i;if(!n.contentEditable&&"none"===n.userSelect)return n.model.announce("plonk"),!1;if("string"==typeof r){let e=new DataTransfer;e.setData("text/plain",r),r=e}let a=new ClipboardEvent("paste",{clipboardData:r,cancelable:!0});return!!(null!=(i=n.host)&&i.dispatchEvent(a))&&ys._registry[e].onPaste(n,r)}static onCopy(e,n){if(!n.clipboardData)return;if(!e.contentEditable&&"none"===e.userSelect){e.model.announce("plonk");return}let r=e.model,i=r.selectionIsCollapsed?[0,r.lastOffset]:g7(r.selection),a=r.getAtoms(i);if(a.every(e=>"text"===e.mode||!e.mode))n.clipboardData.setData("text/plain",a.filter(e=>e instanceof gg).map(e=>e.value).join(""));else if(a.every(e=>"latex"===e.mode))n.clipboardData.setData("text/plain",r.getAtoms(i,{includeChildren:!0}).map(e=>{var n;return null!=(n=e.value)?n:""}).join(""));else{let o;o=1===a.length&&void 0!==a[0].verbatimLatex?a[0].verbatimLatex:r.getValue(i,"latex-expanded"),n.clipboardData.setData("application/x-latex",o);try{n.clipboardData.setData("text/plain",e.options.onExport(e,o,i))}catch(e){}1!==a.length||a[0].parent&&"group"!==a[0].type||(a=a[0].body.filter(e=>"first"!==e.type));try{n.clipboardData.setData("application/json+mathlive",JSON.stringify(a.map(e=>e.toJson())))}catch(e){}let l=window.MathfieldElement.computeEngine;if(l)try{l.jsonSerializationOptions={metadata:["latex"]};let e=l.parse(o),r=JSON.stringify(e.json);r&&n.clipboardData.setData("application/json",r)}catch(e){}}n.preventDefault()}static insert(e,n,r,i={}){return ys._registry[e].insert(n,r,i)}onPaste(e,n){return!1}insert(e,n,r){return!1}},yu=ys;yu._registry={};var yc=[{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendSelectionBackward"},{key:"shift+[ArrowRight]",command:"extendSelectionForward"},{key:"shift+[ArrowUp]",command:"extendSelectionUpward"},{key:"shift+[ArrowDown]",command:"extendSelectionDownward"},{key:"[Backspace]",command:"deleteBackward"},{key:"alt+[Delete]",command:"deleteBackward"},{key:"[Delete]",command:"deleteForward"},{key:"alt+[Backspace]",command:"deleteForward"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"shift+alt+[ArrowLeft]",command:"extendToPreviousWord"},{key:"shift+alt+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"shift+ctrl+[ArrowLeft]",command:"extendToGroupStart"},{key:"shift+ctrl+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Space]",ifMode:"math",command:"moveAfterParent"},{key:"shift+[Space]",ifMode:"math",command:"moveBeforeParent"},{key:"[Home]",command:"moveToMathfieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathfieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"shift+cmd+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathfieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathfieldEnd"},{key:"shift+[End]",command:"extendToMathFieldEnd"},{key:"shift+cmd+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",ifMode:"math",command:"moveToNextPlaceholder"},{key:"shift+[Tab]",ifMode:"math",command:"moveToPreviousPlaceholder"},{key:"[Tab]",ifMode:"text",command:"moveToNextPlaceholder"},{key:"shift+[Tab]",ifMode:"text",command:"moveToPreviousPlaceholder"},{key:"[Escape]",ifMode:"math",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"text",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"latex",command:["complete","complete",{selectItem:"true"}]},{key:"\\",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[IntlBackslash]",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[Tab]",ifMode:"latex",command:["complete","accept-suggestion"]},{key:"[Return]",ifMode:"latex",command:"complete"},{key:"[Enter]",ifMode:"latex",command:"complete"},{key:"shift+[Escape]",ifMode:"latex",command:["complete","reject"]},{key:"[ArrowDown]",ifMode:"latex",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"latex",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deleteBackward"},{key:"[Undo]",command:"undo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+x",command:"cutToClipboard"},{key:"cmd+x",command:"cutToClipboard"},{key:"ctrl+c",command:"copyToClipboard"},{key:"cmd+c",command:"copyToClipboard"},{key:"ctrl+v",command:"pasteFromClipboard"},{key:"cmd+v",command:"pasteFromClipboard"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"ctrl+y",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+y",command:"redo"},{key:"shift+ctrl+z",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+z",command:"redo"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathfieldStart"},{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathfieldEnd"},{key:"shift+ctrl+b",ifPlatform:"macos",command:"extendSelectionBackward"},{key:"shift+ctrl+f",ifPlatform:"macos",command:"extendSelectionForward"},{key:"shift+ctrl+p",ifPlatform:"macos",command:"extendSelectionUpward"},{key:"shift+ctrl+n",ifPlatform:"macos",command:"extendSelectionDownward"},{key:"shift+ctrl+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"shift+ctrl+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"alt+ctrl+b",ifPlatform:"macos",command:"moveToPreviousWord"},{key:"alt+ctrl+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"shift+alt+ctrl+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"shift+alt+ctrl+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deleteBackward"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteForward"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"alt+p",ifMode:"math",command:["insert","\\pi"]},{key:"alt+v",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"alt+o",ifMode:"math",command:["insert","\\emptyset"]},{key:"alt+d",ifMode:"math",command:["insert","\\differentialD"]},{key:"shift+alt+o",ifMode:"math",command:["insert","\\varnothing"]},{key:"shift+alt+d",ifMode:"math",command:["insert","\\partial"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","\\backslash"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+alt+k",command:"toggleKeystrokeCaption"},{key:"alt+[Space]",command:"toggleVirtualKeyboard"},{key:"alt+ctrl+[ArrowUp]",command:["speak","all",{withHighlighting:!1}]},{key:"alt+ctrl+[ArrowDown]",command:["speak","selection",{withHighlighting:!1}]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["switchMode","text","",""]},{key:"shift+alt+[KeyT]",ifMode:"math",command:["switchMode","text","",""]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["switchMode","math","",""]},{key:"shift+alt+[KeyT]",ifMode:"text",command:["switchMode","math","",""]},{key:"/",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\/"]},{key:"alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrack #0 \\right\\rbrack"]},{key:"ctrl+[Minus]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"moveToSubscript"},{key:"shift+alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrace #0 \\right\\rbrace"]},{key:"ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"shift+ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"shift+cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Backspace]",ifMode:"math",command:"removeRow"},{key:"cmd+[Backspace]",ifMode:"math",command:"removeRow"},{key:"alt+[Tab]",ifMode:"math",command:"addColumnAfter"},{key:"shift+alt+[Tab]",ifMode:"math",command:"addColumnBefore"},{key:"alt+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Enter]",ifMode:"math",command:"addRowBefore"},{key:"alt+[Return]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Return]",ifMode:"math",command:"addRowBefore"},{key:"shift+[Backspace]",ifMode:"math",command:"removeColumn"},{key:"alt+[Digit5]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$\\infty"]},{key:"alt+[Digit9]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert",")"]},{key:"alt+|",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","|"]},{key:"shift+[Backquote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\~"]},{key:"[Backquote]",ifLayout:["windows.french","linux.french"],ifMode:"math",command:["insert","^2"]}],yd={"\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\infty":"alt+[Digit5]","\\differentialD":"alt+d","\\partial":"shift+alt+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"shift+alt+o","\\~":"~"};function yh(e,n,r,i){for(let a of n.split(" ")){let n=a.match(/(.*):(.*)/);if(n){let a=null!=i?i:{};"active"===n[2]?a.passive=!1:a[n[2]]=!0,e.addEventListener(n[1],r,a)}else e.addEventListener(a,r,i)}}function yp(e,n,r,i){for(let a of n.split(" ")){let n=a.match(/(.*):(.*)/);if(n){let a=null!=i?i:{};"active"===n[2]?a.passive=!1:a[n[2]]=!0,e.removeEventListener(n[1],r,a)}else e.removeEventListener(a,r,i)}}function ym(e){var n;!function(){if(!pl())throw Error(`<math-field> is an interactive component that needs to run in a browser environment
If you are using nextjs, see https://nextjs.org/docs/advanced-features/dynamic-import#with-no-ssr`)}();let r=document.getElementById(e);return r?r.dataset.refcount=Number(Number.parseInt(null!=(n=r.getAttribute("data-refcount"))?n:"0")+1).toString():((r=document.createElement("div")).setAttribute("aria-hidden","true"),r.dataset.refcount="1",r.id=e,document.body.append(r)),r}function yf(e){var n;if(!e)return;let r=Number.parseInt(null!=(n=e.getAttribute("data-refcount"))?n:"0");r<=1?e.remove():e.dataset.refcount=Number(r-1).toString()}function yg(e){var n;return(null==(n=e.element)?void 0:n.mathfield)===e}function yy(e){var n,r;let i=null!=(r=null!=(n=e.querySelector(".ML__caret"))?n:e.querySelector(".ML__text-caret"))?r:e.querySelector(".ML__latex-caret");if(!i)return null;let a=i.getBoundingClientRect();return{x:a.right,y:a.bottom,height:a.height}}function yb(e,n){if(!n)return null;let r=e.field.getBoundingClientRect(),i=n.right-n.left,a=n.bottom-n.top,o=Math.ceil(n.left-r.left+e.field.scrollLeft),l=Math.ceil(n.top-r.top);return{left:o,right:o+i,top:l,bottom:l+a}}function yv(e,n){var r,i;if(!n.id)return null;let a=null!=(i=null==(r=e.atomBoundsCache)?void 0:r.get(n.id))?i:null;if(null!==a)return a;let o=e.field.querySelector(`[data-atom-id="${n.id}"]`);return a=o?function e(n){let r=n.getBoundingClientRect(),i=parseInt(getComputedStyle(n).marginRight),a={top:r.top-1,bottom:r.bottom,left:r.left,right:r.right-1+i};if(0===n.children.length||"SVG"===n.tagName.toUpperCase())return a;for(let r of n.children)if(1===r.nodeType&&"atomId"in r.dataset&&!r.classList.contains("pstrut")){let n=e(r);a.left=Math.min(a.left,n.left),a.right=Math.max(a.right,n.right),a.top=Math.min(a.top,n.top),a.bottom=Math.max(a.bottom,n.bottom)}return a}(o):null,e.atomBoundsCache&&(a?e.atomBoundsCache.set(n.id,a):e.atomBoundsCache.delete(n.id)),null!=a?a:null}function y_(e,n){return e.model.selection.ranges.reduce((r,i)=>r.concat(...function(e,n,r){let i=new Map;for(let a of e.model.getAtoms(n,{includeChildren:!0})){if(null!=r&&r.excludeAtomsWithBackground&&a.style.backgroundColor)break;let n=yb(e,yv(e,a));if(n){let e=function(e){var n;return e.parent?(null!=(n=e.parent.id)?n:"")+("string"==typeof e.parentBranch?"-"+e.parentBranch:`-${e.parentBranch[0]}/${e.parentBranch[0]}`):"root"}(a);if(i.has(e)){let r=i.get(e);i.set(e,{left:Math.min(r.left,n.left),right:Math.max(r.right,n.right),top:Math.min(r.top,n.top),bottom:Math.max(r.bottom,n.bottom)})}else i.set(e,n)}}return[...i.values()]}(e,i,n)),[])}function yx(e,n){return"*"===e||"none"===n||("same-origin"===n?!window.origin||e===window.origin:"function"==typeof n&&n(e))}function yO(e){let n=0,r=0,i=e.offsetWidth,a=e.offsetHeight;for(;e instanceof HTMLElement;)n+=e.offsetTop,r+=e.offsetLeft,e=e.offsetParent;return new DOMRect(r,n,i,a)}var yw={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic","ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams"],"ams-italic":["AMS-Regular","ML__ams"],"ams-bolditalic":["AMS-Regular","ML__ams"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular","ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak"],"fraktur-italic":["Fraktur-Regular","ML__frak"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak"],monospace:["Typewriter-Regular","ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb"],"double-struck-italic":["AMS-Regular","ML__bb"],"double-struck-bolditalic":["AMS-Regular","ML__bb"]},yE={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^]$/,monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},yC=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,yT=[/^[a-z]$/,/^[A-Z]$/,yC,/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/],yk={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],upright:["up","up","up","up"]};function yR(e){if(!e)return"";let{style:n}=e;if(void 0===n.variant)return"";let r=n.variant;return n.variantStyle&&"up"!==n.variantStyle&&(r+="-"+n.variantStyle),r}function yS(e){return[e.reduce((e,n)=>[...e,...n[0]],[]),e.map(e=>e[1]).some(e=>!0===e)]}new class extends p3{constructor(){super("math")}createAtom(e,n,r){var i,a,o,l,s;let u=n.getDefinition(e,"math");if(null===u)return new fX("mord",n,{mode:"math",command:e,value:e,style:r});if("symbol"===u.definitionType){let l=new fX(null!=(i=u.type)?i:"mord",n,{mode:"math",command:null!=(a=u.command)?a:e,value:String.fromCodePoint(u.codepoint),style:r});return null!=(o=u.isFunction)&&o&&(l.isFunction=!0),e.startsWith("\\")&&(l.verbatimLatex=e),l}let c=new fX("mord",n,{mode:"math",command:null!=(l=u.command)?l:e,value:e,style:r});return null!=(s=u.isFunction)&&s&&(c.isFunction=!0),e.startsWith("\\")&&(c.verbatimLatex=e),c}serialize(e,n){let{parent:r}=e[0],i=null==r?void 0:r.computedStyle.fontSize;return p4(e,"fontSize").map(e=>{let a=function(e,n){let{parent:r}=e[0],i=null==r?void 0:r.computedStyle.backgroundColor;return fp(p4(e,"backgroundColor").map(e=>{var a,o;let l=function(e,n){let{parent:r}=e[0],i=null==r?void 0:r.computedStyle.color;return fp(p4(e,"color").map(e=>{var a,o;let l=function(e,n){var r;let{parent:i}=e[0],a=yR(i),o=null!=(r=null==i?void 0:i.mode)?r:"math";return fp(p4(e,"variant").map(e=>{let r=yR(e[0]);if(e.every(e=>{let n=e.context.getDefinition(e.command,o);return!!n&&"function"!==n.definitionType&&!!n.variant&&yR(e)===r}))return fp(e.map(e=>fX.serialize(e,n)));let i="";r&&r!==a&&(i=({calligraphic:"\\mathcal",fraktur:"\\mathfrak","double-struck":"\\mathbb",script:"\\mathscr",monospace:"\\mathtt","sans-serif":"\\mathsf",normal:"\\mathrm","normal-italic":"\\mathnormal","normal-bold":"\\mathbf","normal-bolditalic":"\\mathbfit",ams:"","ams-italic":"\\mathit","ams-bold":"\\mathbf","ams-bolditalic":"\\mathbfit",main:"","main-italic":"\\mathit","main-bold":"\\mathbf","main-bolditalic":"\\mathbfit"})[r]);let l=fp(e.map(e=>fX.serialize(e,n)));return i?fm(i,l):l}))}(e,n),s=e[0].computedStyle;return null!=(a=n.skipStyles)&&a||!s.color||r&&i===s.color?l:fm("\\textcolor",null!=(o=s.verbatimColor)?o:s.color,l)}))}(e,n),s=e[0].computedStyle;return!(null!=(a=n.skipStyles)&&a)&&l.trim()&&s.backgroundColor&&(!r||i!==s.backgroundColor)&&(e.length>0||!(e[0]instanceof gz))&&(l=fm("\\ensuremath",l),l=fm("\\colorbox",null!=(o=s.verbatimBackgroundColor)?o:s.backgroundColor,l)),l}))}(e,n),o=e[0].computedStyle.fontSize;return o&&"auto"!==o&&(!r||i!==o)?fm(["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][o],a):a})}applyStyle(e,n){if(void 0===n.variant)return"";let r="auto"!==n.letterShapeStyle&&n.letterShapeStyle?n.letterShapeStyle:"tex",{variant:i}=n,{variantStyle:a}=n;"normal"===i&&!a&&/[\u00A3\u0131\u0237]/.test(e.value)&&(i="main",a="italic"),"normal"!==i||a||1!==e.value.length||yT.forEach((n,i)=>{n.test(e.value)&&"it"===yk[r][i]&&(a="italic")}),"up"===a&&(a=void 0);let o=a?i+"-"+a:i;yw[o];let[l,s]=yw[o];return yE[i]&&!yE[i].test(e.value)?(e.value=function(e,n,r){if(!/[A-Za-z\d]/.test(e)||!n&&!r)return e;let i=e.codePointAt(0);if(void 0===i)return e;for(let e of fy)if((!n||e.variant===n)&&(!r||e.style===r)&&i>=e.offset&&i<e.offset+e.len){let n=e.start+i-e.offset;return String.fromCodePoint(fg[n]||n)}return e}(e.value,i,a),null):(yC.test(e.value)&&(e.classes+=" lcGreek"),s&&(e.classes+=" "+s),l)}};var yA={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"};function yI(e){let n=0;for(let r=0;r<e.length;r++)n=Math.imul(31,n)+e.charCodeAt(r)|0;return Math.abs(n)}function yL(e,n,r){var i,a;if(!n)return null;let o=null!=(i=null==e?void 0:e.getRootNode())?i:null==document?void 0:document.head;if(!o)return null;o===document&&(o=document.head);let l=o.querySelector(`style[data-id="${r}"]`);if(l){let e=Number.parseFloat(null!=(a=l.getAttribute("data-refcount"))?a:"0");l.dataset.refcount=Number(e+1).toString()}else{let e=document.createElement("style");e.dataset.id=r,e.dataset.refcount="1",e.append(document.createTextNode(n)),o.appendChild(e)}return{release:()=>{var e;let n=o.querySelector(`style[data-id="${r}"]`);if(n){let r=Number.parseFloat(null!=(e=n.getAttribute("data-refcount"))?e:"0");1===r?n.remove():n.dataset.refcount=Number(r-1).toString()}}}}function yM(e){let n=e.split("+"),r={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:n.pop()};return n.includes("shift")&&(r.shift=!0),n.includes("alt")&&(r.alt=!0),n.includes("ctrl")&&(r.ctrl=!0),n.includes("cmd")&&(r.cmd=!0),n.includes("win")&&(r.win=!0),n.includes("meta")&&(r.meta=!0),r}function yN(e){let n="";return e.shift&&(n+="shift+"),e.alt&&(n+="alt+"),e.ctrl&&(n+="ctrl+"),e.cmd&&(n+="cmd+"),e.win&&(n+="win+"),e.meta&&(n+="meta+"),n+e.key}new class extends p3{constructor(){super("text")}createAtom(e,n,r){let i=n.getDefinition(e,"text");return i&&"symbol"===i.definitionType?new gg(e,String.fromCodePoint(i.codepoint),null!=r?r:{},n):null}serialize(e,n){var r;let[i,a]=yS(p4(e,"backgroundColor").map(e=>{var r,i;let[a,o]=function(e,n){var r;if(!e||0===e.length)return[[],!1];let i=null==(r=e[0].parent)?void 0:r.style.color;return yS(p4(e,"color").map(e=>{var r,a;let[o,l]=yS(p4(e,"fontFamily").map(e=>{var r,i;let[a,o]=yS(p4(e,"fontSize").map(e=>{var r,i;let[a,o]=yS(p4(e,"fontSeries").map(e=>{let[r,i]=yS(p4(e,"fontShape").map(e=>{let[r,i]=[e.map(e=>fX.serialize(e,n)),!0],{fontShape:a}=e[0].style,o="";return"it"===a&&(o="\\textit"),"sl"===a&&(o="\\textsl"),"sc"===a&&(o="\\textsc"),"n"===a&&(o="\\textup"),!o&&a?[["{",fm("\\fontshape",a),...r,"}"],!1]:o?[[fm(o,...r)],!1]:[r,i]})),{fontSeries:a}=e[0].style,o="";return"b"===a&&(o="\\textbf"),"l"===a&&(o="\\textlf"),"m"===a&&(o="\\textmd"),a&&!o?[[fm("\\fontseries",a),"{",...r,"}"],!1]:o?[[fm(o,...r)],!1]:[r,i]})),l=null!=(i=["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][null!=(r=e[0].style.fontSize)?r:""])?i:"";return l?[["{",l,...a,"}"],o]:[a,o]})),l=null!=(i=({roman:"textrm",monospace:"texttt","sans-serif":"textsf"})[null!=(r=e[0].style.fontFamily)?r:""])?i:"";return l?[[`\\${l}`,"{",...a,"}"],!1]:e[0].style.fontFamily?[["\\fontfamily","{",e[0].style.fontFamily,"}","{",...a,"}"],o]:[a,o]}));return!(null!=(r=n.skipStyles)&&r)&&e[0].style.color&&"none"!==e[0].style.color&&i!==e[0].style.color?[["\\textcolor","{",null!=(a=e[0].style.verbatimColor)?a:e[0].style.color,"}","{",...o,"}"],!1]:[o,l]}))}(e,n),l=e[0].computedStyle;return!(null!=(r=n.skipStyles)&&r)&&l.backgroundColor&&"none"!==l.backgroundColor?[["\\colorbox","{",null!=(i=l.verbatimBackgroundColor)?i:l.backgroundColor,"}","{",...a,"}"],!1]:[a,o]}));return(null!=(r=n.skipModeCommand)&&r)===!0&&(a=!1),a&&(i=[fm("\\text",fp(i.map(e=>{var n;return null!=(n=({"":" ",$:"\\$","{":"\\textbraceleft","}":"\\textbraceright","\\":"\\textbackslash"})[e])?n:e})))]),i}applyStyle(e,n){var r,i,a,o,l;let{fontFamily:s}=n;if(yA[s]?e.classes+=" "+yA[s]:s&&e.setStyle("font-family",s),n.fontShape&&(e.classes+=" ",e.classes+=null!=(r=({it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"})[n.fontShape])?r:""),n.fontSeries){let r=n.fontSeries.match(/(.?[lbm])?(.?[cx])?/);r&&(e.classes+=" ",e.classes+=null!=(a=({ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"})[null!=(i=r[1])?i:""])?a:"",e.classes+=" ",e.classes+=null!=(l=({uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"})[null!=(o=r[2])?o:""])?l:"")}return"Main-Regular"}},new class extends p3{constructor(){super("latex")}createAtom(e,n){return new gZ(e,n)}serialize(e,n){return[e.filter(e=>e instanceof gZ&&!e.isSuggestion).map(e=>e.value).join("")]}applyStyle(){return null}};var yD,yB="apple"===yU()?{id:"apple.en-intl",displayName:"English (international)",virtualLayout:"qwerty",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","\xe5","\xc5"],KeyB:["b","B","",""],KeyC:["c","C","\xe7","\xc7"],KeyD:["d","D","","\xce"],KeyE:["e","E","\xb4","\xb4"],KeyF:["f","F","","\xcf"],KeyG:["g","G","\xa9",""],KeyH:["h","H","","\xd3"],KeyI:["i","I","",""],KeyJ:["j","J","","\xd4"],KeyK:["k","K","",""],KeyL:["l","L","\xac","\xd2"],KeyM:["m","M","\xb5","\xc2"],KeyN:["n","N","",""],KeyO:["o","O","\xf8","\xd8"],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","\xae",""],KeyS:["s","S","\xdf","\xcd"],KeyT:["t","T","",""],KeyU:["u","U","\xa8","\xa8"],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","\xa5","\xc1"],KeyZ:["z","Z","","\xb8"],Digit1:["1","!","\xa1",""],Digit2:["2","@","",""],Digit3:["3","#","\xa3",""],Digit4:["4","$","\xa2",""],Digit5:["5","%","",""],Digit6:["6","^","\xa7",""],Digit7:["7","&","\xb6",""],Digit8:["8","*","","\xb0"],Digit9:["9","(","\xaa","\xb7"],Digit0:["0",")","\xba",""],Space:[" "," "," "," "],Minus:["-","_","",""],Equal:["=","+","","\xb1"],BracketLeft:["[","{","",""],BracketRight:["]","}","",""],Backslash:["\\","|","\xab","\xbb"],Semicolon:[";",":","","\xda"],Quote:["'",'"',"\xe6","\xc6"],Backquote:["`","","`","`"],Comma:[",","<","","\xaf"],Period:[".",">","",""],Slash:["/","?","\xf7","\xbf"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["\xa7","\xb1","\xa7","\xb1"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}}:"windows"===yU()?{id:"windows.en-intl",displayName:"English (international)",platform:"windows",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","\xe1","\xc1"],KeyB:["b","B","",""],KeyC:["c","C","\xa9","\xa2"],KeyD:["d","D","\xf0","\xd0"],KeyE:["e","E","\xe9","\xc9"],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","\xed","\xcd"],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","\xf8","\xd8"],KeyM:["m","M","\xb5",""],KeyN:["n","N","\xf1","\xd1"],KeyO:["o","O","\xf3","\xd3"],KeyP:["p","P","\xf6","\xd6"],KeyQ:["q","Q","\xe4","\xc4"],KeyR:["r","R","\xae",""],KeyS:["s","S","\xdf","\xa7"],KeyT:["t","T","\xfe","\xde"],KeyU:["u","U","\xfa","\xda"],KeyV:["v","V","",""],KeyW:["w","W","\xe5","\xc5"],KeyX:["x","X","",""],KeyY:["y","Y","\xfc","\xdc"],KeyZ:["z","Z","\xe6","\xc6"],Digit1:["1","!","\xa1","\xb9"],Digit2:["2","@","\xb2",""],Digit3:["3","#","\xb3",""],Digit4:["4","$","\xa4","\xa3"],Digit5:["5","%","",""],Digit6:["6","^","\xbc",""],Digit7:["7","&","\xbd",""],Digit8:["8","*","\xbe",""],Digit9:["9","(","",""],Digit0:["0",")","",""],Space:[" "," ","",""],Minus:["-","_","\xa5",""],Equal:["=","+","\xd7","\xf7"],BracketLeft:["[","{","\xab",""],BracketRight:["]","}","\xbb",""],Backslash:["\\","|","\xac","\xa6"],Semicolon:[";",":","\xb6","\xb0"],Quote:["'",'"',"\xb4","\xa8"],Backquote:["`","~","",""],Comma:[",","<","\xe7","\xc7"],Period:[".",">","",""],Slash:["/","?","\xbf",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}}:{id:"linux.en",displayName:"English",platform:"linux",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f","F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2","@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","&","7","&"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["=","+","=","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","<",",","<"],Period:[".",">",".",">"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","\xa6"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}},yP={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",f19:"[F19]"},yK=[];function yU(){switch(pu()){case"macos":case"ios":return"apple";case"windows":return"windows"}return"linux"}function yV(e){e.platform&&e.platform!==yU()||yK.push(e)}function yG(){return null!=yD?yD:yK[0]}function yF(e){let n=e;return po(n)&&(n=n.length>0?n[0]+"("+n.slice(1).join("")+")":""),n}function yH(e){var n;let r=/macos|ios|/.test(pu()),i=e.split("+"),a="";for(let e of i)!r&&a&&(a+='<span class="ML__shortcut-join">+</span>'),e.startsWith("[Key")?a+=e.slice(4,5):e.startsWith("Key")?a+=e.slice(3,4):e.startsWith("[Digit")?a+=e.slice(6,7):e.startsWith("Digit")?a+=e.slice(5,6):a+=null!=(n=({cmd:"",meta:r?"":"command",shift:r?"":"shift",alt:r?"":"alt",ctrl:r?"":"control","\n":r?"":"return","[return]":r?"":"return","[enter]":r?"":"enter","[tab]":r?"":"tab","[escape]":"esc","[backspace]":r?"":"backspace","[delete]":r?"":"del","[pageup]":r?"":"page up","[pagedown]":r?"":"page down","[home]":r?"":"home","[end]":r?"":"end","[space]":"space","[equal]":"=","[minus]":"-","[comma]":",","[slash]":"/","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"=",quote:"'",bracketLeft:"[",bracketRight:"]",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* &#128290;",numpaddivide:"/ &#128290;",numpadsubtract:"- &#128290;",numpadadd:"+ &#128290;",numpaddecimal:". &#128290;",numpadcomma:", &#128290;",help:"help",left:"",up:"",right:"",down:"","[arrowleft]":"","[arrowup]":"","[arrowright]":"","[arrowdown]":"","[digit0]":"0","[digit1]":"1","[digit2]":"2","[digit3]":"3","[digit4]":"4","[digit5]":"5","[digit6]":"6","[digit7]":"7","[digit8]":"8","[digit9]":"9"})[e.toLowerCase()])?n:e.toUpperCase();return a}function yz(e){if(Array.isArray(e)){let n=[...e];return n.shift()+"("+n.map(e=>"string"==typeof e?`"${e}"`:e.toString()).join(", ")+")"}return e}yV(yB),yV({id:"apple.french",locale:"fr",displayName:"French",platform:"apple",virtualLayout:"azerty",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","\xdf",""],KeyC:["c","C","\xa9","\xa2"],KeyD:["d","D","",""],KeyE:["e","E","\xea","\xca"],KeyF:["f","F","","\xb7"],KeyG:["g","G","",""],KeyH:["h","H","\xcc","\xce"],KeyI:["i","I","\xee","\xef"],KeyJ:["j","J","\xcf","\xcd"],KeyK:["k","K","\xc8","\xcb"],KeyL:["l","L","\xac","|"],KeyM:[",","?","","\xbf"],KeyN:["n","N","~",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","\xe6","\xc6"],KeyR:["r","R","\xae",""],KeyS:["s","S","\xd2",""],KeyT:["t","T","",""],KeyU:["u","U","\xba","\xaa"],KeyV:["v","V","",""],KeyW:["z","Z","\xc2","\xc5"],KeyX:["x","X","",""],KeyY:["y","Y","\xda",""],KeyZ:["w","W","",""],Digit1:["&","1","","\xb4"],Digit2:["\xe9","2","\xeb",""],Digit3:['"',"3","",""],Digit4:["'","4","",""],Digit5:["(","5","{","["],Digit6:["\xa7","6","\xb6","\xe5"],Digit7:["\xe8","7","\xab","\xbb"],Digit8:["!","8","\xa1","\xdb"],Digit9:["\xe7","9","\xc7","\xc1"],Digit0:["\xe0","0","\xf8","\xd8"],Space:[" "," "," "," "],Minus:[")","\xb0","}","]"],Equal:["-","_","",""],BracketLeft:["^","\xa8","\xf4","\xd4"],BracketRight:["$","*","","\xa5"],Backslash:["`","\xa3","@","#"],Semicolon:["m","M","\xb5","\xd3"],Quote:["\xf9","%","\xd9",""],Backquote:["<",">","",""],Comma:[";",".","",""],Period:[":","/","\xf7","\\"],Slash:["=","+","","\xb1"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","",""],NumpadEqual:["=","=","=","="]}}),yV({id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","\xe5","\xc5"],KeyB:["b","B","\xdf",""],KeyC:["c","C","\xa9"," "],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H",""," "],KeyI:["i","I"," "," "],KeyJ:["j","J","\xb6","\xaf"],KeyK:["k","K","\xa7",""],KeyL:["l","L"," ",""],KeyM:["m","M","\xb5",""],KeyN:["n","N"," ",""],KeyO:["o","O","\xf8","\xd8"],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","\xae"," "],KeyS:["s","S",""," "],KeyT:["t","T","",""],KeyU:["u","U"," "," "],KeyV:["v","V","",""],KeyW:["w","W","\xe6","\xc6"],KeyX:["x","X","",""],KeyY:["y","Y","\xa5"," "],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","\xb7","#",""],Digit4:["4","$","\xa2","\xa3"],Digit5:["5","%","",""],Digit6:["6","&","\xac"," "],Digit7:["7","/","\xf7",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," "," "," "],Minus:["'","?","\xb4","\xb8"],Equal:["\xa1","\xbf","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]","\xb1"],Backslash:["\xe7","\xc7","}","\xbb"],Semicolon:["\xf1","\xd1","~",""],Quote:["\xb4","\xa8","{","\xab"],Backquote:["<",">","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["\xba","\xaa","\\","\xb0"]}}),yV({id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","\xb7","#",""],Digit4:["4","$","~",""],Digit5:["5","%","",""],Digit6:["6","&","\xac",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["\xa1","\xbf","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["\xe7","\xc7","}",""],Semicolon:["\xf1","\xd1","",""],Quote:["\xb4","\xa8","{",""],Backquote:["\xba","\xaa","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}}),yV({id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","\xe6","\xc6"],KeyB:["b","B","",""],KeyC:["c","C","\xa2","\xa9"],KeyD:["d","D","\xf0","\xd0"],KeyE:["e","E","","\xa2"],KeyF:["f","F","","\xaa"],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","","&"],KeyL:["l","L","",""],KeyM:["m","M","\xb5","\xba"],KeyN:["n","N","n","N"],KeyO:["o","O","\xf8","\xd8"],KeyP:["p","P","\xfe","\xde"],KeyQ:["q","Q","@",""],KeyR:["r","R","\xb6","\xae"],KeyS:["s","S","\xdf","\xa7"],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","\xbb",">"],KeyY:["y","Y","","\xa5"],KeyZ:["z","Z","\xab","<"],Digit1:["1","!","|","\xa1"],Digit2:["2",'"',"@",""],Digit3:["3","\xb7","#","\xa3"],Digit4:["4","$","~","$"],Digit5:["5","%","\xbd",""],Digit6:["6","&","\xac",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]","\xb1"],Digit0:["0","=","}","\xb0"],Enter:["\r","\r","\r","\r"],Escape:["\x1b","\x1b","\x1b","\x1b"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["'","?","\\","\xbf"],Equal:["\xa1","\xbf","","~"],BracketLeft:["","","[",""],BracketRight:["+","*","]",""],Backslash:["\xe7","\xc7","}",""],Semicolon:["\xf1","\xd1","~",""],Quote:["","","{","{"],Backquote:["\xba","\xaa","\\","\\"],Comma:[",",";","","\xd7"],Period:[".",":","\xb7","\xf7"],Slash:["-","_","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","\xa6"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}}),yV({id:"linux.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"linux",score:0,mapping:{KeyA:["q","Q","@",""],KeyB:["b","B","",""],KeyC:["c","C","\xa2","\xa9"],KeyD:["d","D","\xf0","\xd0"],KeyE:["e","E","","\xa2"],KeyF:["f","F","","\xaa"],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","","&"],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","n","N"],KeyO:["o","O","\xf8","\xd8"],KeyP:["p","P","\xfe","\xde"],KeyQ:["a","A","\xe6","\xc6"],KeyR:["r","R","\xb6","\xae"],KeyS:["s","S","\xdf","\xa7"],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","\xab","<"],KeyX:["x","X","\xbb",">"],KeyY:["y","Y","","\xa5"],KeyZ:["w","W","",""],Digit1:["&","1","\xb9","\xa1"],Digit2:["\xe9","2","~",""],Digit3:['"',"3","#","\xa3"],Digit4:["'","4","{","$"],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["\xe8","7","`",""],Digit8:["_","8","\\",""],Digit9:["\xe7","9","^","\xb1"],Digit0:["\xe0","0","@","\xb0"],Enter:["\r","\r","\r","\r"],Escape:["\x1b","\x1b","\x1b","\x1b"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:[")","\xb0","]","\xbf"],Equal:["=","+","}",""],BracketLeft:["","","",""],BracketRight:["$","\xa3","\xa4",""],Backslash:["*","\xb5","",""],Semicolon:["m","M","\xb5","\xba"],Quote:["\xf9","%","",""],Backquote:["\xb2","~","\xac","\xac"],Comma:[";",".","","\xd7"],Period:[":","/","\xb7","\xf7"],Slash:["!","\xa7","",""],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","\xa6"]}}),yV({id:"windows.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["\xe9","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["\xe8","7","`",""],Digit8:["_","8","\\",""],Digit9:["\xe7","9","^",""],Digit0:["\xe0","0","@",""],Space:[" "," ","",""],Minus:[")","\xb0","]",""],Equal:["=","+","}",""],BracketLeft:["^","\xa8","",""],BracketRight:["$","\xa3","\xa4",""],Backslash:["*","\xb5","",""],Semicolon:["m","M","",""],Quote:["\xf9","%","",""],Backquote:["\xb2","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","\xa7","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}}),yV({id:"windows.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","\xb5",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"\xb2",""],Digit3:["3","\xa7","\xb3",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Space:[" "," ","",""],Minus:["\xdf","?","\\",""],Equal:["\xb4","`","",""],BracketLeft:["\xfc","\xdc","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["\xf6","\xd6","",""],Quote:["\xe4","\xc4","",""],Backquote:["^","\xb0","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","|",""]}}),yV({id:"apple.german",locale:"de",displayName:"German",virtualLayout:"qwertz",platform:"apple",score:0,mapping:{KeyA:["a","A","\xe5","\xc5"],KeyB:["b","B","",""],KeyC:["c","C","\xe7","\xc7"],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","","\xcf"],KeyG:["g","G","\xa9","\xcc"],KeyH:["h","H","\xaa","\xd3"],KeyI:["i","I","","\xdb"],KeyJ:["j","J","\xba",""],KeyK:["k","K","",""],KeyL:["l","L","@",""],KeyM:["m","M","\xb5",""],KeyN:["n","N","~",""],KeyO:["o","O","\xf8","\xd8"],KeyP:["p","P","",""],KeyQ:["q","Q","\xab","\xbb"],KeyR:["r","R","\xae","\xb8"],KeyS:["s","S","","\xcd"],KeyT:["t","T","",""],KeyU:["u","U","\xa8","\xc1"],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","","\xd9"],KeyY:["z","Z","",""],KeyZ:["y","Y","\xa5",""],Digit1:["1","!","\xa1","\xac"],Digit2:["2",'"',"",""],Digit3:["3","\xa7","\xb6","#"],Digit4:["4","$","\xa2","\xa3"],Digit5:["5","%","[",""],Digit6:["6","&","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{",""],Digit9:["9",")","}","\xb7"],Digit0:["0","=","","\xaf"],Space:[" "," "," "," "],Minus:["\xdf","?","\xbf",""],Equal:["\xb4","`","'",""],BracketLeft:["\xfc","\xdc","","\xb0"],BracketRight:["+","*","\xb1",""],Backslash:["#","'","",""],Semicolon:["\xf6","\xd6","",""],Quote:["\xe4","\xc4","\xe6","\xc6"],Backquote:["<",">","",""],Comma:[",",";","",""],Period:[".",":","","\xf7"],Slash:["-","_","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","\xb0","",""],NumpadEqual:["=","=","=","="]}}),yV({id:"dvorak",locale:"en",displayName:"Dvorak",virtualLayout:"dvorak",platform:"",score:0,mapping:{KeyA:["a","A","\xe5","\xc5"],KeyB:["x","X","",""],KeyC:["j","J","","\xd4"],KeyD:["e","E","\xb4","\xb4"],KeyE:[".",">","",""],KeyF:["u","U","\xa8","\xa8"],KeyG:["i","I","",""],KeyH:["d","D","","\xce"],KeyI:["c","C","\xe7","\xc7"],KeyJ:["h","H","","\xd3"],KeyK:["t","T","",""],KeyL:["n","N","",""],KeyM:["m","M","\xb5","\xc2"],KeyN:["b","B","",""],KeyO:["r","R","\xae",""],KeyP:["l","L","\xac","\xd2"],KeyQ:["'",'"',"\xe6","\xc6"],KeyR:["p","P","",""],KeyS:["o","O","\xf8","\xd8"],KeyT:["y","Y","\xa5","\xc1"],KeyU:["g","G","\xa9",""],KeyV:["k","K","",""],KeyW:[",","<","","\xaf"],KeyX:["q","Q","",""],KeyY:["f","F","","\xcf"],KeyZ:[";",":","","\xda"],Digit1:["1","!","\xa1",""],Digit2:["2","@","",""],Digit3:["3","#","\xa3",""],Digit4:["4","$","\xa2",""],Digit5:["5","%","",""],Digit6:["6","^","\xa7",""],Digit7:["7","&","\xb6",""],Digit8:["8","*","","\xb0"],Digit9:["9","(","\xaa","\xb7"],Digit0:["0",")","\xba",""],Space:[" "," "," "," "],Minus:["[","{","",""],Equal:["]","}","",""],BracketLeft:["/","?","\xf7","\xbf"],BracketRight:["=","+","","\xb1"],Backslash:["\\","|","\xab","\xbb"],Semicolon:["s","S","\xdf","\xcd"],Quote:["-","_","",""],Backquote:["`","~","`","`"],Comma:["w","W","",""],Period:["v","V","",""],Slash:["z","Z","","\xb8"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["\xa7","\xb1","\xa7","\xb1"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}});var y$=`/* The element that display info while in latex mode */
#mathlive-popover-panel {
  background-color: rgba(97, 97, 97);
  color: #fff;
  text-align: center;
  border-radius: 8px;
  position: fixed;
  z-index: 1;
  display: none;
  flex-direction: column;
  justify-content: center;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
}
#mathlive-popover-panel.top-tip::after {
  content: '';
  position: absolute;
  top: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-bottom: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-popover-panel.bottom-tip::after {
  content: '';
  position: absolute;
  bottom: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-top: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-popover-panel.is-animated {
  transition: all 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  animation: ML__fade-in cubic-bezier(0, 0, 0.2, 1) 0.15s;
}
#mathlive-popover-panel.is-visible {
  display: flex;
}
@keyframes ML__fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
/* The wrapper class for the entire content of the popover panel */
#mathlive-popover-panel ul {
  display: flex;
  flex-flow: column;
  list-style: none;
  margin: 0;
  padding: 0;
  align-items: flex-start;
  max-height: 400px;
  overflow-y: auto;
}
#mathlive-popover-panel li {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  margin: 8px;
  padding: 8px;
  width: calc(100% - 16px - 16px);
  column-gap: 1em;
  border-radius: 8px;
  cursor: pointer;
  /* Since the content can be clicked on, provide feedback on hover */
}
#mathlive-popover-panel li a {
  color: #5ea6fd;
  padding-top: 0.3em;
  margin-top: 0.4em;
  display: block;
}
#mathlive-popover-panel li a:hover {
  color: #5ea6fd;
  text-decoration: underline;
}
#mathlive-popover-panel li:hover,
#mathlive-popover-panel li.is-pressed,
#mathlive-popover-panel li.is-active {
  background: rgba(255, 255, 255, 0.1);
}
/* The command inside a popover (inside a #mathlive-popover-panel) */
.ML__popover__command {
  font-size: 1.6rem;
  font-family: KaTeX_Main;
}
.ML__popover__current {
  background: #5ea6fd;
  color: #fff;
}
.ML__popover__latex {
  font-family: 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  align-self: center;
}
/* The keyboard shortcuts for a symbol as displayed in the popover */
.ML__popover__keybinding {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 0.8em;
  opacity: 0.7;
}
/* Style for the character that joins the modifiers of a keyboard shortcut 
(usually a "+" sign)*/
.ML__shortcut-join {
  opacity: 0.5;
}
`,yZ=`.ML__sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  clip-path: inset(50%);
  white-space: nowrap;
  border: 0;
}
.ML__is-inline {
  display: inline-block;
}
.ML__base {
  visibility: inherit;
  display: inline-block;
  position: relative;
  cursor: text;
  padding: 0;
  margin: 0;
  box-sizing: content-box;
  border: 0;
  outline: 0;
  vertical-align: baseline;
  font-weight: inherit;
  font-family: inherit;
  font-style: inherit;
  text-decoration: none;
  width: min-content;
}
.ML__strut,
.ML__strut--bottom {
  display: inline-block;
  min-height: 0.5em;
}
.ML__small-delim {
  font-family: KaTeX_Main;
}
/* Text mode */
.ML__text {
  font-family: var(--text-font-family, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif);
  white-space: pre;
}
/* Use cmr for 'math upright' */
.ML__cmr {
  font-family: KaTeX_Main;
  font-style: normal;
}
.ML__mathit {
  font-family: KaTeX_Math;
  /* The KaTeX_Math font is italic by default, so the font-style below is only 
     useful when a fallback font is used
  */
  font-style: italic;
}
.ML__mathbf {
  font-family: KaTeX_Main;
  font-weight: bold;
}
/* Lowercase greek symbols should stick to math font when \\mathbf is applied 
   to match TeX idiosyncratic behavior */
.lcGreek.ML__mathbf {
  font-family: KaTeX_Math;
  font-weight: normal;
}
.ML__mathbfit {
  font-family: KaTeX_Math;
  font-weight: bold;
  font-style: italic;
}
.ML__ams {
  font-family: KaTeX_AMS;
}
/* Blackboard */
.ML__bb {
  font-family: KaTeX_AMS;
}
.ML__cal {
  font-family: KaTeX_Caligraphic;
}
.ML__frak {
  font-family: KaTeX_Fraktur;
}
.ML__tt {
  font-family: KaTeX_Typewriter;
}
.ML__script {
  font-family: KaTeX_Script;
}
.ML__sans {
  font-family: KaTeX_SansSerif;
}
.ML__series_ul {
  font-weight: 100;
}
.ML__series_el {
  font-weight: 100;
}
.ML__series_l {
  font-weight: 200;
}
.ML__series_sl {
  font-weight: 300;
}
.ML__series_sb {
  font-weight: 500;
}
.ML__bold,
.ML__boldsymbol {
  font-weight: 700;
}
.ML__series_eb {
  font-weight: 800;
}
.ML__series_ub {
  font-weight: 900;
}
.ML__series_uc {
  font-stretch: ultra-condensed;
}
.ML__series_ec {
  font-stretch: extra-condensed;
}
.ML__series_c {
  font-stretch: condensed;
}
.ML__series_sc {
  font-stretch: semi-condensed;
}
.ML__series_sx {
  font-stretch: semi-expanded;
}
.ML__series_x {
  font-stretch: expanded;
}
.ML__series_ex {
  font-stretch: extra-expanded;
}
.ML__series_ux {
  font-stretch: ultra-expanded;
}
.ML__it {
  font-style: italic;
}
.ML__shape_ol {
  -webkit-text-stroke: 1px black;
  text-stroke: 1px black;
  color: transparent;
}
.ML__shape_sc {
  font-variant: small-caps;
}
.ML__shape_sl {
  font-style: oblique;
}
/* First level emphasis */
.ML__emph {
  color: #bc2612;
}
/* Second level emphasis */
.ML__emph .ML__emph {
  color: #0c7f99;
}
.ML__highlight {
  color: #007cb2;
  background: #edd1b0;
}
.ML__center {
  text-align: center;
}
.ML__label_padding {
  padding: 0 0.5em;
}
.ML__frac-line {
  width: 100%;
  min-height: 1px;
}
.ML__frac-line:after {
  content: '';
  display: block;
  margin-top: calc(max(-1px, -0.04em));
  min-height: calc(max(1px, 0.04em));
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  /* There's a bug since Chrome 62 where 
      sub-pixel border lines don't draw at some zoom 
      levels (110%, 90%). 
      Setting the min-height used to work around it, but that workaround
      broke in Chrome 84 or so.
      Setting the background (and the min-height) seems to work for now.
      */
  background: currentColor;
  box-sizing: content-box;
  /* Vuetify sets the box-sizing to inherit 
            causes the fraction line to not draw at all sizes (see #26) */
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
}
.ML__sqrt {
  display: inline-block;
}
.ML__sqrt-sign {
  display: inline-block;
  font-family: KaTeX_Main;
  position: relative;
}
.ML__sqrt-line {
  display: inline-block;
  height: calc(max(1px, 0.04em));
  width: 100%;
}
.ML__sqrt-line:before {
  content: '';
  display: block;
  margin-top: calc(max(-1px, -0.04em));
  min-height: calc(max(1px, 0.04em));
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  background: currentColor;
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
}
.ML__sqrt-line:after {
  border-bottom-width: 1px;
  content: ' ';
  display: block;
  margin-top: -0.1em;
}
.ML__sqrt-index {
  margin-left: 0.27777778em;
  margin-right: -0.55555556em;
}
.ML__delim-size1 {
  font-family: KaTeX_Size1;
}
.ML__delim-size2 {
  font-family: KaTeX_Size2;
}
.ML__delim-size3 {
  font-family: KaTeX_Size3;
}
.ML__delim-size4 {
  font-family: KaTeX_Size4;
}
.ML__delim-mult .delim-size1 > span {
  font-family: KaTeX_Size1;
}
.ML__delim-mult .delim-size4 > span {
  font-family: KaTeX_Size4;
}
.ML__accent-body > span {
  font-family: KaTeX_Main;
  width: 0;
}
.ML__accent-vec > span {
  position: relative;
  left: 0.24em;
}
.ML__mathlive {
  display: inline-block;
  direction: ltr;
  text-align: left;
  text-indent: 0;
  text-rendering: auto;
  font-family: KaTeX_Main, 'Times New Roman', serif;
  font-style: normal;
  font-size-adjust: none;
  font-stretch: normal;
  font-variant-caps: normal;
  letter-spacing: normal;
  line-height: 1.2;
  word-wrap: normal;
  word-spacing: normal;
  white-space: nowrap;
  text-shadow: none;
  -webkit-user-select: none;
  user-select: none;
  width: min-content;
}
.ML__mathlive .style-wrap {
  position: relative;
}
.ML__mathlive .mfrac,
.ML__mathlive .left-right {
  display: inline-block;
}
.ML__mathlive .vlist-t {
  display: inline-table;
  table-layout: fixed;
  border-collapse: collapse;
}
.ML__mathlive .vlist-r {
  display: table-row;
}
.ML__mathlive .vlist {
  display: table-cell;
  vertical-align: bottom;
  position: relative;
}
.ML__mathlive .vlist > span {
  display: block;
  height: 0;
  position: relative;
}
.ML__mathlive .vlist > span > span {
  display: inline-block;
}
.ML__mathlive .vlist > span > .pstrut {
  overflow: hidden;
  width: 0;
}
.ML__mathlive .vlist-t2 {
  margin-right: -2px;
}
.ML__mathlive .vlist-s {
  display: table-cell;
  vertical-align: bottom;
  font-size: 1px;
  width: 2px;
  min-width: 2px;
}
.ML__mathlive .msubsup {
  text-align: left;
}
.ML__mathlive .negativethinspace {
  display: inline-block;
  margin-left: -0.16667em;
  height: 0.71em;
}
.ML__mathlive .thinspace {
  display: inline-block;
  width: 0.16667em;
  height: 0.71em;
}
.ML__mathlive .mediumspace {
  display: inline-block;
  width: 0.22222em;
  height: 0.71em;
}
.ML__mathlive .thickspace {
  display: inline-block;
  width: 0.27778em;
  height: 0.71em;
}
.ML__mathlive .enspace {
  display: inline-block;
  width: 0.5em;
  height: 0.71em;
}
.ML__mathlive .quad {
  display: inline-block;
  width: 1em;
  height: 0.71em;
}
.ML__mathlive .qquad {
  display: inline-block;
  width: 2em;
  height: 0.71em;
}
.ML__mathlive .llap,
.ML__mathlive .rlap {
  width: 0;
  position: relative;
  display: inline-block;
}
.ML__mathlive .llap > .inner,
.ML__mathlive .rlap > .inner {
  position: absolute;
}
.ML__mathlive .llap > .fix,
.ML__mathlive .rlap > .fix {
  display: inline-block;
}
.ML__mathlive .llap > .inner {
  right: 0;
}
.ML__mathlive .rlap > .inner {
  left: 0;
}
.ML__mathlive .rule {
  display: inline-block;
  border: solid 0;
  position: relative;
  box-sizing: border-box;
}
.ML__mathlive .overline .overline-line,
.ML__mathlive .underline .underline-line {
  width: 100%;
}
.ML__mathlive .overline .overline-line:before,
.ML__mathlive .underline .underline-line:before {
  border-bottom-style: solid;
  border-bottom-width: calc(max(1px, 0.04em));
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  content: '';
  display: block;
}
.ML__mathlive .overline .overline-line:after,
.ML__mathlive .underline .underline-line:after {
  border-bottom-style: solid;
  border-bottom-width: calc(max(1px, 0.04em));
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  content: '';
  display: block;
  margin-top: -1px;
}
.ML__mathlive .stretchy {
  display: block;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__mathlive .stretchy:before,
.ML__mathlive .stretchy:after {
  content: '';
}
.ML__mathlive .stretchy svg {
  display: block;
  position: absolute;
  width: 100%;
  height: inherit;
  fill: currentColor;
  stroke: currentColor;
  fill-rule: nonzero;
  fill-opacity: 1;
  stroke-width: 1;
  stroke-linecap: butt;
  stroke-linejoin: miter;
  stroke-miterlimit: 4;
  stroke-dasharray: none;
  stroke-dashoffset: 0;
  stroke-opacity: 1;
}
.ML__mathlive .slice-1-of-2 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__mathlive .slice-2-of-2 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__mathlive .slice-1-of-3 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__mathlive .slice-2-of-3 {
  display: inline-flex;
  position: absolute;
  left: 25%;
  width: 50%;
  overflow: hidden;
}
.ML__mathlive .slice-3-of-3 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__mathlive .slice-1-of-1 {
  display: inline-flex;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__mathlive .nulldelimiter {
  width: 0.12em;
  display: inline-block;
}
.ML__mathlive .op-group {
  display: inline-block;
}
.ML__mathlive .op-symbol {
  position: relative;
}
.ML__mathlive .op-symbol.small-op {
  font-family: KaTeX_Size1;
}
.ML__mathlive .op-symbol.large-op {
  font-family: KaTeX_Size2;
}
.ML__mathlive .accent > .vlist > span {
  text-align: center;
}
.ML__mathlive .mtable .vertical-separator {
  display: inline-block;
  min-width: 1px;
  box-sizing: border-box;
}
.ML__mathlive .mtable .arraycolsep {
  display: inline-block;
}
.ML__mathlive .mtable .col-align-m > .vlist-t {
  text-align: center;
}
.ML__mathlive .mtable .col-align-c > .vlist-t {
  text-align: center;
}
.ML__mathlive .mtable .col-align-l > .vlist-t {
  text-align: left;
}
.ML__mathlive .mtable .col-align-r > .vlist-t {
  text-align: right;
}
.ML__error {
  display: inline-block;
  background-image: radial-gradient(ellipse at center, hsl(341, 100%, 40%), rgba(0, 0, 0, 0) 70%);
  background-color: hsla(341, 100%, 40%, 0.1);
  background-repeat: repeat-x;
  background-size: 3px 3px;
  padding-bottom: 3px;
  background-position: 0 100%;
}
.ML__error > .ML__error {
  background: transparent;
  padding: 0;
}
.ML__composition {
  background: #fff1c2;
  color: black;
  text-decoration: underline var(--caret-color-computed, var(--ML__caret-color));
}
.ML__placeholder {
  color: var(--placeholder-color, var(--ML__placeholder-color));
  opacity: var(--placeholder-opacity, 0.4);
  padding-left: 0.4ex;
  padding-right: 0.4ex;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
}
.ML__notation {
  position: absolute;
  box-sizing: border-box;
}
.ML__container {
  min-height: auto !important;
}
.ML__prompt {
  border-radius: 2px;
}
.ML__editablePromptBox {
  outline: 1px solid #acacac;
  border-radius: 2px;
  z-index: -1;
}
.ML__focusedPromptBox {
  outline: highlight auto 1px;
}
.ML__lockedPromptBox {
  background-color: rgba(142, 142, 141, 0.4);
  z-index: -1;
}
.ML__correctPromptBox {
  outline: 1px solid var(--correct-color, var(--ML__correct-color));
  box-shadow: 0 0 5px var(--correct-color, var(--ML__correct-color));
}
.ML__incorrectPromptBox {
  outline: 1px solid var(--incorrect-color, var(--ML__incorrect-color));
  box-shadow: 0 0 5px var(--incorrect-color, var(--ML__incorrect-color));
}
`;function yj(e){var n;return{value:e.model.getValue(),selectionIsCollapsed:e.model.selectionIsCollapsed,canUndo:e.canUndo(),canRedo:e.canRedo(),style:e.selectionStyle,array:e.model.parentEnvironment,boundingRect:null==(n=e.field)?void 0:n.getBoundingClientRect(),mode:e.mode}}function yW(e){var n;"function"!=typeof(null==(n=e.listeners)?void 0:n.onSelectionDidChange)||e.suppressChangeNotifications||(e.suppressChangeNotifications=!0,e.listeners.onSelectionDidChange(e),e.suppressChangeNotifications=!1),window.mathVirtualKeyboard.update(yj(e.mathfield))}function yq(e,n={}){var r;if(e.suppressChangeNotifications||!e.mathfield.host)return!0;e.suppressChangeNotifications=!0;let i=e.mathfield.host.dispatchEvent(new InputEvent("beforeinput",pr(pn({},n),{data:n.data?n.data:null!=(r=n.inputType)?r:"",cancelable:!0,bubbles:!0,composed:!0})));return e.suppressChangeNotifications=!1,i}function yY(e,n){var r;window.mathVirtualKeyboard.update(yj(e.mathfield)),e.suppressChangeNotifications||!e.mathfield.host||(e.suppressChangeNotifications=!0,e.mathfield.host.dispatchEvent(new InputEvent("input",pr(pn({},n),{data:n.data?n.data:null!=(r=n.inputType)?r:"",bubbles:!0,composed:!0}))),e.suppressChangeNotifications=!1)}function yX(e){var n,r;let i=e.atoms.find(e=>e instanceof gj);return i&&null!=(r=null==(n=i.body)?void 0:n.filter(e=>e instanceof gZ))?r:[]}function yJ(e,n){var r;let i=0,a=!1,o=Number.isFinite(null==n?void 0:n.before)?null!=(r=null==n?void 0:n.before)?r:0:e.lastOffset;for(;i<=o&&!a;){let n=e.at(i);(a=n instanceof gZ&&n.isSuggestion)||i++}if(!a)return[void 0,void 0];let l=i,s=!1;for(;l<=o&&!s;){let n=e.at(l);(s=!(n instanceof gZ&&n.isSuggestion))||l++}return[i-1,l-1]}function yQ(e){let n=yX(e.model).filter(e=>e.isSuggestion);if(0!==n.length)for(let r of(e.model.position=e.model.offsetOf(n[0].leftSibling),n))r.parent.removeChild(r)}function y0(e,n){var r;let{model:i}=e;for(let n of(yQ(e),yX(i)))n.isError=!1;if(!i.selectionIsCollapsed||"off"===e.options.popoverPolicy){y8(e);return}let a=[],o=i.at(i.position);for(;o&&o instanceof gZ&&/^[a-zA-Z\*]$/.test(o.value);)o=o.leftSibling;if(o&&o instanceof gZ&&"\\"===o.value)for(a.push(o),o=o.rightSibling;o&&o instanceof gZ&&/^[a-zA-Z\*]$/.test(o.value);)a.push(o),o=o.rightSibling;let l=a.map(e=>e.value).join(""),s=function(e,n){var r,i;if(0===n.length||"\\"===n||!n.startsWith("\\"))return[];let a=[];for(let e in fx)e.startsWith(n)&&!fx[e].infix&&a.push({match:e,frequency:null!=(r=fx[e].frequency)?r:0});for(let e in fv)e.startsWith(n)&&a.push({match:e,frequency:null!=(i=fv[e].frequency)?i:0});let o=n.substring(1);for(let n of Object.keys(e.options.macros))n.startsWith(o)&&a.push({match:"\\"+n,frequency:0});return a.sort((e,n)=>{var r,i;return e.frequency===n.frequency?e.match.length===n.match.length?e.match<n.match?-1:1:e.match.length-n.match.length:(null!=(r=n.frequency)?r:0)-(null!=(i=e.frequency)?i:0)}),a.map(e=>e.match)}(e,l);if(0===s.length){if(/^\\[a-zA-Z\*]+$/.test(l))for(let e of a)e.isError=!0;y8(e);return}let u=null!=(r=null==n?void 0:n.atIndex)?r:0;e.suggestionIndex=u<0?s.length-1:u%s.length;let c=s[e.suggestionIndex];if(c!==l){let n=a[a.length-1];n.parent.addChildrenAfter([...c.slice(l.length-c.length)].map(n=>new gZ(n,e,{isSuggestion:!0})),n),bs(e,{interactive:!0})}(function(e,n){var r,i;if(0===n.length){y8(e);return}let a="";for(let[r,i]of n.entries()){let n=function(e,n){let r=new fX("root",e);r.body=gv(n,e,{parseMode:"math"});let i=new fj({registers:e.registers},{fontSize:5},"displaystyle");return mi(mt(mr(new me(r.render(i),{classes:"ML__base"}),i)),{classes:"ML__mathlive"}).toMarkup()}(e,i),o=(function(e,n){let r=[];if("string"==typeof n){let e=yd[n];po(e)?r=e.slice():e&&r.push(e)}let i=RegExp("^"+yF(n).replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(let n of e)i.test(yF(n.command))&&r.push(n.key);return r.map(yH)})(e.keybindings,i).join("<br>");a+=`<li role="button" data-command="${i}" ${r===e.suggestionIndex?"class=ML__popover__current":""}><span class="ML__popover__latex">${i}</span><span class="ML__popover__command">${n}</span>`,o&&(a+=`<span class="ML__popover__keybinding">${o}</span>`),a+="</li>"}e.popover=(i=`<ul>${a}</ul>`,e.popover||(e.popover=ym("mathlive-popover-panel"),void 0===y3&&(y3=yI(y$).toString(36)),y4=yL(null,y$,y3),y6=yL(null,yZ,yI(yZ).toString(36)),e.popover.addEventListener("pointerdown",e=>e.preventDefault()),e.popover.addEventListener("click",n=>{let r=n.target;for(;r&&!r.dataset.command;)r=r.parentElement;r&&(y2(e,"reject"),yu.insert("math",e.model,r.dataset.command,{selectionMode:"placeholder",format:"latex"}),e.dirty=!0,e.focus())})),e.popover.innerHTML=window.MathfieldElement.createHTML(i),e.popover),e.popoverVisible&&(null==(r=e.popover.querySelector(".ML__popover__current"))||r.scrollIntoView({block:"nearest",inline:"nearest"})),setTimeout(()=>{var n;e.popover&&!e.popoverVisible&&(e.popover.classList.add("is-visible"),e.popoverVisible=!0,y5(e),null==(n=e.popover.querySelector(".ML__popover__current"))||n.scrollIntoView({block:"nearest",inline:"nearest"}))},32)})(e,s)}function y1(e){let[n,r]=yJ(e,{before:e.position});if(void 0===n||void 0===r)return!1;let i=!1;return e.getAtoms([n,r]).forEach(e=>{e.isSuggestion&&(e.isSuggestion=!1,i=!0)}),i}function y2(e,n="accept",r){var i,a;y8(e);let o=e.model.atoms.find(e=>e instanceof gj);if(!o)return!1;if("accept-suggestion"===n){let n=yX(e.model).filter(e=>e.isSuggestion);if(0===n.length)return!1;for(let e of n)e.isSuggestion=!1;return e.model.position=e.model.offsetOf(n[n.length-1]),!0}let l=yX(e.model).filter(e=>!e.isSuggestion).map(e=>e.value).join(""),s=o.leftSibling;return o.parent.removeChild(o),e.model.position=e.model.offsetOf(s),e.mode=null!=(i=null==r?void 0:r.mode)?i:"math","reject"===n||(yu.insert("math",e.model,l,{selectionMode:null!=(a=null==r?void 0:r.selectItem)&&a?"item":"placeholder",format:"latex"}),e.snapshot(),e.model.announce("replacement")),!0}new class extends yu{constructor(){super("latex")}createAtom(e,n,r){return new gZ(e,n)}onPaste(e,n){var r;if(!n)return!1;let i="string"==typeof n?n:null!=(r=n.getData("text/x-latex"))?r:n.getData("text/plain");return!!(i&&yq(e.model,{inputType:"insertFromPaste",data:i}))&&(e.snapshot(),this.insert(e.model,i)&&(yY(e.model,{inputType:"insertFromPaste"}),bo(e)),!0)}insert(e,n,r){if(!yq(e,{data:n,inputType:"insertText"}))return!1;r||(r={}),r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder");let{suppressChangeNotifications:i}=e;r.suppressChangeNotifications&&(e.suppressChangeNotifications=!0);let a=e.suppressChangeNotifications;e.suppressChangeNotifications=!0,"replaceSelection"!==r.insertionMode||e.selectionIsCollapsed?"replaceAll"===r.insertionMode?(e.root.setChildren([],"body"),e.position=0):"insertBefore"===r.insertionMode?e.collapseSelection("backward"):"insertAfter"===r.insertionMode&&e.collapseSelection("forward"):e.deleteAtoms(g7(e.selection));let o=[];for(let r of n)fC.test(r)&&o.push(new gZ(r,e.mathfield));let l=e.at(e.position);if(l instanceof gj&&(l=l.lastChild),!(l.parent instanceof gj)){let n=new gj("",e.mathfield);l.parent.addChildAfter(n,l),l=n.firstChild}let s=l.parent.addChildrenAfter(o,l);return e.suppressChangeNotifications=a,"before"===r.selectionMode||("item"===r.selectionMode?e.setSelection(e.anchor,e.offsetOf(s)):s&&(e.position=e.offsetOf(s))),yY(e,{data:n,inputType:"insertText"}),e.suppressChangeNotifications=i,!0}};var y3,y4=null,y6=null;function y5(e,n){var r;if(!e.element||e.element.mathfield!==e||!e.popover||!e.popoverVisible)return;if((null==(r=e.model.at(e.model.position))?void 0:r.type)!=="latex"){y8(e);return}if(null!=n&&n.deferred){setTimeout(()=>y5(e),32);return}let i=yy(e.field);if(!i)return;let a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=window.innerWidth-document.documentElement.clientWidth,s=window.innerHeight-document.documentElement.clientHeight,u=window.mathVirtualKeyboard.boundingRect.height;i.x+e.popover.offsetWidth/2>o-l?e.popover.style.left=`${o-e.popover.offsetWidth-l}px`:i.x-e.popover.offsetWidth/2<0?e.popover.style.left="0":e.popover.style.left=`${i.x-e.popover.offsetWidth/2}px`;let c=i.y-i.height;a-s-u-i.y<c?(e.popover.classList.add("ML__popover--reverse-direction"),e.popover.classList.remove("top-tip"),e.popover.classList.add("bottom-tip"),e.popover.style.top=`${i.y-i.height-e.popover.offsetHeight-15}px`):(e.popover.classList.remove("ML__popover--reverse-direction"),e.popover.classList.add("top-tip"),e.popover.classList.remove("bottom-tip"),e.popover.style.top=`${i.y+15}px`)}function y8(e){e.suggestionIndex=0,e.popoverVisible=!1,e.popover&&(e.popover.classList.remove("is-visible"),e.popover.innerHTML="")}var y7,y9,be=null,bt=(null==(y9=null==(y7=null==globalThis?void 0:globalThis.document)?void 0:y7.currentScript)?void 0:y9.src)||function(){let e=String(Error().stack).replace(/^Error.*\n/,"").split(`
`);if(0===e.length)return console.error(`Can't use relative paths to specify assets location because the sourcefile location could not be determined (unexpected stack trace format "${Error().stack}").`),"";let n=e[1],r=n.match(/http.*\.ts[\?:]/);return r&&(n=e[2]),(r=n.match(/(https?:.*):[0-9]+:[0-9]+/))||(r=n.match(/at (.*(\.ts))[\?:]/))||(r=n.match(/at (.*(\.mjs|\.js))[\?:]/)),r?r[1]:(console.error(e),console.error(`Can't use relative paths to specify assets location because the source file location could not be determined (unexpected location "${n}").`),"")}();async function bn(e){if(/^(?:[a-z+]+:)?\/\//i.test(e))return new URL(e).href;if(null===be)try{let e=await fetch(bt,{method:"HEAD"});200===e.status&&(be=e.url)}catch(n){console.error(`Invalid URL "${e}" (relative to "${bt}")`)}return new URL(e,null!=be?be:bt).href}var br="not-loaded";async function bi(){return br="not-loaded",ba()}async function ba(){var e;if("not-loaded"===br){if(br="loading",null!=(e=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))&&e){br="ready";return}if(document.body.classList.remove("ML__fonts-did-not-load"),"fonts"in document){let e=Array.from(document.fonts).map(e=>e.family);if(["KaTeX_Main","KaTeX_Math","KaTeX_AMS","KaTeX_Caligraphic","KaTeX_Fraktur","KaTeX_SansSerif","KaTeX_Script","KaTeX_Typewriter","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4"].every(n=>e.includes(n))){br="ready";return}if(!window.MathfieldElement.fontsDirectory){br="not-loaded";return}let n=await bn(window.MathfieldElement.fontsDirectory);if(!n){document.body.classList.add("ML__fonts-did-not-load"),br="error";return}let r=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],["KaTeX_SansSerif-Regular",{style:"italic"}],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map(e=>(function(e,n,r={}){return new FontFace(e,`url(${n}.woff2) format('woff2')`,r)})(e[0].replace(/-[a-zA-Z]+$/,""),n+"/"+e[0],e[1]));try{(await Promise.all(r.map(e=>{try{return e.load()}catch(e){}}))).forEach(e=>document.fonts.add(e)),br="ready";return}catch(e){console.error(`MathLive 0.92.1: The math fonts could not be loaded from "${n}"`,{cause:e}),document.body.classList.add("ML__fonts-did-not-load")}br="error"}}}function bo(e,n){e.dirty||(e.dirty=!0,requestAnimationFrame(()=>{yg(e)&&e.dirty&&(e.atomBoundsCache=new Map,bs(e,n),e.atomBoundsCache=void 0)}))}function bl(e,n){var r,i;let a,{model:o}=e;for(let e of(o.root.caret="",o.root.isSelected=!1,o.root.containsCaret=!0,o.atoms))e.caret="",e.isSelected=!1,e.containsCaret=!1;let l=e.isSelectionEditable&&e.hasFocus();if(o.selectionIsCollapsed)o.at(o.position).caret=l?e.mode:"";else for(let e of o.getAtoms(o.selection,{includeChildren:!0}))e.isSelected=!0;if(l){let e=o.at(o.position).parent;for(;e;)e.containsCaret=!0,e=e.parent}return(r=null!=(r=n)?r:{},a=new fj({registers:e.registers,atomIdsSettings:{seed:r.forHighlighting?function(e){let n=0;for(let r=0;r<e.length;r++)n=31*n+e.charCodeAt(r)|0;return Math.abs(n)}(fX.serialize(e.model.root,{expandMacro:!1,defaultMode:e.options.defaultMode})):"random",groupNumbers:null!=(i=r.forHighlighting)&&i}},{fontSize:5,letterShapeStyle:e.options.letterShapeStyle},"inline-math"===e.options.defaultMode?"textstyle":"displaystyle"),mi(mr(e.model.root.render(a),a),{classes:e.hasEditablePrompts?"ML__mathlive ML__prompting":"ML__mathlive",attributes:{translate:"no","aria-hidden":"true"}})).toMarkup()}function bs(e,n){var r;if(!yg(e))return;null!=n||(n={});let i=null==(r=e.element)?void 0:r.querySelector("[part=virtual-keyboard-toggle]");i&&(i.style.display=e.hasEditableContent?"flex":"none");let a=e.field,o=e.isSelectionEditable&&e.hasFocus(),l=a.classList.contains("ML__focused");l&&!o?a.classList.remove("ML__focused"):!l&&o&&a.classList.add("ML__focused"),a.innerHTML=window.MathfieldElement.createHTML(bl(e,n)),e.fieldContent=a.getElementsByClassName("ML__mathlive")[0],bu(e,n.interactive),e.dirty=!1}function bu(e,n){let r=e.field;if(!r)return;for(let e of r.querySelectorAll(".ML__selection, .ML__contains-highlight"))e.remove();if(!e.hasFocus())return;null!=n&&n||"error"===br||"ready"===br||setTimeout(()=>{"ready"===br?bu(e):setTimeout(()=>bu(e),128)},32);let i=e.model,a=parseFloat(getComputedStyle(r).width),o=r.getBoundingClientRect().width/a;if(o=isNaN(o)?1:o,i.selectionIsCollapsed){y5(e,{deferred:!0});let n=i.at(i.position);for(;n&&!(n.containsCaret&&n.displayContainsHighlight);)n=n.parent;if(null!=n&&n.containsCaret&&n.displayContainsHighlight){let i=yb(e,yv(e,n));if(i){i.left/=o,i.right/=o,i.top/=o,i.bottom/=o;let e=document.createElement("div");e.classList.add("ML__contains-highlight"),e.style.position="absolute",e.style.left=`${i.left}px`,e.style.top=`${i.top}px`,e.style.width=`${Math.ceil(i.right-i.left)}px`,e.style.height=`${Math.ceil(i.bottom-i.top-1)}px`,r.insertBefore(e,r.childNodes[0])}}return}for(let n of function(e){let n=[];for(let r of e){let e=!1;for(let i of n)if(r.left===i.left&&r.right===i.right&&r.top===i.top&&r.bottom===i.bottom){e=!0;break}e||n.push(r)}for(let r of(e=n,n=[],e)){let i=0;for(let n of e)if(r.left>=n.left&&r.right<=n.right&&r.top>=n.top&&r.bottom<=n.bottom&&(i+=1)>1)break;1===i&&n.push(r)}return n}(y_(e,{excludeAtomsWithBackground:!0}))){n.left/=o,n.right/=o,n.top/=o,n.bottom/=o;let e=document.createElement("div");e.classList.add("ML__selection"),e.style.position="absolute",e.style.left=`${n.left}px`,e.style.top=`${n.top}px`,e.style.width=`${Math.ceil(n.right-n.left)}px`,e.style.height=`${Math.ceil(n.bottom-n.top-1)}px`,r.insertBefore(e,r.childNodes[0])}}function bc(e,n){for(let r of(n=null!=n?n:{target:"mathfield",canUndo:!1},bv||(bv={}),Object.keys(e)))bv[r],bv[r]=pr(pn({},n),{fn:e[r]})}function bd(e){var n;return null==(n=bv[(po(e)?e[0]:e).replace(/-\w/g,e=>e[1].toUpperCase())])?void 0:n.target}bc({performWithFeedback:(e,n)=>{var r;let i;return r=n,e.focus(),_d.keypressVibration&&ps()&&navigator.vibrate(3),"string"==typeof r?"moveToNextPlaceholder"===(r=r.replace(/-\w/g,e=>e[1].toUpperCase()))||"moveToPreviousPlaceholder"===r||"complete"===r?window.MathfieldElement.playSound("return"):"deleteBackward"===r||"deleteForward"===r||"deletePreviousWord"===r||"deleteNextWord"===r||"deleteToGroupStart"===r||"deleteToGroupEnd"===r||"deleteToMathFieldStart"===r||"deleteToMathFieldEnd"===r?window.MathfieldElement.playSound("delete"):window.MathfieldElement.playSound("keypress"):window.MathfieldElement.playSound("keypress"),i=e.executeCommand(r),e.scrollIntoView(),i}}),bc({complete:y2,nextSuggestion:function(e){return y0(e,{atIndex:e.suggestionIndex+1}),!1},previousSuggestion:function(e){return y0(e,{atIndex:e.suggestionIndex-1}),!1}},{target:"mathfield",category:"autocomplete"});var bh="mathlive#virtual-keyboard-message";function bp(e){var n;return"message"===e.type&&(null==(n=e.data)?void 0:n.type)===bh}var bm=class{constructor(){this.targetOrigin=window.origin,this.originValidator="none",window.addEventListener("message",this),this.sendMessage("proxy-created"),this.listeners={}}static get singleton(){return this._singleton||(this._singleton=new bm),this._singleton}set alphabeticLayout(e){this.sendMessage("update-setting",{alphabeticLayout:e})}set layouts(e){this.sendMessage("update-setting",{layouts:e})}set editToolbar(e){this.sendMessage("update-setting",{editToolbar:e})}set actionKeycap(e){this.sendMessage("update-setting",{actionKeycap:e})}set shiftKeycap(e){this.sendMessage("update-setting",{shiftKeycap:e})}set backspaceKeycap(e){this.sendMessage("update-setting",{backspaceKeycap:e})}set tabKeycap(e){this.sendMessage("update-setting",{tabKeycap:e})}set container(e){throw Error("Container inside an iframe cannot be changed")}show(e){this.sendMessage("show",e)}hide(e){this.sendMessage("hide",e)}get visible(){return this._boundingRect.height>0}set visible(e){e?this.show():this.hide()}get boundingRect(){return this._boundingRect}executeCommand(e){return this.sendMessage("execute-command",{command:e}),!0}updateToolbar(e){this.sendMessage("update-toolbar",e)}updateEnvironmemtPopover(e){this.sendMessage("update-setting")}update(e){this.sendMessage("update-setting",e)}connect(){this.sendMessage("connect")}disconnect(){this.sendMessage("disconnect")}addEventListener(e,n,r){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].has(n)||this.listeners[e].add(n)}dispatchEvent(e){return!this.listeners[e.type]||0===this.listeners[e.type].size||(this.listeners[e.type].forEach(n=>{"function"==typeof n?n(e):null==n||n.handleEvent(e)}),!e.defaultPrevented)}removeEventListener(e,n,r){this.listeners[e]&&this.listeners[e].delete(n)}handleEvent(e){if(bp(e)){if(!yx(e.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");this.handleMessage(e.data)}}handleMessage(e){let{action:n}=e;if("execute-command"===n){let{command:n}=e;"virtual-keyboard"===bd(n)&&this.executeCommand(n);return}if("synchronize-proxy"===n){e.boundingRect,this._boundingRect=e.boundingRect;return}if("geometry-changed"===n){e.boundingRect,this._boundingRect=e.boundingRect,this.dispatchEvent(new Event("geometrychange"));return}}sendMessage(e,n={}){if(!window.top)throw new DOMException("A frame does not have access to the top window and cant communicate with the keyboard. Review virtualKeyboardTargetOrigin and originValidator on mathfields embedded in an iframe","SecurityError");window.top.postMessage(pn({type:bh,action:e},n),this.targetOrigin)}},bf=`:where(:root) {
  --keyboard-height: 0;
  --keyboard-accent-color: #0c75d8;
  --keyboard-background: #cacfd7;
  --keyboard-border: #ddd;
  --keyboard-padding-horizontal: 0px;
  --keyboard-padding-top: 5px;
  --keyboard-padding-bottom: 0px;
  --keyboard-toolbar-text: #2c2e2f;
  --keyboard-toolbar-text-active: var(--keyboard-accent-color);
  --keyboard-toolbar-background: transparent;
  --keyboard-toolbar-background-hover: #eee;
  --keyboard-toolbar-background-selected: transparent;
  --keyboard-horizontal-rule: 1px solid #fff;
  --keycap-background: white;
  --keycap-background-hover: #f5f5f7;
  --keycap-background-active: white;
  --keycap-border: #e5e6e9;
  --keycap-border-bottom: #8d8f92;
  --keycap-text: #000;
  --keycap-text-active: #fff;
  --keycap-text-hover: #fff;
  --keycap-secondary-text: #333;
  --keycap-shift-text: var(--keyboard-accent-color);
  --keycap-secondary-background: #a0a9b8;
  --keycap-secondary-background-hover: #7d8795;
  --keycap-secondary-text: #060707;
  --keycap-secondary-border: #c5c9d0;
  --keycap-secondary-border-bottom: #989da6;
  --keycap-height: 60px;
  /* Keycap width (incl. margin) */
  --keycap-max-width: 100px;
  --keycap-gap: 8px;
  --keycap-font-size: clamp(16px, 4cqw, 24px);
  --keycap-small-font-size: calc(var(--keycap-font-size) * 0.8);
  --keycap-extra-small-font-size: calc(var(--keycap-font-size) / 1.42);
  --variant-panel-background: #fff;
  --variant-keycap-text: var(--keycap-text, #000);
  --variant-keycap-text-active: var(--keycap-text-active, #fff);
  --variant-keycap-background-active: var(--keyboard-accent-color);
  --variant-keycap-length: 70px;
  --variant-keycap-font-size: 30px;
  --variant-keycap-aside-font-size: 12px;
  --keycap-shift-font-size: 16px;
  --keycap-shift-color: var(--keyboard-accent-color);
  --environment-shadow: rgba(0, 0, 0, 0.4);
}
.if-can-undo,
.if-can-redo,
.if-can-copy,
.if-can-cut,
.if-can-paste {
  opacity: 0.4;
  pointer-events: none;
}
.can-undo .if-can-undo,
.can-redo .if-can-redo,
.can-copy .if-can-copy,
.can-cut .if-can-cut,
.can-paste .if-can-paste {
  opacity: 1;
  pointer-events: all;
}
body > .ML__keyboard {
  position: fixed;
  --keyboard-padding-bottom: calc(var(--keyboard-padding-bottom) + env(safe-area-inset-bottom, 0));
}
body > .ML__keyboard.is-visible > .MLK__backdrop {
  box-shadow: 0 -5px 6px rgba(0, 0, 0, 0.08);
  border-top: 1px solid var(--keyboard-border);
}
body > .ML__keyboard.backdrop-is-transparent.is-visible > .MLK__backdrop {
  box-shadow: none;
  border: none;
}
body > .ML__keyboard.is-visible.animate > .MLK__backdrop {
  transition: 0.28s cubic-bezier(0, 0, 0.2, 1);
  transition-property: transform, opacity;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__keyboard {
  position: relative;
  overflow: hidden;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  z-index: var(--keyboard-zindex, 105);
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  opacity: 1;
  transform: none;
  pointer-events: none;
}
.ML__keyboard :where(div) {
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  opacity: 1;
  transform: none;
}
.MLK__backdrop {
  position: absolute;
  bottom: calc(-1 * var(--keyboard-height));
  width: 100%;
  height: var(--keyboard-height);
  box-sizing: border-box;
  padding-top: var(--keyboard-padding-top);
  padding-bottom: var(--keyboard-padding-bottom);
  padding-left: var(--keyboard-padding-horizontal);
  padding-right: var(--keyboard-padding-horizontal);
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0);
  background: var(--keyboard-background);
  overflow: hidden;
}
.backdrop-is-transparent .MLK__backdrop {
  background: transparent;
}
.ML__keyboard.is-visible > .MLK__backdrop {
  transform: translate(0, calc(-1 * var(--keyboard-height)));
  opacity: 1;
  visibility: visible;
}
.caps-lock-indicator {
  display: none;
  width: 8px;
  height: 8px;
  background: #0cbc0c;
  box-shadow: inset 0 0 4px 0 #13ca13, 0 0 4px 0 #a9ef48;
  border-radius: 8px;
  right: 8px;
  top: 8px;
  position: absolute;
}
.ML__keyboard.is-caps-lock .caps-lock-indicator {
  display: block;
}
.ML__keyboard.is-caps-lock .shift {
  background: var(--keyboard-accent-color);
  color: #fff;
}
.MLK__plate {
  position: absolute;
  top: 0;
  left: var(--keyboard-padding-horizontal);
  width: calc(100% - 2 * var(--keyboard-padding-horizontal));
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  container-type: inline-size;
  touch-action: none;
  -webkit-user-select: none;
  user-select: none;
  pointer-events: all;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 16px;
  /* Size of toolbar labels */
  font-weight: 400;
  text-shadow: none;
}
.ML__box-placeholder {
  color: var(--box-placeholder-color, var(--keyboard-accent-color));
}
.MLK__tex {
  font-family: KaTeX_Main, KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__tex-math {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
  font-style: italic;
}
.MLK__layer {
  display: none;
  outline: none;
}
.MLK__layer.is-visible {
  display: flex;
  flex-flow: column;
}
/* Keyboard layouts are made or rows of keys... */
.MLK__rows {
  display: flex;
  flex-flow: column;
  align-items: center;
  border-collapse: separate;
  clear: both;
  border: 0;
  margin: 0;
  margin-bottom: var(--keycap-gap);
  gap: var(--keycap-gap);
  overflow-x: auto;
  touch-action: none;
}
.MLK__rows > .row {
  display: flex;
  flex-flow: row;
  justify-content: center;
  width: 100%;
  gap: var(--keycap-gap);
  margin: 0;
  padding: 0;
  /* For the alignment of the text on some modifiers (e.g. shift) */
  /* Extra spacing between two adjacent keys */
  /** A regular keycap */
}
.MLK__rows > .row .tex {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .row .tex-math {
  font-family: KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .row .big-op {
  font-size: calc(1.25 * var(--keycap-font-size, 20px));
}
.MLK__rows > .row .small {
  font-size: var(--keycap-small-font-size, 16px);
}
.MLK__rows > .row .bottom {
  justify-content: flex-end;
}
.MLK__rows > .row .left {
  align-items: flex-start;
  padding-left: 12px;
}
.MLK__rows > .row .right {
  align-items: flex-end;
  padding-right: 12px;
}
.MLK__rows > .row .w0 {
  width: 0;
}
.MLK__rows > .row .w5 {
  width: calc(min(var(--keycap-max-width), 10cqw) / 2 - var(--keycap-gap));
}
.MLK__rows > .row .w15 {
  width: calc(15 * min(var(--keycap-max-width), 10cqw) / 10 - var(--keycap-gap));
}
.MLK__rows > .row .w20 {
  width: calc(20 * min(var(--keycap-max-width), 10cqw) / 10 - var(--keycap-gap));
}
.MLK__rows > .row .w50 {
  width: calc(50 * min(var(--keycap-max-width), 10cqw) / 10 - var(--keycap-gap));
}
.MLK__rows > .row .MLK__keycap.w50 {
  font-size: 80%;
  padding-top: 10px;
  font-weight: 100;
}
.MLK__rows > .row .separator {
  background: transparent;
  border: none;
  pointer-events: none;
}
.MLK__rows > .row .horizontal-rule {
  height: 6px;
  margin-top: 3px;
  margin-bottom: 0;
  width: 100%;
  border-radius: 0;
  border-top: var(--keyboard-horizontal-rule);
}
.MLK__rows > .row .ghost {
  background: var(--keyboard-toolbar-background);
  border: none;
  color: var(--keyboard-toolbar-text);
}
.MLK__rows > .row .ghost:hover {
  background: var(--keyboard-toolbar-background-hover);
}
.MLK__rows > .row .bigfnbutton {
  font-size: var(--keycap-extra-small-font-size, 14px);
}
.MLK__rows > .row .shift,
.MLK__rows > .row .action {
  color: var(--keycap-secondary-text);
  background: var(--keycap-secondary-background);
  border-color: var(--keycap-secondary-border);
  border-bottom-color: var(--keycap-secondary-border-bottom);
  line-height: 0.8;
  font-size: calc(1rem);
  font-weight: 600;
  padding: 8px 12px 8px 12px;
}
.MLK__rows > .row .shift:hover,
.MLK__rows > .row .action:hover {
  background: var(--keycap-secondary-background-hover);
}
.MLK__rows > .row .action.primary {
  background: var(--keyboard-accent-color);
  color: #ddd;
}
.MLK__rows > .row .action.primary:hover {
  background: #0d80f2;
  color: #fff;
}
.MLK__rows > .row .shift.selected,
.MLK__rows > .row .action.selected {
  color: var(--keyboard-toolbar-text-active);
}
.MLK__rows > .row .shift.selected.is-pressed,
.MLK__rows > .row .action.selected.is-pressed,
.MLK__rows > .row .shift.selected.is-active,
.MLK__rows > .row .action.selected.is-active {
  color: white;
}
.MLK__rows > .row .warning {
  background: #cd0030;
  color: white;
}
.MLK__rows > .row .warning svg.svg-glyph {
  width: 24px;
  height: 24px;
}
.MLK__rows > .row div {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: space-evenly;
  width: calc(min(var(--keycap-max-width), 10cqw) - var(--keycap-gap));
  height: var(--keycap-height);
  box-sizing: border-box;
  padding: 0;
  vertical-align: top;
  text-align: center;
  float: left;
  color: var(--keycap-text);
  fill: currentColor;
  font-size: var(--keycap-font-size, 20px);
  background: var(--keycap-background);
  border: 1px solid var(--keycap-border);
  border-bottom-color: var(--keycap-border-bottom);
  border-radius: 6px;
  cursor: pointer;
  touch-action: none;
  /* Keys with a variants panel */
  position: relative;
  overflow: hidden;
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
.MLK__rows > .row div:hover {
  background: var(--keycap-background-hover);
}
.MLK__rows > .row div .ML__mathlive {
  pointer-events: none;
  touch-action: none;
}
.MLK__rows > .row div svg.svg-glyph {
  margin: 8px 0;
  width: 20px;
  height: 20px;
}
.MLK__rows > .row div svg.svg-glyph-lg {
  margin: 8px 0;
  width: 24px;
  height: 24px;
}
.MLK__rows > .row div.MLK__tex-math {
  font-size: 25px;
}
.MLK__rows > .row div.is-pressed {
  background: var(--keycap-background-active);
  color: var(--keyboard-toolbar-text-active);
}
.MLK__rows > .row div.MLK__keycap.is-active,
.MLK__rows > .row div.action.is-active,
.MLK__rows > .row div.MLK__keycap.is-pressed,
.MLK__rows > .row div.action.is-pressed {
  z-index: calc(var(--keyboard-zindex, 105) - 5);
  background: var(--keyboard-accent-color);
  color: #fff;
}
.MLK__rows > .row div.MLK__keycap.is-active aside,
.MLK__rows > .row div.action.is-active aside,
.MLK__rows > .row div.MLK__keycap.is-pressed aside,
.MLK__rows > .row div.action.is-pressed aside {
  display: none;
}
.MLK__rows > .row div.MLK__keycap.is-active .MLK__shift,
.MLK__rows > .row div.action.is-active .MLK__shift,
.MLK__rows > .row div.MLK__keycap.is-pressed .MLK__shift,
.MLK__rows > .row div.action.is-pressed .MLK__shift {
  display: none;
}
.MLK__rows > .row div.shift.is-active {
  background: var(--keyboard-toolbar-text-active);
  color: var(--keycap-text-active);
}
.MLK__rows > .row div small {
  color: var(--keycap-secondary-text);
}
.MLK__rows > .row div aside {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 10px;
  line-height: 10px;
  color: var(--keycap-secondary-text);
}
/* Add an attribute 'data-tooltip' to display a tooltip on hover.
Note there are a different set of tooltip rules for the keyboard toggle
(it's in a different CSS tree) */
.MLK__tooltip {
  position: relative;
}
.MLK__tooltip::after {
  position: absolute;
  display: inline-table;
  content: attr(data-tooltip);
  top: inherit;
  bottom: 100%;
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  background: #616161;
  color: #fff;
  text-align: center;
  z-index: 2;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  border-radius: 2px;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-weight: 400;
  font-size: 12px;
  transition: all 0.15s cubic-bezier(0.4, 0, 1, 1) 1s;
  opacity: 0;
  transform: scale(0.5);
}
.MLK__tooltip:hover {
  position: relative;
}
.MLK__tooltip:hover::after {
  opacity: 1;
  transform: scale(1);
}
.MLK__toolbar {
  align-self: center;
  display: flex;
  flex-flow: row;
  justify-content: space-between;
  width: 100%;
  max-width: 996px;
  min-height: 32px;
  /* Icons for undo/redo, etc. */
}
.MLK__toolbar svg {
  height: 20px;
  width: 20px;
}
.MLK__toolbar > .left {
  position: relative;
  display: flex;
  justify-content: flex-start;
  flex-flow: row;
}
.MLK__toolbar > .right {
  display: flex;
  justify-content: flex-end;
  flex-flow: row;
}
.MLK__toolbar > div > div {
  /* "button" in the toolbar */
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--keyboard-toolbar-text);
  fill: currentColor;
  background: var(--keyboard-toolbar-background);
  font-size: 135%;
  padding: 4px 15px;
  cursor: pointer;
  width: max-content;
  min-width: 42px;
  min-height: 22px;
  border: none;
  padding-left: 10px;
  padding-right: 10px;
  padding-bottom: 8px;
  padding-top: 8px;
  margin-top: 7px;
  margin-bottom: 8px;
  margin-left: 4px;
  margin-right: 4px;
  border-radius: 8px;
  box-shadow: none;
  border-bottom: 2px solid transparent;
}
.MLK__toolbar > div > div:not(.disabled):not(.selected):hover {
  background: var(--keyboard-toolbar-background-hover);
}
.MLK__toolbar > div > div.disabled svg,
.MLK__toolbar > div > div.disabled:hover svg,
.MLK__toolbar > div > div.disabled.is-pressed svg {
  color: var(--keyboard-toolbar-text);
  opacity: 0.2;
}
.MLK__toolbar > div > div:hover,
.MLK__toolbar > div > div:active,
.MLK__toolbar > div > div.is-pressed,
.MLK__toolbar > div > div.is-active {
  color: var(--keyboard-toolbar-text-active);
}
.MLK__toolbar > div > div.selected {
  color: var(--keyboard-toolbar-text-active);
  background: var(--keyboard-toolbar-background-selected);
  border-radius: 0;
  border-bottom-color: var(--keyboard-toolbar-text-active);
  padding-bottom: 4px;
  margin-bottom: 12px;
}
/* This is the element that displays variants on press+hold */
.MLK__variant-panel {
  visibility: hidden;
  position: fixed;
  display: flex;
  flex-flow: row wrap-reverse;
  justify-content: center;
  align-content: center;
  margin: 0;
  padding: 0;
  bottom: auto;
  top: 0;
  box-sizing: content-box;
  transform: none;
  z-index: calc(var(--keyboard-zindex, 105) + 1);
  touch-action: none;
  max-width: 350px;
  background: var(--variant-panel-background);
  text-align: center;
  border-radius: 6px;
  padding: 6px;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
  transition: none;
}
.MLK__variant-panel.is-visible {
  visibility: visible;
}
.MLK__variant-panel.compact {
  --variant-keycap-length: 50px;
  --variant-keycap-font-size: 24px;
  --variant-keycap-aside-font-size: 10px;
}
.MLK__variant-panel .item {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: center;
  font-size: var(--variant-keycap-font-size);
  height: var(--variant-keycap-length);
  width: var(--variant-keycap-length);
  margin: 0;
  box-sizing: border-box;
  border-radius: 5px;
  border: 1px solid transparent;
  background: transparent;
  pointer-events: all;
  cursor: pointer;
  color: var(--variant-keycap-text);
  fill: currentColor;
}
@media (max-height: 412px) {
  .MLK__variant-panel .item {
    --variant-keycap-font-size: 24px;
    --variant-keycap-length: 50px;
  }
}
.MLK__variant-panel .item .ML__mathlive {
  pointer-events: none;
}
.MLK__variant-panel .item.is-pressed,
.MLK__variant-panel .item.is-active {
  background: var(--variant-keycap-background-active);
  color: var(--variant-keycap-text-active);
}
.MLK__variant-panel .item.small {
  font-size: var(--keycap-small-font-size, 16px);
}
.MLK__variant-panel .item.swatch-button {
  box-sizing: border-box;
  background: #fbfbfb;
}
.MLK__variant-panel .item.swatch-button > span {
  display: inline-block;
  margin: 6px;
  width: calc(100% - 12px);
  height: calc(100% - 12px);
  border-radius: 50%;
}
.MLK__variant-panel .item.swatch-button:hover {
  background: #f0f0f0;
}
.MLK__variant-panel .item.swatch-button:hover > span {
  border-radius: 2px;
}
.MLK__variant-panel .item.box > div,
.MLK__variant-panel .item.box > span {
  border: 1px dashed rgba(0, 0, 0, 0.24);
}
.MLK__variant-panel .item .warning {
  min-height: 60px;
  min-width: 60px;
  background: #cd0030;
  color: white;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 5px;
}
.MLK__variant-panel .item .warning.is-pressed,
.MLK__variant-panel .item .warning.is-active {
  background: red;
}
.MLK__variant-panel .item .warning svg.svg-glyph {
  width: 50px;
  height: 50px;
}
.MLK__variant-panel .item aside {
  font-size: var(--variant-keycap-aside-font-size);
  line-height: 12px;
  opacity: 0.78;
  padding-top: 2px;
}
.MLK__keycap {
  position: relative;
}
.MLK__shift {
  display: block;
  position: absolute;
  right: 4px;
  top: 4px;
  font-size: var(--keycap-shift-font-size);
  color: var(--keycap-shift-color);
}
.hide-shift .MLK__shift {
  display: none;
}
@media (max-width: 414px) {
  .MLK__variant-panel {
    max-width: 350px;
    --variant-keycap-font-size: 24px;
    --variant-keycap-length: 50px;
  }
}
/* @xs breakpoint: iPhone 5 */
@container (max-width: 414px) {
  .MLK__toolbar > div > div {
    font-size: 100%;
    padding: 0;
    margin-left: 2px;
    margin-right: 2px;
  }
  .MLK__rows > .row > div {
    width: calc(10cqw - 2px);
    height: 42px;
  }
  .MLK__rows .w5 {
    width: calc(5cqw - 2px);
  }
  .MLK__rows .w15 {
    width: calc(15cqw - 2px);
  }
  .MLK__rows .w20 {
    width: calc(20cqw - 2px);
  }
  .MLK__rows .w50 {
    width: calc(50cqw - 2px);
  }
  .MLK__rows .separator {
    width: 2px;
    min-width: 2px;
  }
  .MLK__rows .shift,
  .MLK__rows .action {
    font-size: 65%;
  }
  .MLK__rows .warning svg.svg-glyph {
    width: 14px;
    height: 14px;
  }
}
@container (max-width: 744px) {
  .MLK__rows {
    --keycap-gap: 2px;
    --keycap-height: 52px;
    --keycap-max-width: 62px;
  }
  .MLK__toolbar > div > div {
    padding-left: 0;
    padding-right: 0;
  }
  .MLK__tooltip::after {
    padding: 8px 16px;
    font-size: 16px;
  }
  .MLK__rows > .row > div.fnbutton {
    font-size: 16px;
  }
  .MLK__rows > .row > div.bigfnbutton {
    font-size: calc(var(--keycap-extra-small-font-size, 14px) / 1.55);
  }
  .MLK__rows > .row > div.small {
    font-size: 13px;
  }
  .MLK__rows > .row > div > aside {
    display: none;
  }
  .MLK__shift {
    display: none;
  }
}
/* Medium breakpoint: larger phones */
@container (max-width: 768px) {
  .ML__keyboard {
    --keycap-height: 42px;
  }
  .MLK__rows > .row > div > small {
    font-size: 14px;
  }
}
@container (max-width: 1444px) {
  .MLK__rows .if-wide {
    display: none;
  }
}
@media (prefers-color-scheme: dark) {
  .ML__keyboard {
    --keyboard-accent-color: #56a6f6;
    --keyboard-background: #151515;
    --keyboard-border: transparent;
    --keyboard-toolbar-text: #e3e4e8;
    --keyboard-toolbar-text-active: var(--keyboard-accent-color);
    --keyboard-toolbar-background: transparent;
    --keyboard-toolbar-background-hover: #303030;
    --keyboard-toolbar-background-selected: transparent;
    --keyboard-horizontal-rule: 1px solid #303030;
    --keycap-background: #1f2022;
    --keycap-background-hover: #2f3032;
    --keycap-background-active: #2f3032;
    --keycap-border: transparent;
    --keycap-border-bottom: transparent;
    --keycap-text: #e3e4e8;
    --keycap-text-active: #000;
    --keycap-secondary-background: #3d4144;
    --keycap-secondary-background-hover: #4d5154;
    --keycap-secondary-text: #e7ebee;
    --keycap-secondary-border: transparent;
    --keycap-secondary-border-bottom: transparent;
    --variant-panel-background: #303030;
    --variant-keycap-text: var(--keycap-text);
    --variant-keycap-text-active: #fff;
    --environment-shadow: rgba(255, 255, 255, 0.1);
  }
}
/* Same as the media query, but with a class */
[theme='dark'] .ML__keyboard {
  --keyboard-accent-color: #56a6f6;
  --keyboard-background: #151515;
  --keyboard-border: transparent;
  --keyboard-toolbar-text: #e3e4e8;
  --keyboard-toolbar-text-active: var(--keyboard-accent-color);
  --keyboard-toolbar-background: transparent;
  --keyboard-toolbar-background-hover: #303030;
  --keyboard-toolbar-background-selected: transparent;
  --keyboard-horizontal-rule: border 1px solid #4d5154;
  --keycap-background: #1f2022;
  --keycap-background-hover: #2f3032;
  --keycap-background-active: #2f3032;
  --keycap-border: transparent;
  --keycap-border-bottom: transparent;
  --keycap-text: #e3e4e8;
  --keycap-text-active: #000;
  --keycap-secondary-background: #3d4144;
  --keycap-secondary-background-hover: #4d5154;
  --keycap-secondary-text: #e7ebee;
  --keycap-secondary-border: transparent;
  --keycap-secondary-border-bottom: transparent;
  --variant-panel-background: #303030;
  --variant-keycap-text: var(--keycap-text);
  --variant-keycap-text-active: #fff;
  --environment-shadow: rgba(255, 255, 255, 0.1);
}
[theme='light'] .ML__keyboard {
  --keyboard-accent-color: #0c75d8;
  --keyboard-background: #cacfd7;
  --keyboard-border: #ddd;
  --keyboard-toolbar-text: #2c2e2f;
  --keyboard-toolbar-text-active: var(--keyboard-accent-color);
  --keyboard-toolbar-background: transparent;
  --keyboard-toolbar-background-hover: #eee;
  --keyboard-toolbar-background-selected: transparent;
  --keycap-background: white;
  --keycap-background-hover: #f5f5f7;
  --keycap-background-active: white;
  --keycap-border: #e5e6e9;
  --keycap-border-bottom: #8d8f92;
  --keycap-text: #000;
  --keycap-text-active: #fff;
  --keycap-text-hover: #fff;
  --keycap-secondary-text: #333;
  --keycap-secondary-background: #a0a9b6;
  --keycap-secondary-background-hover: #949ead;
  --keycap-secondary-text: #060707;
  --keycap-secondary-border: #c5c9d0;
  --keycap-secondary-border-bottom: #989da6;
  --variant-panel-background: #fff;
  --variant-keycap-text: var(--keycap-text, #000);
  --variant-keycap-text-active: #fff;
  --variant-keycap-background-active: var(--keyboard-accent-color);
}
.MLK__environment-panel:not(.is-visible) {
  visibility: hidden;
}
.MLK__environment-panel {
  --private-panel-height: var(--environment-panel-height, 70px);
  width: calc(var(--private-panel-height) * 2);
  height: --private-panel-height;
  border-radius: 4px;
  border: 1.5px solid var(--keyboard-accent-color, #0c75d8);
  background-color: var(--variant-panel-background, #fff);
  box-shadow: 0 0 30px 0 var(--environment-shadow, rgba(0, 0, 0, 0.4));
  pointer-events: all;
}
.MLK__environment-panel .MLK__array-buttons {
  height: calc(var(--private-panel-height) * 5/4);
  width: calc(var(--private-panel-height) * 5/4);
  margin-left: calc(0px - var(--private-panel-height) * 0.16);
  margin-top: calc(0px - var(--private-panel-height) * 0.19);
}
.MLK__environment-panel .MLK__array-buttons .font {
  fill: white;
}
.MLK__environment-panel .MLK__array-buttons circle {
  fill: #7f7f7f;
  transition: fill 300ms;
}
.MLK__environment-panel .MLK__array-buttons .MLK__array-insert-background {
  fill-opacity: 1;
  fill: var(--variant-panel-background, #fff);
  stroke: var(--keyboard-accent-color, #0c75d8);
  stroke-width: 3px;
}
.MLK__environment-panel .MLK__array-buttons line {
  stroke: var(--keyboard-accent-color, #0c75d8);
  stroke-opacity: 0;
  stroke-width: 40;
  pointer-events: none;
  transition: stroke-opacity 300ms;
  stroke-linecap: round;
}
.MLK__environment-panel .MLK__array-buttons g[data-command]:hover circle {
  fill: var(--keyboard-accent-color, #0c75d8);
}
.MLK__environment-panel .MLK__array-buttons g[data-command]:hover line {
  stroke-opacity: 1;
}
.MLK__environment-panel .MLK__environment-delimiter-controls {
  height: 100%;
  width: 50%;
}
.MLK__environment-panel .MLK__environment-delimiter-controls .MLK__array-delimiter-options {
  width: var(--private-panel-height);
  height: var(--private-panel-height);
  display: flex;
  flex-wrap: wrap;
  flex-direction: row;
  justify-content: space-around;
}
.MLK__environment-panel .MLK__environment-delimiter-controls .MLK__array-delimiter-options svg {
  pointer-events: all;
  margin-top: 2px;
  width: calc(var(--private-panel-height) / 3 * 28 / 24);
  height: calc(var(--private-panel-height) / 3 - 2px);
  border-radius: calc(var(--private-panel-height) / 25);
  background-color: var(--keycap-background, white);
}
.MLK__environment-panel .MLK__environment-delimiter-controls .MLK__array-delimiter-options svg:hover {
  background-color: var(--keycap-background-hover, #f5f5f7);
}
.MLK__environment-panel .MLK__environment-delimiter-controls .MLK__array-delimiter-options svg path,
.MLK__environment-panel .MLK__environment-delimiter-controls .MLK__array-delimiter-options svg line {
  stroke: var(--keycap-text, #e3e4e8);
  stroke-width: 2;
  stroke-linecap: round;
}
.MLK__environment-panel .MLK__environment-delimiter-controls .MLK__array-delimiter-options svg rect,
.MLK__environment-panel .MLK__environment-delimiter-controls .MLK__array-delimiter-options svg path {
  fill-opacity: 0;
}
.MLK__environment-panel .MLK__environment-delimiter-controls .MLK__array-delimiter-options svg.active {
  pointer-events: none;
  background-color: var(--keycap-background-active, #f5f5f7);
}
.MLK__environment-panel .MLK__environment-delimiter-controls .MLK__array-delimiter-options svg.active path,
.MLK__environment-panel .MLK__environment-delimiter-controls .MLK__array-delimiter-options svg.active line {
  stroke: var(--keyboard-accent-color, #0c75d8);
}
.MLK__environment-panel .MLK__environment-delimiter-controls .MLK__array-delimiter-options svg.active circle {
  fill: var(--keyboard-accent-color, #0c75d8);
}
`,bg={numeric:{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",rows:[[{latex:"x",shift:"y",variants:["y","z","t","r",{latex:"f(#?)",class:"small"},{latex:"g(#?)",class:"small"},"x^2","x^n","x_n","x_{n+1}","x_i","x_{i+1}"]},{latex:"n",shift:"a",variants:["i","j","p","k","a","u"]},"[separator-5]","[7]","[8]","[9]","[/]","[separator-5]",{latex:"e",shift:"\\ln",variants:["\\exp","\\times 10^{#?}","\\ln","\\log_{10}","\\log"]},{latex:"\\imaginaryI",variants:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"]},{latex:"\\pi",shift:"\\sin",variants:["\\prod",{latex:"\\theta",aside:"theta"},{latex:"\\rho",aside:"rho"},{latex:"\\tau",aside:"tau"},"\\sin","\\cos","\\tan"]}],[{label:"<",latex:"<",class:"hide-shift",shift:{latex:"\\le",label:""}},{label:">",latex:">",class:"hide-shift",shift:{latex:"\\ge",label:""}},"[separator-5]","[4]","[5]","[6]","[*]","[separator-5]",{class:"hide-shift",latex:"#@^2}",shift:"#@^{\\prime}}"},{latex:"#@^{#0}}",class:"hide-shift",shift:"#@_{#?}"},{class:"hide-shift",latex:"\\sqrt{#0}",shift:{latex:"\\sqrt[#0]{#?}}"}}],["[(]","[)]","[separator-5]","[1]","[2]","[3]","[-]","[separator-5]",{latex:"\\int^{\\infty}_{0}",class:"small hide-shift",shift:"\\int",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},{latex:"\\dfrac{\\rd}{\\rd x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\capitalDifferentialD","\\rd","\\partial"]},{class:"hide-shift",latex:"\\forall",shift:"\\exists"},{label:"[backspace]",width:1}],[{label:"[shift]",width:2},"[separator-5]","[0]","[.]","[=]","[+]","[separator-5]","[left]","[right]",{label:"[action]",width:1}]]},greek:{label:"&alpha;&beta;&gamma;",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.greek",rows:[[{label:"<i>&#x03c6;</i>",class:"MLK__tex hide-shift",insert:"\\varphi",aside:"phi var.",shift:"\\Phi"},{label:"<i>&#x03c2;</i>",class:"MLK__tex hide-shift",insert:"\\varsigma",aside:"sigma var.",shift:"\\Sigma"},{label:"<i>&#x03f5;</i>",class:"MLK__tex hide-shift",insert:"\\epsilon",aside:"espilon",shift:'\\char"0190'},{label:"<i>&rho;</i>",class:"MLK__tex hide-shift",insert:"\\rho",aside:"rho",shift:'\\char"3A1'},{label:"<i>&tau;</i>",class:"MLK__tex hide-shift",insert:"\\tau",aside:"tau",shift:'\\char"3A4'},{label:"<i>&upsilon;</i>",class:"MLK__tex hide-shift",insert:"\\upsilon",aside:"upsilon",shift:"\\Upsilon"},{label:"<i>&theta;</i>",class:"MLK__tex hide-shift",insert:"\\theta",aside:"theta",shift:"\\Theta"},{label:"<i>&iota;</i>",class:"MLK__tex hide-shift",insert:"\\iota",aside:"iota",shift:'\\char"399'},{label:"<i>&omicron;</i>",class:"MLK__tex hide-shift",insert:"\\omicron",aside:"omicron",shift:'\\char"39F'},{label:"<i>&pi;</i>",class:"MLK__tex hide-shift",insert:"\\pi",aside:"pi",shift:"\\Pi"}],["[separator-5]",{label:"<i>&alpha;</i>",class:"MLK__tex hide-shift",insert:"\\alpha",aside:"alpha",shift:'\\char"391'},{label:"<i>&sigma;</i>",class:"MLK__tex hide-shift",insert:"\\sigma",aside:"sigma",shift:"\\Sigma"},{label:"<i>&delta;</i>",class:"MLK__tex hide-shift",insert:"\\delta",aside:"delta",shift:"\\Delta"},{label:"<i>&phi;</i>",class:"MLK__tex hide-shift",insert:"\\phi",aside:"phi",shift:"\\Phi"},{label:"<i>&gamma;</i>",class:"MLK__tex hide-shift",insert:"\\gamma",aside:"gamma",shift:"\\Gamma"},{label:"<i>&eta;</i>",class:"MLK__tex hide-shift",insert:"\\eta",aside:"eta",shift:'\\char"397'},{label:"<i>&xi;</i>",class:"MLK__tex hide-shift",insert:"\\xi",aside:"xi",shift:"\\Xi"},{label:"<i>&kappa;</i>",class:"MLK__tex hide-shift",insert:"\\kappa",aside:"kappa",shift:"\\Kappa"},{label:"<i>&lambda;</i>",class:"MLK__tex hide-shift",insert:"\\lambda",aside:"lambda",shift:"\\Lambda"},"[separator-5]"],["[shift]",{label:"<i>&zeta;</i>",class:"MLK__tex hide-shift",insert:"\\zeta",aside:"zeta",shift:'\\char"396'},{label:"<i>&chi;</i>",class:"MLK__tex hide-shift",insert:"\\chi",aside:"chi",shift:'\\char"3A7'},{label:"<i>&psi;</i>",class:"MLK__tex hide-shift",insert:"\\psi",aside:"zeta",shift:"\\Psi"},{label:"<i>&omega;</i>",class:"MLK__tex hide-shift",insert:"\\omega",aside:"omega",shift:"\\Omega"},{label:"<i>&beta;</i>",class:"MLK__tex hide-shift",insert:"\\beta",aside:"beta",shift:'\\char"392'},{label:"<i>&nu;</i>",class:"MLK__tex hide-shift",insert:"\\nu",aside:"nu",shift:'\\char"39D'},{label:"<i>&mu;</i>",class:"MLK__tex hide-shift",insert:"\\mu",aside:"mu",shift:'\\char"39C'},"[backspace]"],["[separator]",{label:"<i>&#x03b5;</i>",class:"MLK__tex",insert:"\\varepsilon",aside:"espilon var."},{label:"<i>&#x03d1;</i>",class:"MLK__tex",insert:"\\vartheta",aside:"theta var."},{label:"<i>&#x3f0;</i>",class:"MLK__tex",insert:"\\varkappa",aside:"kappa var."},{label:"<i>&#x03d6;</i>",class:"MLK__tex",insert:"\\varpi",aside:"pi var."},{label:"<i>&#x03f1;</i>",class:"MLK__tex",insert:"\\varrho",aside:"rho var."},"[left]","[right]","[action]"]]},symbols:{label:"&infin;",labelClass:"MLK__tex",tooltip:"keyboard.tooltip.symbols",rows:[[{latex:"\\sin",shift:"\\sin^{-1}",variants:[{class:"small",latex:"\\sinh"},{class:"small",latex:"\\sin^{-1}"},{class:"small",latex:"\\arsinh"}]},"\\ln",{latex:"\\mathrm{abs}",insert:"\\mathrm{abs}\\left(#0\\right)"},{latex:"\\rarr",shift:"\\rArr",variants:[{latex:"\\implies",aside:"implies"},{latex:"\\to",aside:"to"},"\\dashv",{latex:"\\roundimplies",aside:"round implies"}]},{latex:"\\exists",variants:["\\nexists"],shift:"\\nexists"},{latex:"\\in",shift:"\\notin",variants:["\\notin","\\owns"]},"\\cup",{latex:"\\overrightarrow{#@}",shift:"\\overleftarrow{#@}",variants:["\\overleftarrow{#@}","\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"]},"\\lim_{#?}","\\exponentialE"],[{latex:"\\cos",shift:"\\cos^{-1}",variants:[{class:"small",latex:"\\cosh"},{class:"small",latex:"\\cos^{-1}"},{class:"small",latex:"\\arcosh"}]},{latex:"\\log",shift:"\\log_{10}",variants:["\\log_{#0}","\\log_{10}"]},"\\left\\vert#0\\right\\vert",{latex:"\\larr",shift:"\\lArr",variants:[{latex:"\\impliedby",aside:"implied by"},{latex:"\\gets",aside:"gets"},"\\lArr","\\vdash",{latex:"\\models",aside:"models"}]},{latex:"\\forall",shift:"\\lnot",variants:[{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"}]},{latex:"\\ni",shift:"\\not\\owns"},"\\cap",{latex:"\\overline{#@}",shift:"\\underline{#@}",variants:["\\overbrace{#@}","\\overlinesegment{#@}","\\overleftrightarrow{#@}","\\overrightarrow{#@}","\\overleftarrow{#@}","\\overgroup{#@}","\\underbrace{#@}","\\underlinesegment{#@}","\\underleftrightarrow{#@}","\\underrightarrow{#@}","\\underleftarrow{#@}","\\undergroup{#@}"]},{class:"hide-shift",latex:"\\int",shift:"\\iint",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\intop","\\iiint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\ointctrclockwise","\\intctrclockwise"]},{latex:"\\pi",shift:"\\tau",variants:["\\tau"]}],[{latex:"\\tan",shift:"\\tan^{-1}",variants:[{class:"small",latex:"\\tanh"},{class:"small",latex:"\\tan^{-1}"},{class:"small",latex:"\\artanh"},{class:"small",latex:"\\arctan"},{class:"small",latex:"\\arctg"},{class:"small",latex:"\\tg"}]},{latex:"\\mathrm{exp}",insert:"\\mathrm{exp}\\left(#0\\right)",variants:["\\exponentialE^{#0}"]},"\\left\\Vert#0\\right\\Vert",{latex:"\\lrArr",shift:"\\leftrightarrow",variants:[{latex:"\\iff",aside:"if and only if"},"\\leftrightarrow","\\leftrightarrows","\\Leftrightarrow",{latex:"^\\biconditional",aside:"biconditional"}]},{latex:"\\vert",shift:"!"},{latex:"#@^{\\complement}",aside:"complement",variants:[{latex:"\\setminus",aside:"set minus"},{latex:"\\smallsetminus",aside:"small set minus"}]},{latex:"\\subset",shift:"\\subseteq",variants:["\\subset","\\subseteq","\\subsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsubseteq","\\supset","\\supseteq","\\supsetneq","\\supsetneqq","\\nsupset","\\nsupseteq"]},{latex:"#@^{\\prime}",shift:"#@^{\\doubleprime}",variants:["#@^{\\doubleprime}","#@\\degree"]},{latex:"\\rd",shift:"\\partial",variants:[{latex:"\\dfrac{\\rd}{\\rd x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\capitalDifferentialD","\\rd","\\partial"]},{latex:"\\infty",variants:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"]}],[{label:"[shift]",width:2},{class:"box",latex:",",shift:";",variants:[";","?"]},{class:"box",latex:"\\colon",shift:"\\Colon",variants:[{latex:"\\Colon",aside:"such that",class:"box"},{latex:":",aside:"ratio",class:"box"},{latex:"\\vdots",aside:"",class:"box"},{latex:"\\ddots",aside:"",class:"box"},{latex:"\\ldotp",aside:"low dot",class:"box"},{latex:"\\cdotp",aside:"center dot",class:"box"},{latex:"\\ldots",aside:"low ellipsis",class:"box"},{latex:"\\cdots",aside:"center ellipsis",class:"box"},{latex:"\\therefore",aside:"therefore",class:"box"},{latex:"\\because",aside:"because",class:"box"}]},{class:"box",latex:"\\cdot",aside:"centered dot",shift:"\\ast",variants:["\\circ","\\bigcirc","\\bullet","\\odot","\\oslash","\\circledcirc","\\ast","\\star","\\times","\\doteq","\\doteqdot"]},"[separator]","[left]","[right]",{label:"[backspace]",width:1,class:"action hide-shift"},{label:"[action]",width:1}]]},compact:{label:"compact",rows:[["[+]","[-]","[*]","[/]","[=]","[.]","[(]","[)]","\\sqrt{#0}","#@^{#?}"],["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[0]"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]},minimalist:{label:"minimalist",layers:[{style:`
          .minimalist-backdrop {
            display: flex;
            justify-content: center;
          }          
          .minimalist-container {
            --keycap-height: 40px;
            --keycap-max-width: 53px;
            --keycap-small-font-size: 12px;
            background: var(--keyboard-background);
            padding: 20px;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            border: 1px solid var(--keyboard-border);
            box-shadow: 0 0 32px rgb(0 0 0 / 30%);
          }        
        `,backdrop:"minimalist-backdrop",container:"minimalist-container",rows:[["+","-","\\times",{latex:"\\frac{#@}{#0}",class:"small"},"=","[.]","(",")",{latex:"\\sqrt{#0}",class:"small"},{latex:"#@^{#?}",class:"small"}],["1","2","3","4","5","6","7","8","9","0"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]}]},"numeric-only":{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",id:"numeric-only",rows:[["7","8","9","[separator]",{label:"[backspace]",width:2}],["4","5","6","[separator]","[separator]","[separator]"],["1","2","3","[separator]","[separator]","[separator]"],["0",{label:"[.]",variants:[]},"-","[separator]","[left]","[right]"]]}},by=class{constructor(e){var n,r;this.preventOverlayClose=null!=(n=null==e?void 0:e.preventOverlayClose)&&n,this.translucent=null!=(r=null==e?void 0:e.translucent)&&r,this.state="closed"}get element(){if(this._element)return this._element;let e=document.createElement("div");return e.setAttribute("role","presentation"),e.style.position="fixed",e.style.contain="content",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.zIndex="var(--scrim-zindex, 10099)",e.style.outline="none",this.translucent?(e.style.background="rgba(255, 255, 255, .2)",e.style.backdropFilter="contrast(40%)"):e.style.background="transparent",this._element=e,e}open(e){var n;if("closed"!==this.state)return;this.state="opening",this.savedActiveElement=bb();let{element:r}=this;(null!=(n=null==e?void 0:e.root)?n:document.body).appendChild(r),r.addEventListener("click",this),document.addEventListener("touchmove",this,!1),document.addEventListener("scroll",this,!1);let i=window.innerWidth-document.documentElement.clientWidth;this.savedMarginRight=document.body.style.marginRight,this.savedOverflow=document.body.style.overflow,document.body.style.overflow="hidden";let a=Number.parseFloat(getComputedStyle(document.body).marginRight);document.body.style.marginRight=`${a+i}px`,null!=e&&e.child&&r.append(e.child),this.state="open"}close(){var e,n,r,i;if("open"!==this.state)return;this.state="closing","function"==typeof this.onClose&&this.onClose();let{element:a}=this;a.removeEventListener("click",this),document.removeEventListener("touchmove",this,!1),document.removeEventListener("scroll",this,!1),a.remove(),document.body.style.overflow=null!=(e=this.savedOverflow)?e:"",document.body.style.marginRight=null!=(n=this.savedMarginRight)?n:"",bb()!==this.savedActiveElement&&(null==(i=null==(r=this.savedActiveElement)?void 0:r.focus)||i.call(r)),a.innerHTML="",this.state="closed"}handleEvent(e){this.preventOverlayClose||(e.target===this._element&&"click"===e.type?(this.close(),e.preventDefault(),e.stopPropagation()):e.target===document&&("touchmove"===e.type||"scroll"===e.type)&&(this.close(),e.preventDefault(),e.stopPropagation()))}};function bb(){var e;let n=document.activeElement;for(;null!=(e=null==n?void 0:n.shadowRoot)&&e.activeElement;)n=n.shadowRoot.activeElement;return n}var bv,b_,bx={0:["\\varnothing","\\infty"],1:["\\frac{1}{#@}","#@^{-1}","\\times 10^{#?}","\\phi","\\imaginaryI"],2:["\\frac{1}{2}","#@^2","\\sqrt2","\\exponentialE"],3:["\\frac{1}{3}","#@^3","\\sqrt3","\\pi"],4:["\\frac{1}{4}","#@^4"],5:["\\frac{1}{5}","#@^5","\\sqrt5"],6:["\\frac{1}{6}","#@^6"],7:["\\frac{1}{7}","#@^7"],8:["\\frac{1}{8}","#@^8"],9:["\\frac{1}{9}","#@^9"],".":[".",",",";","\\colon"],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],b:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"}],d:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isnt"}],g:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"}],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\mathbb{N}",aside:"set of natural numbers"}],p:[{latex:"\\mathbb{P}",aside:"set of primes"}],q:[{latex:"\\mathbb{Q}",aside:"set of rational numbers"}],r:[{latex:"\\mathbb{R}",aside:"set of real numbers"}],z:[{latex:"\\mathbb{Z}",aside:"set of integers"}],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br>\xb3 em"},{latex:'\\unicode{"203A}\\,\\unicode{"2039}',insert:"\\,",aside:"thin space<br>\xb3 em"},{latex:'\\unicode{"203A}\\:\\unicode{"2039}',insert:"\\:",aside:"medium space<br> em"},{latex:'\\unicode{"203A}\\;\\unicode{"2039}',insert:"\\;",aside:"thick space<br> em"},{latex:'\\unicode{"203A}\\ \\unicode{"2039}',insert:"\\ ",aside:" em"},{latex:'\\unicode{"203A}\\enspace\\unicode{"2039}',insert:"\\enspace",aside:"\xbd em"},{latex:'\\unicode{"203A}\\quad\\unicode{"2039}',insert:"\\quad",aside:"1 em"},{latex:'\\unicode{"203A}\\qquad\\unicode{"2039}',insert:"\\qquad",aside:"2 em"}]};function bO(e,n){var r,i,a,o;let l=bH.singleton,s=bN(e),u=null!=(i=null==(r=l.getKeycap(null==s?void 0:s.id))?void 0:r.variants)?i:"";if("string"==typeof u&&!bE(u)||Array.isArray(u)&&0===u.length){null==n||n();return}let c={},d="";for(let e of"string"!=typeof u?u:(bx[u]||(bx[u]=null!=(o=function(e){if("foreground-color"===e){let e=[];for(let n of Object.keys(pg))e.push({class:"swatch-button",label:'<span style="border: 3px solid '+pg[n]+'"></span>',command:["applyStyle",{color:n}]});return e}if("background-color"===e){let e=[];for(let n of Object.keys(pf))e.push({class:"swatch-button",label:'<span style="background:'+pf[n]+'"></span>',command:["applyStyle",{backgroundColor:n}]});return e}}(u))?o:[]),bx[u])){let n=bA(e),r=Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36);c[r]=n;let[i,a]=bR(n);d+=`<div id=${r} class="item ${a}">${i}</div>`}let h=document.createElement("div");h.setAttribute("aria-hidden","true"),h.className="MLK__variant-panel",h.style.height="auto";let p=Object.keys(c).length,m=5;1===p?m=1:2===p||4===p?m=2:3===p||5===p||6===p?m=3:p>=7&&p<14&&(m=4),h.style.width=`calc(var(--variant-keycap-length) * ${m} + 12px)`,h.innerHTML=_d.createHTML(d),by.scrim||(by.scrim=new by),by.scrim.open({root:null==(a=l.container)?void 0:a.querySelector(".ML__keyboard"),child:h}),null==b_||b_.abort(),b_=new AbortController,h.addEventListener("pointerup",e=>{let r=bN(e.target);null!=r&&r.id&&c[r.id]&&(bM(c[r.id]),bw(),null==n||n(),e.preventDefault())},{capture:!0,passive:!1,signal:b_.signal}),h.addEventListener("pointerenter",e=>{let n=bN(e.target);null!=n&&n.id&&c[n.id]&&n.classList.add("is-active")},{capture:!0,signal:b_.signal}),h.addEventListener("pointerleave",e=>{let n=bN(e.target);null!=n&&n.id&&c[n.id]&&n.classList.remove("is-active")},{capture:!0,signal:b_.signal}),window.addEventListener("pointercancel",()=>{bw(),null==n||n()},{signal:b_.signal}),window.addEventListener("pointerup",()=>{bw(),null==n||n()},{signal:b_.signal});let f=null==e?void 0:e.getBoundingClientRect();if(f){f.top-h.clientHeight<0&&(h.style.width="auto",p<=6?h.style.height="56px":p<=12?h.style.height="108px":p<=18?h.style.height="205px":h.classList.add("compact"));let e=Math.max(0,Math.min(window.innerWidth-h.offsetWidth,(f.left+f.right-h.offsetWidth)/2)),n=f.top-h.clientHeight+5;h.style.transform=`translate(${e}px, ${n}px)`,h.classList.add("is-visible")}}function bw(){var e;null==b_||b_.abort(),null==(e=by.scrim)||e.close()}function bE(e){return void 0!==bx[e]}function bC(e){if(!e)return"";let n=g2(),r=new fX("root",n);r.body=gv(e,n,{parseMode:"math",args:e=>"@"===e?"{\\class{ML__box-placeholder}{\\blacksquare}}":"\\placeholder{}"});let i=new fj({registers:n.registers},{fontSize:5},"displaystyle");return mi(mt(mr(new me(r.render(i),{classes:"ML__base"}),i)),{classes:"ML__mathlive"}).toMarkup()}function bT(e){if(Array.isArray(e))return e.map(e=>bT(e)).flat();let n="string"==typeof e?{markup:e}:e;return"rows"in n&&Array.isArray(n.rows)&&(n.rows=n.rows.map(e=>e.map(e=>bA(e)))),null!=n.id||(n.id="ML__layer_"+Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36)),[n]}var bk=`<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">

<symbol id="svg-delete-backward" viewBox="0 0 576 512">
  <path d="M432.1 208.1L385.9 256L432.1 303C442.3 312.4 442.3 327.6 432.1 336.1C423.6 346.3 408.4 346.3 399 336.1L352 289.9L304.1 336.1C295.6 346.3 280.4 346.3 271 336.1C261.7 327.6 261.7 312.4 271 303L318.1 256L271 208.1C261.7 199.6 261.7 184.4 271 175C280.4 165.7 295.6 165.7 304.1 175L352 222.1L399 175C408.4 165.7 423.6 165.7 432.1 175C442.3 184.4 442.3 199.6 432.1 208.1V208.1zM512 64C547.3 64 576 92.65 576 128V384C576 419.3 547.3 448 512 448H205.3C188.3 448 172 441.3 160 429.3L9.372 278.6C3.371 272.6 0 264.5 0 256C0 247.5 3.372 239.4 9.372 233.4L160 82.75C172 70.74 188.3 64 205.3 64L512 64zM528 128C528 119.2 520.8 112 512 112H205.3C201 112 196.9 113.7 193.9 116.7L54.63 256L193.9 395.3C196.9 398.3 201 400 205.3 400H512C520.8 400 528 392.8 528 384V128z"/>
</symbol>

<symbol id="svg-shift" viewBox="0 0 384 512">
  <path d="M2.438 252.3C7.391 264.2 19.06 272 32 272h80v160c0 26.51 21.49 48 48 48h64C250.5 480 272 458.5 272 432v-160H352c12.94 0 24.61-7.797 29.56-19.75c4.953-11.97 2.219-25.72-6.938-34.88l-160-176C208.4 35.13 200.2 32 192 32S175.6 35.13 169.4 41.38l-160 176C.2188 226.5-2.516 240.3 2.438 252.3zM192 86.63L313.4 224H224v208H160V224H70.63L192 86.63z"/>
</symbol>

<symbol id="svg-commit" viewBox="0 0 512 512">
  <path d="M135 432.1l-128-128C2.344 300.3 0 294.2 0 288s2.344-12.28 7.031-16.97l128-128c9.375-9.375 24.56-9.375 33.94 0s9.375 24.56 0 33.94L81.94 264H464v-208C464 42.75 474.8 32 488 32S512 42.75 512 56V288c0 13.25-10.75 24-24 24H81.94l87.03 87.03c9.375 9.375 9.375 24.56 0 33.94S144.4 442.3 135 432.1z"/>
</symbol>

<symbol id="svg-command" viewBox="0 0 640 512">
  <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>
</symbol>

<symbol id="svg-undo" viewBox="0 0 512 512">
  <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>
</symbol>
<symbol id="svg-redo" viewBox="0 0 512 512">
  <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>
</symbol>
<symbol id="svg-arrow-left" viewBox="0 0 320 512">
  <path d="M206.7 464.6l-183.1-191.1C18.22 267.1 16 261.1 16 256s2.219-11.97 6.688-16.59l183.1-191.1c9.152-9.594 24.34-9.906 33.9-.7187c9.625 9.125 9.938 24.37 .7187 33.91L73.24 256l168 175.4c9.219 9.5 8.906 24.78-.7187 33.91C231 474.5 215.8 474.2 206.7 464.6z"/>
</symbol>
<symbol id="svg-arrow-right" viewBox="0 0 320 512">
  <path d="M113.3 47.41l183.1 191.1c4.469 4.625 6.688 10.62 6.688 16.59s-2.219 11.97-6.688 16.59l-183.1 191.1c-9.152 9.594-24.34 9.906-33.9 .7187c-9.625-9.125-9.938-24.38-.7187-33.91l168-175.4L78.71 80.6c-9.219-9.5-8.906-24.78 .7187-33.91C88.99 37.5 104.2 37.82 113.3 47.41z"/>
</symbol>
<symbol id="svg-tab" viewBox="0 0 448 512">
  <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>
</symbol>
<symbol id="svg-paste" viewBox="0 0 512 512"><path d="M160 32c11.6 0 21.3 8.2 23.5 19.2C185 58.6 191.6 64 199.2 64H208c8.8 0 16 7.2 16 16V96H96V80c0-8.8 7.2-16 16-16h8.8c7.6 0 14.2-5.4 15.7-12.8C138.7 40.2 148.4 32 160 32zM64 64h2.7C65 69 64 74.4 64 80V96c0 17.7 14.3 32 32 32H224c17.7 0 32-14.3 32-32V80c0-5.6-1-11-2.7-16H256c17.7 0 32 14.3 32 32h32c0-35.3-28.7-64-64-64H210.6c-9-18.9-28.3-32-50.6-32s-41.6 13.1-50.6 32H64C28.7 32 0 60.7 0 96V384c0 35.3 28.7 64 64 64H192V416H64c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32zM288 480c-17.7 0-32-14.3-32-32V192c0-17.7 14.3-32 32-32h96v56c0 22.1 17.9 40 40 40h56V448c0 17.7-14.3 32-32 32H288zM416 165.3L474.7 224H424c-4.4 0-8-3.6-8-8V165.3zM448 512c35.3 0 64-28.7 64-64V235.9c0-12.7-5.1-24.9-14.1-33.9l-59.9-59.9c-9-9-21.2-14.1-33.9-14.1H288c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H448z"/></symbol>
<symbol id="svg-cut" viewBox="0 0 512 512"><path d="M485.6 444.2L333.6 314.9C326.9 309.2 326.1 299.1 331.8 292.4C337.5 285.6 347.6 284.8 354.4 290.5L506.4 419.8C513.1 425.5 513.9 435.6 508.2 442.4C502.5 449.1 492.4 449.9 485.6 444.2zM485.7 67.76C492.5 62.07 502.5 62.94 508.2 69.69C513.9 76.45 513.1 86.55 506.3 92.24L208.5 343.1C218.3 359.7 224 379.2 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 288 112 288C141.5 288 168.4 299.4 188.4 318.1L262.2 256L188.4 193.9C168.4 212.6 141.5 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 132.8 218.3 152.3 208.5 168.9L287 235.1L485.7 67.76zM32 112C32 156.2 67.82 192 112 192C156.2 192 192 156.2 192 112C192 67.82 156.2 32 112 32C67.82 32 32 67.82 32 112zM112 480C156.2 480 192 444.2 192 400C192 355.8 156.2 320 112 320C67.82 320 32 355.8 32 400C32 444.2 67.82 480 112 480z"/></symbol>
<symbol id="svg-copy" viewBox="0 0 512 512"><path d="M272 416C263.2 416 256 423.2 256 432V448c0 17.67-14.33 32-32 32H64c-17.67 0-32-14.33-32-32V192c0-17.67 14.33-32 32-32h112C184.8 160 192 152.8 192 144C192 135.2 184.8 128 176 128H63.99c-35.35 0-64 28.65-64 64l.0098 256C0 483.3 28.65 512 64 512h160c35.35 0 64-28.65 64-64v-16C288 423.2 280.8 416 272 416zM502.6 86.63l-77.25-77.25C419.4 3.371 411.2 0 402.7 0H288C252.7 0 224 28.65 224 64v256c0 35.35 28.65 64 64 64h160c35.35 0 64-28.65 64-64V109.3C512 100.8 508.6 92.63 502.6 86.63zM416 45.25L466.7 96H416V45.25zM480 320c0 17.67-14.33 32-32 32h-160c-17.67 0-32-14.33-32-32V64c0-17.67 14.33-32 32-32h96l.0026 64c0 17.67 14.33 32 32 32H480V320z"/>
</symbol>
<symbol id="svg-angle-double-right" viewBox="0 0 512 512"><path d="M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"/>
</symbol>
<symbol id="svg-angle-double-left" viewBox="0 0 512 512"><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"/>
</symbol>
<symbol id="svg-trash" viewBox="0 0 448 512">
  <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>
</symbol>
<symbol id="svg-keyboard-down" viewBox="0 0 576 512"><path d="M64 48c-8.8 0-16 7.2-16 16V240c0 8.8 7.2 16 16 16H512c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64zM0 64C0 28.7 28.7 0 64 0H512c35.3 0 64 28.7 64 64V240c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM159 359c9.4-9.4 24.6-9.4 33.9 0l95 95 95-95c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L305 505c-4.5 4.5-10.6 7-17 7s-12.5-2.5-17-7L159 393c-9.4-9.4-9.4-24.6 0-33.9zm1-167c0-8.8 7.2-16 16-16H400c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V192zM120 88h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H120c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H200c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H280c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H360c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H440c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16z"/></symbol>
</svg>`;function bR(e,n={shifted:!1}){var r,i,a,o,l,s,u;let c="",d=null!=(r=e.class)?r:"";if(n.shifted&&/(^|\s)shift($|\s)/.test(d)&&(d+=" is-active"),n.shifted&&"shift"in e)"string"==typeof e.shift?c=bC(e.shift):"object"==typeof e.shift&&(c=e.shift.label?e.shift.label:null!=(i=bC(e.shift.latex||e.shift.insert||"")||e.shift.key)?i:""),"object"==typeof e.shift&&(d=null!=(o=null!=(a=e.shift.class)?a:e.class)?o:"");else{if(c=e.label?e.label:null!=(l=bC(e.latex||e.insert||"")||e.key)?l:"",e.shift){let n;n="string"==typeof e.shift?bC(e.shift):e.shift.label?e.shift.label:null!=(s=bC(e.shift.latex||e.shift.insert||"")||e.shift.key)?s:"",c+=`<span class="MLK__shift">${n}</span>`}e.aside&&(c+=`<aside>${e.aside}</aside>`)}return e.layer&&!/layer-switch/.test(d)&&(d+=" layer-switch"),/(^|\s)(separator|action|shift|fnbutton|bigfnbutton)($|\s)/.test(d)||(d+=" MLK__keycap"),!/\bw[0-9]+\b/.test(d)&&e.width&&(d+=null!=(u=({0:" w0",.5:" w5",1.5:" w15",2:" w20",5:" w50"})[e.width])?u:""),[c,d||"MLK__keycap"]}var bS={"[left]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-left /></svg>",command:["performWithFeedback","moveToPreviousChar"],shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-left /></svg>",command:["performWithFeedback","extendSelectionBackward"]}},"[right]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-right /></svg>",command:["performWithFeedback","moveToNextChar"],shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-right /></svg>",command:["performWithFeedback","extendSelectionForward"]}},"[return]":{class:"action",command:["performWithFeedback","commit"],width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[action]":{class:"action",command:["performWithFeedback","commit"],width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[hr]":{class:"separator horizontal-rule"},"[hide-keyboard]":{class:"action",command:["performWithFeedback","hideVirtualKeyboard"],width:1.5,label:"<svg class=svg-glyph-lg><use xlink:href=#svg-keyboard-down /></svg>"},"[.]":{variants:".",command:"insertDecimalSeparator",shift:",",class:"big-op hide-shift"},"[+]":{variants:[{latex:"\\sum_{#0}^{#0}",class:"small"},"\\oplus"],latex:"+",label:"+",class:"big-op hide-shift",shift:{latex:"\\sum",insert:"\\sum_{#?}^{#?}",class:"small"}},"[-]":{variants:["\\pm","\\ominus"],latex:"-",label:"&#x2212;",shift:"\\pm",class:"big-op hide-shift"},"[/]":{class:"big-op hide-shift",shift:{class:"",latex:"\\frac{1}{#@}"},variants:["/","\\div","\\%","\\oslash"],latex:"\\frac{#@}{#?}",label:"&divide;"},"[*]":{variants:[{latex:"\\prod_{#0}^{#0}",class:"small"},"\\otimes"],latex:"\\times",label:"&times;",shift:{latex:"\\prod",insert:"\\prod_{#?}^{#?}",class:"small"},class:"big-op hide-shift"},"[=]":{variants:["\\neq","\\equiv","\\varpropto","\\thickapprox","\\lt","\\gt","\\le","\\ge"],latex:"=",label:"=",shift:{label:"",latex:"\\ne"},class:"big-op hide-shift"},"[backspace]":{class:"action bottom right hide-shift",width:1.5,command:["performWithFeedback","deleteBackward"],label:"<svg class=svg-glyph><use xlink:href=#svg-delete-backward /></svg>",shift:{class:"action warning",label:"<svg class=svg-glyph><use xlink:href=#svg-trash /></svg>",command:"deleteAll"}},"[undo]":{class:"ghost if-can-undo",command:"undo",label:"<svg class=svg-glyph><use xlink:href=#svg-undo /></svg>",tooltip:ph("tooltip.undo")},"[redo]":{class:"ghost  if-can-redo",command:"redo",label:"<svg class=svg-glyph><use xlink:href=#svg-redo /></svg>"},"[(]":{variants:["\\lbrack","\\langle","\\lfloor","\\lceil","\\lbrace"],latex:"(",label:"(",shift:{label:"[",latex:"\\lbrack"},class:"hide-shift"},"[)]":{variants:["\\rbrack","\\rangle","\\rfloor","\\rceil","\\rbrace"],latex:")",label:")",shift:{label:"]",latex:"\\rbrack"},class:"hide-shift"},"[0]":{variants:"0",latex:"0",label:"0",shift:"\\infty",class:"hide-shift"},"[1]":{variants:"1",latex:"1",label:"1",shift:"#@^{-1}",class:"hide-shift"},"[2]":{variants:"2",latex:"2",label:"2",shift:"#@^2",class:"hide-shift"},"[3]":{variants:"3",latex:"3",label:"3",shift:"#@^3",class:"hide-shift"},"[4]":{variants:"4",latex:"4",label:"4",shift:"#@^4",class:"hide-shift"},"[5]":{variants:"5",latex:"5",label:"5",shift:"#@^5",class:"hide-shift"},"[6]":{variants:"6",latex:"6",label:"6",shift:"#@^6",class:"hide-shift"},"[7]":{variants:"7",latex:"7",label:"7",shift:"#@^7",class:"hide-shift"},"[8]":{variants:"8",latex:"8",label:"8",shift:"#@^8",class:"hide-shift"},"[9]":{variants:"9",latex:"9",label:"9",shift:"#@^9",class:"hide-shift"},"[separator-5]":{class:"separator",width:.5},"[separator]":{class:"separator"},"[separator-10]":{class:"separator"},"[separator-15]":{class:"separator",width:1.5},"[separator-20]":{class:"separator",width:2},"[separator-50]":{class:"separator",width:5},"[shift]":{class:"shift bottom left",width:1.5,label:"<span class=caps-lock-indicator></span><svg class=svg-glyph><use xlink:href=#svg-shift /></svg>"},"[foreground-color]":{variants:"foreground-color",command:["applyStyle",{color:"red"}],label:"<span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'>"},"[background-color]":{variants:"background-color",command:["applyStyle",{backgroundColor:"yellow"}],label:"<span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span>"}};function bA(e){var n;if("string"==typeof e){if(!bS[e])return{latex:e};e={label:e}}if("label"in e&&e.label&&bS[e.label]){let r=pr(pn(pn({},bS[e.label]),e),{label:bS[e.label].label});return"insertDecimalSeparator"===r.command&&(r.label=null!=(n=window.MathfieldElement.decimalSeparator)?n:"."),"[action]"===e.label&&(r=pn(pn({},r),window.mathVirtualKeyboard.actionKeycap)),"[shift]"===e.label&&(r=pn(pn({},r),window.mathVirtualKeyboard.shiftKeycap)),"[backspace]"===e.label&&(r=pn(pn({},r),window.mathVirtualKeyboard.backspaceKeycap)),"[tab]"===e.label&&(r=pn(pn({},r),window.mathVirtualKeyboard.tabKeycap)),r}return e}function bI(e){var n;if(0!==e.button)return;let r=bH.singleton,i=e.target;for(;i&&!i.getAttribute("data-layer");)i=i.parentElement;if(i){r.currentLayer=null!=(n=i.getAttribute("data-layer"))?n:"",e.preventDefault();return}let a=bN(e.target);if(!(null!=a&&a.id))return;let o=r.getKeycap(a.id);if(!o)return;e.type;let l=new AbortController;a.classList.add("is-pressed"),a.addEventListener("pointerenter",bL(l),{capture:!0,signal:l.signal}),a.addEventListener("pointerleave",bL(l),{capture:!0,signal:l.signal}),a.addEventListener("pointercancel",bL(l),{signal:l.signal}),a.addEventListener("pointerup",bL(l),{signal:l.signal}),o.class&&/(^|\s)shift($|\s)/.test(o.class)&&(a.classList.add("is-active"),r.isShifted=!0),o.variants&&(vP&&clearTimeout(vP),vP=setTimeout(()=>{a.classList.contains("is-pressed")&&(a.classList.remove("is-pressed"),a.classList.add("is-active"),e.target&&"releasePointerCapture"in e.target&&e.target.releasePointerCapture(e.pointerId),bO(a,()=>{l.abort(),null==a||a.classList.remove("is-active")}))},200)),e.preventDefault()}function bL(e){return n=>{let r=bN(n.target);if(!(null!=r&&r.id))return;let i=bH.singleton,a=i.getKeycap(r.id);if(a){if("pointerenter"===n.type&&n.target===r&&n.isPrimary&&r.classList.add("is-pressed"),"pointercancel"===n.type){r.classList.remove("is-pressed"),a.class&&/(^|\s)shift($|\s)/.test(a.class)&&(i.isShifted=!1,r.classList.toggle("is-active",i.isShifted)),e.abort();return}if("pointerleave"===n.type&&n.target===r){r.classList.remove("is-pressed"),a.class&&/(^|\s)shift($|\s)/.test(a.class)&&(i.isShifted=!1,r.classList.toggle("is-active",i.isShifted));return}if("pointerup"===n.type){vP&&clearTimeout(vP),a.class&&/(^|\s)shift($|\s)/.test(a.class)?(i.isShifted=!1,r.classList.toggle("is-active",i.isShifted)):r.classList.contains("is-pressed")&&(r.classList.remove("is-pressed"),r.classList.add("is-active"),setTimeout(()=>null==r?void 0:r.classList.remove("is-active"),150),bH.singleton.isShifted&&a.shift?"string"==typeof a.shift?bH.singleton.executeCommand(["insert",a.shift,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex",resetStyle:!0}]):bM(a.shift):bM(a)),e.abort(),n.preventDefault();return}}}}function bM(e){let n=e.command;!n&&e.insert&&(n=["insert",e.insert,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex",resetStyle:!0}]),!n&&e.latex&&(n=["insert",e.latex,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex",resetStyle:!0}]),n||(n=["typedText",e.key||e.label,{focus:!0,feedback:!0,simulateKeystroke:!0}]),bH.singleton.executeCommand(n)}function bN(e){if(!e)return;let n=e;for(;n&&!function(e){if(1!==e.nodeType)return!1;let n=e.classList;return n.contains("MLK__keycap")||n.contains("shift")||n.contains("action")||n.contains("fnbutton")||n.contains("bigfnbutton")}(n);)n=n.parentElement;return null!=n?n:void 0}var bD=(e,n)=>`
  <line x1="${e+20}" y1="${n+20}" 
    x2="${e>n?e+20:180}" 
    y2="${e<n?n+20:180}"/>
  <svg id="plus" viewBox="0 0 40 40" x="${e}" y="${n}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.34-3.33,3.34h-6.67v6.66c0,1.84-1.49,3.34-3.33,3.34s-3.34-1.5-3.34-3.34v-6.66h-6.66c-1.84,0-3.34-1.5-3.34-3.34s1.5-3.33,3.34-3.33h6.66v-6.67c0-1.84,1.5-3.33,3.34-3.33s3.33,1.49,3.33,3.33v6.67h6.67c1.84,0,3.33,1.49,3.33,3.33Z"/>
  </svg>`,bB=(e,n)=>`
  <line x1="${e+20}" y1="${n+20}" 
    x2="${e>n?e+20:180}" 
    y2="${e<n?n+20:180}"/>
  <svg id="minus" viewBox="0 0 40 40" x="${e}" y="${n}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.33-3.33,3.33H10c-1.84,0-3.34-1.49-3.34-3.33s1.5-3.34,3.34-3.34h20c1.84,0,3.33,1.5,3.33,3.34Z"/>
  </svg>`,bP=(e,n,r)=>`
  <svg id="arrow" viewBox="0 0 40 40" x="${e}" y="${n}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <g transform="rotate(${r})" transform-origin="20 20">
      <path class="font" d="m17.7,7.23h4.6c.52,0,.94.42.94.94v13.82c0,.52.42.94.94.94h3.39c.83,0,1.25,1.01.66,1.6l-7.56,7.56c-.37.37-.96.37-1.32,0l-7.56-7.56c-.59-.59-.17-1.6.66-1.6h3.39c.52,0,.94-.42.94-.94v-13.82c0-.52.42-.94.94-.94Z"/>
    </g>  
  </svg>`,bK=`
<svg class="MLK__array-buttons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
viewBox=
"-2 -2 205 205">
  <rect 
      class="MLK__array-insert-background rows"
      x="0" 
      y="52" 
      height="144" 
      width="48" 
      rx="24"/>
      <rect 
      class="MLK__array-insert-background columns"
      x="52" 
      y="0" 
      height="48" 
      width="144" 
      rx="24"/>
  <g data-command='"moveDown"'>
  ${bP(104,152,0)}
  </g>
  <g data-command='"moveUp"'>
  ${bP(104,56,180)}
  </g>
  <g data-command='"moveToNextWord"'>
  ${bP(152,104,-90)}
  </g>
  <g data-command='"moveToPreviousWord"'>
  ${bP(56,104,90)}
  </g>
  <g>

  <g data-command='"addColumnBefore"'>
  ${bD(56,4)}
  </g>
  <g data-command='"removeColumn"'>
  ${bB(104,4)}
  </g>
  <g data-command='"addColumnAfter"'>
  ${bD(152,4)}
  </g>
  <g data-command='"addRowBefore"'>
  ${bD(4,56)}
  </g>
  <g data-command='"removeRow"'>
  ${bB(4,104)}
  </g>
  <g data-command='"addRowAfter"'>
    ${bD(4,152)}
  </g>
</svg>`,bU=e=>`
<svg id="Bmatrix" class="${e}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","Bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <path class="cls-2" d="m22,4c1.1,0,2,.9,2,2v3c0,1.66.9,3,2,3-1.1,0-2,1.34-2,3v3c0,1.1-.9,2-2,2"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,bV={matrix:e=>`
<svg id="matrix" class="${e}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","matrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,pmatrix:e=>`
<svg id="pmatrix" class="${e}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
data-command='["setEnvironment","pmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-3.96,4.6-3.96,11.4,0,16"/>
  <path class="cls-2" d="m22,4c3.96,4.6,3.96,11.4,0,16"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,bmatrix:e=>`
<svg id="bmatrix" class="${e}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4h-3v16h3"/>
  <path class="cls-2" d="m22,4h3v16h-3"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,Bmatrix:bU,vmatrix:e=>`
<svg id="vmatrix" class="${e}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="4" y1="4" x2="4" y2="20"/>
  <line class="cls-2" x1="24" y1="4" x2="24" y2="20"/>
</svg>`,Vmatrix:e=>`
<svg id="Vmatrix" class="${e}" xmlns="http://www.w3.org/2000/svg" viewBox="-3.5 -3 35 30" 
  data-command='["setEnvironment","Vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="6" y1="4" x2="6" y2="20"/>
  <line class="cls-2" x1="22" y1="4" x2="22" y2="20"/>
  <line class="cls-2" x1="2" y1="4" x2="2" y2="20"/>
  <line class="cls-2" x1="26" y1="4" x2="26" y2="20"/>
</svg>`},bG={cases:e=>`
<svg id="cases" class="${e}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","cases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m10,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <circle cx="13" cy="8" r="1"/>
  <circle cx="13" cy="16" r="1"/>
  <circle cx="21" cy="8" r="1"/>
  <circle cx="21" cy="16" r="1"/>
</svg>`,rcases:e=>`
<svg id="rcases" class="${e}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","rcases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m18,20c1.1,0,2-.9,2-2v-3c0-1.66.9-3,2-3-1.1,0-2-1.34-2-3v-3c0-1.1-.9-2-2-2"/>
  <circle cx="15" cy="8" r="1"/>
  <circle cx="15" cy="16" r="1"/>
  <circle cx="7" cy="8" r="1"/>
  <circle cx="7" cy="16" r="1"/>
</svg>`,Bmatrix:bU};function bF(e){var n,r;null==(r=null==(n=e.container)?void 0:n.querySelector(".MLK__environment-panel"))||r.classList.remove("is-visible")}var bH=class{constructor(){var e,n,r;this.originalContainerBottomPadding=null,this.keycapRegistry={},this._isCapslock=!1,this._isShifted=!1,this.targetOrigin=window.origin,this.originValidator="none",this._alphabeticLayout="auto",this._layouts="default",this._editToolbar="default",this._container=null!=(n=null==(e=window.document)?void 0:e.body)?n:null,this._visible=!1,this._dirty=!1,this.observer=new ResizeObserver(e=>{this.adjustBoundingRect(),this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect})}),this.listeners={},null==(r=window.top)||r.addEventListener("message",this),document.body.addEventListener("focusin",e=>{var n;let r=e.target;null!=r&&r.isConnected&&(null==(n=r.tagName)?void 0:n.toLowerCase())==="math-field"&&("matchMedia"in window?window.matchMedia("(any-pointer: coarse)").matches:"ontouchstart"in window||navigator.maxTouchPoints>0)&&("auto"!==r.mathVirtualKeyboardPolicy||r.readOnly||this.show({animate:!0}))}),document.addEventListener("focusout",e=>{"manual"!==e.target.mathVirtualKeyboardPolicy&&setTimeout(()=>{var e,n,r;let i=document.activeElement,a=!1;for(;i;){if((null==(e=i.tagName)?void 0:e.toLowerCase())==="math-field"){a=!0;break}i=null!=(r=null==(n=i.shadowRoot)?void 0:n.activeElement)?r:null}a||this.hide()},300)})}get currentLayer(){var e,n,r;return null!=(r=null==(n=null==(e=this._element)?void 0:e.querySelector(".MLK__layer.is-visible"))?void 0:n.id)?r:""}set currentLayer(e){var n;if(!this._element){this.latentLayer=e;return}let r=e?this._element.querySelector(`#${e}.MLK__layer`):null;r||(r=this._element.querySelector(".MLK__layer")),r&&(null==(n=this._element.querySelector(".MLK__layer.is-visible"))||n.classList.remove("is-visible"),r.classList.add("is-visible"))}get isCapslock(){return this._isCapslock}set isCapslock(e){var n;e!==this._isCapslock&&(null==(n=this._element)||n.classList.toggle("is-caps-lock",e),this._isCapslock=e,this.isShifted=e)}get isShifted(){return this._isShifted}set isShifted(e){this._isCapslock&&(e=!0),this._isShifted!==e&&(this._isShifted=e,this.render())}resetKeycapRegistry(){this.keycapRegistry={}}registerKeycap(e){let n="ML__k"+Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36);return this.keycapRegistry[n]=e,n}getKeycap(e){return e?this.keycapRegistry[e]:void 0}getLayer(e){for(let n of this.normalizedLayouts)for(let r of n.layers)if(r.id===e)return r}get alphabeticLayout(){return this._alphabeticLayout}set alphabeticLayout(e){this._alphabeticLayout=e,this.rebuild()}get actionKeycap(){return this._actionKeycap}set actionKeycap(e){this._actionKeycap="string"==typeof e?{label:e}:e}get shiftKeycap(){return this._shiftKeycap}set shiftKeycap(e){this._shiftKeycap="string"==typeof e?{label:e}:e}get backspaceKeycap(){return this._backspaceKeycap}set backspaceKeycap(e){this._backspaceKeycap="string"==typeof e?{label:e}:e}get tabKeycap(){return this._tabKeycap}set tabKeycap(e){this._tabKeycap="string"==typeof e?{label:e}:e}get layouts(){return this._layouts}set layouts(e){this._normalizedLayouts=void 0,this._layouts=e,this.rebuild()}get normalizedLayouts(){if(!this._normalizedLayouts){let e=Array.isArray(this._layouts)?[...this._layouts]:[this._layouts],n=e.findIndex(e=>"default"===e);n>=0&&e.splice(n,1,"numeric","symbols","alphabetic","greek"),this._normalizedLayouts=e.map(e=>(function e(n){let r;if("alphabetic"===n)return function(){var e,n;let r=window.mathVirtualKeyboard.alphabeticLayout;if("auto"===r){let n=yG();n&&(r=n.virtualLayout),r&&"auto"!==r||(r=null!=(e=({fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"})[pd.locale.slice(0,2)])?e:"qwerty")}let i={qwerty:["qwertyuiop"," asdfghjkl ","^zxcvbnm~"],azerty:["azertyuiop","qsdfghjklm","^ wxcvbn ~"],qwertz:["qwertzuiop"," asdfghjkl ","^yxcvbnm~"],dvorak:["^  pyfgcrl ","aoeuidhtns","qjkxbmwvz~"],colemak:[" qwfpgjluy ","arstdhneio","^zxcvbkm~"]},a=null!=(n=i[r])?n:i.qwerty,o=[[{label:"1",variants:"1"},{label:"2",variants:"2"},{label:"3",variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{latex:"\\frac{#@}{#?}"},variants:"5"},{label:"6",shift:{latex:"#@^#?"},variants:"6"},{label:"7",variants:"4"},{label:"8",shift:{latex:"\\times"},variants:"8"},{label:"9",shift:{label:"(",latex:"("},variants:"9"},{label:"0",shift:{label:")",latex:")"},variants:"0"}]];for(let e of a){let n=[];for(let i of e)/[a-z]/.test(i)?n.push({label:i,class:"hide-shift",shift:{label:i.toUpperCase()},variants:bE(i)?i:void 0}):"~"===i?"dvorak"!==r?n.push("[backspace]"):n.push({label:"[backspace]",width:1}):"^"===i?n.push("[shift]"):" "===i&&n.push("[separator-5]");o.push(n)}return o.push(["[-]","[+]","[=]",{label:" ",width:1.5},",","[.]","[left]","[right]",{label:"[action]",width:1.5}]),{label:"abc",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.alphabetic",layers:bT({rows:o})}}();if("string"==typeof n)return bg[n],e(bg[n]);if("rows"in n&&Array.isArray(n.rows)){let{rows:e}=n;r=pr(pn({},pa(n,["rows"])),{layers:bT({rows:n.rows})})}else if("markup"in n&&"string"==typeof n.markup){let{markup:e}=n;r=pr(pn({},pa(n,["markup"])),{layers:bT(n.markup)})}else r=pn({},n),"layers"in n?r.layers=bT(n.layers):console.error('MathLive 0.92.1: provide either a "rows", "markup" or "layers" property');let i=!1,a=!1;for(let e of r.layers)if(e.rows)for(let n of e.rows.flat()){let e=n.label;"string"!=typeof n&&n.class&&/(^|\s)shift($|\s)/.test(n.class)&&(i=!0),["[undo]","[redo]","[cut]","[copy]","[paste]"].includes(e)&&(a=!0)}return"displayShiftedKeycaps"in n&&void 0!==n.displayShiftedKeycaps||(r.displayShiftedKeycaps=i),"displayEditToolbar"in n&&void 0!==n.displayEditToolbar||(r.displayEditToolbar=!a),r})(e))}return this._normalizedLayouts}get editToolbar(){return this._editToolbar}set editToolbar(e){this._editToolbar=e,this.rebuild()}get container(){return this._container}set container(e){this._container=e,this.rebuild()}static get singleton(){return this._singleton||(this._singleton=new bH),this._singleton}get style(){return this._style}addEventListener(e,n,r){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].has(n)||this.listeners[e].add(n)}dispatchEvent(e){return!this.listeners[e.type]||0===this.listeners[e.type].size||(this.listeners[e.type].forEach(n=>{"function"==typeof n?n(e):null==n||n.handleEvent(e)}),!e.defaultPrevented)}removeEventListener(e,n,r){this.listeners[e]&&this.listeners[e].delete(n)}get element(){return this._element}set element(e){var n;this._element!==e&&(null==(n=this._element)||n.remove(),this._element=e)}get visible(){return this._visible}set visible(e){e?this.show():this.hide()}get boundingRect(){var e;if(!this._visible)return new DOMRect;let n=null==(e=this._element)?void 0:e.getElementsByClassName("MLK__plate")[0];return n?n.getBoundingClientRect():new DOMRect}adjustBoundingRect(){var e,n;let r=this.boundingRect.height;if(this.container===document.body){null==(e=this._element)||e.style.setProperty("--keyboard-height",`calc(${r}px + env(safe-area-inset-bottom, 0))`);let n=r-1;this.container.style.paddingBottom=this.originalContainerBottomPadding?`calc(${this.originalContainerBottomPadding} + ${n}px)`:`${n}px`}else null==(n=this._element)||n.style.setProperty("--keyboard-height",`${r}px`)}rebuild(){if(!this._element){this._dirty=!1;return}if(this._dirty)return;this._dirty=!0;let e=this.currentLayer;requestAnimationFrame(()=>{this._dirty=!1,this._element&&(this._element.remove(),this._element=void 0),this.visible&&(this.buildAndAttachElement(),this.adjustBoundingRect(),this.currentLayer=e,this.render(),this._element.classList.add("is-visible"))})}render(){if(!this._element)return;let e=this.getLayer(this.currentLayer);this._element.classList.toggle("backdrop-is-transparent",!!(e&&(e.backdrop||e.container)));let n=this._element.querySelectorAll(".MLK__layer.is-visible .MLK__keycap, .MLK__layer.is-visible .action, .fnbutton, .MLK__layer.is-visible .bigfnbutton, .MLK__layer.is-visible .shift");if(n)for(let e of n){let n=this.getKeycap(e.id);if(n){let[r,i]=bR(n,{shifted:this.isShifted});e.innerHTML=window.MathfieldElement.createHTML(r),e.className=i}}}show(e){if(this._visible)return;let n=this.container;if(n&&this.stateWillChange(!0)){if(this._element||(this.buildAndAttachElement(),this.adjustBoundingRect()),!this._visible){let e=this._element.getElementsByClassName("MLK__plate")[0];if(e&&this.observer.observe(e),n===window.document.body){let r=n.style.paddingBottom;this.originalContainerBottomPadding=r;let i=e.offsetHeight-1;n.style.paddingBottom=r?`calc(${r} + ${i}px)`:`${i}px`}window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("keydown",this,{capture:!0}),window.addEventListener("keyup",this,{capture:!0}),this.currentLayer=this.latentLayer,this.render()}this._visible=!0,null!=e&&e.animate?requestAnimationFrame(()=>{this._element&&(this._element.classList.add("animate"),this._element.addEventListener("transitionend",()=>{var e;return null==(e=this._element)?void 0:e.classList.remove("animate")},{once:!0}),this._element.classList.add("is-visible")),this.stateChanged()}):(this._element.classList.add("is-visible"),this.stateChanged())}}hide(e){var n;let r=this.container;if(r&&this._visible&&this.stateWillChange(!1)){if(this._visible=!1,this._element){this.latentLayer=this.currentLayer;let e=this._element.getElementsByClassName("MLK__plate")[0];e&&this.observer.unobserve(e),window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("keydown",this,{capture:!0}),window.removeEventListener("keyup",this,{capture:!0}),window.removeEventListener("contextmenu",this,{capture:!0}),bw(),null==vN||vN.release(),vN=null,null==vD||vD.release(),vD=null,null==(n=this._element)||n.remove(),this._element=void 0,null!==this.originalContainerBottomPadding&&(r.style.paddingBottom=this.originalContainerBottomPadding)}this.stateChanged()}}get height(){var e,n;return null!=(n=null==(e=this.element)?void 0:e.offsetHeight)?n:0}buildAndAttachElement(){var e;this.element,this.element=function(e){e.resetKeycapRegistry(),vD||(vB||(vB=yI(bf).toString(36)),vD=yL(null,bf,vB)),vN||(vN=yL(null,yZ,yI(yZ).toString(36)),ba());let n=document.createElement("div");n.className="ML__keyboard";let r=document.createElement("div");r.className="MLK__plate",r.innerHTML=window.MathfieldElement.createHTML(bk+e.normalizedLayouts.map((n,r)=>(function(e,n,r){let i=[];if(!("layers"in n))return"";for(let a of n.layers)i.push(`<div tabindex="-1" class="MLK__layer" id="${a.id}">`),i.push("<div class='MLK__toolbar' role='toolbar'>"),i.push(function(e,n){var r,i;let a='<div class="left">';if(e.normalizedLayouts.length>1)for(let[o,l]of e.normalizedLayouts.entries()){let e=[o===n?"selected":"layer-switch"];l.tooltip&&e.push("MLK__tooltip"),l.labelClass&&e.push(...l.labelClass.split(" ")),a+=`<div class="${e.join(" ")}"`,l.tooltip&&(a+=" data-tooltip='"+(null!=(r=ph(l.tooltip))?r:l.tooltip)+"' "),o!==n&&(a+=`data-layer="${l.layers[0].id}"`),a+=`>${null!=(i=l.label)?i:"untitled"}</div>`}return a+"</div>"}(e,r)),n.displayEditToolbar&&i.push('<div class="ML__edit-toolbar right"></div>'),i.push("</div>"),i.push(function(e,n){var r;if("string"==typeof n)return n;let i="";if("string"==typeof n.style?i+=`<style>${n.style}</style>`:"object"==typeof n.style&&(i+=`<style>${Object.keys(r=n.style).map(e=>{var n;return`${e} {${"string"==typeof(n=r[e])?n:Object.entries(n).map(([e,n])=>`${e}:${n} !important`).join(";")}}`}).join("")}</style>`),n.backdrop&&(i+=`<div class='${n.backdrop}'>`),n.container&&(i+=`<div class='${n.container}'>`),n.rows){for(let r of(i+="<div class='MLK__rows'>",n.rows)){for(let n of(i+="<div class=row>",r))if(n){let r=e.registerKeycap(n),[a,o]=bR(n);/(^|\s)separator/.test(o)?i+=`<div class="${o}"`:i+=`<div tabindex="-1" id="${r}" class="${o}"`,n.tooltip&&(i+=` data-tooltip="${n.tooltip}"`),i+=`>${a}</div>`}i+="</div>"}i+="</div>"}else n.markup&&(i+=n.markup);return n.container&&(i+="</div>"),n.backdrop&&(i+="</div>"),i}(e,a)),i.push("</div>");return i.join("")})(e,n,r)).join(""));let i=document.createElement("div");i.className="MLK__backdrop",i.appendChild(r),n.appendChild(i),n.addEventListener("pointerdown",bI,{passive:!1});let a=n.querySelectorAll(".ML__edit-toolbar");if(a)for(let n of a)n.addEventListener("click",n=>{var r,i;let a=n.target,o="";for(;a&&!o;)o=null!=(r=null==a?void 0:a.getAttribute("data-command"))?r:"",a=null!=(i=null==a?void 0:a.parentElement)?i:null;o&&e.executeCommand(JSON.parse(o))});!function(e){for(let n of e)(function(e){let n={};if(!e.id){if(e.hasAttribute("data-label")&&(n.label=e.dataset.label),e.hasAttribute("data-latex")&&(n.latex=e.dataset.latex),e.hasAttribute("data-key")&&(n.key=e.dataset.key),e.hasAttribute("data-insert")&&(n.insert=e.dataset.insert),e.hasAttribute("data-variants")&&(n.variants=e.dataset.variants),e.hasAttribute("data-aside")&&(n.aside=e.dataset.aside),e.className&&(n.class=e.className),n.label||n.latex||n.key||n.insert||(n.latex=e.innerText,n.label=e.innerHTML),e.hasAttribute("data-command"))try{n.command=JSON.parse(e.dataset.command)}catch(e){}e.id=bH.singleton.registerKeycap(n)}if(!e.innerHTML){let[r,i]=bR(n);e.innerHTML=window.MathfieldElement.createHTML(r)}})(n)}(n.querySelectorAll(".MLK__keycap, .action, .fnbutton, .bigfnbutton"));let o=n.querySelectorAll(".MLK__layer");for(let e of(o.length,o))e.addEventListener("pointerdown",e=>e.preventDefault());return e.currentLayer=e.latentLayer,n}(this),window.addEventListener("contextmenu",this,{capture:!0}),this.element.addEventListener("contextmenu",e=>{e.shiftKey||((e.ctrlKey||2===e.button)&&bO(e.target),e.preventDefault(),e.stopPropagation())},{capture:!0}),null==(e=this.container)||e.appendChild(this.element)}handleEvent(e){if(bp(e)){if(!yx(e.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");"disconnect"===e.data.action?this.connectedMathfieldWindow=void 0:"update-setting"!==e.data.action&&"proxy-created"!==e.data.action&&"execute-command"!==e.data.action&&(e.source,this.connectedMathfieldWindow=e.source),this.handleMessage(e.data,e.source)}if(this._element)switch(e.type){case"mouseup":case"blur":document.body.style.userSelect="",this.isShifted=!1;break;case"contextmenu":2!==e.button&&e.preventDefault();break;case"keydown":this.isCapslock=e.getModifierState("CapsLock"),"Shift"===e.key&&(this.isShifted=!0);break;case"keyup":"Shift"===e.key&&(this.isShifted=!1),this.isCapslock=e.getModifierState("CapsLock")}}handleMessage(e,n){let{action:r}=e;if("execute-command"===r){let{command:n}=e;if("virtual-keyboard"!==bd(n)&&window===window.parent)return;this.executeCommand(n);return}if("connect"===r&&this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},n),"disconnect"!==r&&window===window.top){if("show"===r){void 0!==e.animate?this.show({animate:e.animate}):this.show();return}if("hide"===r){void 0!==e.animate?this.hide({animate:e.animate}):this.hide();return}if("update-setting"===r){e.alphabeticLayout&&(this.alphabeticLayout=e.alphabeticLayout),e.layouts&&(this.layouts=e.layouts),e.editToolbar&&(this.editToolbar=e.editToolbar);return}if("proxy-created"===r){this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},n);return}}}sendMessage(e,n,r){if(r||(r=this.connectedMathfieldWindow),null===this.targetOrigin||"null"===this.targetOrigin||r===window){window.dispatchEvent(new MessageEvent("message",{source:window,data:pn({type:bh,action:e},n)}));return}null==r||r.postMessage(pn({type:bh,action:e},n),{targetOrigin:this.targetOrigin})}stateWillChange(e){return this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:e},bubbles:!0,cancelable:!0,composed:!0}))}stateChanged(){this.dispatchEvent(new Event("virtual-keyboard-toggle")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect})}focus(){this.sendMessage("focus",{})}blur(){this.sendMessage("blur",{})}updateToolbar(e){let n=this._element;if(!n)return;n.classList.toggle("can-undo",e.canUndo),n.classList.toggle("can-redo",e.canRedo),n.classList.toggle("can-copy",!e.selectionIsCollapsed),n.classList.toggle("can-copy",!e.selectionIsCollapsed),n.classList.toggle("can-paste",!0);let r=n.querySelectorAll(".ML__edit-toolbar");if(r)for(let n of r)n.innerHTML=function(e,n){if("none"===e.editToolbar)return"";let r=[];n.selectionIsCollapsed?r.push("undo","redo","pasteFromClipboard"):r.push("cutToClipboard","copyToClipboard","pasteFromClipboard");let i={undo:`<div class='action ${!1===n.canUndo?"disabled":""}'
          data-command='"undo"'
          data-tooltip='${ph("tooltip.undo")}'>
          <svg><use xlink:href='#svg-undo' /></svg>
      </div>`,redo:`<div class='action ${!1===n.canRedo?"disabled":""}'
          data-command='"redo"'
          data-tooltip='${ph("tooltip.redo")}'>
          <svg><use xlink:href='#svg-redo' /></svg>
      </div>`,cutToClipboard:`
        <div class='action'
            data-command='"cutToClipboard"'
            data-tooltip='${ph("tooltip.cut to clipboard")}'>
            <svg><use xlink:href='#svg-cut' /></svg>
        </div>
    `,copyToClipboard:`
        <div class='action'
            data-command='"copyToClipboard"'
            data-tooltip='${ph("tooltip.copy to clipboard")}'>
            <svg><use xlink:href='#svg-copy' /></svg>
        </div>
    `,pasteFromClipboard:`
        <div class='action'
            data-command='"pasteFromClipboard"'
            data-tooltip='${ph("tooltip.paste from clipboard")}'>
            <svg><use xlink:href='#svg-paste' /></svg>
        </div>
    `};return""+r.map(e=>i[e]).join("")}(this,e)}update(e){this._style=e.style,this.updateEnvironmemtPopover(e),this.updateToolbar(e)}updateEnvironmemtPopover(e){var n,r;e.array&&(r=null==(n=e.array)?void 0:n.environmentName,gC.concat(gE).concat(gw).concat(gO).includes(r))&&e.boundingRect&&this.visible&&"math"===e.mode?function(e,n,r){var i,a,o;bF(e);let l=n.array,s=0;l.forEach(e=>{(!s||e.length>s)&&(s=e.length)});let u,c=null==(i=e.container)?void 0:i.querySelector(".MLK__environment-panel");c?u=c:(u=document.createElement("div"),null==(o=null==(a=e.container)?void 0:a.querySelector(".ML__keyboard"))||o.appendChild(u)),u.setAttribute("aria-hidden","true"),u.className="MLK__environment-panel";let d,h=u.querySelector(".MLK__environment-controls");h?d=h:(d=document.createElement("div"),u.appendChild(d)),d.className="MLK__environment-controls",d.style.display="flex",d.style.width="100%",d.style.height="100%",d.style.boxSizing="border-box",d.innerHTML=bK;let p=[],m,f=n.environmentName;if(gT(f)){let e=f.replace("*","");m=bV[e]("active");let{[e]:n}=bV;p=Object.values(pa(bV,[pi(e)])).map(e=>e("inactive"))}else if(gw.includes(f)){let e="dcases"===f?"cases":f;m=bG[e]("active");let{[e]:n}=bG;p=Object.values(pa(bG,[pi(e)])).map(e=>e("inactive"))}else gE.includes(f)&&(m=bV.matrix("active"),p=Object.values(bG).map(e=>e("inactive")));let g=document.createElement("div");if(g.className="MLK__environment-delimiter-controls",g.style.display="flex",g.style.flexDirection="column",g.innerHTML=`
  <div class='MLK__array-delimiter-options'>
  ${m}
  ${p.join("")}
  </div>`,m&&d.appendChild(g),d.querySelectorAll("[data-command]").forEach(n=>{let r=n.dataset.command,i=r;try{i=JSON.parse(r)}catch(e){}n.addEventListener("mousedown",e=>e.preventDefault()),i&&n.addEventListener("click",()=>e.executeCommand(i))}),r){let e=r.left+20,n=r.top-u.clientHeight-15;u.style.transform=`translate(${e}px, ${n}px)`,u.classList.add("is-visible")}}(this,e.array,e.boundingRect):bF(this),this._style=e.style,this.updateToolbar(e)}connect(){this.connectedMathfieldWindow=window}disconnect(){bF(this),this.connectedMathfieldWindow=void 0}executeCommand(e){let n,r=[];return po(e)?(n=e[0],r=e.slice(1)):n=e,n=n.replace(/-\w/g,e=>e[1].toUpperCase()),"virtual-keyboard"===bd(e)?bv[n].fn(...r):(this.sendMessage("execute-command",{command:e}),!1)}dispose(){window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("message",this)}};if(pl()&&!("mathVirtualKeyboard"in window)){if(window===window.top){let e=bH.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>e})}else Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>bm.singleton,configurable:!0})}function bz(e,n){let r=b$(e,Object.keys(e));for(let e of Object.keys(n))switch(e){case"scriptDepth":if(po(n.scriptDepth))r.scriptDepth=[n.scriptDepth[0],n.scriptDepth[1]];else if("number"==typeof n.scriptDepth)r.scriptDepth=[n.scriptDepth,n.scriptDepth];else throw TypeError("Unexpected value for scriptDepth");break;case"mathVirtualKeyboardPolicy":let i=n.mathVirtualKeyboardPolicy.toLowerCase();if("sandboxed"===i){if(window!==window.top){let e=bH.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>e})}i="manual"}r.mathVirtualKeyboardPolicy=i;break;case"letterShapeStyle":"auto"===n.letterShapeStyle?pd.locale.startsWith("fr")?r.letterShapeStyle="french":r.letterShapeStyle="tex":r.letterShapeStyle=n.letterShapeStyle;break;case"defaultMode":["text","math","inline-math"].includes(n.defaultMode)?r.defaultMode=n.defaultMode:(console.error('MathLive 0.92.1:  valid values for defaultMode are "text", "math" or "inline-math"'),r.defaultMode="math");break;case"macros":r.macros=fU(n.macros);break;default:po(n[e])?r[e]=[...n[e]]:"object"==typeof n[e]?r[e]=pn({},n[e]):r[e]=n[e]}return r}function b$(e,n){let r;r="string"==typeof n?[n]:void 0===n?Object.keys(e):n;let i={};for(let n of r)null===e[n]?i[n]=null:po(e[n])?i[n]=[...e[n]]:"object"!=typeof e[n]||e[n]instanceof Element||"computeEngine"===n?i[n]=e[n]:i[n]=pn({},e[n]);return"string"==typeof n?i[n]:i}function bZ(){return{readOnly:!1,defaultMode:"math",macros:fP(),registers:{},colorMap:pv,backgroundColorMap:p_,letterShapeStyle:pd.locale.startsWith("fr")?"french":"tex",smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,mathModeSpace:"",placeholderSymbol:"",popoverPolicy:"auto",keybindings:yc,inlineShortcuts:ye,inlineShortcutTimeout:0,mathVirtualKeyboardPolicy:"auto",virtualKeyboardTargetOrigin:null==window?void 0:window.origin,originValidator:"none",onInlineShortcut:()=>"",onScrollIntoView:null,onExport:yl,value:""}}function bj(e){return"inline-math"===e.defaultMode?"math":e.defaultMode}function bW(e){return"number"==typeof e&&!Number.isNaN(e)}function bq(e){return Array.isArray(e)&&2===e.length}function bY(e){return null!=e&&"object"==typeof e&&"ranges"in e&&Array.isArray(e.ranges)}var bX={"\\ne":"<mo>&ne;</mo>","\\neq":"<mo>&neq;</mo>","\\pm":"&#177;","\\times":"&#215;","\\colon":":","\\vert":"|","\\Vert":"","\\mid":"","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"","\\rangle":"","\\lfloor":"","\\rfloor":"","\\lceil":"","\\rceil":"","\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"},bJ="<mo>&#x2061;</mo>",bQ="<mo>&#8290;</mo>";function b0(e){return e.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function b1(e,n){return e&&n.generateID?` extid="${e}"`:""}function b2(e,n,r){var i;let a=n.atoms[n.index-1];if(!a)return!1;if(!a.superscript&&!a.subscript){if((null==(i=n.atoms[n.index])?void 0:i.type)!=="subsup")return!1;a=n.atoms[n.index],n.index+=1}let o=b3(a.superscript,r),l=b3(a.subscript,r);if(!o&&!l)return!1;let s="";return o&&l?s=`<msubsup>${e}${l}${o}</msubsup>`:o?s=`<msup>${e}${o}</msup>`:l&&(s=`<msub>${e}${l}</msub>`),n.mathML+=s,n.lastType="",!0}function b3(e,n,r,i){null!=n||(n={});let a={atoms:[],index:null!=r?r:0,mathML:"",lastType:""};if("number"==typeof e||"boolean"==typeof e)a.mathML=e.toString();else if("string"==typeof e)a.mathML=e;else if(e instanceof fX)a.mathML=b5(e,n);else if(Array.isArray(e)){a.atoms=e;let r=0;for(i=i||(e?e.length:0);a.index<i;)if(function(e,n,r){n=null!=n?n:e.atoms.length;let i=e.index,a="";for(;e.index<n&&"text"===e.atoms[e.index].mode;)a+=e.atoms[e.index].value?e.atoms[e.index].value:" ",e.index+=1;return a.length>0&&(e.mathML+=`<mtext ${b1(e.atoms[i].id,r)}
      >${a}</mtext>`,e.lastType="mtext",!0)}(a,i,n)||function(e,n,r){var i;n=null!=n?n:e.atoms.length;let a=e.index,o="",l=function(e){let n=-1,r=e.index,i=!1,a=!1;for(;r<e.atoms.length&&!i&&!a;){let n=e.atoms[r];a=!(i=!n.isDigit())&&void 0!==n.superscript,r++}return a&&(n=r-1),n}(e);for(l>=0&&l<n&&(n=l);e.index<n&&e.atoms[e.index].isDigit();)o+=e.atoms[e.index].asDigit(),e.index+=1;return!(o.length<=0)&&(o="<mn"+b1(e.atoms[a].id,r)+">"+o+"</mn>",l<0&&(i=e).index<i.atoms.length&&i.atoms[i.index].superscript&&"subsup"===i.atoms[i.index].type&&(l=e.index,e.index+=1),b2(o,e,r)||(e.mathML+=o,e.lastType="mn"),!0)}(a,i,n)||function(e,n,r){var i,a,o,l,s,u,c,d;let h=!1;n=null!=n?n:e.atoms.length;let p="",m="",f=e.atoms[e.index];if("\\operatorname"===f.command)m=b6(f.body),e.index+=1;else{let r=null!=(a=null==(i=f.style)?void 0:i.variant)?a:"",h=null!=(l=null==(o=f.style)?void 0:o.variantStyle)?l:"";for(;e.index<n&&("mord"===f.type||"macro"===f.type)&&!f.isDigit()&&r===(null!=(u=null==(s=f.style)?void 0:s.variant)?u:"")&&h===(null!=(d=null==(c=f.style)?void 0:c.variantStyle)?d:"");)m+=b6([f]),e.index+=1,f=e.atoms[e.index]}return m.length>0&&(h=!0,p=`<mi>${m}</mi>`,"mi"!==e.lastType&&"mn"!==e.lastType&&"mtext"!==e.lastType&&"fence"!==e.lastType||/^<mo>(.*)<\/mo>$/.test(p)||(p=bQ+p),m.endsWith(">f</mi>")||m.endsWith(">g</mi>")?(p+=bJ,e.lastType="applyfunction"):e.lastType=/^<mo>(.*)<\/mo>$/.test(p)?"mo":"mi",b2(m,e,r)||(e.mathML+=p)),h}(a,i,n)||function(e,n,r){let i=!1;n=null!=n?n:e.atoms.length;let a="",o="",l=e.atoms[e.index];if(e.index<n&&("mbin"===l.type||"mrel"===l.type))a+=b5(e.atoms[e.index],r),e.index+=1,o="mo";else if(e.index<n&&"mop"===l.type){if("over-under"===l.subsupPlacement&&(l.superscript||l.subscript)){let e=b4(l,r);l.superscript&&l.subscript?a+="<munderover>"+e+b3(l.subscript,r)+b3(l.superscript,r)+"</munderover>":l.superscript?a+="<mover>"+e+b3(l.superscript,r)+"</mover>":l.subscript&&(a+="<munder>"+e+b3(l.subscript,r)+"</munder>"),o="mo"}else{let n=e.atoms[e.index],i="\\operatorname"===n.value,l=i?'<mi class="MathML-Unit"'+b1(n.id,r)+">"+b6(n.value)+"</mi>":b4(n,r);a+=l,i||/^<mo>(.*)<\/mo>$/.test(l)?o=i?"mi":"mo":(a+=bJ,o="applyfunction")}"mi"!==e.lastType&&"mn"!==e.lastType||/^<mo>(.*)<\/mo>$/.test(a)||(a=bQ+a),e.index+=1}return a.length>0&&(i=!0,b2(a,e,r)||(e.mathML+=a,e.lastType=o)),i}(a,i,n)||function(e,n,r){let i=!1;n=null!=n?n:e.atoms.length;let a="",o="";if(e.index<n&&"mopen"===e.atoms[e.index].type){let l=!1,s=0,u=e.index,c=-1,d=u+1;for(;d<n&&!l;)"mopen"===e.atoms[d].type?s+=1:"mclose"===e.atoms[d].type&&(s-=1),-1===s&&(l=!0,c=d),d+=1;l&&(a="<mrow>"+b4(e.atoms[u],r)+b3(e.atoms,r,u+1,c)+b4(e.atoms[c],r)+"</mrow>",e.index=c+1,("mi"===e.lastType||"mn"===e.lastType||"mfrac"===e.lastType||"fence"===e.lastType)&&(e.mathML+=bQ),b2(a,e,r)&&(i=!0,e.lastType="",a=""),o="fence")}return a.length>0&&(i=!0,e.mathML+=a,e.lastType=o),i}(a,i,n))r+=1;else if(a.index<i){let e=b5(a.atoms[a.index],n);"mn"===a.lastType&&e.length>0&&"genfrac"===a.atoms[a.index].type&&(e="<mo>&#x2064;</mo>"+e),"genfrac"===a.atoms[a.index].type?a.lastType="mfrac":a.lastType="",a.index+=1,b2(e,a,n)?r+=1:e.length>0&&(a.mathML+=e,r+=1)}r>1&&(a.mathML="<mrow>"+a.mathML+"</mrow>")}return a.mathML}function b4(e,n){let r="",i=b6(e.value);return i&&(r="<mo"+b1(e.id,n)+">"+i+"</mo>"),r}function b6(e){if(!e)return"";if("string"==typeof e)return b0(e);if(!Array.isArray(e)&&"string"==typeof e.body)return b0(e.body);let n="";for(let r of e)"string"==typeof r.value&&(n+=r.value);return b0(n)}function b5(e,n){var r,i,a,o,l,s,u,c,d,h,p,m,f,g,y,b,v,_,x,O,w,E,C,T,k;let R={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:""},S={"\\exponentialE":"&#x02147;","\\imaginaryI":"&#x2148;","\\differentialD":"&#x2146;","\\capitalDifferentialD":"&#x2145;","\\alpha":"&#x03b1;","\\pi":"&#x03c0;","\\infty":"&#x221e;","\\forall":"&#x2200;","\\nexists":"&#x2204;","\\exists":"&#x2203;","\\hbar":"","\\cdotp":"","\\ldots":"","\\cdots":"","\\ddots":"","\\vdots":"","\\ldotp":"."},A="",I="",L,M,N,D,B,P,K=null!=(i=({cal:"script",frak:"fraktur",bb:"double-struck",scr:"script",cmtt:"monospace",cmss:"sans-serif"})[null!=(r=e.fontFamily)?r:e.font])?i:"";K&&(K=` mathvariant="${K}"`);let{command:U}=e;if("text"===e.mode)A=`<mi${b1(e.id,n)}>${e.value}</mi>`;else switch(e.type){case"first":case"line":case"overlap":case"subsup":case"phantom":case"composition":case"chem":break;case"group":case"root":A=bX[e.command]?bX[e.command]:b3(e.body,n);break;case"array":if((e.leftDelim&&"."!==e.leftDelim||e.rightDelim&&"."!==e.rightDelim)&&(A+="<mrow>",e.leftDelim&&"."!==e.leftDelim&&(A+="<mo>"+(bX[e.leftDelim]||e.leftDelim)+"</mo>")),A+="<mtable",e.colFormat){for(A+=' columnalign="',N=0;N<e.colFormat.length;N++)e.colFormat[N].align&&(A+=({l:"left",c:"center",r:"right"})[e.colFormat[N].align]+" ");A+='"'}for(A+=">",M=0;M<e.array.length;M++){for(A+="<mtr>",L=0;L<e.array[M].length;L++)A+="<mtd>"+b3(e.array[M][L],n)+"</mtd>";A+="</mtr>"}A+="</mtable>",(e.leftDelim&&"."!==e.leftDelim||e.rightDelim&&"."!==e.rightDelim)&&(e.rightDelim&&"."!==e.rightDelim&&(A+="<mo>"+(bX[e.leftDelim]||e.rightDelim)+"</mo>"),A+="</mrow>");break;case"genfrac":(e.leftDelim||e.rightDelim)&&(A+="<mrow>"),e.leftDelim&&"."!==e.leftDelim&&(A+="<mo"+b1(e.id,n)+">"+(bX[e.leftDelim]||e.leftDelim)+"</mo>"),e.hasBarLine?A+="<mfrac>"+(b3(e.above,n)||"<mi>&nbsp;</mi>")+(b3(e.below,n)||"<mi>&nbsp;</mi>")+"</mfrac>":A+="<mtable"+b1(e.id,n)+"><mtr>"+b3(e.above,n)+"</mtr><mtr>"+b3(e.below,n)+"</mtr></mtable>",e.rightDelim&&"."!==e.rightDelim&&(A+="<mo"+b1(e.id,n)+">"+(bX[e.rightDelim]||e.rightDelim)+"</mo>"),(e.leftDelim||e.rightDelim)&&(A+="</mrow>");break;case"surd":e.hasEmptyBranch("above")?A+="<msqrt"+b1(e.id,n)+">"+b3(e.body,n)+"</msqrt>":A+="<mroot"+b1(e.id,n)+">"+b3(e.body,n)+b3(e.above,n)+"</mroot>";break;case"leftright":A="<mrow>",e.leftDelim&&"."!==e.leftDelim&&(A+="<mo"+b1(e.id,n)+">"+(null!=(a=bX[e.leftDelim])?a:e.leftDelim)+"</mo>"),e.body&&(A+=b3(e.body,n)),e.rightDelim&&"."!==e.rightDelim&&(A+="<mo"+b1(e.id,n)+">"+(null!=(o=bX[e.rightDelim])?o:e.rightDelim)+"</mo>"),A+="</mrow>";break;case"sizeddelim":case"delim":A+='<mo separator="true"'+b1(e.id,n)+">"+(bX[e.delim]||e.delim)+"</mo>";break;case"accent":A+='<mover accent="true"'+b1(e.id,n)+">"+b3(e.body,n)+"<mo>"+(bX[U]||e.accent)+"</mo></mover>";break;case"overunder":B=e.above,D=e.below,(e.svgAbove||B)&&(e.svgBelow||D)?P=e.body:B&&B.length>0?(P=e.body,null!=(s=null==(l=e.body)?void 0:l[0])&&s.below?(D=e.body[0].below,P=e.body[0].body):(null==(c=null==(u=e.body)?void 0:u[0])?void 0:c.type)==="first"&&null!=(h=null==(d=e.body)?void 0:d[1])&&h.below&&(D=e.body[1].below,P=e.body[1].body)):D&&D.length>0&&(P=e.body,null!=(m=null==(p=e.body)?void 0:p[0])&&m.above?(B=e.body[0].above,P=e.body[0].body):(null==(g=null==(f=e.body)?void 0:f[0])?void 0:g.type)==="first"&&null!=(b=null==(y=e.body)?void 0:y[1])&&b.above&&(B=e.body[1].overscript,P=e.body[1].body)),(e.svgAbove||B)&&(e.svgBelow||D)?A+=`<munderover ${K} ${b1(e.id,n)}>`+(null!=(v=R[e.svgBody])?v:b3(P,n))+(null!=(_=R[e.svgBelow])?_:b3(D,n))+(null!=(x=R[e.svgAbove])?x:b3(B,n))+"</munderover>":e.svgAbove||B?A+=`<mover ${K} ${b1(e.id,n)}>`+(null!=(O=R[e.svgBody])?O:b3(P,n))+(null!=(w=R[e.svgAbove])?w:b3(B,n))+"</mover>":(e.svgBelow||D)&&(A+=`<munder ${K} ${b1(e.id,n)}>`+(null!=(E=R[e.svgBody])?E:b3(P,n))+(null!=(C=R[e.svgBelow])?C:b3(D,n))+"</munder>");break;case"placeholder":case"mord":{A=S[U]||U||("string"==typeof e.value?e.value:"");let r=U?U.match(/{?\\char"([\dabcdefABCDEF]*)}?/):null;r?A="&#x"+r[1]+";":A.length>0&&A.startsWith("\\")&&(A="string"==typeof e.value&&e.value.charCodeAt(0)>255?"&#x"+("000000"+e.value.charCodeAt(0).toString(16)).slice(-4)+";":"string"==typeof e.value?e.value.charAt(0):"");let i=/\d/.test(A)?"mn":"mi";A=`<${i}${K}${b1(e.id,n)}>${b0(A)}</${i}>`;break}case"mbin":case"mrel":case"minner":A=U&&S[U]?"<mi"+b1(e.id,n)+">"+S[U]+"</mi>":U&&bX[U]?"<mo"+b1(e.id,n)+">"+bX[U]+"</mo>":b4(e,n);break;case"mpunct":A='<mo separator="true"'+b1(e.id,n)+">"+(null!=(T=bX[U])?T:U)+"</mo>";break;case"mop":""!==e.body&&(A="<mo"+b1(e.id,n)+">"+("\\operatorname"===U?e.body:U||e.body)+"</mo>");break;case"box":A='<menclose notation="box"',e.backgroundcolor&&(A+=' mathbackground="'+e.backgroundcolor+'"'),A+=b1(e.id,n)+">"+b3(e.body,n)+"</menclose>";break;case"spacing":A+='<mspace width="'+(null!=(k=({"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5})[U])?k:0)+'em"/>';break;case"enclose":for(let n in A='<menclose notation="',e.notation)Object.prototype.hasOwnProperty.call(e.notation,n)&&e.notation[n]&&(A+=I+n,I=" ");A+=b1(e.id,n)+'">'+b3(e.body,n)+"</menclose>";break;case"prompt":A='<menclose notation="roundexbox""">'+b3(e.body,n)+"</menclose>";break;case"space":A+="&nbsp;";break;case"rule":case"error":default:e.type;break;case"mopen":case"mclose":A+=b4(e,n);break;case"macro":{let r=e.command+b6(e.macroArgs);r&&(A+=`<mo ${b1(e.id,n)}>${r}</mo>`)}break;case"latexgroup":case"tooltip":A+=b3(e.body,n);break;case"latex":A+="<mtext"+b1(e.id,n)+">"+e.value+"</mtext>"}return A}var b8={"\\ne":"","\\neq":"","":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega","\\exponentialE":"e","\\imaginaryI":"i","\\imaginaryJ":"j","\\!":" ","\\,":" ","\\:":" ","\\;":" ","\\enskip":" ","\\enspace":" ","\\qquad":" ","\\quad":" "},b7={"\\pm":"+-","\\times":"xx","\\colon":":","\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"(:","\\rangle":":)"},b9={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"eye ","\\sum":"Summation ","\\prod":"Product ","+":"plus ","-":"minus ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\pm":"plus or minus","\\mp":"minus or plus","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","":"","":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdot":"times ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lparen":'<break time="150ms"/>open paren<break time="150ms"/>',"\\rparen":'<break time="150ms"/>close paren<break time="150ms"/>',"\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"},ve={array:"array",matrix:"matrix",pmatrix:"parenthesis matrix",bmatrix:"square brackets matrix",Bmatrix:"braces matrix",vmatrix:"bars matrix",Vmatrix:"double bars matrix","matrix*":"matrix",smallmatrix:"small matrix"};function vt(e){let n=0;if(po(e))for(let r of e)"first"!==r.type&&(n+=1);return 1===n}function vn(e){let n="";if(po(e))for(let r of e)"first"!==r.type&&"string"==typeof r.value&&(n+=r.value);return n}function vr(e){var n,r;if("sre"===window.MathfieldElement.textToSpeechRules&&("sre"in window||"SRE"in window)){let i=b3(e);if(i){window.MathfieldElement.textToSpeechMarkup&&(window.MathfieldElement.textToSpeechRulesOptions=null!=(n=window.MathfieldElement.textToSpeechRulesOptions)?n:{},window.MathfieldElement.textToSpeechRulesOptions.markup=window.MathfieldElement.textToSpeechMarkup,"ssml"===window.MathfieldElement.textToSpeechRulesOptions.markup&&(window.MathfieldElement.textToSpeechRulesOptions.markup="ssml_step"),window.MathfieldElement.textToSpeechRulesOptions.rate=window.MathfieldElement.speechEngineRate);let e=null!=(r=window.SRE)?r:window.sre.System.getInstance();window.MathfieldElement.textToSpeechRulesOptions&&e.setupEngine(window.MathfieldElement.textToSpeechRulesOptions);let a="";try{a=e.toSpeech(i)}catch(e){console.error("MathLive 0.92.1: `SRE.toSpeech()` runtime error",e)}return a}return""}let i=function e(n,r){var i,a,o,l,s,u,c,d;function h(e){return"<emphasis>"+e+"</emphasis>"}if(!r)return"";let p="";if(po(r)){let a=!1,o=!1;for(let l=0;l<r.length;l++)"first"!==r[l].type&&("text"!==r[l].mode&&(o=!1),l<r.length-2&&"mopen"===r[l].type&&"mclose"===r[l+2].type&&"mord"===r[l+1].type?(p+=" of "+h(e(n,r[l+1])),l+=2):"text"===r[l].mode?o?p+=null!=(i=r[l].value)?i:" ":(o=!0,p+=e("text",r[l])):r[l].isDigit()?a?p+=r[l].asDigit():(a=!0,p+=e(n,r[l])):(a=!1,p+=e(n,r[l])))}else if("text"===r.mode)r.id&&"math"===n&&(p+='<mark name="'+r.id.toString()+'"/>'),p+=r.value;else{r.id&&"math"===n&&(p+='<mark name="'+r.id.toString()+'"/>');let i="",m="",f="",g=!1,{command:y}=r;switch(r.type){case"prompt":p+=' <break time="300ms"/> '+(r.body.length>1?'start input . <break time="500ms"/> '+e(n,r.body)+'. <break time="500ms"/> end input':"blank")+'. <break time="700ms"/>'+(null!=(a=r.correctness)?a:"")+' . <break time="700ms"/> ';break;case"accent":"\\vec"===y&&(p+="vector "+e(n,r.body));break;case"array":let b=r.array,v=r.environmentName;if(Object.keys(ve).includes(v)){p+=` begin ${ve[v]} `;for(let n=0;n<b.length;n++){n>0&&(p+=","),p+=` row ${n+1} `;for(let r=0;r<b[n].length;r++)r>0&&(p+=","),p+=` column ${r+1}: `+e("math",b[n][r])}p+=` end ${ve[v]} `}break;case"group":"\\ne"===y?p+=" not equal ":("\\not"===y&&(p+=" not "),p+=e("math",r.body));break;case"root":p+=e("math",r.body);break;case"genfrac":if(i=e("math",r.above),m=e("math",r.below),vt(r.above)&&vt(r.below)){let e={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[vn(r.above)+"/"+vn(r.below)];e?p=e:p+=i+" over "+m}else p+=' the fraction <break time="150ms"/>'+i+' over <break time="150ms"/>'+m+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":if(f=e("math",r.body),r.hasEmptyBranch("above"))p+=vt(r.body)?" the square root of "+f+" , ":' the square root of <break time="200ms"/>'+f+'. <break time="200ms"/> End square root';else{let n=e("math",r.above),i=(n=n.trim()).replace(/<mark([^/]*)\/>/g,"");"3"===i?p+=' the cube root of <break time="200ms"/>'+f+'. <break time="200ms"/> End cube root':"n"===i?p+=' the nth root of <break time="200ms"/>'+f+'. <break time="200ms"/> End root':p+=' the root with index: <break time="200ms"/>'+n+', of <break time="200ms"/>'+f+'. <break time="200ms"/> End root'}break;case"leftright":p+=(null!=(o=r.leftDelim?b9[r.leftDelim]:void 0)?o:r.leftDelim)+e("math",r.body)+(null!=(l=r.rightDelim?b9[r.rightDelim]:void 0)?l:r.rightDelim);break;case"rule":case"overunder":case"overlap":break;case"line":let _=r.position;p+=`${_} `+e("math",r.body)+` end ${_} `;break;case"macro":let x=y.replace(/^\\/g,""),O=fP()[x];O&&(null!=O&&O.expand?p+=e("math",r.body):p+=`${x} `);break;case"placeholder":p+="placeholder ";break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":{if("\\mathbin"===y||"\\mathrel"===y||"\\mathopen"===y||"\\mathclose"===y||"\\mathpunct"===y||"\\mathord"===y||"\\mathinner"===y){p=e(n,r.body);break}let i=r.isDigit()?r.asDigit():r.value,a=r.command;if(("delim"===r.type||"sizeddelim"===r.type)&&(i=a=r.value),"text"===n)p+=i;else{if("mbin"===r.type&&(p+='<break time="150ms"/>'),i){let e=b9[i]||(a?b9[a.trim()]:"");if(e)p+=" "+e;else{let e;p+=(a?(u=a.trim(),e="",u.startsWith("\\")&&(e=" "+u.replace("\\","")+" "),e):"")||(c=i,window.MathfieldElement.textToSpeechMarkup?/[a-z]/.test(c)?` <say-as interpret-as="character">${c}</say-as>`:/[A-Z]/.test(c)?`capital <say-as interpret-as="character">${c.toLowerCase()}</say-as>`:c:/[a-z]/.test(c)?" '"+c.toUpperCase()+"'":/[A-Z]/.test(c)?" 'capital "+c.toUpperCase()+"'":c)}}else p+=e("math",r.body);"mbin"===r.type&&(p+='<break time="150ms"/>')}break}case"mop":if(""!==r.value){let n=r.command;if("\\sum"===n){if(r.hasEmptyBranch("superscript")||r.hasEmptyBranch("subscript")){if(r.hasEmptyBranch("subscript"))p+=" the summation of";else{let n=e("math",r.subscript);p+=' the summation from <break time="200ms"/>'+(n=n.trim())+'<break time="200ms"/> of <break time="150ms"/>',g=!0}}else{let n=e("math",r.superscript);n=n.trim();let i=e("math",r.subscript);p+=' the summation from <break time="200ms"/>'+(i=i.trim())+'<break time="200ms"/> to  <break time="200ms"/>'+n+'<break time="200ms"/> of <break time="150ms"/>',g=!0}}else if("\\prod"===n){if(r.hasEmptyBranch("superscript")||r.hasEmptyBranch("subscript")){if(r.hasEmptyBranch("subscript"))p+=" the product  of ";else{let n=e("math",r.subscript);p+=' the product from <break time="200ms"/>'+(n=n.trim())+'<break time="200ms"/> of <break time="150ms"/>',g=!0}}else{let n=e("math",r.superscript);n=n.trim();let i=e("math",r.subscript);p+=' the product from <break time="200ms"/>'+(i=i.trim())+'<break time="200ms"/> to <break time="200ms"/>'+n+'<break time="200ms"/> of <break time="150ms"/>',g=!0}}else if("\\int"===n){if(r.hasEmptyBranch("superscript")||r.hasEmptyBranch("subscript"))p+=' the integral of <break time="200ms"/> ';else{let n=e("math",r.superscript);n=n.trim();let i=e("math",r.subscript);p+=' the integral from <break time="200ms"/>'+h(i=i.trim())+'<break time="200ms"/> to <break time="200ms"/>'+h(n)+' <break time="200ms"/> of ',g=!0}}else"string"==typeof r.value?p+=(null!=(s=b9[r.value])?s:r.command?b9[r.command]:void 0)||" "+r.value:r.command&&("\\mathop"===r.command?p+=e("math",r.body):"\\operatorname"===r.command?p+=(d=r.body)?d.map(e=>e.value).join(""):"":p+=r.command.startsWith("\\")?" "+r.command.slice(1):" "+r.command)}break;case"enclose":p+=" crossed out "+(f=e("math",r.body))+". End crossed out."}if(!g&&!r.hasEmptyBranch("superscript")){let i=e(n,r.superscript),a=(i=i.trim()).replace(/<[^>]*>/g,"");if(vt(r.superscript)){if("math"===n){let e=function(e){if(po(e)){for(let n of e)if("first"!==n.type&&n.id)return n.id.toString()}return""}(r.superscript);e&&(p+='<mark name="'+e+'"/>')}""===a?p+=" prime ":"2"===a?p+=" squared ":"3"===a?p+=" cubed ":Number.isNaN(Number.parseInt(a))?p+=" to the "+i+"; ":p+=' to the <say-as interpret-as="ordinal">'+a+"</say-as> power; "}else Number.isNaN(Number.parseInt(a))?p+=" raised to the "+i+"; ":p+=' raised to the <say-as interpret-as="ordinal">'+a+"</say-as> power; "}if(!g&&!r.hasEmptyBranch("subscript")){let n=e("math",r.subscript);n=n.trim(),p+=vt(r.subscript)?" sub "+n:" subscript "+n+". End subscript. "}}return p}("math",e);if("ssml"===window.MathfieldElement.textToSpeechMarkup){let e="";window.MathfieldElement.speechEngineRate&&(e='<prosody rate="'+window.MathfieldElement.speechEngineRate+'">'),i='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+e+"<p><s>"+i+"</s></p>"+(e?"</prosody>":"")+"</amazon:auto-breaths></speak>"}else i="mac"===window.MathfieldElement.textToSpeechMarkup&&"macos"===pu()?i.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="(\d*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):i.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return i}function vi(e){let n;if("prompt"===e.parent.type)"body"===e.parentBranch&&(n="prompt");else if("body"===e.parentBranch)n=({enclose:"cross out",leftright:"delimiter",surd:"square root",root:"math field",mop:"operator",first:"first"})[e.type];else if("genfrac"===e.parent.type){if("above"===e.parentBranch)return"numerator";if("below"===e.parentBranch)return"denominator"}else"surd"===e.parent.type?"above"===e.parentBranch&&(n="index"):"superscript"===e.parentBranch?n="superscript":"subscript"===e.parentBranch&&(n="subscript");return null!=n?n:"parent"}bc({speak:(e,n,r)=>(function(e,n,r){var i,a;r=null!=r?r:{withHighlighting:!1};let{model:o}=e,l=function(e){let n=null;switch(e){case"all":default:n=o.root;break;case"selection":n=o.getAtoms(o.selection);break;case"left":n=o.getAtoms(o.offsetOf(o.at(o.position).leftSibling),o.position);break;case"right":n=o.getAtoms(o.position,o.offsetOf(o.at(o.position).rightSibling));break;case"group":n=o.getAtoms(o.getSiblingsRange(o.position));break;case"parent":{let{parent:e}=o.at(o.position);n=null!=e&&e.parent?e:o.root}}return n}(n);if(null===l)return null==(a=(i=window.MathfieldElement).speakHook)||a.call(i,function(e){let n="";switch(e){case"all":case"group":break;case"selection":n="no selection";break;case"left":n="at start";break;case"right":n="at end";break;case"parent":n="no parent"}return n}(n)),!1;(r.withHighlighting||"amazon"===window.MathfieldElement.speechEngine)&&(window.MathfieldElement.textToSpeechMarkup=window.sre&&"sre"===window.MathfieldElement.textToSpeechRules?"ssml_step":"ssml");let s=vr(l);return pl()&&r.withHighlighting?(_h().readAloudMathField=e,bs(e,{forHighlighting:!0}),window.MathfieldElement.readAloudHook&&window.MathfieldElement.readAloudHook(e.field,s)):window.MathfieldElement.speakHook&&window.MathfieldElement.speakHook(s),!1})(e,n,r)},{target:"mathfield",category:"speech"});var va=class{constructor(e,n,r){this.options=e,this._selection={ranges:[[0,0]],direction:"none"},this._anchor=0,this._position=0,this.mathfield=r,this.suppressChangeNotifications=!1,this.root=new fX("root",r,{mode:e.mode}),this.root.body=[],this.setListeners(n)}get atoms(){return this.root.children}get selection(){return this._selection}set selection(e){this.setSelection(e)}setSelection(e,n){return(!!this.mathfield.contentEditable||"none"!==this.mathfield.userSelect)&&this.deferNotifications({selection:!0},()=>{var r,i,a;let o=this.normalizeSelection(e,n);if(void 0===o)throw TypeError("Invalid selection");if(1===o.ranges.length&&o.ranges[0][0]===o.ranges[0][1]){let e=o.ranges[0][0];return this.mathfield.dirty||null!=(r=this.at(e))&&r.parentPrompt||!this.mathfield.hasEditablePrompts?(this._anchor=e,this._position=e,this._selection=o,!1):null!=(i=this.at(e-1))&&i.parentPrompt?(this._anchor=this.normalizeOffset(e-1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor),!0):null!=(a=this.at(e+1))&&a.parentPrompt?(this._anchor=this.normalizeOffset(e+1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor),!0):(this._anchor=0,this._position=0,this._selection={ranges:[[0,0]]},!1)}let l=g7(o);"backward"===o.direction?[this._position,this._anchor]=l:[this._anchor,this._position]=l;let s=this.at(l[0]+1),u=this.at(l[1]),c=fX.commonAncestor(s,u);return(null==c?void 0:c.type)==="array"&&s.parent===c&&u.parent,this._selection={ranges:[l],direction:o.direction},this._position>=0&&(this._position,this.lastOffset),!1})}setPositionHandlingPlaceholder(e){var n;let r=this.at(e);(null==r?void 0:r.type)==="placeholder"?this.setSelection(e-1,e):(null==(n=null==r?void 0:r.rightSibling)?void 0:n.type)==="placeholder"?this.setSelection(e,e+1):this.position=e,r instanceof gZ&&r.isSuggestion&&(r.isSuggestion=!1)}getState(){return{content:this.root.toJson(),selection:this.selection}}setState(e,n){var r;let i=this.suppressChangeNotifications;this.suppressChangeNotifications=null==(r=null==n?void 0:n.suppressChangeNotifications)||r;let a={};(null==n?void 0:n.type)==="undo"&&(a={inputType:"historyUndo"}),(null==n?void 0:n.type)==="redo"&&(a={inputType:"historyRedo"}),yq(this,a)&&(this.root=g4(e.content,this.mathfield),this.selection=e.selection,yY(this,a)),this.suppressChangeNotifications=i}get position(){return this._position}set position(e){this.setSelection(e,e)}get anchor(){return this._anchor}get selectionIsCollapsed(){return this._anchor===this._position}get selectionIsPlaceholder(){return 1===Math.abs(this._anchor-this._position)&&"placeholder"===this.at(Math.max(this._anchor,this._position)).type}collapseSelection(e="forward"){return this._anchor!==this._position&&("backward"===e?this.position=Math.min(this._anchor,this._position):this.position=Math.max(this._anchor,this._position),!0)}get lastOffset(){return this.atoms.length-1}at(e){return this.atoms[e]}offsetOf(e){return this.atoms.indexOf(e)}getSiblingsRange(e){let n=this.at(e),{parent:r}=n;if(!r)return[0,this.lastOffset];let i=n.parent.branch(n.parentBranch);return[this.offsetOf(i[0]),this.offsetOf(i[i.length-1])]}getBranchRange(e,n){let r=this.at(e).branch(n);return[this.offsetOf(r[0]),this.offsetOf(r[r.length-1])]}getAtoms(e,n,r){let i,a,o=null!=r?r:{};if(bY(e)){if(o=null!=n?n:{},e.ranges.length>1)return e.ranges.reduce((e,n)=>[...e,...this.getAtoms(n,o)],[]);e=e.ranges[0]}if(bW(e)){if(i=e,!bW(n))return[];a=n}else[i,a]=e,o=null!=n?n:{};if(!Number.isFinite(i))return[];void 0===o.includeChildren&&(o.includeChildren=!1),i<0&&(i=this.lastOffset-i+1),a<0&&(a=this.lastOffset-a+1);let l=Math.min(i,a)+1,s=Math.max(i,a);if(1===l&&s===this.lastOffset)return[this.root];let u=[];for(let e=l;e<=s;e++){let n=this.atoms[e];vo(this,n,l,s)&&u.push(n)}return o.includeChildren||(u=u.filter(e=>{let n=!1,{parent:r}=e;for(;r&&!n;)n=vo(this,r,l,s),r=r.parent;return!n})),u}getAllAtoms(e=0){let n=[],r=this.lastOffset;for(let i=e;i<=r;i++)n.push(this.atoms[i]);for(let r=0;r<e;r++)n.push(this.atoms[r]);return n}findAtom(e,n=0,r="forward"){if("forward"===r){let r=this.lastOffset;for(let i=n;i<=r;i++)if(e(this.atoms[i]))return this.atoms[i];for(let r=0;r<n;r++)if(e(this.atoms[r]))return this.atoms[r];return}for(let r=n;r>=0;r--)if(e(this.atoms[r]))return this.atoms[r];for(let r=this.lastOffset;r<n;r--)if(e(this.atoms[r]))return this.atoms[r]}extractAtoms(e){let n=this.getAtoms(e);if(1===n.length&&!n[0].parent){if("root"!==n[0].type)return n=this.root.cells.flat(),this.root=new fX("root",this.root.context),this.root.body=[],n;(n=[...n[0].body]).shift()}for(let e of n)e.parent.removeChild(e);return n}deleteAtoms(e){this.extractAtoms(e),this.position=e[0]}atomToString(e,n){let r=null!=n?n:"latex";if(r.startsWith("latex"))return fp(p3.serialize([e],{expandMacro:"latex-expanded"===r,skipStyles:"latex-unstyled"===r,defaultMode:this.mathfield.options.defaultMode}));if("math-ml"===r)return b3(e);if("spoken"===r)return vr(e);if("spoken-text"===r){let n=window.MathfieldElement.textToSpeechMarkup;window.MathfieldElement.textToSpeechMarkup="";let r=vr(e);return window.MathfieldElement.textToSpeechMarkup=n,r}if("spoken-ssml"===r||"spoken-ssml-with-highlighting"===r){let n=window.MathfieldElement.textToSpeechMarkup;window.MathfieldElement.textToSpeechMarkup="ssml";let r=vr(e);return window.MathfieldElement.textToSpeechMarkup=n,r}if("math-json"===r){if(!window.MathfieldElement.computeEngine)return window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`The CortexJS Compute Engine library is not available.
Load the library, for example with:
import "https://unpkg.com/@cortex-js/compute-engine?module"`),'["Error", "compute-engine-not-available"]';try{let n=window.MathfieldElement.computeEngine.parse(fX.serialize(e,{expandMacro:!1,defaultMode:"math"}));return JSON.stringify(n.json)}catch(e){return JSON.stringify(["Error",`'${e.toString()}'`])}}return"ascii-math"===r?function e(n){var r,i,a,o,l,s,u,c,d,h,p,m,f;if(!n)return"";if(po(n)){if(0===n.length||("first"===n[0].type&&(n=n.slice(1)),0===n.length))return"";let i="";if("latex"===n[0].mode)for(let r of n)i+=e(r);else if("text"===n[0].mode){let a=0;for(i='"';(null==(r=n[a])?void 0:r.mode)==="text";)i+=n[a].body?e(n[a].body):n[a].value,a++;i+='"'+e(n.slice(a))}else if("math"===n[0].mode){let r=0;for(;n[r]&&"math"===n[r].mode;)i+=e(n[r]),r++;i+=e(n.slice(r))}else console.warn("toASCIIMath: Unexpected mode");return i.trim()}if("text"===n.mode)return'"'+n.value+'"';let g="",{command:y}=n,b;switch(n.type){case"first":return"";case"group":case"root":g=null!=(i=b8[y])?i:e(n.body);break;case"genfrac":{let r=n;(r.leftDelim||r.rightDelim)&&(g+="."!==r.leftDelim&&r.leftDelim?r.leftDelim:"{:"),r.hasBarLine?g+="("+e(r.above)+")/("+e(r.below)+")":g+="("+e(r.above)+"),("+e(r.below)+")",(r.leftDelim||r.rightDelim)&&(g+="."!==r.rightDelim&&r.rightDelim?r.rightDelim:"{:")}break;case"surd":g+=n.hasEmptyBranch("above")?"sqrt("+e(n.body)+")":"root("+e(n.above)+")("+e(n.body)+")";break;case"latex":g=n.value;break;case"leftright":{let r=n;g+=("."!==r.leftDelim&&r.leftDelim?r.leftDelim:"{:")+e(r.body)+("."!==r.rightDelim&&r.rightDelim?r.rightDelim:":}")}break;case"sizeddelim":case"delim":case"overlap":case"overunder":case"box":break;case"mord":(g=null!=(o=null!=(a=b8[y])?a:y)?o:"string"==typeof n.value?n.value:"").startsWith("\\")&&(g+=" "),(b=y?y.match(/{?\\char"([\dabcdefABCDEF]*)}?/):null)?g=String.fromCodePoint(Number.parseInt("0x"+b[1])):g.length>0&&g.startsWith("\\")&&(g="string"==typeof n.value?n.value.charAt(0):n.command);break;case"mbin":case"mrel":case"minner":g=null!=(s=null!=(l=b8[y])?l:b7[y])?s:n.value;break;case"mopen":case"mclose":g+=n.value;break;case"mpunct":g=null!=(u=b7[y])?u:y;break;case"mop":""!==n.value&&(g=""+("\\operatorname"===y?e(n.body):null!=(c=n.value)?c:y)+" ");break;case"array":let v=n.array,_=n.environmentName,x=null!=(d=({bmatrix:["[","]"],"bmatrix*":["[","]"]})[_])?d:["(",")"],O=[];for(let n of v){let r=[];for(let i of n)r.push(x[0]+e(i)+x[1]);O.push(r.join(","))}let w=null!=(h=({bmatrix:["[","]"],"bmatrix*":["[","]"],cases:["{",":}"]})[_])?h:["(",")"];g=w[0]+O.join(",")+w[1];break;case"spacing":g=null!=(p=b8[y])?p:" ";break;case"enclose":g="("+e(n.body)+")";break;case"space":g=" ";break;case"subsup":g="";break;case"macro":g=null!=(f=null!=(m=b8[y])?m:b7[y])?f:e(n.body)}if(!n.hasEmptyBranch("subscript")){g+="_";let r=e(n.subscript);g+=r.length>1?"("+r+")":r}if(!n.hasEmptyBranch("superscript")){g+="^";let r=e(n.superscript);g+=r.length>1?"("+r+")":r}return g}(e):(console.error(`MathLive 0.92.1: Unknown format "${r}`),"")}getValue(e,n,r){let i,a;if(void 0===e)return this.atomToString(this.root,"latex");if("string"==typeof e)return this.atomToString(this.root,e);if(bW(e)&&bW(n)?(i=[this.normalizeRange([e,n])],a=null!=r?r:"latex"):bq(e)?(i=[this.normalizeRange(e)],a=n):bY(e)?(i=e.ranges,a=n):(i=[],a="latex"),a.startsWith("latex")){let e={expandMacro:"latex-expanded"===a,skipStyles:"latex-unstyled"===a,defaultMode:this.mathfield.options.defaultMode};return fp(i.map(n=>fX.serialize(this.getAtoms(n),e)))}return i.map(e=>this.getAtoms(e).map(e=>this.atomToString(e,a)).join("")).join("")}extendSelectionTo(e,n){return(!!this.mathfield.contentEditable||"none"!==this.mathfield.userSelect)&&this.deferNotifications({selection:!0},()=>{let[r,i]=this.normalizeRange([e,n]),{parent:a}=this.at(i);if(a&&("genfrac"===a.type||"subsup"===a.type))for(;a!==this.root&&vl(this,a,[r,i]);)i=this.offsetOf(a),a=a.parent;for(a=this.at(r).parent;a!==this.root&&vl(this,a,[r,i]);)r=this.offsetOf(a.leftSibling),a=a.parent;if((null==(a=this.at(i).parent)?void 0:a.type)==="genfrac")for(;a!==this.root&&vl(this,a,[r,i]);)i=this.offsetOf(a),a=a.parent;this._position=this.normalizeOffset(n),this._selection={ranges:[[r,i]],direction:"none"}})}setListeners(e){this.listeners=e}announce(e,n,r=[]){var i,a;(null==(a=null==(i=this.mathfield.host)?void 0:i.dispatchEvent(new CustomEvent("announce",{detail:{command:e,previousPosition:n,atoms:r},cancelable:!0,bubbles:!0,composed:!0})))||a)&&function(e,n,r,i){let a="";if("plonk"===n)window.MathfieldElement.playSound("plonk"),e.flushInlineShortcutBuffer();else if("delete"===n)a="deleted: "+vr(i);else if("focus"===n||n.includes("move"))a=function(e,n){if(Number.isNaN(n))return"";let r=e.at(n);if(!r||r.treeDepth<=e.at(e.position).treeDepth)return"";let i="",a=r.parent,o=e.at(e.position).parent;for(;a!==e.root&&a!==o;)i+=`out of ${vi(a)};`,a=a.parent;return i}(e.model,r)+(e.model.selectionIsCollapsed?"":"selected: ")+function(e){if(!e.selectionIsCollapsed)return""+vr(e.getAtoms(e.selection));let n="",r=e.at(e.position),i=vi(r);return r.isFirstSibling&&(n=(i?"start of "+i:"unknown")+": "),r.isLastSibling?r.isFirstSibling||(n+=i?"end of "+i:"unknown"):n+=""+vr(r),n}(e.model);else if("replacement"===n)a=""+vr(e.model.at(e.model.position));else if("line"===n){let n=""+vr(e.model.root);e.keyboardDelegate.setAriaLabel(n)}else a=i?n+" "+vr(i):n;if(a){let n=e.ariaLiveText.textContent.includes("\xa0")?"  ":" \xa0 ";e.ariaLiveText.textContent=a+n}}(this.mathfield,e,n,r)}deferNotifications(e,n){let r=this._selection,i=this._anchor,a=this._position,o=this.suppressChangeNotifications;this.suppressChangeNotifications=!0;let l=this.root.changeCounter;n();let s=this.root.changeCounter!==l,u=i!==this._anchor||a!==this._position||"different"===function(e,n){if(e.direction===n.direction){let a=e.ranges.length;if(n.ranges.length===a){var r,i;let o=0;for(;o<a&&"equal"==(r=e.ranges[o],i=n.ranges[o],r[0]===i[0]&&r[1]===i[1]?"equal":"different");)o++;return o===a?"equal":"different"}}return"different"}(this._selection,r);return this.suppressChangeNotifications=o,e.content&&s&&yY(this,{inputType:e.type}),e.selection&&u&&yW(this),s||u}normalizeOffset(e){return e>0?e=Math.min(e,this.lastOffset):e<0&&(e=this.lastOffset+e+1),e}normalizeRange(e){let[n,r]=e;return(n=this.normalizeOffset(n))<(r=this.normalizeOffset(r))?[n,r]:[r,n]}normalizeSelection(e,n){var r;let i;if(bW(e)){let r=this.normalizeOffset(e);if(bW(n)){let e=this.normalizeOffset(n);i=r<=e?{ranges:[[r,e]],direction:"none"}:{ranges:[[e,r]],direction:"backward"}}else i={ranges:[[r,r]],direction:"none"}}else if(bq(e)){let n=this.normalizeOffset(e[0]),r=this.normalizeOffset(e[1]);i=n<=r?{ranges:[[n,r]],direction:"none"}:{ranges:[[r,n]],direction:"backward"}}else bY(e)&&(i={ranges:e.ranges.map(e=>this.normalizeRange(e)),direction:null!=(r=e.direction)?r:"none"});return i}get parentEnvironment(){let e=this.at(this.position).parent;if(e){for(;e.parent&&"array"!==e.type;)e=e.parent;if("array"===e.type)return e}}};function vo(e,n,r,i){let a=e.offsetOf(n);if(a<r||a>i)return!1;if(!n.hasChildren)return!0;let o=e.offsetOf(n.firstChild);if(o>=r&&o<=i){let a=e.offsetOf(n.lastChild);if(a>=r&&a<=i)return!0}return!1}function vl(e,n,r){if(!(null!=n&&n.hasChildren))return!1;let[i,a]=r,o=e.offsetOf(n.firstChild),l=e.offsetOf(n.lastChild);return o>=i&&o<=a&&l>=o&&l<=a}function vs(e,n,r){let i=e.getCell(n,r);return!!i&&2===i.length&&"placeholder"===i[1].type}function vu(e,n,r,i){let a;let o=(a=n.getCell(r,i))?[e.offsetOf(a[0]),e.offsetOf(a[a.length-1])]:-1;"number"!=typeof o&&e.setSelection(o)}function vc(e,n,r,i,a){let o=n.getCell(r,i);o&&e.setPositionHandlingPlaceholder(e.offsetOf(o["start"===a?0:o.length-1]))}function vd(e,n){let[r,[i,a]]=function(e,n){let r=e.at(e.position);for(;r&&!(r.parent instanceof gk);)r=r.parent;if(r&&"array"===r.type&&r.environmentName,!r||!(r.parent instanceof gk)){let i=e.at(e.position);if(!(r=i).parent.parent){let a,o=e.extractAtoms([e.position,e.lastOffset]),l=e.extractAtoms([0,e.position]);return 0===l.length&&(l=vf(r.context)),0===o.length&&(o=vf(r.context)),n.endsWith("column")?(a=gI(r.context,"split",[[l,o]]),e.root=a,vs(a,0,0)?vu(e,a,0,0):vs(a,0,1)?vu(e,a,0,1):e.position=e.offsetOf(i)):(a=gI(r.context,"lines",[[l],[o]]),e.root=a,vs(a,0,0)?vu(e,a,0,0):vs(a,1,0)?vu(e,a,1,0):e.position=e.offsetOf(i)),[void 0,[0,0]]}if(r.parent instanceof gd){let i=r.parent,a=e.extractAtoms([e.position,e.offsetOf(i.lastChild)]),o=e.extractAtoms([e.offsetOf(i.firstChild),e.position]);0===o.length&&(o=vf(r.context)),0===a.length&&(a=vf(r.context));let l="pmatrix",s=i.leftDelim,u=i.rightDelim;"("===s&&(")"===u||"?"===u)?l="pmatrix":("["===s||"\\lbrack"===s)&&("]"===u||"\\rbrack"===u||"?"===u)?l="bmatrix":"\\vert"===s&&"\\vert"===u?l="vmatrix":"\\Vert"===s&&"\\Vert"===u?l="Vmatrix":("{"===s||"\\lbrace"===s)&&("."===u||"?"===u)&&(l="cases");let c=gI(r.context,l,n.endsWith("column")?[[o,a]]:[[o],[a]]);return i.parent.addChildBefore(c,i),i.parent.removeChild(i),vs(c,0,0)?vu(e,c,0,0):n.endsWith("column")?vs(c,0,1)?vu(e,c,0,1):e.position=e.offsetOf(r):vs(c,1,0)?vu(e,c,1,0):e.position=e.offsetOf(r),[void 0,[0,0]]}}return r&&r.parent instanceof gk?[r.parent,r.parentBranch]:[void 0,[0,0]]}(e,n);if(r)switch(n){case"after row":r.addRowAfter(i),vc(e,r,i+1,0,"end");break;case"after column":if(r.maxColumns<=r.colCount){e.announce("plonk");return}r.addColumnAfter(a),vc(e,r,i,a+1,"end");break;case"before row":r.addRowBefore(i),vc(e,r,i,0,"start");break;case"before column":if(r.maxColumns<=r.colCount){e.announce("plonk");return}r.addColumnBefore(a),vc(e,r,i,a,"start")}}function vh(e){return!!yq(e,{inputType:"insertText"})&&(vd(e,"after row"),yY(e,{inputType:"insertText"}),!0)}function vp(e){return!!yq(e,{inputType:"insertText"})&&(vd(e,"after column"),yY(e,{inputType:"insertText"}),!0)}function vm(e,n){let r=e.at(e.position);for(;r&&!(Array.isArray(r.parentBranch)&&r.parent instanceof gk);)r=r.parent;if(Array.isArray(null==r?void 0:r.parentBranch)&&(null==r?void 0:r.parent)instanceof gk){let i=r.parent,a=r.parentBranch,o;switch(n){case"row":if(i.rowCount>1){i.removeRow(a[0]);let n=i.getCell(Math.max(0,a[0]-1),a[1]);o=e.offsetOf(n[n.length-1])}break;case"column":if(i.colCount>i.minColumns){i.removeColumn(a[1]);let n=i.getCell(a[0],Math.max(0,a[1]-1));o=e.offsetOf(n[n.length-1])}}o&&e.setPositionHandlingPlaceholder(o)}}function vf(e){return[new gl(e)]}function vg(e,n,r,i){var a,o,l,s,u,c;let d=r.parent;if(d&&r instanceof gd){let a=!i&&"forward"===n||"body"===i&&"backward"===n,o=a?e.offsetOf(r.firstChild):e.offsetOf(r.lastChild);return a?"?"!==r.rightDelim&&"."!==r.rightDelim?(r.leftDelim=".",r.isDirty=!0):(d.addChildrenAfter(r.removeBranch("body"),r),d.removeChild(r),o--):"?"!==r.leftDelim&&"."!==r.leftDelim?(r.rightDelim=".",r.isDirty=!0):(d.addChildrenAfter(r.removeBranch("body"),r),d.removeChild(r),o--),e.position=o,!0}if(d&&"surd"===r.type){if(("forward"!==n||i)&&("backward"!==n||"body"!==i))"forward"===n&&"body"===i?e.position=e.offsetOf(r):i||"backward"!==n?"above"===i&&(r.hasEmptyBranch("above")&&r.removeBranch("above"),"backward"===n?e.position=e.offsetOf(r.leftSibling):e.position=e.offsetOf(r.body[0])):r.hasChildren?e.position=e.offsetOf(r.lastChild):(e.position=Math.max(0,e.offsetOf(r)-1),d.removeChild(r));else{let n=r.leftSibling;r.hasChildren&&d.addChildrenAfter(r.removeBranch("body"),r),d.removeChild(r),e.position=e.offsetOf(n)}return!0}if(d&&("box"===r.type||"enclose"===r.type)){let a=i&&"backward"===n||!i&&"forward"===n?r.leftSibling:r.lastChild;return d.addChildrenAfter(r.removeBranch("body"),r),d.removeChild(r),e.position=e.offsetOf(a),!0}if("genfrac"===r.type||"overunder"===r.type){if(!i)return!("overunder"===r.type&&r.hasEmptyBranch("body")||"genfrac"===r.type&&r.hasEmptyBranch("below")&&r.hasEmptyBranch("above"))&&(e.position=e.offsetOf("forward"===n?r.firstChild:r.lastChild),!0);let a="numerator-denominator"===r.context.fractionNavigationOrder?"above":"below",o="above"===a?"below":"above";if(d&&("forward"===n&&i===a||"backward"===n&&i===o)){let n=r.removeBranch(a),i=r.removeBranch(o);return d.addChildrenAfter([...n,...i],r),d.removeChild(r),e.position=e.offsetOf(n.length>0?n[n.length-1]:i[0]),!0}return"backward"===n?e.position=e.offsetOf(r.leftSibling):e.position=e.offsetOf(r),!0}if(r.isExtensibleSymbol||"subsup"===r.type){if(!i&&"forward"===n)return!1;if(!i){if(r.subscript||r.superscript){let i="forward"===n?null!=(l=null==(a=r.superscript)?void 0:a[0])?l:null==(o=r.subscript)?void 0:o[0]:null!=(c=null==(s=r.subscript)?void 0:s[0].lastSibling)?c:null==(u=r.superscript)?void 0:u[0].lastSibling;return i&&(e.position=e.offsetOf(i)),!0}return!1}if(i&&r.hasEmptyBranch(i)&&r.removeBranch(i),!r.hasChildren){let i="forward"===n?e.offsetOf(r):Math.max(0,e.offsetOf(r)-1);return r.parent.removeChild(r),e.position=i,!0}if("superscript"===i){if("backward"===n){let n=e.offsetOf(r.firstChild)-1;e.position=n}else r.subscript?e.position=e.offsetOf(r.subscript[0]):e.position=e.offsetOf(r)}else"subscript"===i&&("backward"===n&&r.superscript?e.position=e.offsetOf(r.superscript[0].lastSibling):"backward"===n?e.position=e.offsetOf(r.firstChild)-1:e.position=e.offsetOf(r));return!0}if((null==d?void 0:d.type)==="genfrac"&&!i&&"first"!==r.type){let n=e.offsetOf(r.leftSibling);return d.removeChild(r),d.hasEmptyBranch("above")&&d.hasEmptyBranch("below")?(n=e.offsetOf(d.leftSibling),d.parent.removeChild(d),e.announce("delete",void 0,[d])):e.announce("delete",void 0,[r]),e.position=n,!0}return!1}function vy(e,n,r){let i=e.getAtoms(n);if(i.length>0&&i[0].parent){let a=i[0].parent.firstChild;"first"===a.type&&(a=a.rightSibling);let o=i[i.length-1].parent.lastChild,l=i[0];"first"===l.type&&(l=l.rightSibling);let s=i[i.length-1];if(l===a&&s===o){let r=i[0].parent;r.parent&&"prompt"!==r.type&&(n=[e.offsetOf(r.leftSibling),e.offsetOf(r)])}if(1===i.length&&"placeholder"===i[0].type&&"genfrac"===i[0].parent.type){let n=i[0].parent,a="below"===i[0].parentBranch?"above":"below",o=e.offsetOf(n.leftSibling);return e.deferNotifications({content:!0,selection:!0,type:r},()=>{var r,i;let l=n.removeBranch(a);if(1===l.length&&"placeholder"===l[0].type)null==(i=n.parent)||i.removeChild(n),e.position=Math.max(0,o);else{let i=n.parent.addChildrenAfter(l,n);null==(r=n.parent)||r.removeChild(n),e.position=e.offsetOf(i)}})}}return e.deferNotifications({content:!0,selection:!0,type:r},()=>e.deleteAtoms(n))}function vb(e,n){let r=e.at(n),i;if(r){i=r.mode;let e=r.parent;for(;!i&&e;)e&&(i=e.mode),e=e.parent}return i}function vv(e,n){e&&n&&(po(e)?e.forEach(e=>vv(e,n)):"object"!=typeof e||e.style.color||e.style.backgroundColor||e.style.fontFamily||e.style.fontShape||e.style.fontSeries||e.style.fontSize||e.style.variant||e.style.variantStyle||(e.applyStyle(n),vv(e.body,n),vv(e.above,n),vv(e.below,n),vv(e.subscript,n),vv(e.superscript,n)))}function v_(e,n,r,i){function a(e,n){for(let r of o)if(r.style[e]!==n)return!1;return!0}if((n=e.normalizeRange(n))[0]===n[1])return!1;let o=e.getAtoms(n,{includeChildren:!0});for(let e of("toggle"===i.operation&&(r.color&&a("color",r.color)&&(r.color="none",r.verbatimColor=void 0),r.backgroundColor&&a("backgroundColor",r.backgroundColor)&&(r.backgroundColor="none",r.verbatimBackgroundColor=void 0),r.fontFamily&&a("fontFamily",r.fontFamily)&&(r.fontFamily="none"),r.fontSeries&&a("fontSeries",r.fontSeries)&&(r.fontSeries="auto"),r.fontShape&&a("fontShape",r.fontShape)&&(r.fontShape="auto"),r.fontSize&&a("fontSize",r.fontSize)&&(r.fontSize=5)),o))e.applyStyle(r);return!0}bc({addRowAfter:vh,addColumnAfter:vp,addRowBefore:function(e){return!!yq(e,{inputType:"insertText"})&&(vd(e,"before row"),yY(e,{inputType:"insertText"}),!0)},addColumnBefore:function(e){return!!yq(e,{inputType:"insertText"})&&(vd(e,"before column"),yY(e,{inputType:"insertText"}),!0)},removeRow:function(e){return!!yq(e,{inputType:"deleteContent"})&&(vm(e,"row"),yY(e,{inputType:"deleteContent"}),!0)},removeColumn:function(e){return!!yq(e,{inputType:"deleteContent"})&&(vm(e,"column"),yY(e,{inputType:"deleteContent"}),!0)},setEnvironment:function(e,n){yq(e,{});let r=".",i=".";switch(n){case"pmatrix":case"pmatrix*":r="(",i=")";break;case"bmatrix":case"bmatrix*":r="[",i="]";break;case"Bmatrix":case"Bmatrix*":r="\\lbrace",i="\\rbrace";break;case"vmatrix":case"vmatrix*":r="\\vert",i="\\vert";break;case"Vmatrix":case"Vmatrix*":r="\\Vert",i="\\Vert";break;case"matrix":case"matrix*":r=".",i=".";break;case"cases":case"dcases":r="\\lbrace";break;case"rcases":i="\\rbrace"}let a=e.parentEnvironment;return a.environmentName=n,a.leftDelim=r,a.rightDelim=i,e.mathfield.snapshot(),yY(e,{}),!0}},{target:"model",category:"array-edit"});var vx=`@keyframes ML__caret-blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}
.ML__caret:after {
  content: '';
  border: none;
  border-radius: 2px;
  border-right: 2px solid var(--caret-color, var(--ML__caret-color));
  margin-right: -2px;
  position: relative;
  left: -1px;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__text-caret:after {
  content: '';
  border: none;
  border-radius: 1px;
  border-right: 1px solid var(--caret-color, var(--ML__caret-color));
  margin-right: -1px;
  position: relative;
  left: 0;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__latex-caret:after {
  content: '_';
  border: none;
  margin-right: 0;
  margin-right: calc(-1ex - 2px);
  position: relative;
  color: var(--caret-color, var(--ML__caret-color));
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__container {
  display: inline-flex;
  flex-flow: row;
  justify-content: space-between;
  align-items: flex-end;
  min-height: 39px;
  /* Need some room for the virtual keyboard toggle */
  width: 100%;
  /* Encourage browsers to consider allocating a hardware accelerated
   layer for this element. */
  isolation: isolate;
  /* Prevent the browser from trying to interpret touch gestures in the field */
  /* "Disabling double-tap to zoom removes the need for browsers to
        delay the generation of click events when the user taps the screen." */
  touch-action: none;
  --ML__selection-background-color: hsl(var(--hue, 212), 97%, 85%);
  --ML__text-highlight-background-color: hsla(var(--hue, 212), 40%, 50%, 0.1);
  --ML__contains-highlight-background-color: hsl(var(--hue, 212), 40%, 95%);
  --ML__selection-color: currentColor;
  --ML__caret-color: hsl(var(--hue, 212), 40%, 49%);
  --ML__smart-fence-color: currentColor;
  --ML__latex-color: var(--primary, hsl(var(--hue, 212), 40%, 50%));
  --ML__correct-color: #10a000;
  --ML__incorrect-color: #a01b00;
  --ML__placeholder-color: hsl(var(--hue, 212), 40%, 49%);
}
/* This is the actual field content (formula) */
.ML__content {
  display: flex;
  align-items: center;
  align-self: center;
  position: relative;
  overflow: hidden;
  padding: 2px 0 2px 1px;
  width: 100%;
}
.ML__virtual-keyboard-toggle {
  box-sizing: border-box;
  display: flex;
  align-self: center;
  align-items: center;
  flex-shrink: 0;
  flex-direction: column;
  justify-content: center;
  width: 34px;
  height: 34px;
  padding: 0;
  margin-right: 4px;
  cursor: pointer;
  /* Avoid some weird blinking with :hover */
  border-radius: 8px;
  border: 1px solid transparent;
  transition: background 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  color: var(--primary, hsl(var(--hue, 212), 40%, 50%));
  fill: currentColor;
  background: transparent;
}
.ML__virtual-keyboard-toggle:hover {
  background: hsla(0, 0%, 70%, 0.3);
  color: #333;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle > span {
  display: flex;
  align-self: center;
  align-items: center;
}
/* The invisible element used to capture keyboard events. We're just trying
 really hard to make sure it doesn't show. */
.ML__keyboard-sink {
  display: inline-block;
  resize: none;
  outline: none;
  border: none;
  /* Need these for Microsoft Edge */
  position: fixed;
  clip: rect(0 0 0 0);
  /* Need this to prevent iOS Safari from auto-zooming */
  font-size: 1em;
  font-family: KaTeX_Main;
}
.ML__focused .ML__text {
  background: var(--highlight-text, var(--ML__text-highlight-background-color));
}
/* When using smartFence, the anticipated closing fence is displayed
with this style */
.ML__smart-fence__close {
  opacity: var(--smart-fence-opacity, 0.5);
  color: var(--smart-fence-color, var(--ML__smart-fence-color));
}
.ML__focused .ML__selection {
  background: var(--selection-background-color-focused, var(--selection-background-color, var(--ML__selection-background-color))) !important;
}
.ML__focused .ML__selected,
.ML__focused .ML__selected .ML__contains-caret,
.ML__focused .ML__selected .ML__smart-fence__close,
.ML__focused .ML__selected .ML__placeholder {
  color: var(--selection-color-focused, var(--selection-color, var(--ML__selection-color))) !important;
}
.ML__selection {
  box-sizing: border-box;
  background: var(--selection-background-color, var(--ML__selection-background-color)) !important;
}
.ML__selected,
.ML__selected .ML__contains-caret,
.ML__selected .ML__smart-fence__close,
.ML__selected .ML__placeholder {
  color: var(--selection-color, var(--ML__selection-color));
  opacity: 1;
}
.ML__contains-caret.ML__close,
.ML__contains-caret.ML__open,
.ML__contains-caret > .ML__close,
.ML__contains-caret > .ML__open,
.ML__contains-caret .ML__sqrt-sign,
.ML__contains-caret .ML__sqrt-line {
  color: var(--caret-color, var(--ML__caret-color));
}
.ML__contains-highlight {
  background: var(--contains-highlight-backround-color, var(--ML__contains-highlight));
  box-sizing: border-box;
}
.ML__latex {
  font-family: 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  font-weight: 400;
  color: var(--latex-color, var(--ML__latex-color));
}
.ML__suggestion {
  opacity: 0.5;
}
.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover {
  background: hsl(var(--hue, 212), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle:focus {
  outline: none;
  border-radius: 8px;
  border: 2px solid var(--primary, hsl(var(--hue, 212), 40%, 50%));
}
.ML__virtual-keyboard-toggle.is-pressed,
.ML__virtual-keyboard-toggle.is-active:hover,
.ML__virtual-keyboard-toggle.is-active {
  background: hsl(var(--hue, 212), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
/* This class is used to implement the \`\\mathtip\` and \`\\texttip\` commands
   For UI elements, see \`[data-ML__tooltip]\`
*/
.ML__tooltip-container {
  position: relative;
  transform: scale(0);
}
.ML__tooltip-container .ML__tooltip-content {
  position: fixed;
  display: inline-table;
  visibility: hidden;
  z-index: 2;
  width: max-content;
  max-width: 400px;
  padding: 12px 12px;
  border-radius: 8px;
  background: #616161;
  color: #fff;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  opacity: 0;
  transition: opacity 0.15s cubic-bezier(0.4, 0, 1, 1);
}
.ML__tooltip-container .ML__tooltip-content .ML__text {
  white-space: normal;
}
.ML__tooltip-container .ML__tooltip-content .ML__base {
  display: contents;
}
.ML__tooltip-container:hover .ML__tooltip-content {
  visibility: visible;
  opacity: 1;
  font-size: 0.75em;
  transform: scale(1) translate(0, 3em);
}
/* Add an attribute 'data-ML__tooltip' to automatically show a
   tooltip over a element on hover.
   Use 'data-position="top"' to place the tooltip above the
   element rather than below.
   Use 'data-delay' to delay the triggering of the tooltip.
*/
[data-ML__tooltip] {
  position: relative;
}
[data-ML__tooltip][data-placement='top']::after {
  top: inherit;
  bottom: 100%;
}
[data-ML__tooltip]::after {
  content: attr(data-ML__tooltip);
  position: absolute;
  display: none;
  z-index: 2;
  right: 110%;
  left: calc(100% + 8px);
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  border-radius: 2px;
  background: #616161;
  color: #fff;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  text-align: center;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-style: normal;
  font-weight: 400;
  font-size: 12px;
  /* Phone */
  opacity: 0;
  transform: scale(0.5);
  transition: all 0.15s cubic-bezier(0.4, 0, 1, 1);
}
@media only screen and (max-width: 767px) {
  [data-ML__tooltip]::after {
    padding: 8px 16px;
    font-size: 16px;
  }
}
:not(.tracking) [data-ML__tooltip]:hover {
  position: relative;
}
:not(.tracking) [data-ML__tooltip]:hover::after {
  visibility: visible;
  display: inline-table;
  opacity: 1;
  transform: scale(1);
}
[data-ML__tooltip][data-delay]::after {
  transition-delay: 0s;
}
[data-ML__tooltip][data-delay]:hover::after {
  transition-delay: 1s;
  /* attr(data-delay); Should work. But doesn't. */
}
`,vO=new Set(["Backquote","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Minus","Equal","IntlYen","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","IntlBackslash","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","IntlRo","Space","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadComma","NumpadDecimal","NumpadDivide","NumpadEqual","NumpadHash","NumpadMultiply","NumpadParenLeft","NumpadParenRight","NumpadStar","NumpadSubstract"]);function vw(e){return!(e.ctrlKey||e.metaKey||["Dead","Process"].includes(e.key))&&(""===e.code||vO.has(e.code))}function vE(e){e=function(e){if(e.code)return e;let n=Object.entries(yG().mapping),r=!1,i=!1,a="";for(let o=0;o<4;o++){for(let[l,s]of n)if(s[o]===e.key){a=l,3===o?(r=!0,i=!0):2===o?r=!0:1===o&&(i=!0);break}if(a)break}return new KeyboardEvent(e.type,pr(pn({},e),{altKey:r,shiftKey:i,code:a}))}(e);let n=[];return e.ctrlKey&&n.push("ctrl"),e.metaKey&&n.push("meta"),e.altKey&&n.push("alt"),e.shiftKey&&n.push("shift"),0===n.length?"["+e.code+"]":(n.push("["+e.code+"]"),n.join("+"))}function vC(e){var n;let r;return e?("Unidentified"===e.key&&e.target&&(r=e.target.value),r=null!=(n=null!=r?r:e.key)?n:e.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(r)&&(r=""),r):""}var vT=class{constructor(e){this.recording=!1,this.canCoalesce=!1,this.model=e,this.reset()}get maximumDepth(){return 1e3}reset(){this.stack=[],this.index=-1}startRecording(){this.recording=!0}canUndo(){return this.index>0}canRedo(){return this.index!==this.stack.length-1}undo(){return!!this.canUndo()&&(this.model.setState(this.stack[this.index-1],{suppressChangeNotifications:!1,type:"undo"}),this.index-=1,this.canCoalesce=!1,!0)}redo(){return!!this.canRedo()&&(this.index+=1,this.model.setState(this.stack[this.index],{suppressChangeNotifications:!1,type:"redo"}),this.canCoalesce=!1,!0)}pop(){this.canUndo()&&(this.index-=1,this.stack.pop())}snapshot(){return!!this.recording&&(this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push(this.model.getState()),this.index++,this.stack.length>this.maximumDepth&&this.stack.shift(),this.canCoalesce=!1,!0)}snapshotAndCoalesce(){if(!this.recording)return!1;this.canCoalesce&&this.pop();let e=this.snapshot();return this.canCoalesce=!0,e}};function vk(e){let n=e.position,r=e.at(n).parent;return null!=r&&r.parent?(e.position=e.offsetOf(r),e.announce("move",n),!0):(e.announce("plonk"),!1)}function vR(e){var n;if(e.collapseSelection(),function(e){let n=0,r=e.at(e.position),i=!1;for(;r;)r.hasEmptyBranch("superscript")&&r.hasEmptyBranch("subscript")||(n+=1),r.hasEmptyBranch("superscript")?r.hasEmptyBranch("subscript")||(i=!1):i=!0,r=r.parent;return i?n:0}(e)>=e.mathfield.options.scriptDepth[1])return e.announce("plonk"),!1;let r=e.at(e.position);return void 0===r.subsupPlacement&&((null==(n=r.rightSibling)?void 0:n.type)!=="subsup"&&r.parent.addChildAfter(new gf(e.mathfield,{style:r.computedStyle}),r),r=r.rightSibling),r.createBranch("superscript"),e.setSelection(e.getSiblingsRange(e.offsetOf(r.superscript[0]))),!0}function vS(e){var n;if(e.collapseSelection(),function(e){let n=0,r=e.at(e.position),i=!1;for(;r;)r.hasEmptyBranch("superscript")&&r.hasEmptyBranch("subscript")||(n+=1),r.hasEmptyBranch("superscript")?r.hasEmptyBranch("subscript")||(i=!0):i=!1,r=r.parent;return i?n:0}(e)>=e.mathfield.options.scriptDepth[0])return e.announce("plonk"),!1;let r=e.at(e.position);return void 0===r.subsupPlacement&&((null==(n=e.at(e.position+1))?void 0:n.type)!=="subsup"&&r.parent.addChildAfter(new gf(e.mathfield,{style:e.at(e.position).computedStyle}),r),r=e.at(e.position+1)),r.createBranch("subscript"),e.setSelection(e.getSiblingsRange(e.offsetOf(r.subscript[0]))),!0}function vA(e,n,r=!0){var i,a;let o="forward"===n?1:-1;"placeholder"===e.at(e.anchor).type&&v8(e,n);let l,s=e.at(e.anchor).parentPrompt;l=s?"forward"===n?e.offsetOf(s)+1:e.offsetOf(s.leftSibling):Math.max(e.position+o,0);let u=e.findAtom(n=>"placeholder"===n.type||"prompt"===n.type||!e.mathfield.readOnly&&n.treeDepth>2&&n.isFirstSibling&&n.isLastSibling,l,n);if(!u||"forward"===n&&e.offsetOf(u)<l||"backward"===n&&e.offsetOf(u)>l){if(!r||!(null==(a=null==(i=e.mathfield.host)?void 0:i.dispatchEvent(new CustomEvent("move-out",{detail:{direction:n},cancelable:!0,bubbles:!0,composed:!0})))||a))return e.announce("plonk"),!1;let l=function(){var e;let n,r;function i(e){var n;let r=Number.parseInt(null!=(n=e.getAttribute("tabindex"))?n:"NaN",10);return Number.isNaN(r)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:r}return pl()?(e=document.body,n=[],r=[],[...e.querySelectorAll(`input, select, textarea, a[href], button,
        [tabindex], audio[controls], video[controls],
        [contenteditable]:not([contenteditable="false"]), details>summary`)].filter(function(e){return!(e.disabled||"hidden"===e.type&&"INPUT"===e.tagName.toUpperCase()||function(e){if(!pl()||e===document.activeElement||e.contains(document.activeElement))return!1;if("hidden"===getComputedStyle(e).visibility)return!0;let n=e.getBoundingClientRect();if(0===n.width||0===n.height)return!0;for(;e;){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(e)||"INPUT"===e.tagName.toUpperCase()&&"radio"===e.type&&!function(e){var n;if(!e.name)return!0;let r=function(e,n){for(let r of e)if(r.checked&&r.form===n)return r;return null}((null!=(n=e.form)?n:e.ownerDocument).querySelectorAll('input[type="radio"][name="'+e.name+'"]'),e.form);return!r||r===e}(e)||0>i(e))}).forEach((e,a)=>{let o=i(e);0===o?n.push(e):r.push({documentOrder:a,tabIndex:o,node:e})}),r.sort((e,n)=>e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex).map(e=>e.node).concat(n)):[]}();if(!document.activeElement||l.length<=1)return e.announce("plonk"),!1;let s=l.indexOf(document.activeElement)+o;return s<0&&(s=l.length-1),s>=l.length&&(s=0),l[s].focus(),!0}let c=e.position;if("prompt"===u.type)e.setSelection(e.offsetOf(u.firstChild),e.offsetOf(u.lastChild));else{let n=e.offsetOf(u);"placeholder"===u.type?e.setSelection(n-1,n):e.position=n}return e.announce("move",c),!0}function vI(e,n,r){"function"==typeof n&&(r=n,n=1/0),void 0===n&&(n=1/0);let i=e.position,a=!1,o="";for(;!a;){let l=e.at(i);(a=0===n||void 0===l||"math"!==l.mode||!(/mord|textord|mpunct/.test(l.type)||"mop"===l.type&&/[a-zA-Z]+/.test(l.value))||!l.hasEmptyBranch("superscript")||!l.hasEmptyBranch("subscript")||"function"==typeof r&&!r(l))||(l.mode="text",l.command=l.value,l.verbatimLatex=void 0,o+=l.value),i-=1,n-=1}yY(e,{data:o,inputType:"insertText"})}function vL(e,n,r){"function"==typeof n&&(r=n,n=1/0),void 0===n&&(n=1/0);let i=e.position,a=!1,o=[];for(;!a;){let l=e.at(i);(a=0===n||!l||l.isFirstSibling||"text"!==l.mode||" "===l.value||r&&!r(l))||(o.push(l.serialize({defaultMode:"math"})),l.mode="math"),i-=1,n-=1}vM(e),yY(e,{data:fp(o),inputType:"insertText"})}function vM(e){var n;let r=e.position-1;for(;r>=0&&(null==(n=e.at(r))?void 0:n.mode)==="math";)r-=1;if(!(r<0)&&"text"===e.at(r).mode&&" "===e.at(r).value&&"math"===e.at(r-1).mode){e.at(r-1).parent.removeChild(e.at(r-1));let n=e.suppressChangeNotifications;e.suppressChangeNotifications=!0,e.position-=1,e.suppressChangeNotifications=n,yY(e,{inputType:"deleteContent"})}}bc({moveToOpposite:e=>{let n=e.at(e.position),{parent:r}=n;if(!r)return e.announce("plonk"),!1;let i=n.parentBranch,a;return"string"==typeof i&&(a=({superscript:"subscript",subscript:"superscript",above:"below",below:"above"})[i]),a?(r.branch(a)||r.createBranch(a),e.setSelection(e.getBranchRange(e.offsetOf(r),a))):n.subsupPlacement?vS(e):vR(e)},moveBeforeParent:e=>{let{parent:n}=e.at(e.position);return n?(e.position=e.offsetOf(n),!0):(e.announce("plonk"),!1)},moveAfterParent:e=>vk(e),moveToNextPlaceholder:e=>vA(e,"forward"),moveToPreviousPlaceholder:e=>vA(e,"backward"),moveToNextChar:e=>v8(e,"forward"),moveToPreviousChar:e=>v8(e,"backward"),moveUp:e=>v8(e,"upward"),moveDown:e=>v8(e,"downward"),moveToNextWord:e=>v5(e,"forward"),moveToPreviousWord:e=>v5(e,"backward"),moveToGroupStart:e=>{let n=e.offsetOf(e.at(e.position).firstSibling);return n===e.position?(e.announce("plonk"),!1):(e.position=n,!0)},moveToGroupEnd:e=>{let n=e.offsetOf(e.at(e.position).lastSibling);return n===e.position?(e.announce("plonk"),!1):(e.position=n,!0)},moveToMathfieldStart:e=>0===e.position?(e.announce("plonk"),!1):(e.position=0,!0),moveToMathfieldEnd:e=>e.position===e.lastOffset?(e.announce("plonk"),!1):(e.position=e.lastOffset,!0),moveToSuperscript:e=>vR(e),moveToSubscript:e=>vS(e)},{target:"model",category:"selection-anchor"});var vN,vD,vB,vP,vK,vU=`/* The element that displays the keys as the user type them */
#mathlive-keystroke-caption-panel {
  visibility: hidden;
  /*min-width: 160px;*/
  /*background-color: rgba(97, 97, 200, .95);*/
  background: var(--secondary, hsl(var(--hue, 212), 19%, 26%));
  border-color: var(--secondary-border, hsl(0, 0%, 91%));
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
  text-align: center;
  border-radius: 6px;
  padding: 16px;
  position: absolute;
  z-index: 1;
  display: flex;
  flex-direction: row-reverse;
  justify-content: center;
  --keystroke: white;
  --on-keystroke: #555;
  --keystroke-border: #f7f7f7;
}
@media (prefers-color-scheme: dark) {
  body:not([theme='light']) #mathlive-keystroke-caption-panel {
    --keystroke: hsl(var(--hue, 212), 50%, 30%);
    --on-keystroke: hsl(0, 0%, 98%);
    --keystroke-border: hsl(var(--hue, 212), 50%, 25%);
  }
}
body[theme='dark'] #mathlive-keystroke-caption-panel {
  --keystroke: hsl(var(--hue, 212), 50%, 30%);
  --on-keystroke: hsl(0, 0%, 98%);
  --keystroke-border: hsl(var(--hue, 212), 50%, 25%);
}
#mathlive-keystroke-caption-panel > span {
  min-width: 14px;
  /*height: 8px;*/
  margin: 0 8px 0 0;
  padding: 4px;
  background-color: var(--keystroke);
  color: var(--on-keystroke);
  fill: currentColor;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 1em;
  border-radius: 6px;
  border: 2px solid var(--keystroke-border);
  /*box-shadow: 0 7px 14px rgba(0,0,0,0.25), 0 5px 5px rgba(0,0,0,0.22);*/
}
`,vV=null,vG=null;function vF(e){return e.keystrokeCaption||(e.keystrokeCaption=ym("mathlive-keystroke-caption-panel"),void 0===vK&&(vK=yI(vU).toString(36)),vV=yL(null,vU,vK),vG=yL(null,yZ,yI(yZ).toString(36))),e.keystrokeCaption}function vH(e){if(e){for(let n=0;e[n];n++){let r=e[n];if(r instanceof gd&&"("===r.leftDelim){let i=0,a=0,o=0;for(let e=0;r.body[e];e++)"genfrac"===r.body[e].type&&(i++,a=e),o++;0===o&&1===i&&(e[n]=r.body[a])}}for(let n of e){for(let e of n.branches)if(!n.hasEmptyBranch(e)){vH(n.branch(e));let r=function(e){if(!e||(e[0].type,e.length>1))return null;let n=e[0];return n instanceof gd&&"("===n.leftDelim&&")"===n.rightDelim?n.removeBranch("body"):null}(n.branch(e));r&&n.setChildren(r,e)}if(n instanceof gk)for(let e of n.cells)vH(e)}}}function vz(e){return!!/^(mord|surd|msubsup|leftright|mop|mclose)$/.test(e.type)&&!(e.isExtensibleSymbol||e.isFunction)}function v$(e,n){return!e||(["(","{","[","\\lbrace","\\lparen","\\{","\\lbrack"].includes(e)?[")","}","]","\\rbrace","\\rparen","\\}","\\rbrack"].includes(n):f1[e]===n)}function vZ(e,n){return!n||([")","}","]","\\rbrace","\\rparen","\\}","\\rbrack"].includes(n)?["(","{","[","\\lbrace","\\lparen","\\{","\\lbrack"].includes(e):f2[n]===e)}function vj(e,n,r){e.selectionIsCollapsed;let i=e.at(e.position),{parent:a}=i;if(("{"===n||"\\{"===n)&&(n="\\lbrace"),("}"===n||"\\}"===n)&&(n="\\rbrace"),"["===n&&(n="\\lbrack"),"]"===n&&(n="\\rbrack"),/\||\\vert|\\Vert|\\mvert|\\mid/.test(n)){let i=a instanceof gd?a.leftDelim+a.rightDelim:"";if("\\lbrace\\rbrace"===i&&(i="{}"),"\\{\\}"===i&&(i="{}"),"\\lparen\\rparen"===i&&(i="()"),"{}"===i)return yu.insert("math",e,"\\,\\middle"+n+"\\, ",{format:"latex",style:r}),!0}let o=f1[n];if(o){if(a instanceof gd&&a.firstChild===i&&("?"===a.leftDelim||"."===a.leftDelim))return a.leftDelim=n,a.isDirty=!0,yY(e,{data:n,inputType:"insertText"}),!0;if(!(a instanceof gd)){let r=i;for(;r&&!("mclose"===r.type&&r.value===o);)r=r.rightSibling;if(r){let l=e.extractAtoms([e.offsetOf(i),e.offsetOf(r)]);return l.pop(),a.addChildrenAfter([new gd("left...right",l,a.context,{leftDelim:n,rightDelim:o})],i),e.position=e.offsetOf(a.firstChild)+1,yY(e,{data:n,inputType:"insertText"}),!0}}let l=e.offsetOf(i.lastSibling),s;for(s=e.position;s<=l;s++){let r=e.at(s);if(r instanceof gd&&("?"===r.leftDelim||"."===r.leftDelim)&&vZ(n,r.rightDelim))break}let u=e.at(s);if(s<=l&&u instanceof gd){u.leftDelim=n;let r=e.extractAtoms([e.position,s-1]);return r=r.filter(e=>"first"!==e.type),u.addChildren(r,u.parentBranch),e.position+=1,yY(e,{data:n,inputType:"insertText"}),!0}if(a instanceof gd&&("?"===a.leftDelim||"."===a.leftDelim)&&vZ(n,a.rightDelim)){for(let r of(a.isDirty=!0,a.leftDelim=n,e.extractAtoms([e.offsetOf(i.firstSibling),e.position])))a.parent.addChildBefore(r,a);return yY(e,{data:n,inputType:"insertText"}),!0}if(!(a instanceof gd&&"|"===a.leftDelim)){if(yu.insert("math",e,`\\left${n}\\right?`,{format:"latex",style:r}),"first"!==i.lastSibling.type){let n=e.offsetOf(i.lastSibling),r=e.extractAtoms([e.position,n]);e.at(e.position).body=r,e.position-=1}return!0}}let l=f2[n];if(l){let o=i;for(;o;){if("mopen"===o.type&&o.value===l){let r=o.leftSibling,s=e.extractAtoms([e.offsetOf(o.leftSibling),e.offsetOf(i)]);s.shift();let u=new gd("left...right",s,a.context,{leftDelim:l,rightDelim:n});return a.addChildrenAfter([u],r),e.position=e.offsetOf(u),yY(e,{data:n,inputType:"insertText"}),!0}o=o.leftSibling}if(a instanceof gd&&i.isLastSibling&&v$(a.leftDelim,n))return a.isDirty=!0,a.rightDelim=n,e.position+=1,yY(e,{data:n,inputType:"insertText"}),!0;let s=e.offsetOf(i.firstSibling),u;for(u=e.position;u>=s;u--){let r=e.at(u);if(r instanceof gd&&("?"===r.rightDelim||"."===r.rightDelim)&&v$(r.leftDelim,n))break}let c=e.at(u);if(u>=s&&c instanceof gd)return c.rightDelim=n,c.addChildren(e.extractAtoms([u,e.position]),c.parentBranch),yY(e,{data:n,inputType:"insertText"}),!0;if(a instanceof gd&&("?"===a.rightDelim||"."===a.rightDelim)&&v$(a.leftDelim,n))return a.isDirty=!0,a.rightDelim=n,a.parent.addChildren(e.extractAtoms([e.position,e.offsetOf(i.lastSibling)]),a.parentBranch),e.position=e.offsetOf(a),yY(e,{data:n,inputType:"insertText"}),!0;let d=a.parent;return d instanceof gd&&("?"===d.rightDelim||"."===d.rightDelim)&&!!e.at(e.position).isLastSibling&&(e.position=e.offsetOf(d),vj(e,n,r))}return!1}function vW(e,n,r){var i,a,o,l;let{model:s}=e;!function(e){var n,r;if(!e||"Unidentified"===e.key||"Dead"===e.key)return;let i=e.shiftKey&&e.altKey?3:e.altKey?2:e.shiftKey?1:0;for(let a of yK)(null==(n=a.mapping[e.code])?void 0:n[i])===e.key?a.score+=1:null!=(r=a.mapping[e.code])&&r[i]&&(a.score=0);yK.sort((e,n)=>n.score-e.score)}(r);let u=yG();if(e.keyboardLayout!==u.id&&(e.keyboardLayout=u.id,e._keybindings=void 0),clearTimeout(e.inlineShortcutBufferFlushTimer),e.inlineShortcutBufferFlushTimer=0,function(e,n){if(!e.isSelectionEditable||!e.keystrokeCaptionVisible)return;let r=vF(e),i=e.element.getBoundingClientRect();r.style.left=`${i.left}px`,r.style.top=`${i.top-64}px`,r.innerHTML=window.MathfieldElement.createHTML("<span>"+(yH(n)||n)+"</span>"+r.innerHTML),r.style.visibility="visible",setTimeout(()=>{r.childNodes.length>0&&r.childNodes[r.childNodes.length-1].remove(),0===r.childNodes.length&&(r.style.visibility="hidden")},3e3)}(e,n),r.defaultPrevented)return e.flushInlineShortcutBuffer(),!1;let c,d="",h;if(e.isSelectionEditable){if("math"===e.mode){if("[Backspace]"===n)e.inlineShortcutBuffer.pop(),e.flushInlineShortcutBuffer({defer:!0});else if(vw(r)){let n=vC(r),o=[...null!=(a=null==(i=e.inlineShortcutBuffer[e.inlineShortcutBuffer.length-1])?void 0:i.keystrokes)?a:[],n];e.inlineShortcutBuffer.push({state:s.getState(),keystrokes:o,leftSiblings:function(e){let n=e.model,r=[],i=n.at(Math.min(n.position,n.anchor));for(;"first"!==i.type;)r.push(i),i=i.leftSibling;return r}(e)});let l=0,u="";for(;!c&&l<o.length;)h=e.inlineShortcutBuffer.length-(o.length-l),u=o.slice(l).join(""),!(c=g9(e.inlineShortcutBuffer[h].leftSiblings,u,e.options.inlineShortcuts))&&/^[a-zA-Z][a-zA-Z0-9]+?([_\^][a-zA-Z0-9\*\+\-]+?)?$/.test(u)&&(c=e.options.onInlineShortcut(e,u)),l+=1;e.flushInlineShortcutBuffer({defer:!0})}else e.flushInlineShortcutBuffer()}if(e.options.smartMode){let i=e.mode;c?e.mode="math":function(e,n,r){if(e.smartModeSuppressed)return!1;let{model:i}=e;if(!i.at(i.position).isLastSibling||!r||!vw(r))return!1;let a=vC(r);if(!i.selectionIsCollapsed)return!!("text"===e.mode&&/[/_^]/.test(a));let o=function(e){let n="",r=e.position,i=!1;for(;!i;){let a=e.at(r);(i=!(a&&("text"===a.mode||"math"===a.mode&&/mord|textord|mpunct/.test(a.type))))||(n=a.value+n),r-=1}return n}(i)+a;if("text"===e.mode){if("Esc"===n||/[/\\]/.test(a))return!0;if(/[\^_]/.test(a))return/(^|\s)[a-zA-Z][^_]$/.test(o)&&vL(i,1),!0;let e={")":"(","}":"{","]":"["}[a],{parent:r}=i.at(i.position);if(e&&r instanceof gd&&r.leftDelim===e)return!0;if(/(^|[^a-zA-Z])(a|I) $/.test(o))return!1;if(/[$]/u.test(a))return!0;if(/(^|[^a-zA-Z'])[a-zA-Z] $/.test(o))return vL(i,1),!1;if(/\D\.[^\d\s]$/.test(o)){vL(i,1);let e=i.at(i.position);return e.value="",e.style.variant="normal",e.command="\\cdot",e.verbatimLatex=void 0,yY(i,{data:"\\cdot",inputType:"insertText"}),!0}if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(o)||/\.\d$/.test(o)||/\([\d+\-.]$/.test(o))return vL(i,1),!0;if(/\([a-z][,;]$/.test(o))return vL(i,2),!0;if(/[\d+\-=><*|]$/.test(a))return vM(i),!0}else{if("[Space]"===n)return vI(i,void 0,e=>/[a-z][:,;.]$/.test(e.value)),!0;if(/[a-zA-Z]{3,}$/.test(o)&&!/(dxd|abc|xyz|uvw)$/.test(o))return vI(i,void 0,e=>/[a-zA-Z]/.test(e.value)),!0;if(/(^|\W)(if)$/i.test(o))return vI(i,1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/u.test(o)&&!/()$/.test(o))return vI(i,void 0,e=>/(:|,|;|.|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/u.test(e.value)),!0;if("?"===a||"."===a&&!/[\d-+]\.$/.test(o))return!0}return!1}(e,n,r)&&(e.mode=({math:"text",text:"math"})[e.mode],d=""),e.mode!==i&&(null!=(o=e.host)&&o.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))||(e.mode=i))}}if(!c){if(d||(d=function(e,n,r){if(0===e.length)return"";let i=yN(yM(r));for(let r=e.length-1;r>=0;r--)if(e[r].key===i&&(!e[r].ifMode||e[r].ifMode===n))return e[r].command;return""}(e.keybindings,e.mode,n)),!d&&("[Enter]"===n||"[Return]"===n)){let n=!1;return yq(s,{inputType:"insertLineBreak"})&&(e.host&&(n=!e.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),n||r.preventDefault&&(r.preventDefault(),r.stopPropagation()),yY(s,{inputType:"insertLineBreak"})),n}if((!d||"[Space]"===n)&&"math"===e.mode){if("[Space]"===n){if(e.adoptStyle="none",e.flushInlineShortcutBuffer(),e.options.mathModeSpace)return e.snapshot(),yu.insert("math",s,e.options.mathModeSpace,{format:"latex"}),d="",e.dirty=!0,e.scrollIntoView(),r.preventDefault&&(r.preventDefault(),r.stopPropagation()),!1;let n=s.at(s.position+1),i=s.at(s.position-1);if((null==n?void 0:n.mode)==="text"||(null==i?void 0:i.mode)==="text")return e.snapshot(),yu.insert("text",s," "),e.dirty=!0,e.scrollIntoView(),!0}null!=(l=s.at(s.position))&&l.isDigit()&&","===window.MathfieldElement.decimalSeparator&&","===vC(r)&&(d="insertDecimalSeparator")}}if(!c&&!d)return!0;let p=s.at(Math.max(s.position,s.anchor)),{parent:m}=p;if("moveAfterParent"===d&&(null==m?void 0:m.type)==="leftright"&&p.isLastSibling&&e.options.smartFence&&vj(s,".",e.style)&&(d="",bo(e)),e.keyboardDelegate.cancelComposition(),d)e.executeCommand(d);else if(c){let n=pn(pn({},s.at(s.position).computedStyle),e.style);if(!/^\\({|}|\[|]|@|#|\$|%|&|\^|_|backslash)$/.test(c)){let i=e.mode;yu.insert(e.mode,s,vC(r),{suppressChangeNotifications:!0,style:n}),e.snapshot(),s.setState(e.inlineShortcutBuffer[h].state),e.mode=i}s.deferNotifications({content:!0,selection:!0,data:null!=c?c:null,type:"insertText"},()=>(yu.insert(e.mode,s,c,{format:"latex",style:n}),vM(e.model),c.endsWith(" ")&&(e.mode="text",yu.insert("text",s," ",{style:n})),s.selectionIsCollapsed||e.flushInlineShortcutBuffer(),!0)),e.snapshot(),e.dirty=!0,s.announce("replacement")}return e.scrollIntoView(),r.preventDefault&&r.preventDefault(),!1}function vq(e,n,r){var i;let{model:a}=e;if(!e.isSelectionEditable){a.announce("plonk");return}if((r=null!=r?r:{}).focus&&e.focus(),r.feedback&&window.MathfieldElement.playSound("keypress"),"string"==typeof r.mode&&e.switchMode(r.mode),r.simulateKeystroke){let r=n.charAt(0),i=new KeyboardEvent("keypress",{key:r});if(!vW(e,r,i))return}let o=a.at(a.position),l=o.rightSibling,s=pn(pn({},o.computedStyle),e.style);a.selectionIsCollapsed||(a.deleteAtoms(g7(a.selection)),e.snapshot());let u=fc(n);if("latex"===e.mode)a.deferNotifications({content:!0,selection:!0,data:n,type:"insertText"},()=>{for(let n of(yQ(e),u))yu.insert("latex",a,n);y0(e)});else if("text"===e.mode)for(let e of u)yu.insert("text",a,e,{style:s});else if("math"===e.mode)for(let n of u){let r={"^":"moveToSuperscript",_:"moveToSubscript"," ":"moveAfterParent"}[n];if(" "===n&&e.options.mathModeSpace&&(r=["insert",e.options.mathModeSpace]),r)e.executeCommand(r);else if(/\d/.test(n)&&e.options.smartSuperscript&&"superscript"===o.parentBranch&&(null==(i=o.parent)?void 0:i.type)!=="mop"&&o.hasNoSiblings)yu.insert("math",a,n,{style:s}),vk(a);else{if("none"!==e.adoptStyle){let r="left"===e.adoptStyle?o:l;(null==r?void 0:r.type)==="mord"&&/[a-zA-Z]/.test(r.value)&&/[a-zA-Z]/.test(n)&&(r.style.variant&&(s.variant=r.style.variant),r.style.variantStyle&&(s.variantStyle=r.style.variantStyle))}yu.insert("math",a,n,{style:s})}}e.snapshotAndCoalesce(),e.dirty=!0,e.scrollIntoView()}function vY(e,n){var r,i,a,o,l,s;let u={};"string"==typeof n.color&&(u.verbatimColor=n.color,u.color=null!=(r=e.colorMap(n.color))?r:"none"),"string"==typeof n.backgroundColor&&(u.verbatimBackgroundColor=n.backgroundColor,u.backgroundColor=null!=(i=e.backgroundColorMap(n.backgroundColor))?i:"none"),"string"==typeof n.fontFamily&&(u.fontFamily=n.fontFamily),"string"==typeof n.series&&(u.fontSeries=n.series),"string"==typeof n.fontSeries&&(u.fontSeries=n.fontSeries.toLowerCase()),u.fontSeries&&(u.fontSeries=null!=(a=({bold:"b",medium:"m",normal:"m"})[u.fontSeries])?a:u.fontSeries),"string"==typeof n.shape&&(u.fontShape=n.shape),"string"==typeof n.fontShape&&(u.fontShape=n.fontShape.toLowerCase()),u.fontShape&&(u.fontShape=null!=(o=({italic:"it",up:"n",upright:"n",normal:"n"})[u.fontShape])?o:u.fontShape);let c=null!=(l=n.size)?l:n.fontSize;return"number"==typeof c?u.fontSize=Math.max(1,Math.min(10,c)):"string"==typeof c&&(u.fontSize=null!=(s=({size1:1,size2:2,size3:3,size4:4,size5:5,size6:6,size7:7,size8:8,size9:9,size10:10})[c.toLowerCase()])?s:({tiny:1,scriptsize:2,footnotesize:3,small:4,normal:5,normalsize:5,large:6,Large:7,LARGE:8,huge:9,Huge:10})[c]),u}function vX(e){var n,r,i,a,o,l;if("text"===vb(e,e.position)){let n=Math.min(e.anchor,e.position),r=Math.max(e.anchor,e.position),i=!1;for(;!i&&n>0;){let r=e.at(n);"text"===r.mode&&fk.test(r.value)?n-=1:i=!0}for(i=!1;!i&&r<=e.lastOffset;){let n=e.at(r);"text"===n.mode&&fk.test(n.value)?r+=1:i=!0}if(i&&(r-=1),n>=r)return e.setSelection(r-1,r),!0;e.setSelection(n,r)}else{let s=e.at(e.position);if(s.isDigit()){let i=Math.min(e.anchor,e.position),a=Math.max(e.anchor,e.position);for(;null!=(n=e.at(i))&&n.isDigit();)i-=1;for(;null!=(r=e.at(a))&&r.isDigit();)a+=1;e.setSelection(i,a-1)}else if(s.style.variant||s.style.variantStyle){let n=Math.min(e.anchor,e.position),r=Math.max(e.anchor,e.position),u=null==(i=e.at(n))?void 0:i.style;for(;u&&u.variant===s.style.variant&&u.variantStyle===s.style.variantStyle;)n-=1,u=null==(a=e.at(n))?void 0:a.style;for(u=null==(o=e.at(r))?void 0:o.style;u&&u.variant===s.style.variant&&u.variantStyle===s.style.variantStyle;)r+=1,u=null==(l=e.at(r))?void 0:l.style;e.setSelection(n,r-1)}else e.setSelection(e.offsetOf(s.firstSibling),e.offsetOf(s.lastSibling))}return!0}new class extends yu{constructor(){super("math")}onPaste(e,n){if(!n||!yq(e.model,{data:"string"==typeof n?n:null,dataTransfer:"string"==typeof n?null:n,inputType:"insertFromPaste"}))return!1;let r="",i="auto",a="string"!=typeof n?n.getData("application/json+mathlive"):"";if(a)try{let n=JSON.parse(a);if(n&&Array.isArray(n)){e.snapshot();let r=g4(n,e),{model:i}=e;i.selectionIsCollapsed||i.deleteAtoms(g7(i.selection));let a=i.at(i.position);if(a.parent instanceof gk){a.parentBranch;let e=[],n=[];for(let i of("first"===r[0].type&&r.shift(),"first"===r[r.length-1].type&&r.pop(),r))"first"===i.type&&n.length>0?(e.push(n),n=[i]):n.push(i);n.length>0&&e.push(n);let i=Number(a.parentBranch[0]),o=Number(a.parentBranch[1]),l=a.parent.maxColumns;for(;a.parent.colCount-o<e.length&&a.parent.colCount<l;)a.parent.addColumn();a.parent.addChildrenAfter(e[0],a);for(let n=1;n<e.length;n++)++o>=l&&(o=0,a.parent.addRowAfter(i),i++),a.parent.setCell(i,o,e[n])}else a.parent.addChildrenAfter(r.filter(e=>"first"!==e.type),a);return i.position=i.offsetOf(r[r.length-1]),yY(i,{inputType:"insertFromPaste"}),bo(e),!0}}catch(e){}if((a="string"!=typeof n?n.getData("application/json"):"")&&window.MathfieldElement.computeEngine)try{let e=JSON.parse(a);if("object"==typeof e&&"latex"in e&&e.latex&&(r=e.latex),!r){let n=window.MathfieldElement.computeEngine.box(e);n&&!n.has("Error")&&(r=n.latex)}r||(i="latex")}catch(e){}if(!r&&"string"!=typeof n&&(r=n.getData("application/x-latex"))&&(i="latex"),r||(r="string"==typeof n?n:n.getData("text/plain")),r){let n;return e.snapshot(),[n,r]=yo(r),"auto"===i&&n&&(i="latex"),this.insert(e.model,r,{format:i})&&bo(e),!0}return!1}insert(e,n,r){var i,a;let o="string"==typeof n?n:null!=(a=null==(i=window.MathfieldElement.computeEngine)?void 0:i.box(n).latex)?a:"";if(!r.suppressChangeNotifications&&!yq(e,{data:o,inputType:"insertText"}))return!1;if(r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder"),r.format||(r.format="auto"),e.mathfield.smartFence){if(e.selectionIsCollapsed&&"string"==typeof n&&vj(e,n,r.style))return!0}else if("replaceAll"!==r.insertionMode){let{parent:r}=e.at(e.position);if(r instanceof gd&&"?"===r.rightDelim&&e.at(e.position).isLastSibling&&"string"==typeof n&&/^[)}\]|]$/.test(n))return r.isDirty=!0,r.rightDelim=n,e.position+=1,yW(e),yY(e,{data:o,inputType:"insertText"}),!0}let{suppressChangeNotifications:l}=e;r.suppressChangeNotifications&&(e.suppressChangeNotifications=!0);let s=e.suppressChangeNotifications;e.suppressChangeNotifications=!0;let u={};if(u[0]="replaceAll"===r.insertionMode?"":e.getValue(e.selection,"latex-unstyled"),u["?"]="\\placeholder{}",u["@"]=u["?"],"replaceSelection"!==r.insertionMode||e.selectionIsCollapsed?"replaceAll"===r.insertionMode?(e.root.setChildren([],"body"),e.position=0):"insertBefore"===r.insertionMode?e.collapseSelection("backward"):"insertAfter"===r.insertionMode&&e.collapseSelection("forward"):e.deleteAtoms(g7(e.selection)),e.at(e.position).isLastSibling||"placeholder"!==e.at(e.position+1).type?"placeholder"===e.at(e.position).type&&e.deleteAtoms([e.position-1,e.position]):e.deleteAtoms([e.position,e.position+1]),u[0])u["@"]=u[0];else if("string"==typeof n&&/(^|[^\\])#@/.test(n)){let n=function(e){let n=e.at(e.position);if("text"===n.mode){for(;!n.isFirstSibling&&"text"===n.mode;)n=n.leftSibling;return e.offsetOf(n)}let r=n,i=!1;if("mclose"===n.type){let e=f2[n.value];for(;!n.isFirstSibling&&!("mopen"===n.type&&n.value===e);)n=n.leftSibling;n.isFirstSibling||(n=n.leftSibling),i=!0}else"leftright"===n.type&&(n=n.leftSibling,i=!0);if(i)for(;!n.isFirstSibling&&(n.isFunction||vz(n));)n=n.leftSibling;else{let e=[];for(;!n.isFirstSibling&&(vz(n)||e.length>0);)"mclose"===n.type&&e.unshift(n.value),"mopen"===n.type&&e.length>0&&n.value===f2[e[0]]&&e.shift(),n=n.leftSibling}return r===n?-1:e.offsetOf(n)}(e);n>=0&&(u["@"]=e.getValue(n,e.position,"latex-unstyled"),e.deleteAtoms([n,e.position]))}u[0]||(u[0]=u["?"]);let c=!1,[d,h]=function(e,n,r,i){var a;let o,l=[];if("string"!=typeof n||"math-json"===i.format){let r=window.MathfieldElement.computeEngine;if(!r)return["math-json",[]];[o,n]=["latex",r.box(n).latex],l=gv(n,e.mathfield,{parseMode:"math"})}else"string"==typeof n&&"ascii-math"===i.format?([o,n]=yt(n,{format:"ascii-math",inlineShortcuts:e.mathfield.options.inlineShortcuts}),l=gv(n,e.mathfield,{parseMode:"math"}),"latex"!==o&&e.options.removeExtraneousParentheses&&vH(l)):("auto"===i.format||null!=(a=i.format)&&a.startsWith("latex"))&&("auto"===i.format&&([o,n]=yt(n,{format:"auto",inlineShortcuts:e.mathfield.options.inlineShortcuts})),"latex"===i.format&&([,n]=yo(n)),l=gv(n,e.mathfield,{parseMode:"math",args:r}),"latex"!==i.format&&e.options.removeExtraneousParentheses&&vH(l));return vv(l,i.style),[null!=o?o:"latex",l]}(e,n,e=>(c=!0,u[e]),r);if(!h)return!1;let{parent:p}=e.at(e.position);if("latex"!==d&&e.options.removeExtraneousParentheses&&p instanceof gd&&"("===p.leftDelim&&p.hasEmptyBranch("body")&&1===h.length&&"genfrac"===h[0].type){let e=p.parent,n=p.parentBranch;e.removeChild(p),e.setChildren(h,n)}let m=p.hasEmptyBranch("body"),f=e.at(e.position);f.parent.addChildrenAfter(h,f),"latex"!==d||"string"!=typeof n||p.parent||!m||c||(p.verbatimLatex=n),e.suppressChangeNotifications=s;let g=h[h.length-1];if("placeholder"===r.selectionMode){let n=h.flatMap(e=>[e,...e.children]).find(e=>"placeholder"===e.type);if(n){let r=e.offsetOf(n);e.setSelection(r-1,r),e.announce("move")}else g&&(e.position=e.offsetOf(g))}else"before"===r.selectionMode||("after"===r.selectionMode?g&&(e.position=e.offsetOf(g)):"item"===r.selectionMode&&e.setSelection(e.anchor,e.offsetOf(g)));return yY(e,{data:o,inputType:"insertText"}),e.suppressChangeNotifications=l,!0}},bc({undo:e=>(y2(e,"accept"),e.undo(),!0),redo:e=>(y2(e,"accept"),e.redo(),!0),scrollIntoView:e=>(e.scrollIntoView(),!0),scrollToStart:e=>(e.field.scroll(0,0),!0),scrollToEnd:e=>{let n=e.field.getBoundingClientRect();return e.field.scroll(n.left-window.scrollX,0),!0},toggleKeystrokeCaption:function(e){return e.keystrokeCaptionVisible=!e.keystrokeCaptionVisible,e.keystrokeCaptionVisible?(e.keystrokeCaption=vF(e),e.keystrokeCaption.innerHTML=""):e.keystrokeCaption&&(e.keystrokeCaption.style.visibility="hidden"),!1},plonk:e=>(e.model.announce("plonk"),!0),switchMode:(e,n,r,i)=>(e.switchMode(n,r,i),!0),insert:(e,n,r)=>e.insert(n,r),typedText:(e,n,r)=>(vq(e,n,r),!0),insertDecimalSeparator:e=>{if("math"===e.mode&&","===window.MathfieldElement.decimalSeparator){let n=e.model;if(n.at(Math.max(n.position,n.anchor)).isDigit())return e.snapshot(),e.insert("{,}",{format:"latex"}),!0}return e.insert("."),!0},commit:e=>{var n;return yq(e.model,{inputType:"insertLineBreak"})&&(null==(n=e.host)||n.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),yY(e.model,{inputType:"insertLineBreak"})),!0},insertPrompt:(e,n,r)=>{let i=e.getPrompts(),a="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36),o=0;for(;i.includes(a)&&o<100;){if(99===o)return console.error("could not find a unique ID after 100 tries"),!1;a="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36),o++}return e.insert(`\\placeholder[${null!=n?n:a}]{}`,r),!0}}),bc({copyToClipboard:e=>(e.focus(),e.model.selectionIsCollapsed&&e.select(),"queryCommandSupported"in document&&document.queryCommandSupported("copy")?document.execCommand("copy"):e.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("copy",{bubbles:!0,composed:!0})),!1),cutToClipboard:e=>(e.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("cut")?document.execCommand("cut"):e.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("cut",{bubbles:!0,composed:!0})),!0),pasteFromClipboard:e=>(e.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("paste")?document.execCommand("paste"):navigator.clipboard.readText().then(n=>{n&&yq(e.model,{inputType:"insertFromPaste",data:n})?(e.snapshot(),e.insert(n)&&(yY(e.model,{inputType:"insertFromPaste"}),bo(e))):e.model.announce("plonk")}),!0)},{target:"mathfield",category:"clipboard"}),bc({applyStyle:function(e,n){e.flushInlineShortcutBuffer();let r=vY(e,n),{model:i}=e;return i.selectionIsCollapsed?(e.style.fontSeries&&r.fontSeries===e.style.fontSeries&&(r.fontSeries="auto"),r.fontShape&&r.fontShape===e.style.fontShape&&(r.fontShape="auto"),r.color&&r.color===e.style.color&&(r.color="none"),r.backgroundColor&&r.backgroundColor===e.style.backgroundColor&&(r.backgroundColor="none"),r.fontSize&&r.fontSize===e.style.fontSize&&(r.fontSize="auto"),e.style=pn(pn({},e.style),r)):e.model.deferNotifications({content:!0,type:"insertText"},()=>{i.selection.ranges.forEach(e=>v_(i,e,r,{operation:"toggle"})),e.snapshot()}),!0}},{target:"mathfield"}),bc({selectGroup:e=>{let n=vX(e);return n||e.announce("plonk"),n},selectAll:e=>e.setSelection(0,e.lastOffset),extendSelectionForward:e=>v8(e,"forward",{extend:!0}),extendSelectionBackward:e=>v8(e,"backward",{extend:!0}),extendToNextWord:e=>v5(e,"forward",{extend:!0}),extendToPreviousWord:e=>v5(e,"backward",{extend:!0}),extendSelectionUpward:e=>v8(e,"upward",{extend:!0}),extendSelectionDownward:e=>v8(e,"downward",{extend:!0}),extendToNextBoundary:e=>v5(e,"forward",{extend:!0}),extendToPreviousBoundary:e=>v5(e,"backward",{extend:!0}),extendToGroupStart:e=>{let n=e.setSelection(e.anchor,e.offsetOf(e.at(e.position).firstSibling));return n||e.announce("plonk"),n},extendToGroupEnd:e=>{let n=e.setSelection(e.anchor,e.offsetOf(e.at(e.position).lastSibling));return n||e.announce("plonk"),n},extendToMathFieldStart:e=>{let n=e.setSelection(e.anchor,0);return n||e.announce("plonk"),n},extendToMathFieldEnd:e=>{let n=e.setSelection(e.anchor,e.lastOffset);return n||e.announce("plonk"),n}},{target:"model",category:"selection-extend"});var vJ=null,vQ=0;function v0(e){return e instanceof PointerEvent}function v1(e,n,r,i){var a,o;let l=null==(a=e.fieldContent)?void 0:a.getBoundingClientRect();if(!l)return 0;if(n>l.right||r>l.bottom+8)return e.model.lastOffset;if(n<l.left||r<l.top-8)return 0;(i=null!=i?i:{}).bias=null!=(o=i.bias)?o:0;let s=function(e,n,r){let[,i]=function e(n,r,i,a,o){if(!i.id)return[1/0,null];if(r.has(i.id))return r.get(i.id);let l=yv(n,i);if(!l)return[1/0,null];let s=[1/0,null];if(i.hasChildren&&!i.captureSelection&&a>=l.left&&a<=l.right)for(let l of i.children){let i=e(n,r,l,a,o);i[0]<=s[0]&&(s=i)}return s[1]||(s=[function(e,n,r){if(e>=r.left&&e<=r.right&&n>=r.top&&n<=r.bottom)return 0;let i=e-(r.left+r.right)/2,a=n-(r.top+r.bottom)/2;return i*i+a*a}(a,o,l),i]),r.set(i.id,s),s}(e,new Map,e.model.root,n,r);return i}(e,n,r),u=[],c=s;for(;c;)u.unshift(c),c=c.parent;for(let e of u)if(e.captureSelection){s=e;break}let d=e.model.offsetOf(s);if(d<0)return -1;if(s.leftSibling){if(0===i.bias&&"placeholder"!==s.type){let r=yv(e,s);r&&n<(r.left+r.right)/2&&(d=e.model.offsetOf(s.leftSibling))}else i.bias<0&&(d=e.model.offsetOf(s.leftSibling))}return d}new class extends yu{constructor(){super("text")}onPaste(e,n){if(!n)return!1;let r="string"==typeof n?n:n.getData("text/plain");return!!(r&&yq(e.model,{inputType:"insertFromPaste",data:r}))&&(e.snapshot(),this.insert(e.model,r)&&(yY(e.model,{inputType:"insertFromPaste"}),bo(e)),!0)}insert(e,n,r={}){var i,a;if(!yq(e,{data:n,inputType:"insertText"}))return!1;r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder"),r.format||(r.format="auto");let{suppressChangeNotifications:o}=e;r.suppressChangeNotifications&&(e.suppressChangeNotifications=!0);let l=e.suppressChangeNotifications;e.suppressChangeNotifications=!0,"replaceSelection"!==r.insertionMode||e.selectionIsCollapsed?"replaceAll"===r.insertionMode?(e.root.setChildren([],"body"),e.position=0):"insertBefore"===r.insertionMode?e.collapseSelection("backward"):"insertAfter"===r.insertionMode&&e.collapseSelection("forward"):e.deleteAtoms(g7(e.selection));let s=(i=n,a=e.mathfield,gv(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=i.replace(/\\/g,"\\textbackslash ")).replace(/#/g,"\\#")).replace(/\$/g,"\\$")).replace(/%/g,"\\%")).replace(/&/g,"\\&")).replace(/_/g,"\\_")).replace(/{/g,"\\textbraceleft ")).replace(/}/g,"\\textbraceright ")).replace(/\^/g,"\\textasciicircum ")).replace(/~/g,"\\textasciitilde ")).replace(//g,"\\textsterling "),a,{parseMode:"text"}));if(vv(s,r.style),!s)return!1;let u=e.at(e.position),c=u.parent.addChildrenAfter(s,u);return e.suppressChangeNotifications=l,"before"===r.selectionMode||("item"===r.selectionMode?e.setSelection(e.anchor,e.offsetOf(c)):c&&(e.position=e.offsetOf(c))),yY(e,{data:n,inputType:"insertText"}),e.suppressChangeNotifications=o,!0}};var v2,v3,v4=class{constructor(e,n){var r,i,a,o,l,s;let u,c,d,h,p;this.focusBlurInProgress=!1,this.stylesheets=[],this.options=bz(pr(pn({},bZ()),{registers:g1(this)}),n),n.eventSink&&(this.host=n.eventSink),this.element=e,e.mathfield=this,v2||(v2=yI(yZ).toString(36)),this.stylesheets.push(yL(e,yZ,v2)),v3||(v3=yI(vx).toString(36)),this.stylesheets.push(yL(e,vx,v3)),this.blurred=!0,this.keystrokeCaptionVisible=!1,this.popoverVisible=!1,this.suggestionIndex=0,this.inlineShortcutBuffer=[],this.inlineShortcutBufferFlushTimer=0,this.mode=bj(this.options),this.smartModeSuppressed=!1,this.style={},this.adoptStyle="left","inline-math"===this.options.defaultMode?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline"),this.dirty=!1,this.model=new va({mode:bj(this.options),macros:this.options.macros,removeExtraneousParentheses:this.options.removeExtraneousParentheses},{onSelectionDidChange:()=>this._onSelectionDidChange()},this),this.undoManager=new vT(this.model);let m=null!=(r=n.value)?r:this.element.textContent;m&&(m=m.trim()),m&&yu.insert("math",this.model,m,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",suppressChangeNotifications:!0});let f=[];if(f.push("<span contenteditable=true aria-multiline=false part=keyboard-sink class=ML__keyboard-sink autocapitalize=off autocomplete=off autocorrect=off spellcheck=false inputmode=none tabindex=0></span>"),f.push('<span part=container class=ML__container aria-hidden=true  style="visibility:hidden">'),f.push("<span part=content class=ML__content>"),f.push(bl(this)),f.push("</span>"),f.push(`<div part=virtual-keyboard-toggle class=ML__virtual-keyboard-toggle role=button ${this.hasEditableContent?"":'style="display:none;"'}data-ML__tooltip="${ph("tooltip.toggle virtual keyboard")}">`),f.push('<svg style="width: 21px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg>'),f.push("</div>"),f.push("</span>"),f.push("<span class=ML__sr-only>"),f.push("<span role=status aria-live=assertive aria-atomic=true></span>"),f.push("</span>"),this.element.innerHTML=window.MathfieldElement.createHTML(f.join("")),!this.element.children){console.error("%cMathLive 0.92.1: Something went wrong and the mathfield could not be created.%c\nIf you are using Vue, this may be because you are using the runtime-only build of Vue. Make sure to include `runtimeCompiler: true` in your Vue configuration. There may a warning from Vue in the log above.","color:red;font-family:system-ui;font-size:1.2rem;font-weight:bold","color:inherit;font-family:system-ui;font-size:inherit;font-weight:inherit");return}this.field=this.element.querySelector("[part=content]"),this.field.addEventListener("click",e=>e.stopImmediatePropagation(),{capture:!1}),this.field.addEventListener("wheel",this,{passive:!1}),"PointerEvent"in window?this.field.addEventListener("pointerdown",this):this.field.addEventListener("mousedown",this),null==(i=this.element.querySelector("[part=virtual-keyboard-toggle]"))||i.addEventListener("click",()=>{window.mathVirtualKeyboard.visible?window.mathVirtualKeyboard.hide():(window.mathVirtualKeyboard.show({animate:!0}),window.mathVirtualKeyboard.update(yj(this)))}),this.ariaLiveText=this.element.querySelector("[role=status]"),this.keyboardDelegate=(a=this.element.querySelector(".ML__keyboard-sink"),o=this.element,l={onFocus:()=>this.onFocus(),onBlur:()=>this.onBlur(),onInput:e=>vq(this,e),onKeystroke:(e,n)=>vW(this,e,n),onCompositionStart:e=>this.onCompositionStart(e),onCompositionUpdate:e=>this.onCompositionUpdate(e),onCompositionEnd:e=>this.onCompositionEnd(e),onCut:e=>{if(!this.isSelectionEditable){this.model.announce("plonk");return}yq(this.model,{inputType:"deleteByCut"})&&(this.snapshot(),yu.onCopy(this,e),vy(this.model,g7(this.model.selection),"deleteByCut"),bo(this))},onCopy:e=>yu.onCopy(this,e),onPaste:e=>{let n=this.isSelectionEditable;return n&&(n=yu.onPaste(this.model.at(this.model.position).mode,this,e.clipboardData)),n||this.model.announce("plonk"),e.preventDefault(),e.stopPropagation(),n}},u=null,c=null,d=!1,h=!1,p=!1,a.addEventListener("keydown",e=>{if(d||"Process"===e.key||"CapsLock"===e.code||/(Control|Meta|Alt|Shift)(Left|Right)/.test(e.code)){u=null;return}u=e,c=null,l.onKeystroke(vE(e),e)?a.textContent="":u=null},!0),a.addEventListener("keypress",e=>{d||(u&&c&&l.onKeystroke(vE(u),u),c=e)},!0),a.addEventListener("compositionstart",e=>{a.textContent="",d=!0,l.onCompositionStart(e.data)},!0),a.addEventListener("compositionupdate",e=>{d&&l.onCompositionUpdate(e.data)},!0),a.addEventListener("compositionend",e=>{a.textContent="",d&&(d=!1,l.onCompositionEnd(e.data))},!0),a.addEventListener("beforeinput",e=>e.stopImmediatePropagation()),a.addEventListener("input",e=>{var n;if(!d&&(a.textContent="","insertCompositionText"!==e.inputType)){if("insertFromPaste"===e.inputType){e.preventDefault(),e.stopPropagation();return}l.onInput(null!=(n=e.data)?n:""),e.preventDefault(),e.stopPropagation()}}),a.addEventListener("paste",e=>{a.focus({preventScroll:!0}),a.textContent="",l.onPaste(e)||e.preventDefault(),e.stopImmediatePropagation()},!0),a.addEventListener("cut",e=>l.onCut(e),!0),a.addEventListener("copy",e=>l.onCopy(e),!0),a.addEventListener("blur",e=>{var n,r,i,s;if((null==(r=null==(n=e.relatedTarget)?void 0:n._mathfield)?void 0:r.element)===o){a.focus({preventScroll:!0}),e.preventDefault(),e.stopPropagation();return}let d=null==(i=by.scrim)?void 0:i.state;if("open"===d||"opening"===d||e.relatedTarget===e.target.getRootNode().host){e.preventDefault(),e.stopPropagation();return}p||h||(p=!0,u=null,c=null,null==(s=l.onBlur)||s.call(l),p=!1)},!0),a.addEventListener("focus",e=>{var n;p||h||(h=!0,null==(n=l.onFocus)||n.call(l),h=!1)},!0),{cancelComposition:()=>{d&&(a.blur(),requestAnimationFrame(()=>a.focus({preventScroll:!0})))},blur:()=>{"function"==typeof a.blur&&a.blur()},focus:()=>{h||"function"!=typeof a.focus||a.focus({preventScroll:!0})},hasFocus:()=>(function(){var e;let n=document.activeElement;for(;null!=(e=null==n?void 0:n.shadowRoot)&&e.activeElement;)n=n.shadowRoot.activeElement;return n})()===a,setAriaLabel:e=>a.setAttribute("aria-label",e),setValue:e=>{var n;a.textContent=e,a.style.left="-1000px",null==(n=window.getSelection())||n.selectAllChildren(a)},moveTo:(e,n)=>{a.style.top=`${n}px`,a.style.left=`${e}px`}}),window.addEventListener("resize",this),document.addEventListener("scroll",this),window===window.top&&window.addEventListener("blur",()=>{yg(this)&&this.hasFocus()&&window.addEventListener("focus",e=>{e.target===window&&yg(this)&&this.focus({preventScroll:!0})},{once:!0})},{capture:!0}),this.undoManager.startRecording(),this.undoManager.snapshot(),yD&&!pd.locale.startsWith(yD.locale)&&(s=pd.locale,yD=yK.find(e=>s.startsWith(e.locale))),"ready"!==br&&document.fonts.ready.then(()=>bu(this)),e.querySelector(".ML__container").style.removeProperty("visibility")}connectToVirtualKeyboard(){this.connectedToVirtualKeyboard||(this.connectedToVirtualKeyboard=!0,window.addEventListener("message",this),window.mathVirtualKeyboard.connect(),window.mathVirtualKeyboard.update(yj(this)))}disconnectFromVirtualKeyboard(){this.connectedToVirtualKeyboard&&(window.removeEventListener("message",this),window.mathVirtualKeyboard.disconnect(),this.connectedToVirtualKeyboard=!1)}get colorMap(){return e=>{var n;let r;return"function"==typeof(null==(n=this.options)?void 0:n.colorMap)&&(r=this.options.colorMap(e)),r||(r=pv(e)),r}}get backgroundColorMap(){return e=>{var n;let r;return"function"==typeof(null==(n=this.options)?void 0:n.backgroundColorMap)&&(r=this.options.backgroundColorMap(e)),r||"function"!=typeof this.options.colorMap||(r=this.options.colorMap(e)),r||(r=p_(e)),r}}get fractionNavigationOrder(){return window.MathfieldElement.fractionNavigationOrder}get placeholderSymbol(){var e,n;return null!=(n=null==(e=this.options)?void 0:e.placeholderSymbol)?n:""}get smartFence(){var e,n;return null!=(n=null==(e=this.options)?void 0:e.smartFence)&&n}get readOnly(){var e,n;return null!=(n=null==(e=this.options)?void 0:e.readOnly)&&n}get disabled(){var e,n;return null!=(n=null==(e=this.host)?void 0:e.disabled)&&n}get contentEditable(){var e;return(null==(e=this.host)?void 0:e.getAttribute("contenteditable"))!=="false"}get userSelect(){if(!this.host)return"";let e=getComputedStyle(this.host);return e.getPropertyValue("user-select")||e.getPropertyValue("-webkit-user-select")}get hasEditableContent(){return!this.disabled&&!!this.contentEditable&&(!this.readOnly||this.hasEditablePrompts)}get hasEditablePrompts(){return this.readOnly&&!this.disabled&&this.contentEditable&&void 0!==this.model.findAtom(e=>"prompt"===e.type&&!e.locked)}get isSelectionEditable(){if(this.disabled||!this.contentEditable)return!1;if(!this.readOnly)return!0;let e=this.model.at(this.model.anchor),n=this.model.at(this.model.position),r=fX.commonAncestor(e,n);return!!((null==r?void 0:r.type)==="prompt"||null!=r&&r.parentPrompt)}get letterShapeStyle(){var e,n;return null!=(n=null==(e=this.options)?void 0:e.letterShapeStyle)?n:"tex"}get registers(){var e,n;return null!=(n=null==(e=this.options)?void 0:e.registers)?n:{}}get selectionStyle(){if(this.model.selectionIsCollapsed){let e=this.model.at(this.model.selection.ranges[0][0]),n="right"===this.adoptStyle?e.rightSibling:e;if(!n)return{};if("group"===n.type){let e=n.branch("body");return!e||e.length<2?{}:"right"===this.adoptStyle?e[1].style:e[e.length-1].style}return n.style}let e=this.model.getAtoms(this.model.selection);if(0===e.length)return{};let n=pn({},e[0].style);return e.forEach(e=>{for(let[r,i]of Object.entries(e.style))n[r]&&n[r]===i||(n[r]=void 0)}),n}getDefinition(e,n="math"){return fV(e,n)}getMacro(e){return fG(e,this.options.macros)}get keybindings(){var e,n;if(this._keybindings)return this._keybindings;let[r,i]=function(e,n){let r=[],i=[];for(let a of e)try{let e=function(e,n){if(e.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(e.ifPlatform))throw Error(`Unexpected platform "${e.ifPlatform}" for keybinding ${e.key}`);if(void 0!==e.ifLayout&&(0===n.score||!e.ifLayout.includes(n.id)))return;let r=yM(e.key),i=e.ifPlatform;if(r.cmd){if(i&&"macos"!==i&&"ios"!==i)throw Error('Unexpected "cmd" modifier with platform "'+i+`"
"cmd" modifier can only be used with macOS or iOS platform.`);i||(i="ios"===pu()?"ios":"macos"),r.win=!1,r.cmd=!1,r.meta=!0}if(r.win){if(i&&"windows"!==i)throw Error('Unexpected "win" modifier with platform "'+i+`"
"win" modifier can only be used with Windows platform.`);i="windows",r.win=!1,r.cmd=!1,r.meta=!0}if(i&&!function(e){if(pl()){let n=pu(),r=e.startsWith("!"),i=e.endsWith(n);if(r&&!i||!r&&i)return!0}return"!other"!==e&&"other"===e}(i))return;if(/^\[.+\]$/.test(r.key))return pr(pn({},e),{ifPlatform:i,key:yN(r)});let a=function(e,n){var r;let i={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:""};if(!e)return i;for(let[r,a]of Object.entries(n.mapping)){if(a[0]===e)return i.key=`[${r}]`,i;if(a[1]===e)return i.shift=!0,i.key=`[${r}]`,i;if(a[2]===e)return i.alt=!0,i.key=`[${r}]`,i;if(a[3]===e)return i.shift=!0,i.alt=!0,i.key=`[${r}]`,i}return i.key=null!=(r=yP[e])?r:"",i}(r.key,n);if(!a)throw Error('Invalid keybinding key "'+e.key+'"');if(a.shift&&r.shift||a.alt&&r.alt)throw Error(`The keybinding ${e.key} (${yz(e.command)}) is conflicting with the key combination ${yN(a)} using the ${n.displayName} keyboard layout`);return a.shift=a.shift||r.shift,a.alt=a.alt||r.alt,a.meta=r.meta,a.ctrl=r.ctrl,pr(pn({},e),{ifPlatform:i,key:yN(a)})}(a,n);if(e){let i=r.filter(n=>n.key===e.key&&n.ifMode===e.ifMode);if(i.length>0)throw Error(`Ambiguous key binding ${a.key} (${yz(a.command)}) matches ${i[0].key} (${yz(i[0].command)}) with the ${n.displayName} keyboard layout`);r.push(e)}}catch(e){e instanceof Error&&i.push(e.message)}return[r,i]}(this.options.keybindings,null!=(e=yG())?e:yB);return(null==(n=yG())?void 0:n.score)>0&&(this._keybindings=r,i.length>0&&console.error("MathLive 0.92.1: Invalid keybindings for current keyboard layout",i)),r}setOptions(e){this.options=bz(this.options,e),this.model.setListeners({onSelectionDidChange:e=>this._onSelectionDidChange()}),this.model.options.macros=this.options.macros,this._keybindings=void 0,"inline-math"===this.options.defaultMode?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline"),this.options.readOnly&&this.hasFocus()&&window.mathVirtualKeyboard.visible&&this.executeCommand("hideVirtualKeyboard");let n=fX.serialize(this.model.root,{expandMacro:!1,defaultMode:this.options.defaultMode});("macros"in e||this.model.getValue()!==n)&&yu.insert("math",this.model,n,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",suppressChangeNotifications:!0}),bo(this)}getOptions(e){return b$(this.options,e)}getOption(e){return b$(this.options,e)}handleEvent(e){var n;if(yg(this)){if(bp(e)){if(!yx(e.origin,null!=(n=this.options.originValidator)?n:"none"))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");let{action:r}=e.data;if("execute-command"===r){let n=e.data.command;if("virtual-keyboard"===bd(n))return;this.executeCommand(n)}else"update-state"===r||("focus"===r?this.focus({preventScroll:!0}):"blur"===r&&this.blur());return}switch(e.type){case"focus":this.onFocus();break;case"blur":this.onBlur();break;case"mousedown":case"pointerdown":(function(e,n){var r;e.atomBoundsCache=new Map;let i,a=!1,o="none";if(n.buttons>1)return;let l=!1,s=!1,u=n.clientX,c=n.clientY,d=Date.now(),h=e.field,p=setInterval(()=>{l?h.scroll({top:0,left:h.scrollLeft-16}):s&&h.scroll({top:0,left:h.scrollLeft+16})},32);function m(n){"PointerEvent"in window?(yp(h,"pointermove",f),yp(h,"pointerup pointercancel",m),n instanceof PointerEvent&&h.releasePointerCapture(n.pointerId)):(yp(window,"mousemove",f),yp(window,"mouseup blur",m)),a=!1,clearInterval(p),e.element.classList.remove("tracking"),n&&n.preventDefault()}function f(n){if(!e.hasFocus()){m(null);return}let r=n.clientX,a=n.clientY,o=v0(n)&&"touch"===n.pointerType?20:5;if(Date.now()<d+500&&Math.abs(u-r)<o&&Math.abs(c-a)<o){n.preventDefault(),n.stopPropagation();return}let p=h.getBoundingClientRect();s=r>p.right,l=r<p.left;let f=i;v0(n)&&(n.isPrimary||(f=v1(e,n.clientX,n.clientY,{bias:0})));let g=v1(e,r,a,{bias:r<=u?r===u?0:-1:1});f>=0&&g>=0&&(e.model.extendSelectionTo(f,g),bo(e)),n.preventDefault(),n.stopPropagation()}vJ&&5>Math.abs(vJ.x-u)&&5>Math.abs(vJ.y-c)&&Date.now()<vJ.time+500?(vQ+=1,vJ.time=d):(vJ={x:u,y:c,time:d},vQ=1);let g=h.getBoundingClientRect();if(u>=g.left&&u<=g.right&&c>=g.top&&c<=g.bottom){if(e.hasFocus()||(o="none",e.focus({preventScroll:!0})),e.flushInlineShortcutBuffer(),e.smartModeSuppressed=!1,e.adoptStyle="left",(i=v1(e,u,c,{bias:0}))>=0){if(e.element.classList.add("tracking"),n.shiftKey){let n=e.model.selectionIsCollapsed;e.model.extendSelectionTo(e.model.anchor,i),o=y1(e.model)||n?"all":"selection"}else"placeholder"===e.model.at(i).type?(e.model.setSelection(i-1,i),o="selection"):(null==(r=e.model.at(i).rightSibling)?void 0:r.type)==="placeholder"?(e.model.setSelection(i,i+1),o="selection"):(e.model.position=i,o=y1(e.model)?"all":"selection");e.style={},3===n.detail||vQ>2?(m(n),(3===n.detail||3===vQ)&&(e.model.selection={ranges:[[0,e.model.lastOffset]]},o="all")):a||(a=!0,"PointerEvent"in window?(yh(h,"pointermove",f),yh(h,"pointerup pointercancel",m),n instanceof PointerEvent&&h.setPointerCapture(n.pointerId)):(yh(window,"blur",m),yh(window,"mousemove",f),yh(window,"mouseup",m)),(2===n.detail||2===vQ)&&(vX(e.model),o="all"))}}else vJ=null;"none"!==o&&(e.model.selectionIsCollapsed&&(o="all"),bo(e)),n.preventDefault()})(this,e);break;case"resize":case"scroll":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>yg(this)&&this.onGeometryChange());break;case"wheel":this.onWheel(e);break;default:console.warn("Unexpected event type",e.type)}}}dispose(){if(!yg(this))return;this.disconnectFromVirtualKeyboard();let e=this.element;delete this.element,delete e.mathfield,e.innerHTML=this.model.getValue(),e.removeEventListener("pointerdown",this),e.removeEventListener("mousedown",this),e.removeEventListener("focus",this),e.removeEventListener("blur",this),window.removeEventListener("resize",this),document.removeEventListener("scroll",this),window.removeEventListener("blur",this,{capture:!0}),delete this.ariaLiveText,delete this.field,delete this.fieldContent,yf(this.popover),y4&&y4.release(),y6&&y6.release(),delete this.popover,yf(this.keystrokeCaption),vV&&vV.release(),vG&&vG.release(),delete this.keystrokeCaption,this.stylesheets.forEach(e=>null==e?void 0:e.release())}flushInlineShortcutBuffer(e){if(null!=e||(e={defer:!1}),!e.defer){this.inlineShortcutBuffer=[],clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=0;return}this.options.inlineShortcutTimeout>0&&(clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=setTimeout(()=>this.flushInlineShortcutBuffer(),this.options.inlineShortcutTimeout))}executeCommand(e){return"virtual-keyboard"===bd(e)?(this.focus({preventScroll:!0}),window.mathVirtualKeyboard.executeCommand(e),requestAnimationFrame(()=>window.mathVirtualKeyboard.update(yj(this))),!1):function(e,n){var r,i;if(!n)return!1;let a,o=[],l=!1,s=!1;po(n)?(a=n[0],o=n.slice(1)):a=n;let u=null==(r=bv[a=a.replace(/-\w/g,e=>e[1].toUpperCase())])?void 0:r.target;if("model"===u){if(!e.isSelectionEditable&&/^(paste|cut|insert|delete|transpose|add)/.test(a))return e.model.announce("plonk"),!1;/^(delete|transpose|add)/.test(a)&&"deleteBackward"!==a&&e.flushInlineShortcutBuffer(),/^(delete|transpose|add)/.test(a)&&"latex"!==e.mode&&(e.popUndoStack(),e.snapshot()),"latex"!==e.mode||/^(complete)/.test(a)||yQ(e),bv[a].fn(e.model,...o),"latex"!==e.mode&&/^(delete|transpose|add)/.test(a)&&e.snapshot(),"latex"===e.mode&&y0(e),s=!0,l=!0}else if("virtual-keyboard"===u)s=null!=(i=window.mathVirtualKeyboard.executeCommand(n))&&i,l=!0;else if(bv[a])/^(undo|redo)/.test(a)&&e.flushInlineShortcutBuffer(),s=bv[a].fn(e,...o),l=!0;else throw Error(`Unknown command "${a}"`);return"virtual-keyboard"!==u&&(!e.model.selectionIsCollapsed||/^(transpose|paste|complete|moveTo|extendSelection)/.test(a))&&(e.flushInlineShortcutBuffer(),e.style={}),s&&bo(e),l}(this,e)}get errors(){return function(e,n,r){let i=new gb(fh(e,null),n,{args:null,mathstyle:"displaystyle",parseMode:"math"});for(;!i.end();)i.scan();return i.errors}(this.model.getValue(),this)}getValue(e,n,r){return this.model.getValue(e,n,r)}setValue(e,n){var r;void 0===(n=null!=n?n:{mode:"math"}).insertionMode&&(n.insertionMode="replaceAll"),(void 0===n.format||"auto"===n.format)&&(n.format="latex");let i="math";(void 0===n.mode||"auto"===n.mode)&&(i=null!=(r=vb(this.model,this.model.position))?r:"math"),yu.insert(i,this.model,e,n)&&(this.undoManager.snapshot(),bo(this))}get expression(){let e=window.MathfieldElement.computeEngine;return e?e.box(e.parse(this.model.getValue())):(console.error("MathLive 0.92.1:  no compute engine available. Make sure the Compute Engine library is loaded."),null)}scrollIntoView(){var e;if(!this.element)return;if(this.host){if(this.options.onScrollIntoView)this.options.onScrollIntoView(this);else if(this.host.scrollIntoView({block:"nearest",inline:"nearest"}),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.container===window.document.body){let n=window.mathVirtualKeyboard.boundingRect,r=this.host.getBoundingClientRect();r.bottom>n.top&&(null==(e=window.document.scrollingElement)||e.scrollBy(0,r.bottom-n.top+8))}}this.dirty&&bs(this,{interactive:!0});let n=this.field.getBoundingClientRect(),r=null;if(this.model.selectionIsCollapsed)r=yy(this.field);else{let e=y_(this);if(e.length>0){let i=-1/0,a=-1/0;for(let n of e)n.right>i&&(i=n.right),n.top<a&&(a=n.top);r={x:i+n.left-this.field.scrollLeft,y:a+n.top-this.field.scrollTop,height:0}}}if(this.host&&r){let e=this.host.getBoundingClientRect(),n=r.y,i=this.host.scrollTop;n<e.top?i=n-e.top+this.host.scrollTop:n>e.bottom&&(i=n-e.bottom+this.host.scrollTop+r.height),this.host.scroll({top:i,left:0})}if(r){let e=r.x-window.scrollX,i=this.field.scrollLeft;e<n.left?i=e-n.left+this.field.scrollLeft-20:e>n.right&&(i=e-n.right+this.field.scrollLeft+20),this.field.scroll({top:this.field.scrollTop,left:i})}}insert(e,n){if("string"!=typeof e||0===e.length&&((null==n?void 0:n.insertionMode)==="insertBefore"||(null==n?void 0:n.insertionMode)==="insertAfter")||0===e.length&&this.model.selectionIsCollapsed)return!1;if(this.flushInlineShortcutBuffer(),(n=null!=n?n:{mode:"math"}).focus&&this.focus(),n.feedback&&(window.MathfieldElement.keypressVibration&&ps()&&navigator.vibrate(3),window.MathfieldElement.playSound("keypress")),n.scrollIntoView&&this.scrollIntoView(),"\\\\"===e)vh(this.model);else if("&"===e)vp(this.model);else{let r=this.style;yu.insert(this.mode,this.model,e,pn({style:this.model.at(this.model.position).computedStyle},n)),n.resetStyle&&(this.style=r)}return this.undoManager.snapshot(),bo(this),!0}switchMode(e,n="",r=""){var i;if(this.mode===e||!this.hasEditableContent||!this.contentEditable||this.disabled||!(null!=(i=this.host)&&i.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))))return;let a=this.mode,{model:o}=this;o.deferNotifications({content:!!r||!!n,selection:!0,type:"insertText"},()=>{let i=!1;if(this.flushInlineShortcutBuffer(),this.smartModeSuppressed=/text|math/.test(this.mode)&&/text|math/.test(e),n&&"latex"!==e){let r=gv(n,this,{parseMode:e});o.collapseSelection("forward");let a=o.at(o.position);o.position=o.offsetOf(a.parent.addChildrenAfter(r,a)),i=!0}if(this.mode=e,"latex"===e){let e=o.selectionIsCollapsed;y2(this,"accept");let r,i=o.at(o.position);if(e)r="\\";else{let a=g7(o.selection);r=this.model.getValue(a,"latex");let l=this.model.extractAtoms(a);1===l.length&&"placeholder"===l[0].type&&(r=n,e=!0),i=o.at(a[0])}let a=new gj(r,this);i.parent.addChildAfter(a,i),e?o.position=o.offsetOf(a.lastChild):o.setSelection(o.offsetOf(a.firstChild),o.offsetOf(a.lastChild))}else yX(o).forEach(e=>{e.isError=!1});if(r){let e=gv(r,this,{parseMode:a});o.collapseSelection("forward");let n=o.at(o.position);o.position=o.offsetOf(n.parent.addChildrenAfter(e,n)),i=!0}return bo(this),i}),this.mode=e}hasFocus(){return!this.blurred}focus(e){this.hasFocus()||(this.keyboardDelegate.focus(),this.connectToVirtualKeyboard(),this.model.announce("line")),null!=e&&e.preventScroll||this.scrollIntoView()}blur(){this.disconnectFromVirtualKeyboard(),this.hasFocus()&&this.keyboardDelegate.blur()}select(){this.model.selection={ranges:[[0,this.model.lastOffset]]}}applyStyle(e,n={}){var r,i;let a={operation:"set",suppressChangeNotifications:!1};bq(n)?a.range=n:(a.range=n.range,a.suppressChangeNotifications=null!=(r=n.suppressChangeNotifications)&&r);let o=vY(this,e),l=null!=(i=a.operation)?i:"set";this.model.deferNotifications({content:!a.suppressChangeNotifications,type:"insertText"},()=>{if(void 0===a.range)for(let e of this.model.selection.ranges)v_(this.model,e,o,{operation:l});else v_(this.model,a.range,o,{operation:l})}),bo(this)}getCaretPoint(){let e=yy(this.field);return e?{x:e.x,y:e.y}:null}setCaretPoint(e,n){let r=v1(this,e,n,{bias:0});if(r<0)return!1;let i=this.model.position;return this.model.position=r,this.model.announce("move",i),bo(this),!0}getPrompt(e){return this.model.findAtom(n=>"prompt"===n.type&&n.placeholderId===e)}getPromptValue(e,n){let r=this.getPrompt(e);if(!r)return console.error(`MathLive 0.92.1: unknown prompt ${e}`),"";let i=this.model.offsetOf(r.firstChild),a=this.model.offsetOf(r.lastChild);return this.model.getValue(i,a,n)}getPrompts(e){return this.model.getAllAtoms().filter(n=>"prompt"===n.type&&(!e||!(e.id&&n.placeholderId!==e.id||e.locked&&n.locked!==e.locked||"undefined"===e.correctness&&n.correctness||e.correctness&&n.correctness!==e.correctness))).map(e=>e.placeholderId)}setPromptValue(e,n,r){if(void 0!==n){let i=this.getPrompt(e);if(!i){console.error(`MathLive 0.92.1: unknown prompt ${e}`);return}let a=this.model.getBranchRange(this.model.offsetOf(i),"body");this.model.setSelection(a),this.insert(n,pr(pn({},r),{insertionMode:"replaceSelection"}))}null!=r&&r.suppressChangeNotifications&&(this.valueOnFocus=this.getValue()),bo(this)}setPromptState(e,n,r){let i=this.getPrompt(e);if(!i){console.error(`MathLive 0.92.1: unknown prompt ${e}`);return}"undefined"===n?i.correctness=void 0:"string"==typeof n&&(i.correctness=n),"boolean"==typeof r&&(i.locked=r,i.captureSelection=r),bo(this)}stripPromptContent(e){let n=this.model.getAllAtoms().filter(n=>"prompt"===n.type&&(!e||!(e.id&&n.placeholderId!==e.id||e.locked&&n.locked!==e.locked||"undefined"===e.correctness&&n.correctness||e.correctness&&n.correctness!==e.correctness))),r={};return n.forEach(e=>{let n=e.placeholderId;r[n]=this.getPromptValue(n),this.setPromptValue(n,"")}),r}getPromptState(e){let n=this.getPrompt(e);return n?[n.correctness,n.locked]:(console.error(`MathLive 0.92.1: unknown prompt ${e}`),[void 0,!0])}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop()}snapshot(){var e;this.undoManager.snapshot()&&(window.mathVirtualKeyboard.update(yj(this)),null==(e=this.host)||e.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}snapshotAndCoalesce(){var e;this.undoManager.snapshotAndCoalesce()&&(window.mathVirtualKeyboard.update(yj(this)),null==(e=this.host)||e.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}undo(){var e;this.undoManager.undo()&&(window.mathVirtualKeyboard.update(yj(this)),null==(e=this.host)||e.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}redo(){var e;this.undoManager.redo()&&(window.mathVirtualKeyboard.update(yj(this)),null==(e=this.host)||e.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}resetUndo(){var e;null==(e=this.undoManager)||e.reset()}_onSelectionDidChange(){var e,n;let r=this.model;this.keyboardDelegate.setValue(this.model.getValue(this.model.selection,"latex-expanded"));{let n=r.at(r.position),i=null!=(e=n.mode)?e:bj(this.options);this.mode!==i&&("latex"===this.mode?(y2(this,"accept",{mode:i}),r.position=r.offsetOf(n)):this.switchMode(i))}null==(n=this.host)||n.dispatchEvent(new Event("selection-change",{bubbles:!0,composed:!0}))}onFocus(){this.focusBlurInProgress||!this.blurred||(this.focusBlurInProgress=!0,this.blurred=!1,this.keyboardDelegate.focus(),bs(this,{interactive:!0}),this.valueOnFocus=this.model.getValue(),this.hasEditablePrompts&&!this.model.at(this.model.anchor).parentPrompt&&this.executeCommand("moveToNextPlaceholder"),this.focusBlurInProgress=!1)}onBlur(){var e,n,r;this.focusBlurInProgress||this.blurred||(this.focusBlurInProgress=!0,this.blurred=!0,this.ariaLiveText.textContent="",y2(this,"accept"),this.model.getValue()!==this.valueOnFocus&&(null==(e=this.host)||e.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),this.disconnectFromVirtualKeyboard(),null==(n=this.host)||n.dispatchEvent(new Event("blur",{bubbles:!1,composed:!0})),null==(r=this.host)||r.dispatchEvent(new UIEvent("focusout",{bubbles:!0,composed:!0})),bo(this),this.focusBlurInProgress=!1)}onCompositionStart(e){this.model.deleteAtoms(g7(this.model.selection));let n=yy(this.field);n&&requestAnimationFrame(()=>{bs(this),this.keyboardDelegate.moveTo(n.x,n.y-n.height)})}onCompositionUpdate(e){(function(e,n){let r=e.at(e.position);if("composition"===r.type)r.value=n;else{let{caret:i}=r;r.caret="";let a=new g$(n,e.mathfield,{mode:r.mode});a.caret=i,r.parent.addChildAfter(a,r),e.position+=1}})(this.model,e),bo(this)}onCompositionEnd(e){var n;let r;"composition"===(r=(n=this.model).at(n.position)).type&&(r.parent.removeChild(r),n.position-=1),vq(this,e,{simulateKeystroke:!0})}onGeometryChange(){y5(this),window.mathVirtualKeyboard.updateEnvironmemtPopover(yj(this))}onWheel(e){let n=5*e.deltaX;if(!Number.isFinite(n)||0===n)return;let r=this.field;n<0&&0===r.scrollLeft||n>0&&r.offsetWidth+r.scrollLeft>=r.scrollWidth||(r.scrollBy({top:0,left:n}),e.preventDefault(),e.stopPropagation())}getHTMLElement(e){var n;let r=e;for(;!r.id&&r.hasChildren;)r=e.children[0];if(r.id)return null==(n=this.fieldContent)?void 0:n.querySelector(`[data-atom-id="${r.id}"]`);throw TypeError("Could not get an ID from atom")}};function v6(e,n,r){if("text"!==e.at(n).mode)return n;let i="backward"===r?-1:1,a;if(fk.test(e.at(n).value)){let r=n,o;do o="text"===e.at(r).mode&&fk.test(e.at(r).value),r+=i;while(e.at(r)&&o);a=e.at(r)?r-2*i:r-i}else if(/\s/.test(e.at(n).value)){let r=n;for(;e.at(r)&&"text"===e.at(r).mode&&/\s/.test(e.at(r).value);)r+=i;if(e.at(r)){let n=!0;do n="text"===e.at(r).mode&&!/\s/.test(e.at(r).value),r+=i;while(e.at(r)&&n);a=e.at(r)?r-2*i:r-i}else a=r-i}else{let r=n;for(;e.at(r)&&"text"===e.at(r).mode&&!/\s/.test(e.at(r).value);)r+=i;a=e.at(r)?r:r-i;let o=!0;for(;e.at(r)&&o;)(o="text"===e.at(r).mode&&/\s/.test(e.at(r).value))&&(a=r),r+=i;a=e.at(r)?r-2*i:r-i}return a-(i>0?0:1)}function v5(e,n,r){var i,a,o,l,s,u,c;let d=e.position;null!=(i=null==r?void 0:r.extend)&&i||e.collapseSelection(n);let h=e.at(e.position);if("forward"===n&&("subsup"===h.type&&(h=h.rightSibling)||(h=e.at(e.position+1))),!h)return e.announce("plonk"),!1;let p=e.offsetOf(h);if(h instanceof gg)p=v6(e,p,n);else if(h instanceof gZ){if(h.isSuggestion)for(;h&&h instanceof gZ;)h.isSuggestion=!1,p=e.offsetOf(h),h=h.rightSibling;else if("forward"===n){if(!(h=h.rightSibling)||!(h instanceof gZ))return e.announce("plonk"),!1;for(;h&&h instanceof gZ&&/[a-zA-Z\*]/.test(h.value);)p=e.offsetOf(h),h=h.rightSibling}else{if(!(h=h.leftSibling)||!(h instanceof gZ))return e.announce("plonk"),!1;for(;h&&h instanceof gZ&&/[a-zA-Z\*]/.test(h.value);)p=e.offsetOf(h),h=h.leftSibling}}else if("forward"===n&&"mopen"===h.type){let n=0;do"mopen"===h.type?n+=1:"mclose"===h.type&&(n-=1),h=h.rightSibling;while(!h.isLastSibling&&0!==n);p=e.offsetOf(h.leftSibling)}else if("backward"===n&&"mclose"===h.type){let n=0;do"mopen"===h.type?n+=1:"mclose"===h.type&&(n-=1),h=h.leftSibling;while(!h.isFirstSibling&&0!==n);p=e.offsetOf(h)}else if("backward"===n){if("first"===h.type)for(;p>0&&"first"===h.type;)p-=1,h=e.at(p);else{let n=h.type;"subsup"===h.type&&(p=e.offsetOf(e.at(p).leftSibling)),p-=1;let r=null==(a=e.at(p))?void 0:a.type;for(;p>=0&&r===n;)(null==(o=e.at(p))?void 0:o.type)==="subsup"?p=e.offsetOf(e.at(p).leftSibling):p-=1,r=e.at(p).type}}else{let{type:n}=h,r=null==(l=e.at(p))?void 0:l.type,{lastOffset:i}=e;for(;p<=i&&(r===n||"subsup"===r);){for(;(null==(s=e.at(p).rightSibling)?void 0:s.type)==="subsup";)p=e.offsetOf(e.at(p).rightSibling);p+=1,r=null==(u=e.at(p))?void 0:u.type}p-=1}if(null!=(c=null==r?void 0:r.extend)&&c){if(!e.setSelection(e.anchor,p))return e.announce("plonk"),!1}else{if(p===e.position)return e.announce("plonk"),!1;e.position=p}return e.announce("move",d),!0}function v8(e,n,r){var i,a;if(r=null!=r?r:{extend:!1},e.mathfield.adoptStyle="backward"===n?"right":"left","forward"!==n){let[n,r]=yJ(e);void 0!==n&&void 0!==r&&e.deleteAtoms([n,r])}if("upward"===n)return function(e,n){var r,i;let a=null!=(r=null==n?void 0:n.extend)&&r;a||e.collapseSelection("backward");let o=()=>{var n,r;let i=!0;return e.suppressChangeNotifications||(i=null==(r=null==(n=e.mathfield.host)?void 0:n.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"upward"},cancelable:!0,bubbles:!0,composed:!0})))||r),e.announce(i?"plonk":"line"),i},l=e.at(e.position),s=l;for(;s&&"below"!==s.parentBranch&&!(Array.isArray(s.parentBranch)&&s.parent instanceof gk);)s=s.parent;if(Array.isArray(null==s?void 0:s.parentBranch)&&s.parent instanceof gk){let n=s.parent;if(s.parentBranch[0]<1)return o();let r=s.parentBranch[0]-1,i=n.array[r][s.parentBranch[1]];if(!i.some(e=>"prompt"===e.type&&!e.captureSelection)&&e.mathfield.hasEditablePrompts)return o();_e(e,l,i,a,"up")}else{if(!s)return o();let n=null!=(i=s.parent.branch("above"))?i:s.parent.createBranch("above");if(!n.some(e=>"prompt"===e.type&&e.placeholderId)&&e.mathfield.hasEditablePrompts)return o();_e(e,l,n,a,"up")}return!0}(e,r);if("downward"===n)return function(e,n){var r,i;let a=null!=(r=null==n?void 0:n.extend)&&r;a||e.collapseSelection("forward");let o=()=>{var n,r;let i=!0;return e.suppressChangeNotifications||(i=null==(r=null==(n=e.mathfield.host)?void 0:n.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"downward"},cancelable:!0,bubbles:!0,composed:!0})))||r),e.announce(i?"plonk":"line"),i},l=e.at(e.position),s=l;for(;s&&"above"!==s.parentBranch&&!(Array.isArray(s.parentBranch)&&s.parent instanceof gk);)s=s.parent;if(Array.isArray(null==s?void 0:s.parentBranch)&&s.parent instanceof gk){let n=s.parent;if(s.parentBranch[0]+1>n.array.length-1)return o();let r=s.parentBranch[0]+1,i=n.array[r][s.parentBranch[1]];if(!i.some(e=>"prompt"===e.type&&!e.captureSelection)&&e.mathfield.hasEditablePrompts)return o();_e(e,l,i,a,"down")}else{if(!s)return o();let n=null!=(i=s.parent.branch("below"))?i:s.parent.createBranch("below");if(!n.some(e=>"prompt"===e.type)&&e.mathfield.hasEditablePrompts)return o();_e(e,l,n,a,"down")}return!0}(e,r);if(r.extend){let r=v7(e,e.position,n);return r<0&&(r=0),r>e.lastOffset&&(r=e.lastOffset),e.setSelection(e.anchor,r)}if(e.selectionIsPlaceholder)return e.collapseSelection(n),v8(e,n);let o=e.position,l=o;if(e.collapseSelection(n)?(o=e.position,v9(e,o)||(o=v7(e,o,n))):o=v7(e,o,n),o<0||o>e.lastOffset){let r=!0;return e.suppressChangeNotifications||(r=null==(a=null==(i=e.mathfield.host)?void 0:i.dispatchEvent(new CustomEvent("move-out",{detail:{direction:n},cancelable:!0,bubbles:!0,composed:!0})))||a),r&&e.announce("plonk"),r}return e.setPositionHandlingPlaceholder(o),e.announce("move",l),!0}function v7(e,n,r){return(n+="forward"===r?1:-1)<0||n>e.lastOffset||v9(e,n)?n:v7(e,n,r)}function v9(e,n){var r;let i=e.at(n),a=i.parent;for(;a&&!a.inCaptureSelection;)a=a.parent;return!(null!=a&&a.inCaptureSelection||null!=(r=i.parent)&&r.skipBoundary&&(!i.isFirstSibling&&i.isLastSibling||"first"===i.type)||e.mathfield.hasEditablePrompts&&!i.parentPrompt)}function _e(e,n,r,i,a){let o=e.mathfield.hasEditablePrompts,l=o?r.filter(e=>"prompt"===e.type&&!e.captureSelection):r,s=yO(e.mathfield.getHTMLElement(n)).right,u=e.offsetOf(function(e,n,r){let i=1/0,a=0;for(;a<n.length;a++){let o=Math.abs(r-yO(e.getHTMLElement(n[a])).right);if(o<=i)i=o;else break}return n[a-1]}(e.mathfield,l,s))-(o?1:0);if(i){let[n,r]=e.selection.ranges[0],i;i=u<("up"===a?n:r)?{ranges:[[u,r]],direction:"backward"}:{ranges:[[n,u]],direction:"forward"},e.setSelection(i)}else e.setPositionHandlingPlaceholder(u);e.announce(`move ${a}`)}bc({deleteAll:e=>yq(e,{inputType:"deleteContent"})&&vy(e,[0,-1],"deleteContent"),deleteForward:e=>!!(e.mathfield.isSelectionEditable&&yq(e,{inputType:"deleteContentForward"}))&&(e.selectionIsCollapsed?e.deferNotifications({content:!0,selection:!0,type:"deleteContentForward"},()=>{var n,r;let i=e.at(e.position).rightSibling;if(i&&vg(e,"forward",i))return;if(i){if(e.at(e.position).isLastSibling&&vg(e,"forward",i.parent,i.parentBranch))return}else{if((i=e.at(e.position)).isLastSibling&&vg(e,"forward",i.parent,i.parentBranch))return;i=void 0}if(e.position===e.lastOffset||!i){e.announce("plonk");return}i.parent.removeChild(i);let a=null==(n=e.at(e.position))?void 0:n.rightSibling;for(;(null==a?void 0:a.type)==="subsup";)a.parent.removeChild(a),a=null==(r=e.at(e.position))?void 0:r.rightSibling;e.announce("delete",void 0,[i])}):vy(e,g7(e.selection),"deleteContentForward")),deleteBackward:e=>!!(e.mathfield.isSelectionEditable&&yq(e,{inputType:"deleteContentBackward"}))&&(e.selectionIsCollapsed?e.deferNotifications({content:!0,selection:!0,type:"deleteContentBackward"},()=>{let n=e.at(e.position);if(!(n&&vg(e,"backward",n))){if(null!=n&&n.isFirstSibling){if(vg(e,"backward",n.parent,n.parentBranch))return;n=null}if(!n){e.announce("plonk");return}e.position=e.offsetOf(n.leftSibling),n.parent.removeChild(n),e.announce("delete",void 0,[n])}}):vy(e,g7(e.selection),"deleteContentBackward")),deleteNextWord:e=>yq(e,{inputType:"deleteWordForward"})&&vy(e,[e.anchor,v6(e,e.position,"forward")],"deleteWordForward"),deletePreviousWord:e=>yq(e,{inputType:"deleteWordBackward"})&&vy(e,[e.anchor,v6(e,e.position,"backward")],"deleteWordBackward"),deleteToGroupStart:e=>yq(e,{inputType:"deleteSoftLineBackward"})&&vy(e,[e.anchor,e.offsetOf(e.at(e.position).firstSibling)],"deleteSoftLineBackward"),deleteToGroupEnd:e=>yq(e,{inputType:"deleteSoftLineForward"})&&vy(e,[e.anchor,e.offsetOf(e.at(e.position).lastSibling)],"deleteSoftLineForward"),deleteToMathFieldStart:e=>yq(e,{inputType:"deleteHardLineBackward"})&&vy(e,[e.anchor,0],"deleteHardLineBackward"),deleteToMathFieldEnd:e=>yq(e,{inputType:"deleteHardLineForward"})&&vy(e,[e.anchor,-1],"deleteHardLineForward")},{target:"model",category:"delete"}),pl()||console.error('MathLive 0.92.1: this version of the MathLive library is for use in the browser. A subset of the API is available on the server side in the "mathlive-ssr" library. If using server side rendering (with React for example) you may want to do a dynamic import of the MathLive library inside a `useEffect()` call.');var _t=pl()?document.createElement("template"):null;_t&&(_t.innerHTML=`<style>
  :host { display: inline-block; background-color: field; color: fieldtext; border-width: 1px; border-style: solid; border-color: #acacac; border-radius: 2px; padding:4px; pointer-events: none;}
  :host([hidden]) { display: none; }
  :host([disabled]), :host([disabled]:focus), :host([disabled]:focus-within) { outline: none; opacity:  .5; }
  :host(:focus), :host(:focus-within) {
    outline: Highlight auto 1px;    /* For Firefox */
    outline: -webkit-focus-ring-color auto 1px;
  }
  </style>
  <span style="pointer-events:auto"></span><slot style="display:none"></slot>`);var _n=new WeakMap,_r={letterShapeStyle:"mf.letterShapeStyle = ...",horizontalSpacingScale:'Removed. Use `"thinmuskip"`, `"medmuskip"`, and `"thickmuskip"` registers ',macros:"mf.macros = ...",registers:"mf.registers = ...",backgroundColorMap:"mf.backgroundColorMap = ...",colorMap:"mf.colorMap = ...",enablePopover:"mf.popoverPolicy = ...",mathModeSpace:"mf.mathModeSpace = ...",placeholderSymbol:"mf.placeholderSymbol = ...",readOnly:"mf.readOnly = ...",removeExtraneousParentheses:"mf.removeExtraneousParentheses = ...",scriptDepth:"mf.scriptDepth = ...",smartFence:"mf.smartFence = ...",smartMode:"mf.smartMode = ...",smartSuperscript:"mf.smartSuperscript = ...",inlineShortcutTimeout:"mf.inlineShortcutTimeout = ...",inlineShortcuts:"mf.inlineShortcuts = ...",keybindings:"mf.keybindings = ...",virtualKeyboardMode:"mf.mathVirtualKeyboardPolicy = ...",customVirtualKeyboardLayers:"mathVirtualKeyboard.layers = ...",customVirtualKeyboards:"mathVirtualKeyboard.layouts = ...",keypressSound:"mathVirtualKeyboard.keypressSound = ...",keypressVibration:"mathVirtualKeyboard.keypressVibration = ...",plonkSound:"mathVirtualKeyboard.plonkSound = ...",virtualKeyboardContainer:"mathVirtualKeyboard.container = ...",virtualKeyboardLayout:"mathVirtualKeyboard.alphabeticLayout = ...",virtualKeyboardTheme:"No longer supported",virtualKeyboardToggleGlyph:"No longer supported",virtualKeyboardToolbar:"mathVirtualKeyboard.editToolbar = ...",virtualKeyboards:"Use `mathVirtualKeyboard.layouts`",speechEngine:"`MathfieldElement.speechEngine`",speechEngineRate:"`MathfieldElement.speechEngineRate`",speechEngineVoice:"`MathfieldElement.speechEngineVoice`",textToSpeechMarkup:"`MathfieldElement.textToSpeechMarkup`",textToSpeechRules:"`MathfieldElement.textToSpeechRules`",textToSpeechRulesOptions:"`MathfieldElement.textToSpeechRulesOptions`",readAloudHook:"`MathfieldElement.readAloudHook`",speakHook:"`MathfieldElement.speakHook`",computeEngine:"`MathfieldElement.computeEngine`",fontsDirectory:"`MathfieldElement.fontsDirectory`",soundsDirectory:"`MathfieldElement.soundsDirectory`",createHTML:"`MathfieldElement.createHTML`",onExport:"`MathfieldElement.onExport`",onInlineShortcut:"`MathfieldElement.onInlineShortcut`",onScrollIntoView:"`MathfieldElement.onScrollIntoView`",locale:"MathfieldElement.locale = ...",strings:"MathfieldElement.strings = ...",decimalSeparator:"MathfieldElement.decimalSeparator = ...",fractionNavigationOrder:"MathfieldElement.fractionNavigationOrder = ..."},_i=class extends HTMLElement{constructor(e){if(super(),e){let n=[];for(let r of Object.keys(e))if(_r[r]){if(_r[r].startsWith("mf.")){if(_r[r].startsWith(`mf.${r}`))n.push(`Option \`${r}\` cannot be used as a constructor option. Use ${_r[r]}`);else{let e=_r[r].match(/([a-zA-Z]+) =/);n.push(`Option \`${r}\` has been renamed \`${e[1]}\``)}}else n.push(`Option \`${r}\` cannot be used as a constructor option. Use ${_r[r]}`)}else n.push(`Unexpected option \`${r}\``);if(n.length>0){for(let e of(console.group("%cMathLive 0.92.1: %cInvalid Options","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn("Some of the options passed to `new MathFieldElement(...)` are invalid. \n          See https://cortexjs.io/mathlive/changelog/ for details."),n))console.warn(e);console.groupEnd()}}_l()&&(this._internals=this.attachInternals(),this._internals.role="math",this._internals.ariaLabel="math input field",this._internals.ariaMultiLine="false"),this.attachShadow({mode:"open",delegatesFocus:!0}),this.shadowRoot.append(_t.content.cloneNode(!0));let n=this.shadowRoot.querySelector("slot:not([name])");this._slotValue=n.assignedNodes().map(e=>3===e.nodeType?e.textContent:"").join("").trim(),e&&this._setOptions(e)}static get formAssociated(){return _l()}static get optionsAttributes(){return{"default-mode":"string","letter-shape-style":"string","popover-policy":"string","math-mode-space":"string","read-only":"boolean","remove-extraneous-parentheses":"on/off","smart-fence":"on/off","smart-mode":"on/off","smart-superscript":"on/off","inline-shortcut-timeout":"string","script-depth":"string","virtual-keyboard-target-origin":"string","math-virtual-keyboard-policy":"string"}}static get observedAttributes(){return[...Object.keys(this.optionsAttributes),"contenteditable","disabled","readonly","read-only"]}static get fontsDirectory(){return this._fontsDirectory}static set fontsDirectory(e){this._fontsDirectory=e,bi()}static get soundsDirectory(){return this._soundsDirectory}static set soundsDirectory(e){this._soundsDirectory=e,this.audioBuffers={}}static get keypressSound(){return this._keypressSound}static set keypressSound(e){var n,r,i;this.audioBuffers={},null===e?this._keypressSound={spacebar:null,return:null,delete:null,default:null}:"string"==typeof e?this._keypressSound={spacebar:e,return:e,delete:e,default:e}:"object"==typeof e&&"default"in e&&(this._keypressSound={spacebar:null!=(n=e.spacebar)?n:e.default,return:null!=(r=e.return)?r:e.default,delete:null!=(i=e.delete)?i:e.default,default:e.default})}static get plonkSound(){return this._plonkSound}static set plonkSound(e){this.audioBuffers={},this._plonkSound=e}static get audioContext(){return this._audioContext||(this._audioContext=new AudioContext),this._audioContext}static get speechEngine(){return this._speechEngine}static set speechEngine(e){this._speechEngine=e}static get speechEngineRate(){return this._speechEngineRate}static set speechEngineRate(e){this._speechEngineRate=e}static get speechEngineVoice(){return this._speechEngineVoice}static set speechEngineVoice(e){this._speechEngineVoice=e}static get textToSpeechMarkup(){return this._textToSpeechMarkup}static set textToSpeechMarkup(e){this._textToSpeechMarkup=e}static get textToSpeechRules(){return this._textToSpeechRules}static set textToSpeechRules(e){this._textToSpeechRules=e}static get textToSpeechRulesOptions(){return this._textToSpeechRulesOptions}static set textToSpeechRulesOptions(e){this._textToSpeechRulesOptions=e}static get locale(){return pd.locale}static set locale(e){"auto"===e&&(e=navigator.language.slice(0,5)),pd.locale=e}static get decimalSeparator(){return this._decimalSeparator}static set decimalSeparator(e){this._decimalSeparator=e,this._computeEngine&&(this._computeEngine.latexOptions.decimalMarker=","===this.decimalSeparator?"{,}":".")}static get strings(){return pd.strings}static set strings(e){pd.merge(e)}static get computeEngine(){var e,n;if(void 0===this._computeEngine){let n=null==(e=window[Symbol.for("io.cortexjs.compute-engine")])?void 0:e.ComputeEngine;n?this._computeEngine=new n:console.error(`MathLive 0.92.1: The CortexJS Compute Engine library is not available.
          
          Load the library, for example with:
          
          import "https://unpkg.com/@cortex-js/compute-engine?module"`),this._computeEngine&&","===this.decimalSeparator&&(this._computeEngine.latexOptions.decimalMarker="{,}")}return null!=(n=this._computeEngine)?n:null}static set computeEngine(e){this._computeEngine=e}static async loadSound(e){delete this.audioBuffers[e];let n="";switch(e){case"keypress":n=this._keypressSound.default;break;case"return":n=this._keypressSound.return;break;case"spacebar":n=this._keypressSound.spacebar;break;case"delete":n=this._keypressSound.delete;break;case"plonk":n=this.plonkSound}if("string"!=typeof n)return;n=n.trim();let r=this.soundsDirectory;if(null==r||"null"===r||"none"===n||"null"===n)return;let i=await (await fetch(await bn(`${r}/${n}`))).arrayBuffer(),a=await this.audioContext.decodeAudioData(i);this.audioBuffers[e]=a}static async playSound(e){if(this.audioBuffers[e]||await this.loadSound(e),!this.audioBuffers[e])return;let n=this.audioContext.createBufferSource();n.buffer=this.audioBuffers[e];let r=this.audioContext.createGain();r.gain.value=.5,n.connect(r).connect(this.audioContext.destination),n.start()}onPointerDown(){window.addEventListener("pointerup",e=>{var n;e.target!==this||null!=(n=this._mathfield)&&n.disabled||this.dispatchEvent(new MouseEvent("click",{altKey:e.altKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,movementX:e.movementX,movementY:e.movementY,relatedTarget:e.relatedTarget,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey}))},{once:!0})}getPromptValue(e){var n,r;return null!=(r=null==(n=this._mathfield)?void 0:n.getPromptValue(e))?r:""}getPrompts(e){var n,r;return null!=(r=null==(n=this._mathfield)?void 0:n.getPrompts(e))?r:[]}addEventListener(e,n,r){return super.addEventListener(e,n,r)}removeEventListener(e,n,r){super.removeEventListener(e,n,r)}get form(){var e;return null==(e=this._internals)?void 0:e.form}get name(){var e;return null!=(e=this.getAttribute("name"))?e:""}get type(){return this.localName}get mode(){var e,n;return null!=(n=null==(e=this._mathfield)?void 0:e.mode)?n:"math"}set mode(e){this._mathfield&&(this._mathfield.mode=e)}get expression(){if(this._mathfield)return window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`MathLive 0.92.1: The CortexJS Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`),this._mathfield.expression}set expression(e){var n,r;if(!this._mathfield)return;let i=null!=(r=null==(n=_i.computeEngine)?void 0:n.box(e).latex)?r:null;null!==i&&this._mathfield.setValue(i),window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`MathLive 0.92.1: The CortexJS Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`)}get errors(){var e,n;return null!=(n=null==(e=this._mathfield)?void 0:e.errors)?n:[]}_getOptions(e){return this._mathfield?b$(this._mathfield.options,e):_n.has(this)?b$(bz(bZ(),_n.get(this).options),e):null}getOptions(e){return console.warn("%cMathLive 0.92.1: %cDeprecated Usage%c\n      `mf.getOptions()` is deprecated. Read the property directly on the mathfield instead.\n      See https://cortexjs.io/mathlive/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._mathfield?b$(this._mathfield.options,e):_n.has(this)?b$(bz(bZ(),_n.get(this).options),e):null}reflectAttributes(){let e=bZ(),n=this._getOptions();Object.keys(_i.optionsAttributes).forEach(r=>{let i=_a(r);"on/off"===_i.optionsAttributes[r]?e[i]!==n[i]?this.setAttribute(r,n[i]?"on":"off"):this.removeAttribute(r):e[i]!==n[i]&&("boolean"===_i.optionsAttributes[r]?n[i]?this.setAttribute(r,""):this.removeAttribute(r):("string"==typeof n[i]||"number"==typeof n[i])&&this.setAttribute(r,n[i].toString()))})}getOption(e){return console.warn("%cMathLive 0.92.1: %cDeprecated Usage%c\n      `mf.getOption()` is deprecated. Read the property directly on the mathfield instead.\n      See https://cortexjs.io/mathlive/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._getOptions([e])[e]}_getOption(e){return this._getOptions([e])[e]}_setOptions(e){if(this._mathfield)this._mathfield.setOptions(e);else if(_n.has(this)){let n=pn(pn({},_n.get(this).options),e);_n.set(this,pr(pn({},_n.get(this)),{selection:{ranges:n.readOnly?[[0,0]]:[[0,-1]]},options:n}))}else _n.set(this,{value:void 0,selection:{ranges:[[0,0]]},options:e});this.reflectAttributes()}setOptions(e){for(let n of(console.group("%cMathLive 0.92.1: %cDeprecated Usage","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn(" `mf.setOptions()` is deprecated. Set the property directly on the mathfield instead.\n      See https://cortexjs.io/mathlive/changelog/ for details."),Object.keys(e)))_r[n]&&console.warn(`\`mf.setOptions({${n}:...})\` -> ${_r[n]}`);console.groupEnd(),this._setOptions(e)}executeCommand(e){var n,r;return null!=(r=null==(n=this._mathfield)?void 0:n.executeCommand(e))&&r}getValue(e,n,r){var i,a;if(this._mathfield)return this._mathfield.model.getValue(e,n,r);if(_n.has(this)){let o,l,s;if(bY(e)?([o,l]=e.ranges[0],s=n):bq(e)?([o,l]=e,s=n):bW(e)&&bW(n)?(o=e,l=n,s=r):(o=0,l=-1,s=e),(void 0===s||"latex"===s)&&0===o&&-1===l)return null!=(a=null!=(i=_n.get(this).value)?i:this.textContent)?a:""}return""}setValue(e,n){if(this._mathfield&&void 0!==e){n||(n={suppressChangeNotifications:!0}),this._mathfield.setValue(e,n);return}if(_n.has(this)){let n=_n.get(this).options;_n.set(this,{value:e,selection:{ranges:n.readOnly?[[0,0]]:[[0,-1]],direction:"forward"},options:n});return}let r=_o(this);_n.set(this,{value:e,selection:{ranges:r.readOnly?[[0,0]]:[[0,-1]],direction:"forward"},options:r})}hasFocus(){var e,n;return null!=(n=null==(e=this._mathfield)?void 0:e.hasFocus())&&n}focus(){var e;null==(e=this._mathfield)||e.focus()}blur(){var e;null==(e=this._mathfield)||e.blur()}select(){var e;null==(e=this._mathfield)||e.select()}insert(e,n){var r,i;return null!=(i=null==(r=this._mathfield)?void 0:r.insert(e,n))&&i}applyStyle(e,n){var r;return null==(r=this._mathfield)?void 0:r.applyStyle(e,n)}get caretPoint(){var e,n;return null!=(n=null==(e=this._mathfield)?void 0:e.getCaretPoint())?n:null}set caretPoint(e){var n;e&&(null==(n=this._mathfield)||n.setCaretPoint(e.x,e.y))}setCaretPoint(e,n){var r,i;return null!=(i=null==(r=this._mathfield)?void 0:r.setCaretPoint(e,n))&&i}offsetFromPoint(e,n,r){return this._mathfield?v1(this._mathfield,e,n,r):-1}hitboxFromOffset(e){if(!this._mathfield)return null;let n=this._mathfield.model.at(e);if(!n)return null;let r=yv(this._mathfield,n);return r?new DOMRect(r.left,r.top,r.right-r.left,r.bottom-r.top):null}resetUndo(){var e;null==(e=this._mathfield)||e.resetUndo()}canUndo(){return!!this._mathfield&&this._mathfield.canUndo()}canRedo(){return!!this._mathfield&&this._mathfield.canRedo()}connectedCallback(){var e,n,r;requestAnimationFrame(()=>void ba()),this.shadowRoot.host.addEventListener("pointerdown",()=>this.onPointerDown(),!0),this.shadowRoot.host.addEventListener("focus",()=>{var e;return null==(e=this._mathfield)?void 0:e.focus()},!0),this.shadowRoot.host.addEventListener("blur",()=>{var e;return null==(e=this._mathfield)?void 0:e.blur()},!0),_l()||(this.hasAttribute("role")||this.setAttribute("role","math"),this.hasAttribute("aria-label")||this.setAttribute("aria-label","math input field"),this.setAttribute("aria-multiline","false")),this.hasAttribute("contenteditable")||this.setAttribute("contenteditable","true"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0");let i=this.shadowRoot.querySelector("slot:not([name])"),a="";if(a=this.hasAttribute("value")?null!=(e=this.getAttribute("value"))?e:"":null!=(n=null==i?void 0:i.assignedNodes().map(e=>3===e.nodeType?e.textContent:"").join("").trim())?n:"",this._mathfield=new v4(this.shadowRoot.querySelector(":host > span"),pr(pn({},_n.has(this)?_n.get(this).options:_o(this)),{eventSink:this,value:a})),!_n.has(this))for(let e of(this.upgradeProperty("disabled"),this.upgradeProperty("readonly"),Object.keys(_i.optionsAttributes)))this.upgradeProperty(_a(e));if(!(null!=(r=this._mathfield)&&r.model)){this._mathfield=null;return}_n.has(this)&&this._mathfield.model.deferNotifications({content:!1,selection:!1},()=>{let e=_n.get(this).value;void 0!==e&&this._mathfield.setValue(e),this._mathfield.model.selection=_n.get(this).selection,_n.delete(this)}),i.addEventListener("slotchange",e=>{if(e.target!==i)return;let n=i.assignedNodes().map(e=>3===e.nodeType?e.textContent:"").join("").trim();n!==this._slotValue&&(this._mathfield?this._mathfield.setValue(n):this.value=n)}),this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0,composed:!0}))}disconnectedCallback(){if(this.dispatchEvent(new Event("unmount",{cancelable:!1,bubbles:!0,composed:!0})),!this._mathfield)return;let e=b$(this._mathfield.options,Object.keys(_i.optionsAttributes).map(e=>_a(e)));_n.set(this,{value:this._mathfield.getValue(),selection:this._mathfield.model.selection,options:e}),this._mathfield.dispose(),this._mathfield=null}upgradeProperty(e){if(this.hasOwnProperty(e)){let n=this[e];delete this[e],("readonly"===e||"read-only"===e)&&(e="readOnly"),this[e]=n}}attributeChangedCallback(e,n,r){if(n===r)return;let i=null!==r;switch(e){case"contenteditable":this._mathfield&&bo(this._mathfield);break;case"disabled":this.disabled=i;break;case"read-only":case"readonly":this.readOnly=i}}get readonly(){return this.hasAttribute("readonly")||this.hasAttribute("read-only")}set readonly(e){let n=!!e;n?(this.setAttribute("readonly",""),_l()?this._internals.ariaReadOnly="true":this.setAttribute("aria-readonly","true"),this.setAttribute("aria-readonly","true")):(_l()?this._internals.ariaReadOnly="false":this.removeAttribute("aria-readonly"),this.removeAttribute("readonly"),this.removeAttribute("read-only")),this._setOptions({readOnly:n})}get disabled(){return this.hasAttribute("disabled")}set disabled(e){var n;let r=!!e;r?this.setAttribute("disabled",""):this.removeAttribute("disabled"),_l()?this._internals.ariaDisabled=r?"true":"false":this.setAttribute("aria-disabled",r?"true":"false"),r&&null!=(n=this._mathfield)&&n.hasFocus&&window.mathVirtualKeyboard.visible&&this._mathfield.executeCommand("hideVirtualKeyboard")}get value(){return this.getValue()}set value(e){this.setValue(e)}get defaultMode(){return this._getOption("defaultMode")}set defaultMode(e){this._setOptions({defaultMode:e})}get macros(){return this._getOption("macros")}set macros(e){this._setOptions({macros:e})}get registers(){return this._getOption("registers")}set registers(e){this._setOptions({registers:e})}get colorMap(){return this._getOption("colorMap")}set colorMap(e){this._setOptions({colorMap:e})}get backgroundColorMap(){return this._getOption("backgroundColorMap")}set backgroundColorMap(e){this._setOptions({backgroundColorMap:e})}get letterShapeStyle(){return this._getOption("letterShapeStyle")}set letterShapeStyle(e){this._setOptions({letterShapeStyle:e})}get smartMode(){return this._getOption("smartMode")}set smartMode(e){this._setOptions({smartMode:e})}get smartFence(){return this._getOption("smartFence")}set smartFence(e){this._setOptions({smartFence:e})}get smartSuperscript(){return this._getOption("smartSuperscript")}set smartSuperscript(e){this._setOptions({smartSuperscript:e})}get scriptDepth(){return this._getOption("scriptDepth")}set scriptDepth(e){this._setOptions({scriptDepth:e})}get removeExtraneousParentheses(){return this._getOption("removeExtraneousParentheses")}set removeExtraneousParentheses(e){this._setOptions({removeExtraneousParentheses:e})}get mathModeSpace(){return this._getOption("mathModeSpace")}set mathModeSpace(e){this._setOptions({mathModeSpace:e})}get placeholderSymbol(){return this._getOption("placeholderSymbol")}set placeholderSymbol(e){this._setOptions({placeholderSymbol:e})}get popoverPolicy(){return this._getOption("popoverPolicy")}set popoverPolicy(e){this._setOptions({popoverPolicy:e})}get mathVirtualKeyboardPolicy(){return this._getOption("mathVirtualKeyboardPolicy")}set mathVirtualKeyboardPolicy(e){this._setOptions({mathVirtualKeyboardPolicy:e})}get inlineShortcuts(){return this._getOption("inlineShortcuts")}set inlineShortcuts(e){this._setOptions({inlineShortcuts:e})}get inlineShortcutTimeout(){return this._getOption("inlineShortcutTimeout")}set inlineShortcutTimeout(e){this._setOptions({inlineShortcutTimeout:e})}get keybindings(){return this._getOption("keybindings")}set keybindings(e){this._setOptions({keybindings:e})}get onInlineShortcut(){return this._getOption("onInlineShortcut")}set onInlineShortcut(e){this._setOptions({onInlineShortcut:e})}get onScrollIntoView(){return this._getOption("onScrollIntoView")}set onScrollIntoView(e){this._setOptions({onScrollIntoView:e})}get onExport(){return this._getOption("onExport")}set onExport(e){this._setOptions({onExport:e})}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOptions({readOnly:e})}get isSelectionEditable(){var e,n;return null!=(n=null==(e=this._mathfield)?void 0:e.isSelectionEditable)&&n}setPromptState(e,n,r){var i;null==(i=this._mathfield)||i.setPromptState(e,n,r)}getPromptState(e){var n,r;return null!=(r=null==(n=this._mathfield)?void 0:n.getPromptState(e))?r:[void 0,!0]}setPromptContent(e,n,r){var i;null==(i=this._mathfield)||i.setPromptValue(e,n,r)}stripPromptContent(e){var n,r;return null!=(r=null==(n=this._mathfield)?void 0:n.stripPromptContent(e))?r:{}}get virtualKeyboardTargetOrigin(){return this._getOption("virtualKeyboardTargetOrigin")}set virtualKeyboardTargetOrigin(e){this._setOptions({virtualKeyboardTargetOrigin:e})}get selection(){return this._mathfield?this._mathfield.model.selection:_n.has(this)?_n.get(this).selection:{ranges:[[0,0]],direction:"forward"}}set selection(e){if("number"==typeof e&&(e={ranges:[[e,e]]}),this._mathfield){this._mathfield.model.selection=e;return}if(_n.has(this)){_n.set(this,pr(pn({},_n.get(this)),{selection:e}));return}_n.set(this,{value:void 0,selection:e,options:_o(this)})}get selectionIsCollapsed(){let e=this.selection;return 1===e.ranges.length&&e.ranges[0][0]===e.ranges[0][1]}get position(){return this._mathfield?this._mathfield.model.position:_n.has(this)?_n.get(this).selection.ranges[0][0]:0}set position(e){if(this._mathfield&&(this._mathfield.model.position=e),_n.has(this)){_n.set(this,pr(pn({},_n.get(this)),{selection:{ranges:[[e,e]]}}));return}_n.set(this,{value:void 0,selection:{ranges:[[e,e]]},options:_o(this)})}getOffsetDepth(e){var n;return this._mathfield?(null==(n=this._mathfield.model.at(e))?void 0:n.treeDepth)-2:0}get lastOffset(){var e,n;return null!=(n=null==(e=this._mathfield)?void 0:e.model.lastOffset)?n:-1}};function _a(e){return e.toLowerCase().replace(/[^a-zA-Z\d]+(.)/g,(e,n)=>n.toUpperCase())}function _o(e){let n={},r=_i.optionsAttributes;return Object.keys(r).forEach(i=>{if(e.hasAttribute(i)){let a=e.getAttribute(i);"boolean"===r[i]?n[_a(i)]=!0:"on/off"===r[i]?"on"===a?n[_a(i)]=!0:"off"===a?n[_a(i)]=!1:n[_a(i)]=void 0:"number"===r[i]?n[_a(i)]=Number.parseFloat(null!=a?a:"0"):n[_a(i)]=a}else"boolean"===r[i]&&(n[_a(i)]=!1)}),n}function _l(){return!(!("ElementInternals"in window)||!HTMLElement.prototype.attachInternals||!("role"in window.ElementInternals.prototype))}_i.version="0.92.1",_i._fontsDirectory="./fonts",_i._soundsDirectory="./sounds",_i.keypressVibration=!0,_i._keypressSound={spacebar:"keypress-spacebar.wav",return:"keypress-return.wav",delete:"keypress-delete.wav",default:"keypress-standard.wav"},_i._plonkSound="plonk.wav",_i.audioBuffers={},_i.createHTML=e=>e,_i._speechEngineRate="100%",_i._speechEngineVoice="Joanna",_i._textToSpeechMarkup="",_i._textToSpeechRules="mathlive",_i._textToSpeechRulesOptions={},_i.speakHook=function(e){var n,r;if(pl()){if(window.MathfieldElement.speechEngine&&"local"!==window.MathfieldElement.speechEngine){if("amazon"===window.MathfieldElement.speechEngine){if("AWS"in window){let i=new window.AWS.Polly({apiVersion:"2016-06-10"}),a={OutputFormat:"mp3",VoiceId:null!=(n=window.MathfieldElement.speechEngineVoice)?n:"Joanna",Engine:["Amy","Emma","Brian","Ivy","Joanna","Kendra","Kimberly","Salli","Joey","Justin","Matthew"].includes(null!=(r=window.MathfieldElement.speechEngineVoice)?r:"Joanna")?"neural":"standard",Text:e,TextType:"ssml"};i.synthesizeSpeech(a,(e,n)=>{if(e)console.trace(`MathLive 0.92.1: \`polly.synthesizeSpeech()\` error: ${e}`);else if(null!=n&&n.AudioStream){let e=new Blob([new Uint8Array(n.AudioStream).buffer],{type:"audio/mpeg"});new Audio(URL.createObjectURL(e)).play().catch(e=>console.log(e))}})}else console.error("MathLive 0.92.1: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk")}else"google"===window.MathfieldElement.speechEngine&&console.error("MathLive 0.92.1: The Google speech engine is not supported yet. Please come again.")}else{let n=new SpeechSynthesisUtterance(e);window.speechSynthesis.speak(n)}}},_i.readAloudHook=function(e,n){var r;if(!pl())return;if("amazon"!==window.MathfieldElement.speechEngine){console.error("MathLive 0.92.1: Use Amazon TTS Engine for synchronized highlighting"),"function"==typeof window.MathfieldElement.speakHook&&window.MathfieldElement.speakHook(n);return}if(!window.AWS){console.error("MathLive 0.92.1: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");return}let i=new window.AWS.Polly({apiVersion:"2016-06-10"}),a={OutputFormat:"json",VoiceId:null!=(r=window.MathfieldElement.speechEngineVoice)?r:"Joanna",Engine:"standard",Text:n,TextType:"ssml",SpeechMarkTypes:["ssml"]};_h().readAloudElement=e,i.synthesizeSpeech(a,(e,r)=>{if(e){console.trace(`MathLive 0.92.1: \`polly.synthesizeSpeech()\` error: ${e}`);return}if(!(null!=r&&r.AudioStream))return;let o=new TextDecoder("utf-8").decode(new Uint8Array(r.AudioStream));for(let e of(_h().readAloudMarks=o.split(`
`).map(e=>e?JSON.parse(e):{}),_h().readAloudTokens=[],_h().readAloudMarks))e.value&&_h().readAloudTokens.push(e.value);_h().readAloudCurrentMark="",a.OutputFormat="mp3",a.SpeechMarkTypes=[],i.synthesizeSpeech(a,(e,r)=>{if(e){console.trace(`MathLive 0.92.1: \`polly.synthesizeSpeech("${n}") error:${e}`);return}if(!(null!=r&&r.AudioStream))return;let i=new Blob([new Uint8Array(r.AudioStream).buffer],{type:"audio/mpeg"}),a=URL.createObjectURL(i),o=_h();o.readAloudAudio?o.readAloudAudio.pause():(o.readAloudAudio=new Audio,o.readAloudAudio.addEventListener("ended",()=>{let e=o.readAloudMathField;o.readAloudStatus="ended",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),e?(bs(e),o.readAloudElement=null,o.readAloudMathField=null,o.readAloudTokens=[],o.readAloudMarks=[],o.readAloudCurrentMark=""):function e(n){if(n&&(n.classList.remove("ML__highlight"),n.children))for(let r of n.children)e(r)}(o.readAloudElement)}),o.readAloudAudio.addEventListener("timeupdate",()=>{let e="",n=1e3*o.readAloudAudio.currentTime+100;for(let r of o.readAloudMarks)r.time<n&&(e=r.value);o.readAloudCurrentMark!==e&&(o.readAloudCurrentToken=e,e&&e===o.readAloudFinalToken?o.readAloudAudio.pause():(o.readAloudCurrentMark=e,function e(n,r){var i;n&&(r&&(null==(i=n.dataset)?void 0:i.atomId)!==r?(n.classList.remove("ML__highlight"),n.children&&n.children.length>0&&[...n.children].forEach(n=>{n instanceof HTMLElement&&e(n,r)})):(n.classList.add("ML__highlight"),n.children&&n.children.length>0&&[...n.children].forEach(n=>{n instanceof HTMLElement&&e(n)})))}(o.readAloudElement,o.readAloudCurrentMark)))})),o.readAloudAudio.src=a,o.readAloudStatus="playing",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),o.readAloudAudio.play()})})},_i._decimalSeparator=".",_i.fractionNavigationOrder="numerator-denominator";var _s,_u,_c,_d=_i;function _h(){var e;return null!=globalThis[e=Symbol.for("io.cortexjs.mathlive")]||(globalThis[e]={}),globalThis[Symbol.for("io.cortexjs.mathlive")]}pl()&&!(null!=(_s=window.customElements)&&_s.get("math-field"))&&(null!=window[_u=Symbol.for("io.cortexjs.mathlive")]||(window[_u]={}),window[Symbol.for("io.cortexjs.mathlive")].version="0.92.1",window.MathfieldElement=_i,null==(_c=window.customElements)||_c.define("math-field",_i)),bc({switchKeyboardLayer:function(e){let n=bH.singleton;n.show(),bw();let r=n.element.querySelectorAll(".MLK__layer"),i=!1;for(let n of r)if(n.dataset.layer===e){i=!0;break}if(i)for(let n of r)n.dataset.layer===e?n.classList.add("is-visible"):n.classList.remove("is-visible");return n.render(),n.focus(),!0},toggleVirtualKeyboard:function(){let e=window.mathVirtualKeyboard;return e.visible?e.hide({animate:!0}):e.show({animate:!0}),!1},hideVirtualKeyboard:()=>(window.mathVirtualKeyboard.hide({animate:!0}),!1),showVirtualKeyboard:()=>(window.mathVirtualKeyboard.show({animate:!0}),!1)},{target:"virtual-keyboard"});var _p=r(60460);let _m=".ML__content";var _f=e=>{let n=getComputedStyle(e);return e.clientWidth-(Number.parseFloat(n.paddingLeft)+Number.parseFloat(n.paddingRight))};let _g=(0,t9.yF)()?null:document.createElement("canvas").getContext("2d"),_y=e=>"0".repeat(e.length);function _b(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,i=_y(e),{font:a}=window.getComputedStyle(r);return _f(n)<function(e,n){if((0,t9.Rw)(_g))throw Error("Canvas context does not exist");return _g.font=n,_g.measureText(e).width}(i,a)}let _v=e=>e.replaceAll("{,}",",").replaceAll("\\:"," "),__=e=>e.replaceAll(",","{,}").replaceAll(/\s/g,"\\:");function _x(e){let n=(0,e0.useCallback)(n=>{(0,e0.startTransition)(()=>{var r;null==e||null===(r=e.current)||void 0===r||r.setValue(__(n),{suppressChangeNotifications:!0})})},[e]);return{getInputValue:(0,e0.useCallback)(()=>{var n,r;return _v(null!==(r=null==e?void 0:null===(n=e.current)||void 0===n?void 0:n.value)&&void 0!==r?r:"")},[e]),setInputValue:n}}var _O=r(47761);let _w=(0,_O.Nx)()?["in","+-","..."]:["in","+-"],_E={"*":"\\times"};(0,t9.yF)()||Object.defineProperty(window.mathVirtualKeyboard,"visible",{get:()=>!1,set:()=>!1});let _C=e=>{var n;return{...Object.fromEntries(Object.entries(null!==(n=null==e?void 0:e.inlineShortcuts)&&void 0!==n?n:{}).filter(e=>{let[n]=e;return!_w.includes(n)})),..._E}},_T=e=>{var n;return(null!==(n=null==e?void 0:e.keybindings)&&void 0!==n?n:[]).filter(e=>"pasteFromClipboard"!==e.command)};var _k=(e,n)=>{let{onExport:r,virtualKeyboardMode:i}=n,a=(0,_p.Z)(e);(0,e0.useEffect)(()=>{if((0,t9.$K)(a)&&(0,t9.$K)(a.current)){a.current.inlineShortcuts=_C(a.current),a.current.keybindings=_T(a.current),(0,t9.$K)(r)&&(a.current.onExport=r),a.current.mathVirtualKeyboardPolicy=i,a.current.smartSuperscript=!1;let e=customElements.get("math-field");(0,t9.$K)(e)&&(e._soundsDirectory=null)}},[a,r,i])};(y||(y={})).SHARE_RESULT_CALCULATOR_SNAPSHOT="shareResultCalculatorSnapshot";let _R={[t4.an]:t4.iT,[t4.iT]:t4.an};(m=b||(b={})).ACTION_PANEL="calculator-action_panel",m.ACTION_PANEL_CLEAR="calculator-action_panel_clear",m.ACTION_PANEL_RELOAD="calculator-action_panel_reload",m.ACTION_PANEL_SHARED="calculator-action_panel_shared",m.BLOCK_CHART_CARTESIAN="calculator-block_chart_cartesian",m.BLOCK_CHART_PIE="calculator-block_chart_pie",m.BLOCK_GROUP="calculator-block_group",m.BLOCK_GROUP_HEADER="calculator-block_group_header",m.BLOCK_IMAGE_CAPTION="calculator-block_image_caption",m.BLOCK_IMAGE_LIGHTBOX="calculator-block_image_lightbox",m.BLOCK_IMAGE_PREVIEW="calculator-block_image_preview",m.BLOCK_TABLE="calculator-block_table",m.BLOCK_TEXT="calculator-block_text",m.BLOCK_VARIABLE="calculator-block_variable",m.BLOCK_VARIABLE_DATE="calculator-block_variable-date",m.BLOCK_VARIABLE_DATETIME="calculator-block_variable-datetime",m.BLOCK_VARIABLE_LABEL="calculator-block_variable-label",m.BLOCK_VARIABLE_LABEL_MENU="calculator-block_variable-label-menu",m.BLOCK_VARIABLE_LABEL_MENU_POPPER="calculator-block_variable-label-menu_popper",m.BLOCK_VARIABLE_LABEL_MENU_POPPER_SETTINGS="calculator-block_variable-label-menu_popper_settings",m.BLOCK_VARIABLE_NUMERICAL="calculator-block_variable-numerical",m.BLOCK_VARIABLE_NUMERICAL_CORTEX="calculator-block_variable-numerical-input_cortex",m.BLOCK_VARIABLE_NUMERICAL_MIXED="calculator-block_variable-numerical-input_mixed",m.BLOCK_VARIABLE_NUMERICAL_MODAL_COPY_PASTE="calculator-block_variable-numerical-modal_copy_paste",m.BLOCK_VARIABLE_NUMERICAL_UNIT_SWITCHER="calculator-block_variable-numerical-unit_switcher",m.BLOCK_VARIABLE_NUMERICAL_UNIT_SWITCHER_SECOND="calculator-block_variable-numerical-unit_switcher_second",m.BLOCK_VARIABLE_TIME="calculator-block_variable-time",m.BLOCK_VARIABLE_VALUE_SELECT_CHECKBOX="calculator-block_variable-value_select-checkbox",m.BLOCK_VARIABLE_VALUE_SELECT_DROPDOWN="calculator-block_variable-value_select-dropdown",m.BLOCK_VARIABLE_VALUE_SELECT_RADIO="calculator-block_variable-value_select-radio",m.CALCULATOR="calculator-main",m.ERROR_INDICATOR_BOTTOM="calculator-error_indicator_bottom",m.ERROR_INDICATOR_TOP="calculator-error_indicator_top",m.MATRIX="calculator-matrix";var _S=e=>(0,t9.Rw)(e)?"":e.isNegative()&&e.isZero()?"-0":e.toString();function _A(){let e=(0,sz._)(["."],["\\."]);return _A=function(){return e},e}function _I(){let e=(0,sz._)(["(d)","(d)"],["(\\d)","(\\d)"]);return _I=function(){return e},e}function _L(){let e=tZ(cA);return(0,e0.useMemo)(()=>n=>(0,t9.$K)(n)&&(0,_O.Nx)()?n.replace(function(e){let n=e===t4.iT?t4.iT:String.raw(_A());return new RegExp(String.raw(_I(),n))}(_R[e]),"$1".concat(e,"$2")):n,[e])}let{calculatorWidget:_M}=V.defaultTranslation;async function _N(){try{return await navigator.clipboard.readText()}catch(e){return null}}let{evaluate:_D,log:_B}=rZ.default,_P={log:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return _B(e,(0,t9.US)(n))},ln:e=>_B(e)};function _K(e){return e===t4.an||e===t4.iT}function _U(e){let n=n=>{var r;return r=e.getValue(n,n+1),/[e\d]/.test(r)||_K(r)},r=function(e,n){if(e>=0&&n(e))return e;let r=e+1;return n(r)?r:null}(e.position-1,n);if((0,t9.Rw)(r))return null;let i=function(e,n){let r=e;for(;n(r-1)&&r>0;)r--;return r}(r,n),a=function(e,n){let r=e;for(;n(r+1);)r++;return r}(r,n);return e.getValue(i,a+1)}function _V(e){return!(0,t9.Rw)(e)&&/^-?\d{1,3}[,.]\d{3}(?!\d)/.test(e)}function _G(e){let{text:n,usedDecimalSeparator:r,usedThousandsSeparator:i}=e;return n.indexOf(r)>n.lastIndexOf(i)?{usedDecimalSeparator:r,usedThousandsSeparator:i,isValid:!0}:{isValid:!1}}function _F(e,n){return e.split("").filter(e=>e===n).length}function _H(){let e=(0,sz._)(["[^-0-9., e]"],["[^-0-9\\.\\,\\ e]"]);return _H=function(){return e},e}let _z=[t4.an,t4.iT];function _$(){let e=tZ(cA);return(0,e0.useCallback)(n=>{let r=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t4.an;if(new RegExp(String.raw(_H())).test(e))return null;let r=e.replaceAll(" ",""),i=_z.filter(e=>r.includes(e));return 1===i.length?function(e,n,r){if(e.split("").filter(e=>e===n).length>1)return{output:e.replaceAll(n,"")};{let i=e.replace(n,r),a=_V(i);return{output:i,isAmbiguous:a}}}(r,i[0],n):2===i.length?function(e,n,r){let i=function(e){let n=_F(e,","),r=_F(e,".");if(0===n||0===r)throw Error("Invalid argument - findUsedSeparators expects the string to have at least 1 comma and 1 full stop");return 1===n&&1===r?e.indexOf(",")>e.indexOf(".")?{isValid:!0,usedDecimalSeparator:",",usedThousandsSeparator:"."}:{isValid:!0,usedDecimalSeparator:".",usedThousandsSeparator:","}:1===n&&r>1?_G({usedThousandsSeparator:".",usedDecimalSeparator:",",text:e}):1===r&&n>1?_G({usedThousandsSeparator:",",usedDecimalSeparator:".",text:e}):{isValid:!1}}(e);if(!i.isValid)return{output:n};let{usedDecimalSeparator:a,usedThousandsSeparator:o}=i;return{output:e.replaceAll(o,"").replace(a,r)}}(r,e,n):{output:r}}(n,e);if((0,t9.Rw)(r))return{output:n};let{output:i,...a}=r;return{output:(0,_O.Nx)()?i:i.replace(t4.iT,t4.an),...a}},[e])}let _Z=e=>{e.hasFocus()||e.focus()};var _j=(e,n)=>{let r=(0,_p.Z)(e);(0,e0.useEffect)(()=>{var e,i;let a=document.createElement("style");a.innerHTML=n,null==r||null===(i=r.current)||void 0===i||null===(e=i.shadowRoot)||void 0===e||e.appendChild(a)},[r,n])},_W=r(7232);let _q="math-field",_Y="math-field--has-error",_X=(0,e0.forwardRef)((e,n)=>{let{computableValueGetter:i,"data-testid":a,hasError:o,inlineStyle:l="",isDisabled:s=!1,label:u,onBlur:c,onChange:d,onContextMenu:h,onExport:p,onFocus:m,setInputFeedback:f,value:g,virtualKeyboardMode:y,...b}=e;(function(e,n){let{computableValueGetter:r,label:i,onBlur:a,onChange:o,onContextMenu:l,onFocus:s,setInputFeedback:u}=n,c=_$(),d=tZ(cA),h=(0,_p.Z)(e),p=(0,e0.useCallback)(e=>null==a?void 0:a(e.target),[a]),m=(0,e0.useCallback)(e=>{let n=_U(e.target);u((0,_O.Nx)()&&_V(n)?"decimalAmbiguity":null)},[u]),f=(0,e0.useCallback)(e=>{if((0,t9.$K)(l)&&(e.stopPropagation(),e.preventDefault(),l(),(0,t9.$K)(h)&&(0,t9.$K)(h.current))){var n;let e=eQ()(h.current.selection);null===(n=window.getSelection())||void 0===n||n.removeAllRanges(),h.current.select(),h.current.selection={ranges:e.ranges,direction:"forward"}}},[l,h]),g=(0,e0.useCallback)(e=>{if(null==s||s(e.target),u(null),(0,t9.$K)(i)){var n,r,a;null==h||null===(a=h.current)||void 0===a||null===(r=a.shadowRoot)||void 0===r||null===(n=r.querySelector(".ML__textarea__textarea"))||void 0===n||n.setAttribute("aria-label",i)}},[s,i,u,h]),y=(0,e0.useCallback)(e=>{var n,r;let i=e.target;(null===(n=e.data)||void 0===n?void 0:n.includes("*"))&&i.setValue(i.value.replaceAll(/\*/g,"\\times"));let a=(r=i.getValue("ascii-math"),(0,_O.Nx)()?r.replaceAll(",",".").replaceAll(";",","):r).replace(//g,"/").replace(/xx/g,"*").replace(//g," deg").replace(/sin \^\(-1\)/g,"asin").replace(/cos \^\(-1\)/g,"acos").replace(/tan \^\(-1\)/g,"atan").replace(/cot \^\(-1\)/g,"acot").replace(/(\d+)(\(.*?\)\/\(.*?\))/g,"($1+$2)").replace(RegExp("log\\s?_(?<base>\\(-?.*\\)| ?.*)\\((?<value>-?.*)\\)","g"),"log($2, $1)").replace(RegExp("root\\s?\\(?(?<base>-?.+?)\\)?\\((?<value>-?.+)\\)","g"),"nthRoot($2, $1)"),l={result:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_P;try{let r=_D(e,n);if(rZ.default.isComplex(r))return null;if(rZ.default.isBigNumber(r))return r;throw Error("Result is not an instance of BigNumber")}catch(e){return null}}(a),parsedInput:a,rawInput:i.value};(0,_O.Nx)()?u(_V(_U(i))?"decimalAmbiguity":null):u(null),null==o||o(l),_Z(i)},[o,u]),b=(0,e0.useCallback)(async e=>{let n=e.target;if("="===e.key){var i;let a=null===(i=r())||void 0===i?void 0:i.toString();(0,t9.$K)(a)&&(n.setValue(a),n.dispatchEvent(new Event("input"))),e.preventDefault()}if((0,_O.Nx)()){if(_K(e.key)){if(function(e){let n=_U(e);return!(0,t9.Rw)(n)&&n.split("").filter(_K).length>0}(n)){e.preventDefault();return}e.key===_R[d]&&(n.executeCommand(["insert",d]),e.preventDefault())}e.key.startsWith("Arrow")&&u(_V(_U(n))?"decimalAmbiguity":null)}},[d,r,u]),{onTouchEnd:v,onTouchStart:_}=(0,dC.a0)({onLongTouch:l}),x=(0,e0.useCallback)(async e=>{let n=null==h?void 0:h.current;if((0,t9.Rw)(n)||(0,t9.Rw)(e.clipboardData))return;e.preventDefault();let r=e.clipboardData.getData("text/plain"),i=await _N();if((0,t9.oM)(r)&&(0,t9.Rw)(i)){u("pasteDisabled");return}let a=c((0,t9.oM)(r)?null!=i?i:"":r);!0===a.isAmbiguous?setTimeout(()=>{u("decimalAmbiguity")}):u(null),n.setValue(a.output,{insertionMode:"replaceSelection",format:"auto"})},[h,u,c]);(0,e0.useEffect)(()=>{let e=null==h?void 0:h.current;if(!(0,t9.Rw)(e))return e.addEventListener("blur",p),e.addEventListener("click",m),e.addEventListener("contextmenu",f),e.addEventListener("focus",g),e.addEventListener("input",y),e.addEventListener("keydown",b),e.addEventListener("touchstart",_),e.addEventListener("paste",x),e.addEventListener("pointerup",v),()=>{e.removeEventListener("blur",p),e.removeEventListener("click",m),e.removeEventListener("contextmenu",f),e.removeEventListener("focus",g),e.removeEventListener("input",y),e.removeEventListener("keydown",b),e.removeEventListener("touchstart",_),e.removeEventListener("paste",x),e.removeEventListener("pointerup",v)}},[p,m,f,g,y,b,_,x,v,h])})(n,{computableValueGetter:i,onChange:d,onContextMenu:h,onFocus:m,onBlur:c,label:u,setInputFeedback:f}),function(e,n){let r=(0,_p.Z)(n),{setInputValue:i}=_x(r);(0,e0.useEffect)(()=>{(0,t9.Rw)(r)||(0,t9.Rw)(r.current)||e===r.current.getValue("latex")||(0,e0.startTransition)(()=>{i(null!=e?e:"")})},[r,i,e])}(g,n),_k(n,{onExport:p,virtualKeyboardMode:y}),_j(n,l),function(){let e=(0,e0.useCallback)(()=>{r.e(90431).then(r.bind(r,17798)),document.removeEventListener("click",e),document.removeEventListener("scroll",e),document.removeEventListener("keydown",e)},[]);(0,_W.Z)(()=>(document.addEventListener("click",e),document.addEventListener("scroll",e),document.addEventListener("keydown",e),()=>{document.removeEventListener("click",e),document.removeEventListener("scroll",e),document.removeEventListener("keydown",e)}))}();let v=(o?[_q,_Y]:[_q]).join(" ");return(0,K.tZ)("math-field",{class:v,"data-enable-grammarly":"false","data-testid":a,"default-mode":"inline-math",...s&&{disabled:!0},"fonts-directory":"//unpkg.com/mathlive/dist/fonts/","keypress-sound":"none","plonk-sound":"none",ref:n,tabindex:s?-1:0,...b})});function _J(){let e=(0,sz._)(["\n      /* fix for adapt input width */\n      overflow: hidden;\n      flex-grow: 1;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      min-height: ",";\n\n      ."," {\n        ","\n      }\n    "]);return _J=function(){return e},e}var _Q=(0,dC.zo)(hh.Z,{target:"ezum5d90"})(e=>{let{theme:n,...r}=e,i=dj.input(n);return(0,U.iv)(_J(),i.INPUT_MIN_HEIGHT,_q,function(e,n,r){let{$isComputed:i,$isDisabled:a,$isError:o,$size:l,$variant:s}=r,u=n?"\n      display: ".concat(e.ALTERNATIVE.DISPLAY,";\n      height: ").concat(e.ALTERNATIVE.INPUT_HEIGHT,";\n    "):"";return"\n    --caret: ".concat(e.INPUT_CARET_COLOR,";\n    --highlight: ").concat(e.INPUT_SELECTION_COLOR,";\n    --contains-highlight: ").concat(e.INPUT_HIGHLIGHT_COLOR,";\n    border: ").concat(e.INPUT_BORDER,";\n    color: ").concat(_1([o,i,a],e),";\n    cursor: ").concat(a?e.DEFAULT_CURSOR:e.INPUT_CURSOR,";\n    display: ").concat(e.INPUT_DISPLAY_TYPE,";\n    font-family: ").concat(e.INPUT_FONT_FAMILY,";\n    outline: ").concat(e.INPUT_OUTLINE,";\n    opacity: ").concat(e.INPUT_OPACITY,";\n    text-align: ").concat(e.INPUT_TEXT_ALIGN_REVERSE,";\n    transition: ").concat(e.INPUT_TRANSITION,";\n    padding: ").concat(e.INPUT_PADDING_MATH,";\n    height: ").concat(e.INPUT_HEIGHT_INNER,";\n    ").concat(_0(a,e),"\n    ").concat(_2(l,e),"\n    ").concat("rounded"===s?"\n        border-radius: ".concat(e.INPUT_RADIUS,";\n      "):"","\n    ").concat(u,"\n    ")}(i,n.useExperimentalTheme,r))});function _0(e,n){let r=e?["INPUT_BACKGROUND_COLOR_DISABLED","INPUT_POINTER_EVENTS_REGULAR"]:["INPUT_BACKGROUND_COLOR_REGULAR","INPUT_POINTER_EVENTS_REGULAR"];return"\n    background-color: ".concat(n[r[0]],";\n    pointer-events: ").concat(n[r[1]],";\n  ")}function _1(e,n){var r;let{INPUT_TEXT_COLOR_COMPUTED:i,INPUT_TEXT_COLOR_DISABLED:a,INPUT_TEXT_COLOR_ERROR:o,INPUT_TEXT_COLOR_REGULAR:l}=n;return null!==(r=[o,i,a][e.indexOf(!0)])&&void 0!==r?r:l}function _2(e,n){let r="small"===e?["INPUT_FONT_SIZE_SMALL","INPUT_FONT_WEIGHT_SMALL","INPUT_LINE_HEIGHT_SMALL"]:["INPUT_FONT_SIZE_NORMAL","INPUT_FONT_WEIGHT_NORMAL","INPUT_LINE_HEIGHT_NORMAL"];return"\n      font-size: ".concat(n[r[0]],";\n      line-height: ").concat(n[r[2]],";\n    ")}function _3(){let e=(0,sz._)(["\n      display: ",";\n      align-items: ",";\n      padding: ",";\n      width: ",";\n      font-family: ",";\n    "]);return _3=function(){return e},e}function _4(){let e=(0,sz._)(["\n          caret-color: ",";\n        "]);return _4=function(){return e},e}let _6=(0,dC.zo)(hh.Z,{target:"e1rqkvvf0"})(e=>{let{theme:n}=e,r=dj.input(n);return(0,d7.Z)(_3(),r.INPUT_CONTAINER_DISPLAY,r.INPUT_CONTAINER_ALIGN_ITEMS,r.INPUT_PADDING,r.INPUT_MAX_WIDTH,r.INPUT_FONT_FAMILY)}),_5=(0,dC.zo)("input",{target:"e1rqkvvf1"})(e=>{let{$align:n,$inputSize:r,$isComputed:i,$isDisabled:a,$isError:o,theme:l}=e,s=dj.input(l),u=l.useExperimentalTheme?(0,d7.Z)(_4(),o?s.ALTERNATIVE.INPUT_CARET_COLOR_ERROR:s.INPUT_CARET_COLOR):"";return"\n     border: ".concat(s.INPUT_BORDER,";\n     caret-color: ").concat(s.INPUT_CARET_COLOR,";\n     color: ").concat(_1([o,i,a],s),";\n     font-family: ").concat(s.INPUT_FONT_FAMILY,";\n     min-height: ").concat(s.INPUT_MIN_HEIGHT,";\n     outline: ").concat(s.INPUT_OUTLINE,";\n     opacity: ").concat(s.INPUT_OPACITY,";\n     padding-bottom: 2px;\n     text-align: ").concat("normal"===n?s.INPUT_TEXT_ALIGN_NORMAL:s.INPUT_TEXT_ALIGN_REVERSE,";\n     transition: ").concat(s.INPUT_TRANSITION,";\n     width: ").concat(s.INPUT_MAX_WIDTH,";\n     ").concat(_0(a,s),"\n     ").concat(_2(r,s),"\n\n     &::selection {\n      background-color: ").concat(s.INPUT_SELECTION_COLOR,";\n     }\n\n     ").concat(u,"\n    ")});var _8=(0,e0.forwardRef)(function(e,n){let{align:r="normal",id:i,inputSize:a,isComputed:o,isDisabled:l,isError:s,value:u,...c}=e;return(0,K.tZ)(_6,{id:"".concat(i,"-container"),children:(0,K.tZ)(_5,{$align:r,$inputSize:a,$isComputed:o,$isDisabled:l,$isError:s,autoComplete:"off","data-testid":"".concat(i,"-input"),disabled:l,id:"".concat(i,"-input"),ref:n,value:null!=u?u:"",...c})})});function _7(){let e=(0,sz._)(["\n      border-color: ",";\n      margin: ",";\n      border-left-width: ",";\n      border-right-width: 0;\n    "]);return _7=function(){return e},e}let _9=(0,dC.zo)(hM.Z,{target:"esngrqe0"})(e=>{let{$isError:n,theme:r}=e,i=dj.inputDivider(r),a=n?i.ALTERNATIVE.BORDER_COLOR_ERROR:i.DIVIDER_BACKGROUND_COLOR;return(0,d7.Z)(_7(),a,i.DIVIDER_MARGIN,i.DIVIDER_WIDTH)});function xe(e){let{isError:n}=e;return(0,K.tZ)(_9,{$isError:n,flexItem:!0,orientation:"vertical"})}var xt=r(20376),xn=r(95890),xr=(0,dC.zo)(e=>{let{arrow:n=!0,className:r,...i}=e;return(0,K.tZ)(xt.Z,{disableFocusListener:!0,disableTouchListener:!0,...i,arrow:n,classes:{popper:r}})},{target:"exwcvjb0"})(e=>{let{theme:n}=e,r=dj.tooltip(n);return{zIndex:r.TOOLTIP_Z_INDEX,["& .".concat(xn.Z.arrow)]:{color:r.TOOLTIP_BACKGROUND_COLOR},["& .".concat(xn.Z.tooltip)]:{backgroundColor:r.TOOLTIP_BACKGROUND_COLOR,borderRadius:r.TOOLTIP_BORDER_RADIUS,padding:r.TOOLTIP_PADDING,fontSize:r.TOOLTIP_FONT_SIZE,lineHeight:r.TOOLTIP_LINE_HEIGHT,marginBottom:r.TOOLTIP_MARGIN_BOTTOM,fontWeight:r.TOOLTIP_FONT_WEIGHT},["& .".concat(xn.Z.tooltipArrow," ::before")]:{borderBottomRightRadius:r.ALTERNATIVE.TOOLTIP_ARROW_BOTTOM_RIGHT_BORDER_RADIUS}}});function xi(e){let{calculatorContainerRef:n,children:r,title:i}=e,a=(0,t9.$K)(i);return(0,K.tZ)(xr,{PopperProps:{disablePortal:!0,popperOptions:{modifiers:[{name:"flip",options:{boundary:null==n?void 0:n.current,fallbackPlacements:["bottom","top"]}}]}},arrow:!0,open:a,placement:"top",title:i,children:r})}var xa=r(10544),xo=r(71607),xl=r.n(xo);function xs(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function xu(){return(xu=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let xc=xT(),xd=e=>xO(e,xc),xh=xT();xd.write=e=>xO(e,xh);let xp=xT();xd.onStart=e=>xO(e,xp);let xm=xT();xd.onFrame=e=>xO(e,xm);let xf=xT();xd.onFinish=e=>xO(e,xf);let xg=[];xd.setTimeout=(e,n)=>{let r=xd.now()+n,i=()=>{let e=xg.findIndex(e=>e.cancel==i);~e&&xg.splice(e,1),x_-=~e?1:0},a={time:r,handler:e,cancel:i};return xg.splice(xy(r),0,a),x_+=1,xw(),a};let xy=e=>~(~xg.findIndex(n=>n.time>e)||~xg.length);xd.cancel=e=>{xp.delete(e),xm.delete(e),xf.delete(e),xc.delete(e),xh.delete(e)},xd.sync=e=>{xx=!0,xd.batchedUpdates(e),xx=!1},xd.throttle=e=>{let n;function r(){try{e(...n)}finally{n=null}}function i(...e){n=e,xd.onStart(r)}return i.handler=e,i.cancel=()=>{xp.delete(r),n=null},i};let xb="undefined"!=typeof window?window.requestAnimationFrame:()=>{};xd.use=e=>xb=e,xd.now="undefined"!=typeof performance?()=>performance.now():Date.now,xd.batchedUpdates=e=>e(),xd.catch=console.error,xd.frameLoop="always",xd.advance=()=>{"demand"!==xd.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):xC()};let xv=-1,x_=0,xx=!1;function xO(e,n){xx?(n.delete(e),e(0)):(n.add(e),xw())}function xw(){xv<0&&(xv=0,"demand"!==xd.frameLoop&&xb(xE))}function xE(){~xv&&(xb(xE),xd.batchedUpdates(xC))}function xC(){let e=xv,n=xy(xv=xd.now());if(n&&(xk(xg.splice(0,n),e=>e.handler()),x_-=n),!x_){xv=-1;return}xp.flush(),xc.flush(e?Math.min(64,xv-e):16.667),xm.flush(),xh.flush(),xf.flush()}function xT(){let e=new Set,n=e;return{add(r){x_+=n!=e||e.has(r)?0:1,e.add(r)},delete:r=>(x_-=n==e&&e.has(r)?1:0,e.delete(r)),flush(r){n.size&&(e=new Set,x_-=n.size,xk(n,n=>n(r)&&e.add(n)),x_+=e.size,n=e)}}}function xk(e,n){e.forEach(e=>{try{n(e)}catch(e){xd.catch(e)}})}function xR(){}let xS=(e,n,r)=>Object.defineProperty(e,n,{value:r,writable:!0,configurable:!0}),xA={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function xI(e,n){if(xA.arr(e)){if(!xA.arr(n)||e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}return e===n}let xL=(e,n)=>e.forEach(n);function xM(e,n,r){if(xA.arr(e)){for(let i=0;i<e.length;i++)n.call(r,e[i],`${i}`);return}for(let i in e)e.hasOwnProperty(i)&&n.call(r,e[i],i)}let xN=e=>xA.und(e)?[]:xA.arr(e)?e:[e];function xD(e,n){if(e.size){let r=Array.from(e);e.clear(),xL(r,n)}}let xB=(e,...n)=>xD(e,e=>e(...n)),xP=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),xK=null,xU=!1,xV=xR;var xG=Object.freeze({__proto__:null,get createStringInterpolator(){return a},get to(){return o},get colors(){return xK},get skipAnimation(){return xU},get willAdvance(){return xV},assign:e=>{e.to&&(o=e.to),e.now&&(xd.now=e.now),void 0!==e.colors&&(xK=e.colors),null!=e.skipAnimation&&(xU=e.skipAnimation),e.createStringInterpolator&&(a=e.createStringInterpolator),e.requestAnimationFrame&&xd.use(e.requestAnimationFrame),e.batchedUpdates&&(xd.batchedUpdates=e.batchedUpdates),e.willAdvance&&(xV=e.willAdvance),e.frameLoop&&(xd.frameLoop=e.frameLoop)}});let xF=new Set,xH=[],xz=[],x$=0,xZ={get idle(){return!xF.size&&!xH.length},start(e){x$>e.priority?(xF.add(e),xd.onStart(xj)):(xW(e),xd(xY))},advance:xY,sort(e){if(x$)xd.onFrame(()=>xZ.sort(e));else{let n=xH.indexOf(e);~n&&(xH.splice(n,1),xq(e))}},clear(){xH=[],xF.clear()}};function xj(){xF.forEach(xW),xF.clear(),xd(xY)}function xW(e){xH.includes(e)||xq(e)}function xq(e){xH.splice(function(e,n){let r=e.findIndex(n);return r<0?e.length:r}(xH,n=>n.priority>e.priority),0,e)}function xY(e){let n=xz;for(let r=0;r<xH.length;r++){let i=xH[r];x$=i.priority,i.idle||(xV(i),i.advance(e),i.idle||n.push(i))}return x$=0,(xz=xH).length=0,(xH=n).length>0}let xX="[-+]?\\d*\\.?\\d+",xJ=xX+"%";function xQ(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}let x0=RegExp("rgb"+xQ(xX,xX,xX)),x1=RegExp("rgba"+xQ(xX,xX,xX,xX)),x2=RegExp("hsl"+xQ(xX,xJ,xJ)),x3=RegExp("hsla"+xQ(xX,xJ,xJ,xX)),x4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,x6=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,x5=/^#([0-9a-fA-F]{6})$/,x8=/^#([0-9a-fA-F]{8})$/;function x7(e,n,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(n-e)*6*r:r<.5?n:r<2/3?e+(n-e)*(2/3-r)*6:e}function x9(e,n,r){let i=r<.5?r*(1+n):r+n-r*n,a=2*r-i;return Math.round(255*x7(a,i,e+1/3))<<24|Math.round(255*x7(a,i,e))<<16|Math.round(255*x7(a,i,e-1/3))<<8}function Oe(e){let n=parseInt(e,10);return n<0?0:n>255?255:n}function Ot(e){return(parseFloat(e)%360+360)%360/360}function On(e){let n=parseFloat(e);return n<0?0:n>1?255:Math.round(255*n)}function Or(e){let n=parseFloat(e);return n<0?0:n>100?1:n/100}function Oi(e){let n;let r="number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(n=x5.exec(e))?parseInt(n[1]+"ff",16)>>>0:xK&&void 0!==xK[e]?xK[e]:(n=x0.exec(e))?(Oe(n[1])<<24|Oe(n[2])<<16|Oe(n[3])<<8|255)>>>0:(n=x1.exec(e))?(Oe(n[1])<<24|Oe(n[2])<<16|Oe(n[3])<<8|On(n[4]))>>>0:(n=x4.exec(e))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0:(n=x8.exec(e))?parseInt(n[1],16)>>>0:(n=x6.exec(e))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0:(n=x2.exec(e))?(255|x9(Ot(n[1]),Or(n[2]),Or(n[3])))>>>0:(n=x3.exec(e))?(x9(Ot(n[1]),Or(n[2]),Or(n[3]))|On(n[4]))>>>0:null;if(null===r)return e;let i=(4278190080&(r=r||0))>>>24,a=(16711680&r)>>>16,o=(65280&r)>>>8,l=(255&r)/255;return`rgba(${i}, ${a}, ${o}, ${l})`}let Oa=(e,n,r)=>{if(xA.fun(e))return e;if(xA.arr(e))return Oa({range:e,output:n,extrapolate:r});if(xA.str(e.output[0]))return a(e);let i=e.output,o=e.range||[0,1],l=e.extrapolateLeft||e.extrapolate||"extend",s=e.extrapolateRight||e.extrapolate||"extend",u=e.easing||(e=>e);return n=>{let r=function(e,n){for(var r=1;r<n.length-1&&!(n[r]>=e);++r);return r-1}(n,o);return function(e,n,r,i,a,o,l,s,u){let c=u?u(e):e;if(c<n){if("identity"===l)return c;"clamp"===l&&(c=n)}if(c>r){if("identity"===s)return c;"clamp"===s&&(c=r)}return i===a?i:n===r?e<=n?i:a:(n===-1/0?c=-c:r===1/0?c-=n:c=(c-n)/(r-n),c=o(c),i===-1/0?c=-c:a===1/0?c+=i:c=c*(a-i)+i,c)}(n,o[r],o[r+1],i[r],i[r+1],u,l,s,e.map)}};function Oo(){return(Oo=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let Ol=Symbol.for("FluidValue.get"),Os=Symbol.for("FluidValue.observers"),Ou=e=>!!(e&&e[Ol]),Oc=e=>e&&e[Ol]?e[Ol]():e,Od=e=>e[Os]||null;function Oh(e,n){let r=e[Os];r&&r.forEach(e=>{e.eventObserved?e.eventObserved(n):e(n)})}class Op{constructor(e){if(this[Ol]=void 0,this[Os]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");Om(this,e)}}let Om=(e,n)=>Oy(e,Ol,n);function Of(e,n){if(e[Ol]){let r=e[Os];r||Oy(e,Os,r=new Set),!r.has(n)&&(r.add(n),e.observerAdded&&e.observerAdded(r.size,n))}return n}function Og(e,n){let r=e[Os];if(r&&r.has(n)){let i=r.size-1;i?r.delete(n):e[Os]=null,e.observerRemoved&&e.observerRemoved(i,n)}}let Oy=(e,n,r)=>Object.defineProperty(e,n,{value:r,writable:!0,configurable:!0}),Ob=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ov=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,O_=RegExp(`(${Ob.source})(%|[a-z]+)`,"i"),Ox=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,OO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Ow=e=>{let[n,r]=OE(e);if(!n||xP())return e;let i=window.getComputedStyle(document.documentElement).getPropertyValue(n);if(i)return i.trim();if(r&&r.startsWith("--")){let e=window.getComputedStyle(document.documentElement).getPropertyValue(r);if(e)return e}else if(r&&OO.test(r))return Ow(r);else if(r)return r;return e},OE=e=>{let n=OO.exec(e);if(!n)return[,];let[,r,i]=n;return[r,i]},OC=(e,n,r,i,a)=>`rgba(${Math.round(n)}, ${Math.round(r)}, ${Math.round(i)}, ${a})`,OT=e=>{l||(l=xK?RegExp(`(${Object.keys(xK).join("|")})(?!\\w)`,"g"):/^\b$/);let n=e.output.map(e=>Oc(e).replace(OO,Ow).replace(Ov,Oi).replace(l,Oi)),r=n.map(e=>e.match(Ob).map(Number)),i=r[0].map((e,n)=>r.map(e=>{if(!(n in e))throw Error('The arity of each "output" value must be equal');return e[n]})).map(n=>Oa(Oo({},e,{output:n})));return e=>{var r;let a=!O_.test(n[0])&&(null==(r=n.find(e=>O_.test(e)))?void 0:r.replace(Ob,"")),o=0;return n[0].replace(Ob,()=>`${i[o++](e)}${a||""}`).replace(Ox,OC)}},Ok="react-spring: ",OR=e=>{let n=!1;if("function"!=typeof e)throw TypeError(`${Ok}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},OS=OR(console.warn),OA=OR(console.warn);function OI(e){return xA.str(e)&&("#"==e[0]||/\d/.test(e)||!xP()&&OO.test(e)||e in(xK||{}))}let OL=xP()?e0.useEffect:e0.useLayoutEffect,OM=()=>{let e=(0,e0.useRef)(!1);return OL(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function ON(){let e=(0,e0.useState)()[1],n=OM();return()=>{n.current&&e(Math.random())}}let OD=e=>(0,e0.useEffect)(e,OB),OB=[];function OP(e){let n=(0,e0.useRef)();return(0,e0.useEffect)(()=>{n.current=e}),n.current}let OK=Symbol.for("Animated:node"),OU=e=>!!e&&e[OK]===e,OV=e=>e&&e[OK],OG=(e,n)=>xS(e,OK,n),OF=e=>e&&e[OK]&&e[OK].getPayload();class OH{constructor(){this.payload=void 0,OG(this,this)}getPayload(){return this.payload||[]}}class Oz extends OH{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,xA.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Oz(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,n){return xA.num(e)&&(this.lastPosition=e,n&&(e=Math.round(e/n)*n,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,xA.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class O$ extends Oz{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=Oa({output:[e,e]})}static create(e){return new O$(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(xA.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=Oa({output:[this.getValue(),e]})),this._value=0,super.reset()}}let OZ={dependencies:null};class Oj extends OH{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let n={};return xM(this.source,(r,i)=>{OU(r)?n[i]=r.getValue(e):Ou(r)?n[i]=Oc(r):e||(n[i]=r)}),n}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&xL(this.payload,e=>e.reset())}_makePayload(e){if(e){let n=new Set;return xM(e,this._addToPayload,n),Array.from(n)}}_addToPayload(e){OZ.dependencies&&Ou(e)&&OZ.dependencies.add(e);let n=OF(e);n&&xL(n,e=>this.add(e))}}class OW extends Oj{constructor(e){super(e)}static create(e){return new OW(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let n=this.getPayload();return e.length==n.length?n.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(Oq)),!0)}}function Oq(e){return(OI(e)?O$:Oz).create(e)}function OY(e){let n=OV(e);return n?n.constructor:xA.arr(e)?OW:OI(e)?O$:Oz}function OX(){return(OX=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let OJ=(e,n)=>{let r=!xA.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,e0.forwardRef)((i,a)=>{let o=(0,e0.useRef)(null),l=r&&(0,e0.useCallback)(e=>{o.current=(a&&(xA.fun(a)?a(e):a.current=e),e)},[a]),[s,u]=function(e,n){let r=new Set;return OZ.dependencies=r,e.style&&(e=OX({},e,{style:n.createAnimatedStyle(e.style)})),e=new Oj(e),OZ.dependencies=null,[e,r]}(i,n),c=ON(),d=()=>{let e=o.current;(!r||e)&&!1===(!!e&&n.applyAnimatedValues(e,s.getValue(!0)))&&c()},h=new OQ(d,u),p=(0,e0.useRef)();OL(()=>(p.current=h,xL(u,e=>Of(e,h)),()=>{p.current&&(xL(p.current.deps,e=>Og(e,p.current)),xd.cancel(p.current.update))})),(0,e0.useEffect)(d,[]),OD(()=>()=>{let e=p.current;xL(e.deps,n=>Og(n,e))});let m=n.getComponentProps(s.getValue());return e0.createElement(e,OX({},m,{ref:l}))})};class OQ{constructor(e,n){this.update=e,this.deps=n}eventObserved(e){"change"==e.type&&xd.write(this.update)}}let O0=Symbol.for("AnimatedComponent"),O1=e=>xA.str(e)?e:e&&xA.str(e.displayName)?e.displayName:xA.fun(e)&&e.name||null;function O2(){return(O2=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function O3(e,...n){return xA.fun(e)?e(...n):e}let O4=(e,n)=>!0===e||!!(n&&e&&(xA.fun(e)?e(n):xN(e).includes(n))),O6=(e,n)=>xA.obj(e)?n&&e[n]:e,O5=(e,n)=>!0===e.default?e[n]:e.default?e.default[n]:void 0,O8=e=>e,O7=(e,n=O8)=>{let r=O9;e.default&&!0!==e.default&&(r=Object.keys(e=e.default));let i={};for(let a of r){let r=n(e[a],a);xA.und(r)||(i[a]=r)}return i},O9=["config","onProps","onStart","onChange","onPause","onResume","onRest"],we={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function wt(e){let n=function(e){let n={},r=0;if(xM(e,(e,i)=>{!we[i]&&(n[i]=e,r++)}),r)return n}(e);if(n){let r={to:n};return xM(e,(e,i)=>i in n||(r[i]=e)),r}return O2({},e)}function wn(e){return e=Oc(e),xA.arr(e)?e.map(wn):OI(e)?xG.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function wr(e){for(let n in e)return!0;return!1}function wi(e){return xA.fun(e)||xA.arr(e)&&xA.obj(e[0])}function wa(e,n){var r;null==(r=e.ref)||r.delete(e),null==n||n.delete(e)}function wo(e,n){if(n&&e.ref!==n){var r;null==(r=e.ref)||r.delete(e),n.add(e),e.ref=n}}let wl={tension:170,friction:26},ws=O2({},wl,{mass:1,damping:1,easing:e=>e,clamp:!1});class wu{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,ws)}}function wc(e,n){if(xA.und(n.decay)){let r=!xA.und(n.tension)||!xA.und(n.friction);!r&&xA.und(n.frequency)&&xA.und(n.damping)&&xA.und(n.mass)||(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}else e.duration=void 0}let wd=[];class wh{constructor(){this.changed=!1,this.values=wd,this.toValues=null,this.fromValues=wd,this.to=void 0,this.from=void 0,this.config=new wu,this.immediate=!1}}function wp(e,{key:n,props:r,defaultProps:i,state:a,actions:o}){return new Promise((l,s)=>{var u;let c,d;let h=O4(null!=(u=r.cancel)?u:null==i?void 0:i.cancel,n);if(h)f();else{xA.und(r.pause)||(a.paused=O4(r.pause,n));let e=null==i?void 0:i.pause;!0!==e&&(e=a.paused||O4(e,n)),c=O3(r.delay||0,n),e?(a.resumeQueue.add(m),o.pause()):(o.resume(),m())}function p(){a.resumeQueue.add(m),a.timeouts.delete(d),d.cancel(),c=d.time-xd.now()}function m(){c>0&&!xG.skipAnimation?(a.delayed=!0,d=xd.setTimeout(f,c),a.pauseQueue.add(p),a.timeouts.add(d)):f()}function f(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(p),a.timeouts.delete(d),e<=(a.cancelId||0)&&(h=!0);try{o.start(O2({},r,{callId:e,cancel:h}),l)}catch(e){s(e)}}})}let wm=(e,n)=>1==n.length?n[0]:n.some(e=>e.cancelled)?wy(e.get()):n.every(e=>e.noop)?wf(e.get()):wg(e.get(),n.every(e=>e.finished)),wf=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),wg=(e,n,r=!1)=>({value:e,finished:n,cancelled:r}),wy=e=>({value:e,cancelled:!0,finished:!1});function wb(e,n,r,i){let{callId:a,parentId:o,onRest:l}=n,{asyncTo:s,promise:u}=r;return o||e!==s||n.reset?r.promise=(async()=>{let c,d,h;r.asyncId=a,r.asyncTo=e;let p=O7(n,(e,n)=>"onRest"===n?void 0:e),m=new Promise((e,n)=>(c=e,d=n)),f=e=>{let n=a<=(r.cancelId||0)&&wy(i)||a!==r.asyncId&&wg(i,!1);if(n)throw e.result=n,d(e),e},g=(e,n)=>{let o=new w_,l=new wx;return(async()=>{if(xG.skipAnimation)throw wv(r),l.result=wg(i,!1),d(l),l;f(o);let s=xA.obj(e)?O2({},e):O2({},n,{to:e});s.parentId=a,xM(p,(e,n)=>{xA.und(s[n])&&(s[n]=e)});let u=await i.start(s);return f(o),r.paused&&await new Promise(e=>{r.resumeQueue.add(e)}),u})()};if(xG.skipAnimation)return wv(r),wg(i,!1);try{let n;n=xA.arr(e)?(async e=>{for(let n of e)await g(n)})(e):Promise.resolve(e(g,i.stop.bind(i))),await Promise.all([n.then(c),m]),h=wg(i.get(),!0,!1)}catch(e){if(e instanceof w_)h=e.result;else if(e instanceof wx)h=e.result;else throw e}finally{a==r.asyncId&&(r.asyncId=o,r.asyncTo=o?s:void 0,r.promise=o?u:void 0)}return xA.fun(l)&&xd.batchedUpdates(()=>{l(h,i,i.item)}),h})():u}function wv(e,n){xD(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,n&&(e.cancelId=n)}class w_ extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class wx extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}let wO=e=>e instanceof wE,ww=1;class wE extends Op{constructor(...e){super(...e),this.id=ww++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=OV(this);return e&&e.getValue()}to(...e){return xG.to(this,e)}interpolate(...e){return OS(`${Ok}The "interpolate" function is deprecated in v9 (use "to" instead)`),xG.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,n=!1){Oh(this,{type:"change",parent:this,value:e,idle:n})}_onPriorityChange(e){this.idle||xZ.sort(this),Oh(this,{type:"priority",parent:this,priority:e})}}let wC=Symbol.for("SpringPhase"),wT=e=>(1&e[wC])>0,wk=e=>(2&e[wC])>0,wR=e=>(4&e[wC])>0,wS=(e,n)=>n?e[wC]|=3:e[wC]&=-3,wA=(e,n)=>n?e[wC]|=4:e[wC]&=-5;class wI extends wE{constructor(e,n){if(super(),this.key=void 0,this.animation=new wh,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!xA.und(e)||!xA.und(n)){let r=xA.obj(e)?O2({},e):O2({},n,{from:e});xA.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(wk(this)||this._state.asyncTo)||wR(this)}get goal(){return Oc(this.animation.to)}get velocity(){let e=OV(this);return e instanceof Oz?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return wT(this)}get isAnimating(){return wk(this)}get isPaused(){return wR(this)}get isDelayed(){return this._state.delayed}advance(e){let n=!0,r=!1,i=this.animation,{config:a,toValues:o}=i,l=OF(i.to);!l&&Ou(i.to)&&(o=xN(Oc(i.to))),i.values.forEach((s,u)=>{if(s.done)return;let c=s.constructor==O$?1:l?l[u].lastPosition:o[u],d=i.immediate,h=c;if(!d){let n;if(h=s.lastPosition,a.tension<=0){s.done=!0;return}let r=s.elapsedTime+=e,o=i.fromValues[u],l=null!=s.v0?s.v0:s.v0=xA.arr(a.velocity)?a.velocity[u]:a.velocity,p=a.precision||(o==c?.005:Math.min(1,.001*Math.abs(c-o)));if(xA.und(a.duration)){if(a.decay){let e=!0===a.decay?.998:a.decay,i=Math.exp(-(1-e)*r);h=o+l/(1-e)*(1-i),d=Math.abs(s.lastPosition-h)<=p,n=l*i}else{n=null==s.lastVelocity?l:s.lastVelocity;let r=a.restVelocity||p/10,i=a.clamp?0:a.bounce,u=!xA.und(i),m=o==c?s.v0>0:o<c,f=Math.ceil(e/1);for(let e=0;e<f&&!(!(Math.abs(n)>r)&&(d=Math.abs(c-h)<=p));++e){u&&(h==c||h>c==m)&&(n=-n*i,h=c);let e=(-(1e-6*a.tension)*(h-c)+-(.001*a.friction)*n)/a.mass;n+=1*e,h+=1*n}}}else{let i=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,s.durationProgress>0&&(s.elapsedTime=a.duration*s.durationProgress,r=s.elapsedTime+=e)),i=(i=(a.progress||0)+r/this._memoizedDuration)>1?1:i<0?0:i,s.durationProgress=i),n=((h=o+a.easing(i)*(c-o))-s.lastPosition)/e,d=1==i}s.lastVelocity=n,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),d=!0)}l&&!l[u].done&&(d=!1),d?s.done=!0:n=!1,s.setValue(h,a.round)&&(r=!0)});let s=OV(this),u=s.getValue();if(n){let e=Oc(i.to);(u!==e||r)&&!a.decay?(s.setValue(e),this._onChange(e)):r&&a.decay&&this._onChange(u),this._stop()}else r&&this._onChange(u)}set(e){return xd.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(wk(this)){let{to:e,config:n}=this.animation;xd.batchedUpdates(()=>{this._onStart(),n.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,n){let r;return xA.und(e)?(r=this.queue||[],this.queue=[]):r=[xA.obj(e)?e:O2({},n,{to:e})],Promise.all(r.map(e=>this._update(e))).then(e=>wm(this,e))}stop(e){let{to:n}=this.animation;return this._focus(this.get()),wv(this._state,e&&this._lastCallId),xd.batchedUpdates(()=>this._stop(n,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){let n=this.key||"",{to:r,from:i}=e;(null==(r=xA.obj(r)?r[n]:r)||wi(r))&&(r=void 0),null==(i=xA.obj(i)?i[n]:i)&&(i=void 0);let a={to:r,from:i};return wT(this)||(e.reverse&&([r,i]=[i,r]),i=Oc(i),xA.und(i)?OV(this)||this._set(r):this._set(i)),a}_update(e,n){let r=O2({},e),{key:i,defaultProps:a}=this;r.default&&Object.assign(a,O7(r,(e,n)=>/^on/.test(n)?O6(e,i):e)),wP(this,r,"onProps"),wK(this,"onProps",r,this);let o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let l=this._state;return wp(++this._lastCallId,{key:i,props:r,defaultProps:a,state:l,actions:{pause:()=>{wR(this)||(wA(this,!0),xB(l.pauseQueue),wK(this,"onPause",wg(this,wL(this,this.animation.to)),this))},resume:()=>{wR(this)&&(wA(this,!1),wk(this)&&this._resume(),xB(l.resumeQueue),wK(this,"onResume",wg(this,wL(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(e=>{if(r.loop&&e.finished&&!(n&&e.noop)){let e=wM(r);if(e)return this._update(e,!0)}return e})}_merge(e,n,r){if(n.cancel)return this.stop(!0),r(wy(this));let i=!xA.und(e.to),a=!xA.und(e.from);if(i||a){if(!(n.callId>this._lastToId))return r(wy(this));this._lastToId=n.callId}let{key:o,defaultProps:l,animation:s}=this,{to:u,from:c}=s,{to:d=u,from:h=c}=e;a&&!i&&(!n.default||xA.und(d))&&(d=h),n.reverse&&([d,h]=[h,d]);let p=!xI(h,c);p&&(s.from=h),h=Oc(h);let m=!xI(d,u);m&&this._focus(d);let f=wi(n.to),{config:g}=s,{decay:y,velocity:b}=g;(i||a)&&(g.velocity=0),n.config&&!f&&function(e,n,r){for(let i in r&&(wc(r=O2({},r),n),n=O2({},r,n)),wc(e,n),Object.assign(e,n),ws)null==e[i]&&(e[i]=ws[i]);let{mass:i,frequency:a,damping:o}=e;xA.und(a)||(a<.01&&(a=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/a,2)*i,e.friction=4*Math.PI*o*i/a)}(g,O3(n.config,o),n.config!==l.config?O3(l.config,o):void 0);let v=OV(this);if(!v||xA.und(d))return r(wg(this,!0));let _=xA.und(n.reset)?a&&!n.default:!xA.und(h)&&O4(n.reset,o),x=_?h:this.get(),O=wn(d),w=xA.num(O)||xA.arr(O)||OI(O),E=!f&&(!w||O4(l.immediate||n.immediate,o));if(m){let e=OY(d);if(e!==v.constructor){if(E)v=this._set(O);else throw Error(`Cannot animate between ${v.constructor.name} and ${e.name}, as the "to" prop suggests`)}}let C=v.constructor,T=Ou(d),k=!1;if(!T){let e=_||!wT(this)&&p;(m||e)&&(T=!(k=xI(wn(x),O))),(xI(s.immediate,E)||E)&&xI(g.decay,y)&&xI(g.velocity,b)||(T=!0)}if(k&&wk(this)&&(s.changed&&!_?T=!0:T||this._stop(u)),!f&&((T||Ou(u))&&(s.values=v.getPayload(),s.toValues=Ou(d)?null:C==O$?[1]:xN(O)),s.immediate==E||(s.immediate=E,E||_||this._set(u)),T)){let{onRest:e}=s;xL(wB,e=>wP(this,n,e));let i=wg(this,wL(this,u));xB(this._pendingCalls,i),this._pendingCalls.add(r),s.changed&&xd.batchedUpdates(()=>{s.changed=!_,null==e||e(i,this),_?O3(l.onRest,i):null==s.onStart||s.onStart(i,this)})}_&&this._set(x),f?r(wb(n.to,n,this._state,this)):T?this._start():wk(this)&&!m?this._pendingCalls.add(r):r(wf(x))}_focus(e){let n=this.animation;e!==n.to&&(Od(this)&&this._detach(),n.to=e,Od(this)&&this._attach())}_attach(){let e=0,{to:n}=this.animation;Ou(n)&&(Of(n,this),wO(n)&&(e=n.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;Ou(e)&&Og(e,this)}_set(e,n=!0){let r=Oc(e);if(!xA.und(r)){let e=OV(this);if(!e||!xI(r,e.getValue())){let i=OY(r);e&&e.constructor==i?e.setValue(r):OG(this,i.create(r)),e&&xd.batchedUpdates(()=>{this._onChange(r,n)})}}return OV(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,wK(this,"onStart",wg(this,wL(this,e.to)),this))}_onChange(e,n){n||(this._onStart(),O3(this.animation.onChange,e,this)),O3(this.defaultProps.onChange,e,this),super._onChange(e,n)}_start(){let e=this.animation;OV(this).reset(Oc(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),wk(this)||(wS(this,!0),wR(this)||this._resume())}_resume(){xG.skipAnimation?this.finish():xZ.start(this)}_stop(e,n){if(wk(this)){wS(this,!1);let r=this.animation;xL(r.values,e=>{e.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),Oh(this,{type:"idle",parent:this});let i=n?wy(this.get()):wg(this.get(),wL(this,null!=e?e:r.to));xB(this._pendingCalls,i),r.changed&&(r.changed=!1,wK(this,"onRest",i,this))}}}function wL(e,n){let r=wn(n);return xI(wn(e.get()),r)}function wM(e,n=e.loop,r=e.to){let i=O3(n);if(i){let a=!0!==i&&wt(i),o=(a||e).reverse,l=!a||a.reset;return wN(O2({},e,{loop:n,default:!1,pause:void 0,to:!o||wi(r)?r:void 0,from:l?e.from:void 0,reset:l},a))}}function wN(e){let{to:n,from:r}=e=wt(e),i=new Set;return xA.obj(n)&&wD(n,i),xA.obj(r)&&wD(r,i),e.keys=i.size?Array.from(i):null,e}function wD(e,n){xM(e,(e,r)=>null!=e&&n.add(r))}let wB=["onStart","onRest","onChange","onPause","onResume"];function wP(e,n,r){e.animation[r]=n[r]!==O5(n,r)?O6(n[r],e.key):void 0}function wK(e,n,...r){var i,a,o,l;null==(i=(a=e.animation)[n])||i.call(a,...r),null==(o=(l=e.defaultProps)[n])||o.call(l,...r)}let wU=["onStart","onChange","onRest"],wV=1;class wG{constructor(e,n){this.id=wV++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),e&&this.start(O2({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((n,r)=>e[r]=n.get()),e}set(e){for(let n in e){let r=e[n];xA.und(r)||this.springs[n].set(r)}}update(e){return e&&this.queue.push(wN(e)),this}start(e){let{queue:n}=this;return(e?n=xN(e).map(wN):this.queue=[],this._flush)?this._flush(this,n):(wW(this,n),wF(this,n))}stop(e,n){if(!!e!==e&&(n=e),n){let r=this.springs;xL(xN(n),n=>r[n].stop(!!e))}else wv(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(xA.und(e))this.start({pause:!0});else{let n=this.springs;xL(xN(e),e=>n[e].pause())}return this}resume(e){if(xA.und(e))this.start({pause:!1});else{let n=this.springs;xL(xN(e),e=>n[e].resume())}return this}each(e){xM(this.springs,e)}_onFrame(){let{onStart:e,onChange:n,onRest:r}=this._events,i=this._active.size>0,a=this._changed.size>0;(i&&!this._started||a&&!this._started)&&(this._started=!0,xD(e,([e,n])=>{n.value=this.get(),e(n,this,this._item)}));let o=!i&&this._started,l=a||o&&r.size?this.get():null;a&&n.size&&xD(n,([e,n])=>{n.value=l,e(n,this,this._item)}),o&&(this._started=!1,xD(r,([e,n])=>{n.value=l,e(n,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}xd.onFrame(this._onFrame)}}function wF(e,n){return Promise.all(n.map(n=>wH(e,n))).then(n=>wm(e,n))}async function wH(e,n,r){let{keys:i,to:a,from:o,loop:l,onRest:s,onResolve:u}=n,c=xA.obj(n.default)&&n.default;l&&(n.loop=!1),!1===a&&(n.to=null),!1===o&&(n.from=null);let d=xA.arr(a)||xA.fun(a)?a:void 0;d?(n.to=void 0,n.onRest=void 0,c&&(c.onRest=void 0)):xL(wU,r=>{let i=n[r];if(xA.fun(i)){let a=e._events[r];n[r]=({finished:e,cancelled:n})=>{let r=a.get(i);r?(e||(r.finished=!1),n&&(r.cancelled=!0)):a.set(i,{value:null,finished:e||!1,cancelled:n||!1})},c&&(c[r]=n[r])}});let h=e._state;!h.paused===n.pause?(h.paused=n.pause,xB(n.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(n.pause=!0);let p=(i||Object.keys(e.springs)).map(r=>e.springs[r].start(n)),m=!0===n.cancel||!0===O5(n,"cancel");(d||m&&h.asyncId)&&p.push(wp(++e._lastAsyncId,{props:n,state:h,actions:{pause:xR,resume:xR,start(n,r){m?(wv(h,e._lastAsyncId),r(wy(e))):(n.onRest=s,r(wb(d,n,h,e)))}}})),h.paused&&await new Promise(e=>{h.resumeQueue.add(e)});let f=wm(e,await Promise.all(p));if(l&&f.finished&&!(r&&f.noop)){let r=wM(n,l,a);if(r)return wW(e,[r]),wH(e,r,!0)}return u&&xd.batchedUpdates(()=>u(f,e,e.item)),f}function wz(e,n){let r=O2({},e.springs);return n&&xL(xN(n),e=>{xA.und(e.keys)&&(e=wN(e)),xA.obj(e.to)||(e=O2({},e,{to:void 0})),wj(r,e,e=>wZ(e))}),w$(e,r),r}function w$(e,n){xM(n,(n,r)=>{e.springs[r]||(e.springs[r]=n,Of(n,e))})}function wZ(e,n){let r=new wI;return r.key=e,n&&Of(r,n),r}function wj(e,n,r){n.keys&&xL(n.keys,i=>{(e[i]||(e[i]=r(i)))._prepareNode(n)})}function wW(e,n){xL(n,n=>{wj(e.springs,n,n=>wZ(n,e))})}let wq=["children"],wY=e=>{let{children:n}=e,r=function(e,n){if(null==e)return{};var r,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,wq),i=(0,e0.useContext)(wX),a=r.pause||!!i.pause,o=r.immediate||!!i.immediate;r=function(e,n){let[r]=(0,e0.useState)(()=>({inputs:n,result:e()})),i=(0,e0.useRef)(),a=i.current,o=a;return o?n&&o.inputs&&function(e,n){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}(n,o.inputs)||(o={inputs:n,result:e()}):o=r,(0,e0.useEffect)(()=>{i.current=o,a==r&&(r.inputs=r.result=void 0)},[o]),o.result}(()=>({pause:a,immediate:o}),[a,o]);let{Provider:l}=wX;return e0.createElement(l,{value:r},n)},wX=(h={},Object.assign(wY,e0.createContext(h)),wY.Provider._context=wY,wY.Consumer._context=wY,wY);wY.Provider=wX.Provider,wY.Consumer=wX.Consumer;let wJ=()=>{let e=[],n=function(n){OA(`${Ok}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);let i=[];return xL(e,(e,a)=>{if(xA.und(n))i.push(e.start());else{let o=r(n,e,a);o&&i.push(e.start(o))}}),i};n.current=e,n.add=function(n){e.includes(n)||e.push(n)},n.delete=function(n){let r=e.indexOf(n);~r&&e.splice(r,1)},n.pause=function(){return xL(e,e=>e.pause(...arguments)),this},n.resume=function(){return xL(e,e=>e.resume(...arguments)),this},n.set=function(n){xL(e,e=>e.set(n))},n.start=function(n){let r=[];return xL(e,(e,i)=>{if(xA.und(n))r.push(e.start());else{let a=this._getProps(n,e,i);a&&r.push(e.start(a))}}),r},n.stop=function(){return xL(e,e=>e.stop(...arguments)),this},n.update=function(n){return xL(e,(e,r)=>e.update(this._getProps(n,e,r))),this};let r=function(e,n,r){return xA.fun(e)?e(r,n):e};return n._getProps=r,n};function wQ(e,n,r){let i=xA.fun(n)&&n;i&&!r&&(r=[]);let a=(0,e0.useMemo)(()=>i||3==arguments.length?wJ():void 0,[]),o=(0,e0.useRef)(0),l=ON(),s=(0,e0.useMemo)(()=>({ctrls:[],queue:[],flush(e,n){let r=wz(e,n);return!(o.current>0)||s.queue.length||Object.keys(r).some(n=>!e.springs[n])?new Promise(i=>{w$(e,r),s.queue.push(()=>{i(wF(e,n))}),l()}):wF(e,n)}}),[]),u=(0,e0.useRef)([...s.ctrls]),c=[],d=OP(e)||0;function h(e,r){for(let a=e;a<r;a++){let e=u.current[a]||(u.current[a]=new wG(null,s.flush)),r=i?i(a,e):n[a];r&&(c[a]=function(e){let n=wN(e);return xA.und(n.default)&&(n.default=O7(n)),n}(r))}}(0,e0.useMemo)(()=>{xL(u.current.slice(e,d),e=>{wa(e,a),e.stop(!0)}),u.current.length=e,h(d,e)},[e]),(0,e0.useMemo)(()=>{h(0,Math.min(d,e))},r);let p=u.current.map((e,n)=>wz(e,c[n])),m=(0,e0.useContext)(wY),f=OP(m),g=m!==f&&wr(m);OL(()=>{o.current++,s.ctrls=u.current;let{queue:e}=s;e.length&&(s.queue=[],xL(e,e=>e())),xL(u.current,(e,n)=>{null==a||a.add(e),g&&e.start({default:m});let r=c[n];r&&(wo(e,r.ref),e.ref?e.queue.push(r):e.start(r))})}),OD(()=>()=>{xL(s.ctrls,e=>e.stop(!0))});let y=p.map(e=>O2({},e));return a?[y,a]:y}(f=s||(s={})).MOUNT="mount",f.ENTER="enter",f.UPDATE="update",f.LEAVE="leave";let w0=1;class w1 extends wE{constructor(e,n){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=Oa(...n);let r=this._get();OG(this,OY(r).create(r))}advance(e){let n=this._get();xI(n,this.get())||(OV(this).setValue(n),this._onChange(n,this.idle)),!this.idle&&w3(this._active)&&w4(this)}_get(){let e=xA.arr(this.source)?this.source.map(Oc):xN(Oc(this.source));return this.calc(...e)}_start(){this.idle&&!w3(this._active)&&(this.idle=!1,xL(OF(this),e=>{e.done=!1}),xG.skipAnimation?(xd.batchedUpdates(()=>this.advance()),w4(this)):xZ.start(this))}_attach(){let e=1;xL(xN(this.source),n=>{Ou(n)&&Of(n,this),wO(n)&&(n.idle||this._active.add(n),e=Math.max(e,n.priority+1))}),this.priority=e,this._start()}_detach(){xL(xN(this.source),e=>{Ou(e)&&Og(e,this)}),this._active.clear(),w4(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=xN(this.source).reduce((e,n)=>Math.max(e,(wO(n)?n.priority:0)+1),0))}}function w2(e){return!1!==e.idle}function w3(e){return!e.size||Array.from(e).every(w2)}function w4(e){e.idle||(e.idle=!0,xL(OF(e),e=>{e.done=!0}),Oh(e,{type:"idle",parent:e}))}let w6=(e,...n)=>new w1(e,n);xG.assign({createStringInterpolator:OT,to:(e,n)=>new w1(e,n)}),xZ.advance;var w5=r(63730);function w8(e,n){if(null==e)return{};var r,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],n.indexOf(r)>=0||(a[r]=e[r]);return a}let w7=["style","children","scrollTop","scrollLeft"],w9=/^--/,Ee={},Et={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},En=(e,n)=>e+n.charAt(0).toUpperCase()+n.substring(1),Er=["Webkit","Ms","Moz","O"];Et=Object.keys(Et).reduce((e,n)=>(Er.forEach(r=>e[En(r,n)]=e[n]),e),Et);let Ei=["x","y","z"],Ea=/^(matrix|translate|scale|rotate|skew)/,Eo=/^(translate)/,El=/^(rotate|skew)/,Es=(e,n)=>xA.num(e)&&0!==e?e+n:e,Eu=(e,n)=>xA.arr(e)?e.every(e=>Eu(e,n)):xA.num(e)?e===n:parseFloat(e)===n;class Ec extends Oj{constructor(e){let{x:n,y:r,z:i}=e,a=w8(e,Ei),o=[],l=[];(n||r||i)&&(o.push([n||0,r||0,i||0]),l.push(e=>[`translate3d(${e.map(e=>Es(e,"px")).join(",")})`,Eu(e,0)])),xM(a,(e,n)=>{if("transform"===n)o.push([e||""]),l.push(e=>[e,""===e]);else if(Ea.test(n)){if(delete a[n],xA.und(e))return;let r=Eo.test(n)?"px":El.test(n)?"deg":"";o.push(xN(e)),l.push("rotate3d"===n?([e,n,i,a])=>[`rotate3d(${e},${n},${i},${Es(a,r)})`,Eu(a,0)]:e=>[`${n}(${e.map(e=>Es(e,r)).join(",")})`,Eu(e,n.startsWith("scale")?1:0)])}}),o.length&&(a.transform=new Ed(o,l)),super(a)}}class Ed extends Op{constructor(e,n){super(),this._value=null,this.inputs=e,this.transforms=n}get(){return this._value||(this._value=this._get())}_get(){let e="",n=!0;return xL(this.inputs,(r,i)=>{let a=Oc(r[0]),[o,l]=this.transforms[i](xA.arr(a)?a:r.map(Oc));e+=" "+o,n=n&&l}),n?"none":e}observerAdded(e){1==e&&xL(this.inputs,e=>xL(e,e=>Ou(e)&&Of(e,this)))}observerRemoved(e){0==e&&xL(this.inputs,e=>xL(e,e=>Ou(e)&&Og(e,this)))}eventObserved(e){"change"==e.type&&(this._value=null),Oh(this,e)}}let Eh=["scrollTop","scrollLeft"];xG.assign({batchedUpdates:w5.unstable_batchedUpdates,createStringInterpolator:OT,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});let Ep=((e,{applyAnimatedValues:n=()=>!1,createAnimatedStyle:r=e=>new Oj(e),getComponentProps:i=e=>e}={})=>{let a={applyAnimatedValues:n,createAnimatedStyle:r,getComponentProps:i},o=e=>{let n=O1(e)||"Anonymous";return(e=xA.str(e)?o[e]||(o[e]=OJ(e,a)):e[O0]||(e[O0]=OJ(e,a))).displayName=`Animated(${n})`,e};return xM(e,(n,r)=>{xA.arr(e)&&(r=O1(n)),o[r]=o(n)}),{animated:o}})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,n){if(!e.nodeType||!e.setAttribute)return!1;let r="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{style:i,children:a,scrollTop:o,scrollLeft:l}=n,s=w8(n,w7),u=Object.values(s),c=Object.keys(s).map(n=>r||e.hasAttribute(n)?n:Ee[n]||(Ee[n]=n.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())));for(let n in void 0!==a&&(e.textContent=a),i)if(i.hasOwnProperty(n)){var d;let r=null==(d=i[n])||"boolean"==typeof d||""===d?"":"number"!=typeof d||0===d||w9.test(n)||Et.hasOwnProperty(n)&&Et[n]?(""+d).trim():d+"px";w9.test(n)?e.style.setProperty(n,r):e.style[n]=r}c.forEach((n,r)=>{e.setAttribute(n,u[r])}),void 0!==o&&(e.scrollTop=o),void 0!==l&&(e.scrollLeft=l)},createAnimatedStyle:e=>new Ec(e),getComponentProps:e=>w8(e,Eh)}).animated;function Em(e,n){return e.map(function(e,r){return e+n[r]})}function Ef(e,n){return e.map(function(e,r){return e-n[r]})}function Eg(e){return Math.hypot.apply(Math,e)}function Ey(e,n){void 0===n&&(n=e);var r=Eg(n),i=0===r?0:1/r,a=n.map(function(e){return i*e});return{distance:Eg(e),direction:a}}function Eb(e,n,r){var i=Eg(n),a=0===i?0:1/i,o=0===r?0:1/r,l=n.map(function(e){return o*e}),s=n.map(function(e){return a*e});return{velocities:l,velocity:o*i,distance:Eg(e),direction:s}}function Ev(e){return Math.sign?Math.sign(e):Number(e>0)-Number(e<0)||+e}function E_(e,n,r){return 0===n||Math.abs(n)===1/0?Math.pow(e,5*r):e*n*r/(n+r*e)}function Ex(e,n,r,i){return(void 0===i&&(i=.15),0===i)?Math.max(n,Math.min(e,r)):e<n?-E_(n-e,r-n,i)+n:e>r?+E_(e-r,r-n,i)+r:e}function EO(){return(EO=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function Ew(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}function EE(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EC(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function ET(e,n){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return EC(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EC(e,void 0)}}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function Ek(){}function ER(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?Ek:1===n.length?n[0]:function(){for(var e,r,i=ET(n);!(r=i()).done;)e=r.value.apply(this,arguments)||e;return e}}function ES(e,n){if(void 0===e){if(void 0===n)throw Error("Must define fallback value if undefined is expected");e=n}return Array.isArray(e)?e:[e,e]}function EA(e,n){return Object.assign({},n,e||{})}function EI(e){if("function"!=typeof e)return e;for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.apply(void 0,r)}function EL(e,n){void 0===e&&(e={});for(var r={},i=0,a=Object.entries(n);i<a.length;i++){var o=a[i],l=o[0],s=o[1];switch(typeof s){case"function":r[l]=s.call(r,e[l],l,e);break;case"object":r[l]=EL(e[l],s);break;case"boolean":s&&(r[l]=e[l])}}return r}function EM(){return"undefined"!=typeof window&&"ontouchstart"in window}function EN(e){return"pointerId"in e?null:"touchend"===e.type?e.changedTouches:e.targetTouches}function ED(e){return Array.from(EN(e)).map(function(e){return e.identifier})}function EB(e){return{buttons:"buttons"in e?e.buttons:0,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey}}var EP=function(e){return e};function EK(e,n){void 0===n&&(n=EP);var r=EN(e),i=r?r[0]:e;return n([i.clientX,i.clientY])}function EU(e,n,r){void 0===r&&(r=EP);var i=Array.from(e.touches).filter(function(e){return n.includes(e.identifier)}),a=i[0],o=i[1];if(!a||!o)throw Error("The event doesn't have two pointers matching the pointerIds");var l=o.clientX-a.clientX,s=o.clientY-a.clientY,u=(o.clientX+a.clientX)/2,c=(o.clientY+a.clientY)/2;return{values:r([Math.hypot(l,s),-(180*Math.atan2(l,s))/Math.PI]),origin:r([u,c])}}function EV(e,n){void 0===n&&(n=EP);var r=e.deltaX,i=e.deltaY,a=e.deltaMode;return 1===a?(r*=40,i*=40):2===a&&(r*=800,i*=800),n([r,i])}function EG(e,n){return void 0===n&&(n=EP),n([e.scale,e.rotation])}var EF={threshold:function(e){return void 0===e&&(e=0),ES(e)},rubberband:function(e){switch(void 0===e&&(e=0),e){case!0:return ES(.15);case!1:return ES(0);default:return ES(e)}},enabled:function(e){return void 0===e&&(e=!0),e},triggerAllEvents:function(e){return void 0===e&&(e=!1),e},initial:function(e){return(void 0===e&&(e=0),"function"==typeof e)?e:ES(e)},transform:!0},EH=EO({},EF,{axis:!0,lockDirection:function(e){return void 0===e&&(e=!1),e},bounds:function(e){if(void 0===e&&(e={}),"function"==typeof e)return function(n){return EH.bounds(e(n))};var n=e,r=n.left,i=n.right,a=n.top,o=n.bottom;return[[void 0===r?-1/0:r,void 0===i?1/0:i],[void 0===a?-1/0:a,void 0===o?1/0:o]]}}),Ez="undefined"!=typeof window&&window.document&&window.document.createElement,E$={enabled:function(e){return void 0===e&&(e=!0),e},domTarget:!0,window:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){return void 0===e&&(e=Ez?window:void 0),e}),eventOptions:function(e){var n=void 0===e?{}:e,r=n.passive,i=n.capture;return{passive:void 0===r||r,capture:void 0!==i&&i}},transform:!0},EZ=EO({},EF,{bounds:function(e,n,r){var i=r.distanceBounds,a=void 0===i?{}:i,o=r.angleBounds,l=void 0===o?{}:o,s=function(e){var n=EA(EI(a,e),{min:-1/0,max:1/0});return[n.min,n.max]},u=function(e){var n=EA(EI(l,e),{min:-1/0,max:1/0});return[n.min,n.max]};return"function"!=typeof a&&"function"!=typeof l?[s(),u()]:function(e){return[s(e),u(e)]}}}),Ej=EO({},EH,{useTouch:function(e){void 0===e&&(e=!1);var n=EM(),r="undefined"!=typeof window&&"onpointerdown"in window;return!!e&&!!n||!!n&&!r},experimental_preventWindowScrollY:function(e){return void 0===e&&(e=!1),e},threshold:function(e,n,r){var i=r.filterTaps,a=void 0!==i&&i,o=r.lockDirection,l=r.axis,s=ES(e,a?3:void 0!==o&&o?1:(void 0===l?void 0:l)?1:0);return this.filterTaps=a,s},swipeVelocity:function(e){return void 0===e&&(e=.5),ES(e)},swipeDistance:function(e){return void 0===e&&(e=50),ES(e)},swipeDuration:function(e){return void 0===e&&(e=250),e},delay:function(e){switch(void 0===e&&(e=0),e){case!0:return 180;case!1:return 0;default:return e}}});function EW(e){return void 0===e&&(e={}),EL(e,EH)}function Eq(e){return EO({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_threshold:[0,0],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:Ek,canceled:!1,memo:void 0,args:void 0},e)}function EY(){return{shared:{hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},drag:Eq({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),pinch:Eq({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),wheel:Eq({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),move:Eq({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),scroll:Eq({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0})}}var EX=new Map,EJ=function(e){return e},EQ=function(){function e(e,n){var r=this;void 0===n&&(n=[]),this.controller=e,this.args=n,this.debounced=!0,this.setTimeout=function(e,n){var i;void 0===n&&(n=140),clearTimeout(r.controller.timeouts[r.stateKey]);for(var a=arguments.length,o=Array(a>2?a-2:0),l=2;l<a;l++)o[l-2]=arguments[l];r.controller.timeouts[r.stateKey]=(i=window).setTimeout.apply(i,[e,n].concat(o))},this.clearTimeout=function(){clearTimeout(r.controller.timeouts[r.stateKey])},this.fireGestureHandler=function(e){if(void 0===e&&(e=!1),r.state._blocked)return r.debounced||(r.state._active=!1,r.clean()),null;if(!e&&!r.state.intentional&&!r.config.triggerAllEvents)return null;if(r.state.intentional){var n=r.state.active,i=r.state._active;r.state.active=i,r.state.first=i&&!n,r.state.last=n&&!i,r.controller.state.shared[r.ingKey]=i}var a=r.controller.pointerIds.size||r.controller.touchIds.size,o=r.controller.state.shared.buttons>0||a>0,l=EO({},r.controller.state.shared,r.state,r.mapStateValues(r.state),{locked:!!document.pointerLockElement,touches:a,down:o}),s=r.handler(l);return r.state.memo=void 0!==s?s:r.state.memo,l},this.controller=e,this.args=n}var n=e.prototype;return n.updateSharedState=function(e){Object.assign(this.controller.state.shared,e)},n.updateGestureState=function(e){Object.assign(this.state,e)},n.checkIntentionality=function(e,n){return{_intentional:e,_blocked:!1}},n.getMovement=function(e){var n=this.config.rubberband,r=this.state,i=r._bounds,a=r._initial,o=r._active,l=r._intentional,s=r.lastOffset,u=r.movement,c=r._threshold,d=this.getInternalMovement(e,this.state),h=!1===l[0]?E0(d[0],c[0]):l[0],p=!1===l[1]?E0(d[1],c[1]):l[1],m=this.checkIntentionality([h,p],d);if(m._blocked)return EO({},m,{_movement:d,delta:[0,0]});var f=m._intentional,g=[!1!==f[0]?d[0]-f[0]:0,!1!==f[1]?d[1]-f[1]:0],y=Em(g,s),b=o?n:[0,0];return g=E1(i,Em(g,a),b),EO({},m,{intentional:!1!==f[0]||!1!==f[1],_initial:a,_movement:d,movement:g,values:e,offset:E1(i,y,b),delta:Ef(g,u)})},n.clean=function(){this.clearTimeout()},function(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}},{key:"transform",get:function(){return this.config.transform||this.controller.config.transform||EJ}}]),e}();function E0(e,n){return Math.abs(e)>=n&&Ev(e)*n}function E1(e,n,r){var i=n[0],a=n[1],o=r[0],l=r[1],s=e[0],u=s[0],c=s[1],d=e[1],h=d[0],p=d[1];return[Ex(i,u,c,o),Ex(a,h,p,l)]}function E2(e,n,r){var i=e.state,a=n.timeStamp,o=n.type,l=i.values,s=r?0:a-i.startTime;return{_lastEventType:o,event:n,timeStamp:a,elapsedTime:s,previous:l}}function E3(e,n,r,i){var a=e.state,o=e.config,l=e.stateKey,s=e.args,u=e.transform,c=a.offset,d=r.timeStamp,h=o.initial,p=o.bounds,m=Ef(u(o.threshold),u([0,0])).map(Math.abs),f=EO({},EY()[l],{_active:!0,args:s,values:n,initial:null!=i?i:n,_threshold:m,offset:c,lastOffset:c,startTime:d});return EO({},f,{_initial:EI(h,f),_bounds:EI(p,f)})}var E4=function(e){var n=this;this.classes=e,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=EM(),this.supportsGestureEvents=function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),this.bind=function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];for(var a,o={},l=ET(n.classes);!(a=l()).done;)new a.value(n,r).addBindings(o);var s=function(e){E9(o,e,function(i){return n.nativeRefs[e](EO({},n.state.shared,{event:i,args:r}))})};for(var u in n.nativeRefs)s(u);return n.config.domTarget?function(e,n){var r=e.config,i=e.domListeners,a=E7(r);if(!a)throw Error("domTarget must be defined");var o=r.eventOptions;Ct(a,E8(i),o);for(var l=0,s=Object.entries(n);l<s.length;l++){var u=s[l],c=u[0],d=u[1],h=c.slice(2).toLowerCase();i.push([h,ER.apply(void 0,d)])}Ce(a,i,o)}(n,o):function(e,n){for(var r=e.config,i={},a=r.eventOptions.capture?"Capture":"",o=0,l=Object.entries(n);o<l.length;o++){var s=l[o],u=s[0],c=s[1],d=Array.isArray(c)?c:[c];i[u+a]=ER.apply(void 0,d)}return i}(n,o)},this.effect=function(){return n.config.domTarget&&n.bind(),n.clean},this.clean=function(){var e=E7(n.config),r=n.config.eventOptions;e&&Ct(e,E8(n.domListeners),r),Object.values(n.timeouts).forEach(clearTimeout),function(e){var n=e.config,r=n.window,i=n.eventOptions,a=e.windowListeners;if(r){for(var o in a)Ct(r,a[o],i);e.windowListeners={}}}(n)},this.classes=e,this.state=EY(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function E6(e,n){"pointerId"in n?e.pointerIds.add(n.pointerId):e.touchIds=new Set(ED(n))}function E5(e,n){"pointerId"in n?e.pointerIds.delete(n.pointerId):ED(n).forEach(function(n){return e.touchIds.delete(n)})}function E8(e){return void 0===e&&(e=[]),e.splice(0,e.length)}function E7(e){var n=e.domTarget;return n&&"current"in n?n.current:n}function E9(e,n,r){e[n]||(e[n]=[]),e[n].push(r)}function Ce(e,n,r){void 0===n&&(n=[]),void 0===r&&(r={});for(var i,a=ET(n);!(i=a()).done;){var o=i.value,l=o[0],s=o[1];e.addEventListener(l,s,r)}}function Ct(e,n,r){void 0===n&&(n=[]),void 0===r&&(r={});for(var i,a=ET(n);!(i=a()).done;){var o=i.value,l=o[0],s=o[1];e.removeEventListener(l,s,r)}}function Cn(){}var Cr=function(e){function n(){return e.apply(this,arguments)||this}Ew(n,e);var r=n.prototype;return r.getInternalMovement=function(e,n){return Ef(e,n.initial)},r.checkIntentionality=function(e,n){if(!1===e[0]&&!1===e[1])return{_intentional:e,axis:this.state.axis};var r=n.map(Math.abs),i=r[0],a=r[1],o=this.state.axis||(i>a?"x":i<a?"y":void 0);return this.config.axis||this.config.lockDirection?o?this.config.axis&&o!==this.config.axis?{_intentional:e,_blocked:!0,axis:o}:(e["x"===o?1:0]=!1,{_intentional:e,_blocked:!1,axis:o}):{_intentional:[!1,!1],_blocked:!1,axis:o}:{_intentional:e,_blocked:!1,axis:o}},r.getKinematics=function(e,n){var r=this.getMovement(e);if(!r._blocked){var i=n.timeStamp-this.state.timeStamp;Object.assign(r,Eb(r.movement,r.delta,i))}return r},r.mapStateValues=function(e){return{xy:e.values,vxvy:e.velocities}},n}(EQ);function Ci(e){"persist"in e&&"function"==typeof e.persist&&e.persist()}var Ca=function(e){function n(){var n;return n=e.apply(this,arguments)||this,n.ingKey="dragging",n.stateKey="drag",n.setPointerCapture=function(e){if(!n.config.useTouch&&!document.pointerLockElement){var r=e.target,i=e.pointerId;r&&"setPointerCapture"in r&&r.setPointerCapture(i),n.updateGestureState({_dragTarget:r,_dragPointerId:i})}},n.releasePointerCapture=function(){if(!n.config.useTouch&&!document.pointerLockElement){var e=n.state,r=e._dragTarget,i=e._dragPointerId;if(i&&r&&"releasePointerCapture"in r&&(!("hasPointerCapture"in r)||r.hasPointerCapture(i)))try{r.releasePointerCapture(i)}catch(e){}}},n.preventScroll=function(e){n.state._dragPreventScroll&&e.cancelable&&e.preventDefault()},n.getEventId=function(e){return n.config.useTouch?e.changedTouches[0].identifier:e.pointerId},n.isValidEvent=function(e){return n.state._pointerId===n.getEventId(e)},n.shouldPreventWindowScrollY=n.config.experimental_preventWindowScrollY&&n.controller.supportsTouchEvents,n.setUpWindowScrollDetection=function(e){var r,i,a,o,l,s;Ci(e),r=n.controller,i=n.stateKey,a=[["touchmove",n.preventScroll],["touchend",n.clean.bind(EE(n))],["touchcancel",n.clean.bind(EE(n))]],o={passive:!1},l=r.config,s=r.windowListeners,void 0===a&&(a=[]),void 0===o&&(o=l.eventOptions),l.window&&(Ct(l.window,s[i],o),Ce(l.window,s[i]=a,o)),n.setTimeout(n.startDrag.bind(EE(n)),250,e)},n.setUpDelayedDragTrigger=function(e){n.state._dragDelayed=!0,Ci(e),n.setTimeout(n.startDrag.bind(EE(n)),n.config.delay,e)},n.setStartState=function(e){var r=EK(e,n.transform);n.updateSharedState(EB(e)),n.updateGestureState(EO({},E3(EE(n),r,e),E2(EE(n),e,!0),{_pointerId:n.getEventId(e)})),n.updateGestureState(n.getMovement(r))},n.onDragStart=function(e){E6(n.controller,e),n.enabled&&!n.state._active&&(n.setStartState(e),n.setPointerCapture(e),n.shouldPreventWindowScrollY?n.setUpWindowScrollDetection(e):n.config.delay>0?n.setUpDelayedDragTrigger(e):n.startDrag(e,!0))},n.onDragChange=function(e){if(!n.state.canceled&&n.state._active&&n.isValidEvent(e)&&(n.state._lastEventType!==e.type||e.timeStamp!==n.state.timeStamp)){if(document.pointerLockElement){var r,i=e.movementX,a=e.movementY;r=Em(n.transform([i,a]),n.state.values)}else r=EK(e,n.transform);var o=n.getKinematics(r,e);if(!n.state._dragStarted){if(n.state._dragDelayed){n.startDrag(e);return}if(!n.shouldPreventWindowScrollY||n.state._dragPreventScroll||!o.axis)return;if("x"===o.axis)n.startDrag(e);else{n.state._active=!1;return}}var l=EB(e);n.updateSharedState(l);var s=E2(EE(n),e),u=Eg(o._movement),c=n.state._dragIsTap;c&&u>=3&&(c=!1),n.updateGestureState(EO({},s,o,{_dragIsTap:c})),n.fireGestureHandler()}},n.onDragEnd=function(e){if(E5(n.controller,e),n.isValidEvent(e)&&(n.clean(),n.state._active)){n.state._active=!1;var r=n.state._dragIsTap,i=n.state.velocities,a=i[0],o=i[1],l=n.state.movement,s=l[0],u=l[1],c=n.state._intentional,d=c[0],h=c[1],p=n.config.swipeVelocity,m=p[0],f=p[1],g=n.config.swipeDistance,y=g[0],b=g[1],v=n.config.swipeDuration,_=EO({},E2(EE(n),e),n.getMovement(n.state.values)),x=[0,0];_.elapsedTime<v&&(!1!==d&&Math.abs(a)>m&&Math.abs(s)>y&&(x[0]=Ev(a)),!1!==h&&Math.abs(o)>f&&Math.abs(u)>b&&(x[1]=Ev(o))),n.updateSharedState({buttons:0}),n.updateGestureState(EO({},_,{tap:r,swipe:x})),n.fireGestureHandler(n.config.filterTaps&&!0===r)}},n.clean=function(){var r,i,a,o,l;e.prototype.clean.call(EE(n)),n.state._dragStarted=!1,n.releasePointerCapture(),r=n.controller,i=n.stateKey,o=r.config,l=r.windowListeners,void 0===a&&(a=o.eventOptions),o.window&&(Ct(o.window,l[i],a),delete l[i])},n.onCancel=function(){n.state.canceled||(n.updateGestureState({canceled:!0,_active:!1}),n.updateSharedState({buttons:0}),setTimeout(function(){return n.fireGestureHandler()},0))},n.onClick=function(e){n.state._dragIsTap||e.stopPropagation()},n}Ew(n,e);var r=n.prototype;return r.startDrag=function(e,n){void 0===n&&(n=!1),this.state._active&&!this.state._dragStarted&&(n||this.setStartState(e),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())},r.addBindings=function(e){this.config.useTouch?(E9(e,"onTouchStart",this.onDragStart),E9(e,"onTouchMove",this.onDragChange),E9(e,"onTouchEnd",this.onDragEnd),E9(e,"onTouchCancel",this.onDragEnd)):(E9(e,"onPointerDown",this.onDragStart),E9(e,"onPointerMove",this.onDragChange),E9(e,"onPointerUp",this.onDragEnd),E9(e,"onPointerCancel",this.onDragEnd)),this.config.filterTaps&&E9(e,this.controller.config.eventOptions.capture?"onClick":"onClickCapture",this.onClick)},n}(Cr),Co=function(e){function n(){var n;return n=e.apply(this,arguments)||this,n.ingKey="pinching",n.stateKey="pinch",n.onPinchStart=function(e){E6(n.controller,e);var r=n.controller.touchIds;if(!(!n.enabled||n.state._active&&n.state._pointerIds.every(function(e){return r.has(e)}))&&!(r.size<2)){var i=Array.from(r).slice(0,2),a=EU(e,i,n.transform),o=a.values,l=a.origin;n.updateSharedState(EB(e)),n.updateGestureState(EO({},E3(EE(n),o,e),E2(EE(n),e,!0),{_pointerIds:i,cancel:n.onCancel,origin:l})),n.updateGestureState(n.getMovement(o)),n.fireGestureHandler()}},n.onPinchChange=function(e){var r=n.state,i=r.canceled,a=r._active;if(!i&&a&&e.timeStamp!==n.state.timeStamp){var o=EB(e);n.updateSharedState(o);try{var l=EU(e,n.state._pointerIds,n.transform),s=l.values,u=l.origin,c=n.getKinematics(s,e);n.updateGestureState(EO({},E2(EE(n),e),c,{origin:u})),n.fireGestureHandler()}catch(r){n.onPinchEnd(e)}}},n.onPinchEnd=function(e){E5(n.controller,e);var r=ED(e);!n.state._pointerIds.every(function(e){return!r.includes(e)})&&(n.clean(),n.state._active&&(n.updateGestureState(EO({},E2(EE(n),e),n.getMovement(n.state.values),{_active:!1})),n.fireGestureHandler()))},n.onCancel=function(){n.state.canceled||(n.updateGestureState({_active:!1,canceled:!0}),setTimeout(function(){return n.fireGestureHandler()},0))},n.onGestureStart=function(e){if(n.enabled){e.preventDefault();var r=EG(e,n.transform);n.updateSharedState(EB(e)),n.updateGestureState(EO({},E3(EE(n),r,e),E2(EE(n),e,!0),{origin:[e.clientX,e.clientY],cancel:n.onCancel})),n.updateGestureState(n.getMovement(r)),n.fireGestureHandler()}},n.onGestureChange=function(e){var r=n.state,i=r.canceled,a=r._active;if(!i&&a){e.preventDefault();var o=EB(e);n.updateSharedState(o);var l=EG(e,n.transform);l[0]=(l[0]-n.state.event.scale)*260+n.state.values[0];var s=n.getKinematics(l,e);n.updateGestureState(EO({},E2(EE(n),e),s,{origin:[e.clientX,e.clientY]})),n.fireGestureHandler()}},n.onGestureEnd=function(e){n.clean(),n.state._active&&(n.updateGestureState(EO({},E2(EE(n),e),n.getMovement(n.state.values),{_active:!1,origin:[e.clientX,e.clientY]})),n.fireGestureHandler())},n.wheelShouldRun=function(e){return n.enabled&&e.ctrlKey},n.getWheelValuesFromEvent=function(e){var r=EV(e,n.transform)[1],i=n.state.values,a=i[0],o=i[1],l=-(7*r),s=void 0!==o?o:0;return{values:[a+l,s],origin:[e.clientX,e.clientY],delta:[l,s]}},n.onWheel=function(e){n.wheelShouldRun(e)&&(n.setTimeout(n.onWheelEnd),n.state._active?n.onWheelChange(e):n.onWheelStart(e))},n.onWheelStart=function(e){var r=n.getWheelValuesFromEvent(e),i=r.values,a=r.delta,o=r.origin;e.cancelable&&e.preventDefault(),n.updateSharedState(EB(e)),n.updateGestureState(EO({},E3(EE(n),i,e,n.state.values),E2(EE(n),e,!0),{offset:i,delta:a,origin:o})),n.updateGestureState(n.getMovement(i)),n.fireGestureHandler()},n.onWheelChange=function(e){e.cancelable&&e.preventDefault(),n.updateSharedState(EB(e));var r=n.getWheelValuesFromEvent(e),i=r.values,a=r.origin,o=r.delta;n.updateGestureState(EO({},E2(EE(n),e),n.getKinematics(i,e),{origin:a,delta:o})),n.fireGestureHandler()},n.onWheelEnd=function(){n.clean(),n.state._active&&(n.state._active=!1,n.updateGestureState(n.getMovement(n.state.values)),n.fireGestureHandler())},n}return Ew(n,e),n.prototype.addBindings=function(e){this.controller.config.domTarget&&!this.controller.supportsTouchEvents&&this.controller.supportsGestureEvents?(E9(e,"onGestureStart",this.onGestureStart),E9(e,"onGestureChange",this.onGestureChange),E9(e,"onGestureEnd",this.onGestureEnd)):(E9(e,"onTouchStart",this.onPinchStart),E9(e,"onTouchMove",this.onPinchChange),E9(e,"onTouchEnd",this.onPinchEnd),E9(e,"onTouchCancel",this.onPinchEnd),E9(e,"onWheel",this.onWheel))},n}(function(e){function n(){return e.apply(this,arguments)||this}Ew(n,e);var r=n.prototype;return r.getInternalMovement=function(e,n){var r=n.values[1],i=e[0],a=e[1],o=void 0===a?r:a,l=o-r,s=n.turns;return Math.abs(l)>270&&(s+=Ev(l)),Ef([i,o-360*s],n.initial)},r.getKinematics=function(e,n){var r=this.getMovement(e),i=(e[1]-r._movement[1]-this.state.initial[1])/360,a=n.timeStamp-this.state.timeStamp,o=function(e,n){if(null==e)return{};var r,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n.indexOf(r=o[i])>=0||(a[r]=e[r]);return a}(Eb(r.movement,r.delta,a),["distance","velocity"]);return EO({turns:i},r,o)},r.mapStateValues=function(e){return{da:e.values,vdva:e.velocities}},n}(EQ)),Cl=function(e){function n(){var n;return n=e.apply(this,arguments)||this,n.ingKey="wheeling",n.stateKey="wheel",n.debounced=!0,n.handleEvent=function(e){if((!e.ctrlKey||!("pinch"in n.controller.handlers))&&n.enabled){n.setTimeout(n.onEnd),n.updateSharedState(EB(e));var r=Em(EV(e,n.transform),n.state.values);if(n.state._active)n.updateGestureState(EO({},E2(EE(n),e),n.getKinematics(r,e)));else{n.updateGestureState(EO({},E3(EE(n),r,e,n.state.values),E2(EE(n),e,!0)));var i=n.getMovement(r),a=Ey(i.delta);n.updateGestureState(i),n.updateGestureState(a)}n.fireGestureHandler()}},n.onEnd=function(){if(n.clean(),n.state._active){var e=n.getMovement(n.state.values);n.updateGestureState(e),n.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),n.fireGestureHandler()}},n}return Ew(n,e),n.prototype.addBindings=function(e){E9(e,"onWheel",this.handleEvent)},n}(Cr),Cs=function(e){function n(){var n;return n=e.apply(this,arguments)||this,n.ingKey="moving",n.stateKey="move",n.debounced=!0,n.onMove=function(e){n.enabled&&(n.setTimeout(n.onMoveEnd),n.state._active?n.onMoveChange(e):n.onMoveStart(e))},n.onMoveStart=function(e){n.updateSharedState(EB(e));var r=EK(e,n.transform);n.updateGestureState(EO({},E3(EE(n),r,e),E2(EE(n),e,!0))),n.updateGestureState(n.getMovement(r)),n.fireGestureHandler()},n.onMoveChange=function(e){n.updateSharedState(EB(e));var r=EK(e,n.transform);n.updateGestureState(EO({},E2(EE(n),e),n.getKinematics(r,e))),n.fireGestureHandler()},n.onMoveEnd=function(){if(n.clean(),n.state._active){var e=n.state.values;n.updateGestureState(n.getMovement(e)),n.updateGestureState({velocities:[0,0],velocity:0,_active:!1}),n.fireGestureHandler()}},n.hoverTransform=function(){return n.controller.config.hover.transform||n.controller.config.transform},n.onPointerEnter=function(e){if(n.controller.state.shared.hovering=!0,n.controller.config.enabled){if(n.controller.config.hover.enabled){var r=EK(e,n.hoverTransform()),i=EO({},n.controller.state.shared,n.state,E2(EE(n),e,!0),{args:n.args,values:r,active:!0,hovering:!0});n.controller.handlers.hover(EO({},i,n.mapStateValues(i)))}"move"in n.controller.handlers&&n.onMoveStart(e)}},n.onPointerLeave=function(e){if(n.controller.state.shared.hovering=!1,"move"in n.controller.handlers&&n.onMoveEnd(),n.controller.config.hover.enabled){var r=EK(e,n.hoverTransform()),i=EO({},n.controller.state.shared,n.state,E2(EE(n),e),{args:n.args,values:r,active:!1});n.controller.handlers.hover(EO({},i,n.mapStateValues(i)))}},n}return Ew(n,e),n.prototype.addBindings=function(e){"move"in this.controller.handlers&&E9(e,"onPointerMove",this.onMove),"hover"in this.controller.handlers&&(E9(e,"onPointerEnter",this.onPointerEnter),E9(e,"onPointerLeave",this.onPointerLeave))},n}(Cr),Cu=function(e){function n(){var n;return n=e.apply(this,arguments)||this,n.ingKey="scrolling",n.stateKey="scroll",n.debounced=!0,n.handleEvent=function(e){if(n.enabled){n.clearTimeout(),n.setTimeout(n.onEnd);var r,i,a,o,l,s,u=(void 0===(r=n.transform)&&(r=EP),a=(i=e.currentTarget).scrollX,o=i.scrollY,l=i.scrollLeft,s=i.scrollTop,r([a||l||0,o||s||0]));if(n.updateSharedState(EB(e)),n.state._active)n.updateGestureState(EO({},E2(EE(n),e),n.getKinematics(u,e)));else{n.updateGestureState(EO({},E3(EE(n),u,e,n.state.values),E2(EE(n),e,!0)));var c=n.getMovement(u),d=Ey(c.delta);n.updateGestureState(c),n.updateGestureState(d)}n.fireGestureHandler()}},n.onEnd=function(){n.clean(),n.state._active&&(n.updateGestureState(EO({},n.getMovement(n.state.values),{_active:!1,velocities:[0,0],velocity:0})),n.fireGestureHandler())},n}return Ew(n,e),n.prototype.addBindings=function(e){E9(e,"onScroll",this.handleEvent)},n}(Cr),Cc=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function Cd(e,n){void 0===n&&(n={});var r,i,a,o,l,s,u,c,d,h,p,m,f,g,y,b,v,_,x=function(e){var n={},r={},i=new Set;for(var a in e)Cc.test(a)?(i.add(RegExp.lastMatch),r[a]=e[a]):n[a]=e[a];return[r,n,i]}(e),O=x[0],w=x[1],E=x[2];EX.set("drag",Ca),EX.set("hover",Cs),EX.set("move",Cs),EX.set("pinch",Co),EX.set("scroll",Cu),EX.set("wheel",Cl);var C=(void 0===(r=n)&&(r={}),void 0===(i=E)&&(i=new Set),s=(l=r).drag,u=l.wheel,c=l.move,d=l.scroll,h=l.pinch,p=l.hover,m=l.eventOptions,f=l.window,g=l.transform,y=EL({domTarget:l.domTarget,eventOptions:m,transform:g,window:f,enabled:l.enabled},E$),i.has("onDrag")&&(y.drag=(void 0===(a=s)&&(a={}),EL(a,Ej))),i.has("onWheel")&&(y.wheel=EW(u)),i.has("onScroll")&&(y.scroll=EW(d)),i.has("onMove")&&(y.move=EW(c)),i.has("onPinch")&&(y.pinch=(void 0===(o=h)&&(o={}),EL(o,EZ))),i.has("onHover")&&(y.hover=EO({enabled:!0},p)),y),T={};return E.has("onDrag")&&(T.drag=Ch(O,"onDrag")),E.has("onWheel")&&(T.wheel=Ch(O,"onWheel")),E.has("onScroll")&&(T.scroll=Ch(O,"onScroll")),E.has("onMove")&&(T.move=Ch(O,"onMove")),E.has("onPinch")&&(T.pinch=Ch(O,"onPinch")),E.has("onHover")&&(T.hover=O.onHover),void 0===(v=w)&&(v={}),b=new Set,T.drag&&b.add(EX.get("drag")),T.wheel&&b.add(EX.get("wheel")),T.scroll&&b.add(EX.get("scroll")),T.move&&b.add(EX.get("move")),T.pinch&&b.add(EX.get("pinch")),T.hover&&b.add(EX.get("hover")),((_=e0.useMemo(function(){return new E4(b)},[])).config=C,_.handlers=T,_.nativeRefs=v,e0.useEffect(_.effect,[]),_.config.domTarget)?Cn:_.bind}function Ch(e,n){var r=n+"Start",i=n+"End";return function(a){var o=void 0;return a.first&&r in e&&e[r](a),n in e&&(o=e[n](a)),a.last&&i in e&&e[i](a),o}}var Cp=r(48533);let Cm=e=>{var n;let{imageRef:r,scale:i,pinchDelta:a,touchOrigin:[o,l],currentTranslate:[s,u]}=e;if(null==r||!r.current)return[0,0];let{height:c,left:d,top:h,width:p}=null===(n=r.current)||void 0===n?void 0:n.getBoundingClientRect();return[-((o-d-p/2)/i)*a+s,-((l-h-c/2)/i)*a+u]},Cf=e=>{var n;if(!e.current)return!1;let{bottom:r,left:i,right:a,top:o}=null===(n=e.current)||void 0===n?void 0:n.getBoundingClientRect(),{innerHeight:l,innerWidth:s}=window;return i>.5*s||o>.5*l||a<.5*s||r<.5*l},Cg=["style"];function Cy(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function Cb(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Cy(Object(r),!0).forEach(function(n){J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}let Cv={pinching:!1,scale:1,translateX:0,translateY:0},C_=e=>{let{imgProps:{style:n},inline:r,isCurrentImage:i,pagerHeight:a,pagerIsDragging:o,setDisableDrag:l,singleClickToZoom:s}=e,u=function(e,n){if(null==e)return{};var r,i,a=function(e,n){if(null==e)return{};var r,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e.imgProps,Cg),[c,d]=(0,e0.useState)(!1),h=(0,e0.useRef)(null),[{scale:p,translateX:m,translateY:f},g]=function(e,n){let r=xA.fun(e),[[i],a]=wQ(1,r?e:[e],r?n||[]:n);return r||2==arguments.length?[i,a]:i}(()=>Cb(Cb({},Cv),{},{onChange:(e,n)=>{(e.value.scale<1||!e.value.pinching)&&n.start(Cv),e.value.scale>1&&Cf(h)&&n.start(Cv)},onRest:(e,n)=>{1===e.value.scale&&(n.start(Cv),l(!1))}}));return(0,e0.useEffect)(()=>{i||1===p.get()||g.start(Cv)},[i,p,g]),Cd({onDrag:e=>{let{movement:[n,r],pinching:i,cancel:a,first:l,memo:s={initialTranslateX:0,initialTranslateY:0},touches:u,tap:y}=e;if(!(o||1===p.get()||y||(n&&r&&!c&&d(!0),u>1||i||1>=p.get())))return p.get()>1&&Cf(h)?void a():l?{initialTranslateX:m.get(),initialTranslateY:f.get()}:(g.start({translateX:s.initialTranslateX+n,translateY:s.initialTranslateY+r}),s)},onDragEnd:e=>{let{memo:n}=e;void 0!==n&&setTimeout(()=>d(!1),100)},onPinch:e=>{let{movement:[n],origin:[r,i],event:a,ctrlKey:s,last:u,cancel:y}=e;if(o)return;if(l(!0),n&&!c&&d(!0),u)return void y();let b=p.get()+n/(s?1e3:250),v=b-p.get(),_=[r,i];"clientX"in a&&"clientY"in a&&s&&(_=[a.clientX,a.clientY]);let[x,O]=Cm({currentTranslate:[m.get(),f.get()],imageRef:h,pinchDelta:v,scale:p.get(),touchOrigin:_});b<.5?g.start({pinching:!0,scale:.5}):b>3?g.start({pinching:!0,scale:3}):g.start({pinching:!0,scale:b,translateX:x,translateY:O})},onPinchEnd:()=>{o||(p.get()>1?l(!0):g.start(Cv),setTimeout(()=>d(!1),100))}},{domTarget:h,drag:{filterTaps:!0},enabled:!r,eventOptions:{passive:!1}}),(e=>{let{ref:n,latency:r=300,enabled:i=!0,onSingleClick:a=()=>null,onDoubleClick:o=()=>null}=e;(0,e0.useEffect)(()=>{let e=n.current,l,s=0,u=e=>{i&&(s+=1,l=setTimeout(()=>{1===s?a(e):2===s&&o(e),s=0},r))};return null==e||e.addEventListener("click",u),()=>{null==e||e.removeEventListener("click",u),l&&clearTimeout(l)}})})({[s?"onSingleClick":"onDoubleClick"]:e=>{if(o||c)return void e.stopPropagation();if(1!==p.get())return void g.start(Cv);let{clientX:n,clientY:r}=e,i=p.get()+1,a=i-p.get(),[s,u]=Cm({currentTranslate:[m.get(),f.get()],imageRef:h,pinchDelta:a,scale:p.get(),touchOrigin:[n,r]});l(!0),g.start({pinching:!0,scale:i,translateX:s,translateY:u})},enabled:!r,latency:s?0:200,ref:h}),e0.createElement(Cx,xu({$inline:r,className:"lightbox-image",draggable:"false",onClick:e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},onDragStart:e=>{e.preventDefault()},ref:h,style:Cb(Cb({},n),{},{maxHeight:a,transform:w6([p,m,f],(e,n,r)=>"translate(".concat(n,"px, ").concat(r,"px) scale(").concat(e,")"))},i&&{willChange:"transform"})},u))};C_.displayName="Image";let Cx=(0,Cp.ZP)(Ep.img)(v||(v=xs(["\n    width: auto;\n    height: auto;\n    max-width: 100%;\n    user-select: none;\n    touch-action: ",";\n    ::selection {\n        background: none;\n    }\n"])),e=>{let{$inline:n}=e;return n?"pan-y":"none"}),CO=e=>{let{currentIndex:n,images:r,imageStageHeight:i,imageStageWidth:a,inline:o,onClose:l,onNext:s,onPrev:u,renderImageOverlay:c,singleClickToZoom:d}=e,h=(0,e0.useRef)(!0),[p,m]=(0,e0.useState)(!1),[f,g]=(0,e0.useState)("100%"),[y,b]=(0,e0.useState)(!1);(0,e0.useEffect)(()=>{let e=o?i:i-50;e!==f&&g(e)},[o,f,i]);let v=e0.useCallback(function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=(e-n)*a+(r?i:0);return e<n-1||e>n+1?{display:"none",x:o}:{display:"flex",x:o}},[n,a]),[_,x]=wQ(r.length,e=>v(e));(0,e0.useEffect)(()=>{h.current?h.current=!1:x.start(e=>v(e))},[n,v,x]);let O=Cd({onDrag:e=>{let{down:n,movement:[r],direction:[i],velocity:o,distance:l,cancel:c,active:d,touches:h,tap:m}=e;if(p||0===r||m)return;y||b(!0);let f=Math.abs(i)>.7;if((n&&f&&l>a/3.5||n&&f&&o>2)&&d){let e=i>0?-1:1;return c(),void(e>0?s():e<0&&u())}h>1?c():x.start(e=>v(e,n,r))},onDragEnd:()=>{y&&(x.start(e=>v(e)),setTimeout(()=>b(!1),100))},onWheel:e=>{let{velocity:n,direction:[r,i],ctrlKey:a}=e;if(!a&&!p&&0!==n&&(y||b(!0),n>1.1)){let e=r+i>0?-1:1;e>0?s():e<0&&u()}},onWheelEnd:()=>{x.start(e=>v(e)),setTimeout(()=>b(!1),100)}},{drag:{filterTaps:!0},wheel:{enabled:!o}});return e0.createElement(Cw,null,_.map((e,i)=>{let{display:a,x:s}=e;return e0.createElement(CT,xu({$inline:o},O(),{className:"lightbox-image-pager",key:i,onClick:()=>{if(l)return 1>Math.abs(s.get())&&!p&&l()},role:"presentation",style:{display:a,transform:s.to(e=>"translateX(".concat(e,"px)"))}}),e0.createElement(CC,null,e0.createElement(CE,null,e0.createElement(Ck,{$inline:o,onClick:e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},e0.createElement(C_,{imgProps:r[i],inline:o,isCurrentImage:i===n,pagerHeight:f,pagerIsDragging:y,setDisableDrag:m,singleClickToZoom:d}),c()))))}))};CO.displayName="ImagePager";let Cw=Cp.ZP.div(_||(_=xs(["\n    height: 100%;\n    width: 100%;\n"]))),CE=Cp.ZP.div(x||(x=xs(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),CC=Cp.ZP.div(O||(O=xs(["\n    width: 100%;\n    display: flex;\n    justify-content: center;\n"]))),CT=(0,Cp.ZP)(Ep.div)(w||(w=xs(["\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    height: 100%;\n    width: 100%;\n    will-change: transform;\n    touch-action: ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"])),e=>{let{$inline:n}=e;return n?"pan-y":"none"}),Ck=Cp.ZP.div(E||(E=xs(["\n    position: relative;\n    touch-action: ",";\n    user-select: none;\n    display: flex;\n    justify-content: center;\n    width: 100%;\n"])),e=>{let{$inline:n}=e;return n?"pan-y":"none"}),CR=e=>{let{className:n="",currentIndex:r,images:i,inline:a,onClose:o,onNext:l,onPrev:s,renderImageOverlay:u,renderNextButton:c,renderPrevButton:d,singleClickToZoom:h}=e,p=r>0,m=r+1<i.length,[{height:f,width:g},y]=(()=>{var e,n;let r=(0,e0.useRef)(null),[i,a]=(0,e0.useState)(null),[o,l]=(0,e0.useState)({height:(null===(e=r.current)||void 0===e?void 0:e.clientHeight)||0,width:(null===(n=r.current)||void 0===n?void 0:n.clientWidth)||0}),s=(0,e0.useCallback)(e=>{null!==e&&(a(e),l({height:e.clientHeight,width:e.clientWidth}))},[]);return(0,e0.useEffect)(()=>{let e=()=>{if(i){let e=i.clientHeight,n=i.clientWidth;e===o.height&&n===o.width||l({height:e,width:n})}};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[i,o.height,o.width]),[o,s]})();return e0.createElement(CS,{className:n,"data-testid":"lightbox-image-stage",ref:y},d({canPrev:p}),g&&e0.createElement(CO,{currentIndex:r,images:i,imageStageHeight:f,imageStageWidth:g,inline:a,onClose:o,onNext:m?l:()=>null,onPrev:p?s:()=>null,renderImageOverlay:u,singleClickToZoom:h}),c({canNext:m}))},CS=Cp.ZP.div(C||(C=xs(["\n    position: relative;\n    height: 100%;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"])));function CA(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function CI(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?CA(Object(r),!0).forEach(function(n){J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}let CL=e=>{let{children:n,className:r,isOpen:i,pageTransitionConfig:a,style:o}=e,l={config:CI(CI({},wl),{},{friction:32,mass:1,tension:320}),enter:{opacity:1,transform:"scale(1)"},from:{opacity:0,transform:"scale(0.75)"},leave:{opacity:0,transform:"scale(0.75)"}},u=function(e,n,r){let i=xA.fun(n)&&n,{reset:a,sort:o,trail:l=0,expires:u=!0,exitBeforeEnter:c=!1,onDestroyed:d,ref:h,config:p}=i?i():n,m=(0,e0.useMemo)(()=>i||3==arguments.length?wJ():void 0,[]),f=xN(e),g=[],y=(0,e0.useRef)(null),b=a?null:y.current;OL(()=>{y.current=g}),OD(()=>(xL(g,e=>{null==m||m.add(e.ctrl),e.ctrl.ref=m}),()=>{xL(y.current,e=>{e.expired&&clearTimeout(e.expirationId),wa(e.ctrl,m),e.ctrl.stop(!0)})}));let v=function(e,{key:n,keys:r=n},i){if(null===r){let n=new Set;return e.map(e=>{let r=i&&i.find(r=>r.item===e&&r.phase!==s.LEAVE&&!n.has(r));return r?(n.add(r),r.key):w0++})}return xA.und(r)?e:xA.fun(r)?e.map(r):xN(r)}(f,i?i():n,b),_=a&&y.current||[];OL(()=>xL(_,({ctrl:e,item:n,key:r})=>{wa(e,m),O3(d,n,r)}));let x=[];if(b&&xL(b,(e,n)=>{e.expired?(clearTimeout(e.expirationId),_.push(e)):~(n=x[n]=v.indexOf(e.key))&&(g[n]=e)}),xL(f,(e,n)=>{g[n]||(g[n]={key:v[n],item:e,phase:s.MOUNT,ctrl:new wG},g[n].ctrl.item=e)}),x.length){let e=-1,{leave:r}=i?i():n;xL(x,(n,i)=>{let a=b[i];~n?(e=g.indexOf(a),g[e]=O2({},a,{item:f[n]})):r&&g.splice(++e,0,a)})}xA.fun(o)&&g.sort((e,n)=>o(e.item,n.item));let O=-l,w=ON(),E=O7(n),C=new Map,T=(0,e0.useRef)(new Map),k=(0,e0.useRef)(!1);xL(g,(e,r)=>{let a,o;let d=e.key,m=e.phase,f=i?i():n,g=O3(f.delay||0,d);if(m==s.MOUNT)a=f.enter,o=s.ENTER;else{let e=0>v.indexOf(d);if(m!=s.LEAVE){if(e)a=f.leave,o=s.LEAVE;else{if(!(a=f.update))return;o=s.UPDATE}}else{if(e)return;a=f.enter,o=s.ENTER}}if(a=O3(a,e.item,r),!(a=xA.obj(a)?wt(a):{to:a}).config){let n=p||E.config;a.config=O3(n,e.item,r,o)}O+=l;let _=O2({},E,{delay:g+O,ref:h,immediate:f.immediate,reset:!1},a);if(o==s.ENTER&&xA.und(_.from)){let a=i?i():n,o=xA.und(a.initial)||b?a.from:a.initial;_.from=O3(o,e.item,r)}let{onResolve:x}=_;_.onResolve=e=>{O3(x,e);let n=y.current,r=n.find(e=>e.key===d);if(r){if(e.cancelled&&r.phase!=s.UPDATE)return;if(r.ctrl.idle){let e=n.every(e=>e.ctrl.idle);if(r.phase==s.LEAVE){let n=O3(u,r.item);if(!1!==n){let i=!0===n?0:n;if(r.expired=!0,!e&&i>0){i<=2147483647&&(r.expirationId=setTimeout(w,i));return}}}e&&n.some(e=>e.expired)&&(T.current.delete(r),c&&(k.current=!0),w())}}};let R=wz(e.ctrl,_);o===s.LEAVE&&c?T.current.set(e,{phase:o,springs:R,payload:_}):C.set(e,{phase:o,springs:R,payload:_})});let R=(0,e0.useContext)(wY),S=OP(R),A=R!==S&&wr(R);OL(()=>{A&&xL(g,e=>{e.ctrl.start({default:R})})},[R]),xL(C,(e,n)=>{if(T.current.size){let e=g.findIndex(e=>e.key===n.key);g.splice(e,1)}}),OL(()=>{xL(T.current.size?T.current:C,({phase:e,payload:n},r)=>{let{ctrl:i}=r;r.phase=e,null==m||m.add(i),A&&e==s.ENTER&&i.start({default:R}),n&&(wo(i,n.ref),(i.ref||m)&&!k.current?i.update(n):(i.start(n),k.current&&(k.current=!1)))})},a?void 0:r);let I=e=>e0.createElement(e0.Fragment,null,g.map((n,r)=>{let{springs:i}=C.get(n)||n.ctrl,a=e(O2({},i),n.item,n,r);return a&&a.type?e0.createElement(a.type,O2({},a.props,{key:xA.str(n.key)||xA.num(n.key)?n.key:n.ctrl.id,ref:a.ref})):a}));return m?[I,m]:I}(i,CI(CI({},l),a));return e0.createElement(e0.Fragment,null,u((e,i)=>i&&e0.createElement(CM,{className:"lightbox-container".concat(r?" ".concat(r):""),"data-testid":"lightbox-container",style:CI(CI({},e),o)},n)))},CM=(0,Cp.ZP)(Ep.div)(T||(T=xs(["\n    display: flex;\n    flex-direction: column;\n    position: fixed;\n    z-index: 400;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n"])));class CN extends e0.Component{constructor(){super(...arguments),J(this,"portalContainer",void 0),J(this,"body",void 0),J(this,"preventWheel",e=>e.preventDefault())}componentDidMount(){this.body=document.body,this.portalContainer=document.createElement("div"),this.portalContainer.setAttribute("class","lightbox-portal"),this.body.appendChild(this.portalContainer),this.forceUpdate(),this.portalContainer.addEventListener("wheel",this.preventWheel)}componentWillUnmount(){this.portalContainer.removeEventListener("wheel",this.preventWheel),this.body.removeChild(this.portalContainer)}render(){if(void 0===this.portalContainer)return null;let{children:e}=this.props;return e0.createElement(e0.Fragment,null,w5.createPortal(e,this.portalContainer))}}let CD=(0,dC.zo)(d1.Z,{target:"eo0o8ax0"})("z-index:",e=>{let{theme:n}=e;return dj.lightbox(n).Z_INDEX},";");function CB(e){let{content:n}=e,r=(0,dC.w1)();return(0,K.tZ)(CD,{direction:"row",justifyContent:"center",ref:r,children:n})}var CP=r(62187),CK=r(97458),CU=(0,CP.Z)((0,CK.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseOutlined"),CV=r(65758);let CG=(0,dC.zo)(CV.Z,{target:"emxotko0"})(e=>{let{theme:n}=e,r=dj.lightbox(n);return{color:r.TEXT_COLOR,"z-index":r.Z_INDEX}});function CF(e){let{closeLightbox:n}=e;return(0,K.tZ)(d1.Z,{direction:"row",justifyContent:"end",children:(0,K.tZ)(CG,{onClick:n,children:(0,K.tZ)(CU,{})})})}let CH=(0,dC.zo)("div",{target:"esffux0"})(e=>{let{theme:n}=e,r=dj.lightboxImageOverlay(n);return{backgroundColor:r.LIGHTBOX_IMAGE_OVERLAY_BACKGROUND_COLOR,inset:r.LIGHTBOX_IMAGE_OVERLAY_INSET,position:r.LIGHTBOX_IMAGE_OVERLAY_POSITION,zIndex:r.LIGHTBOX_IMAGE_OVERLAY_Z_INDEX}});function Cz(){return(0,K.tZ)(CH,{})}let C$=(0,dC.zo)(e=>{let{isOpen:n,onClose:r,inline:i=!1,images:a=[],currentIndex:o,onPrev:l,onNext:s,renderHeader:u=()=>null,renderFooter:c=()=>null,renderPrevButton:d=()=>null,renderNextButton:h=()=>null,renderImageOverlay:p=()=>null,className:m="",singleClickToZoom:f=!1,style:g={},pageTransitionConfig:y=null}=e;(0,e0.useEffect)(()=>{let e=e=>{n&&["ArrowUp","ArrowDown","End","Home","PageUp","PageDown"].includes(e.key)&&e.preventDefault()},i=e=>{if(n)switch(e.key){case"ArrowLeft":l();break;case"ArrowRight":s();break;case"Escape":r&&r();break;default:e.preventDefault()}};return document.addEventListener("keyup",i),document.addEventListener("keydown",e),()=>{document.removeEventListener("keyup",i),document.removeEventListener("keydown",e)}});let b=e0.createElement(CR,{currentIndex:o,images:a,inline:i,onClose:r,onNext:s,onPrev:l,renderImageOverlay:p,renderNextButton:h,renderPrevButton:d,singleClickToZoom:f});return i?b:e0.createElement(CN,null,e0.createElement(CL,{className:m,isOpen:n,pageTransitionConfig:y,style:g},u(),b,c()))},{target:"e77dsoy0"})(e=>{let{theme:n}=e,r=dj.lightbox(n);return"\n      .lightbox-image-pager > div > div {\n        width: 100vw;\n        background-color: ".concat(r.BACKGROUND_COLOR,";\n      }\n      .lightbox-image-pager img {\n        background-color: ").concat(r.IMAGE_BACKGROUND_COLOR,";\n      }\n    ")});function CZ(e){let{close:n,currentIndex:r=0,footerContent:i,imagesList:a,onClose:o=xl(),onNext:l=xl(),opened:s,...u}=e,c=(0,xa.Z)(),d=dj.lightbox(c),h={backgroundColor:d.BACKGROUND_COLOR,color:d.TEXT_COLOR,padding:d.PADDING,zIndex:d.Z_INDEX},p=(0,e0.useCallback)(()=>(0,K.tZ)(CF,{closeLightbox:n}),[n]),m=(0,e0.useCallback)(()=>(0,K.tZ)(CB,{content:i}),[i]);return(0,K.tZ)(C$,{...u,currentIndex:r,images:a,isOpen:s,onClose:o,onNext:l,onPrev:xl(),pageTransitionConfig:{config:{duration:100},from:{opacity:0},enter:{opacity:1},leave:{opacity:0}},renderFooter:m,renderHeader:p,renderImageOverlay:Cz,style:h})}var Cj=r(12480);function CW(){let e=(0,sz._)(["\n                transform: scale(1);\n                transition: ",";\n              "]);return CW=function(){return e},e}function Cq(){let e=(0,sz._)(["\n      && {\n        color: ",";\n        background-color: ",";\n        font-family: ",";\n        font-size: ",";\n        line-height: ",";\n        overflow: ",";\n        padding-top: ",";\n        position: relative;\n      }\n\n      &&:after {\n        content: '';\n        transform: scale(0);\n        position: absolute;\n        border: 2px solid ",";\n        border-radius: 2px;\n        inset: ",";\n        z-index: 1;\n\n        ","\n      }\n\n      .js-external-link-button.link-like,\n      .js-external-link-anchor {\n        color: ",";\n        border-radius: ",";\n        text-decoration: underline;\n\n        &:hover,\n        &:active {\n          text-decoration-thickness: ",";\n          text-shadow: ",";\n        }\n\n        &:focus-visible {\n          outline: ",";\n          box-shadow: ",";\n        }\n      }\n\n      p,\n      div {\n        margin: ",";\n        display: ",";\n      }\n\n      pre {\n        margin: ",";\n        display: ",";\n\n        code {\n          display: ",";\n          width: ",";\n        }\n      }\n\n      pre:not(:first-child) {\n        padding-top: ",";\n      }\n\n      ul,\n      ol {\n        display: ","\n        margin: ",";\n        padding-left: ",";\n\n        li {\n          padding-top: ",";\n        }\n\n        ul,\n        ol {\n          padding-top: ",";\n        }\n      }\n\n      ul:not(:first-child), ol:not(:first-child) {\n        padding-top: ",";\n      }\n    "]);return Cq=function(){return e},e}let CY=(0,dC.zo)(Cj.a,{target:"e1w22tse0"})(e=>{let{$font:n="text",$inline:r=!1,$isHighlighted:i=!1,$lineHeightStyle:a="regular",$paddingTop:o=0,$size:l="regular",$type:s="primary",theme:u}=e,c=dj.markdownViewer(u);return(0,U.iv)(Cq(),function(e,n){switch(e){case"disabled":case"secondary":return n.MARKDOWN_VIEWER_COLOR_SECONDARY;case"information":return n.MARKDOWN_VIEWER_COLOR_INFO;case"negative":return n.MARKDOWN_VIEWER_COLOR_NEGATIVE;case"positive":return n.MARKDOWN_VIEWER_COLOR_POSITIVE;case"primary":return n.MARKDOWN_VIEWER_COLOR_PRIMARY;case"warning":return n.MARKDOWN_VIEWER_COLOR_WARNING}}(s,c),c.MARKDOWN_VIEWER_BACKGROUND_COLOR,"input"===n?c.MARKDOWN_VIEWER_INPUT_FONT_FAMILY:c.MARKDOWN_VIEWER_FONT_FAMILY,function(e,n){switch(e){case"heading":return n.MARKDOWN_VIEWER_FONT_SIZE_HEADING;case"regular":return n.MARKDOWN_VIEWER_FONT_SIZE_REGULAR;case"small":return n.MARKDOWN_VIEWER_FONT_SIZE_SMALL}}(l,c),function(e,n,r){switch(e){case"heading":return r.MARKDOWN_VIEWER_LINE_HEIGHT_HEADING;case"regular":return"condensed"===n?r.MARKDOWN_VIEWER_LINE_HEIGHT_REGULAR_CONDENSED:r.MARKDOWN_VIEWER_LINE_HEIGHT_REGULAR;case"small":return"compact"===n?r.MARKDOWN_VIEWER_LINE_HEIGHT_SMALL_COMPACT:r.MARKDOWN_VIEWER_LINE_HEIGHT_SMALL}}(l,a,c),c.MARKDOWN_VIEWER_OVERFLOW,u.spacing(o*c.MARKDOWN_VIEWER_BASE_PADDING_SCALE),"warning"===s?u.palette.error.main:u.palette.warning.main,u.spacing(-1),i?(0,U.iv)(CW(),u.transitions.create("transform",{duration:"0.2s",easing:"ease-in"})):"",c.MARKDOWN_VIEWER_LINK_COLOR,c.MARKDOWN_VIEWER_LINK_BORDER_RADIUS,c.MARKDOWN_VIEWER_LINK_UNDERLINE_THICKNESS,c.MARKDOWN_VIEWER_LINK_TEXT_SHADOW_BOLD,u.shape.outlineWindowsHighContrast,u.shape.outline,c.MARKDOWN_VIEWER_ELEMENTS_MARGIN,r?c.MARKDOWN_VIEWER_ELEMENTS_DISPLAY_INLINE:c.MARKDOWN_VIEWER_ELEMENTS_DISPLAY,c.MARKDOWN_VIEWER_ELEMENTS_MARGIN,r?c.MARKDOWN_VIEWER_ELEMENTS_DISPLAY_NONE:c.MARKDOWN_VIEWER_ELEMENTS_DISPLAY,c.MARKDOWN_VIEWER_ELEMENTS_DISPLAY,c.MARKDOWN_VIEWER_CODE_BLOCK_WIDTH,function(e,n){switch(e){case"heading":return n.MARKDOWN_VIEWER_CODE_BLOCK_PADDING_TOP_HEADING;case"regular":return n.MARKDOWN_VIEWER_CODE_BLOCK_PADDING_TOP_REGULAR;case"small":return n.MARKDOWN_VIEWER_CODE_BLOCK_PADDING_TOP_SMALL}}(l,c),r?c.MARKDOWN_VIEWER_ELEMENTS_DISPLAY_NONE:c.MARKDOWN_VIEWER_ELEMENTS_DISPLAY,c.MARKDOWN_VIEWER_ELEMENTS_MARGIN,c.MARKDOWN_VIEWER_LIST_PADDING_LEFT,function(e,n){switch(e){case"heading":return n.MARKDOWN_VIEWER_LIST_ITEM_PADDING_TOP_HEADING;case"regular":return n.MARKDOWN_VIEWER_LIST_ITEM_PADDING_TOP_REGULAR;case"small":return n.MARKDOWN_VIEWER_LIST_ITEM_PADDING_TOP_SMALL}}(l,c),c.MARKDOWN_VIEWER_LIST_NESTED_PADDING_TOP,function(e,n){switch(e){case"heading":return n.MARKDOWN_VIEWER_LIST_PADDING_TOP_HEADING;case"regular":return n.MARKDOWN_VIEWER_LIST_PADDING_TOP_REGULAR;case"small":return n.MARKDOWN_VIEWER_LIST_PADDING_TOP_SMALL}}(l,c))});function CX(e){let{font:n,inline:r=!1,isHighlighted:i,lineHeightStyle:a,paddingTop:o,size:l,type:s,...u}=e,c=(0,dC.w1)(),d=function(){let{containerRef:e}=d4();return e}(),h=(0,e0.useRef)(null);(0,e0.useEffect)(()=>{if(!i)return;let e=null==d?void 0:d.current,n=h.current;if((0,t9.Rw)(e)||(0,t9.Rw)(n))return;let r=e.getBoundingClientRect().top,a=n.getBoundingClientRect().top;e.scrollTo({top:a-r,behavior:"smooth"})},[i,d]);let p=r?"span":"div";return(0,K.tZ)(p,{ref:c,children:(0,K.tZ)(CY,{$font:n,$inline:r,$isHighlighted:i,$paddingTop:o,$lineHeightStyle:a,$size:l,$type:s,component:p,ref:h,...u})})}let CJ="aria-role";function CQ(){let e=(0,sz._)(["\n    .ML__virtual-keyboard-toggle {\n      /* Prevent keyboard toggle from showing */\n      display: none !important;\n    }\n\n    .ML__content {\n      padding-inline-end: 1px;\n      transition: ",";\n    }\n\n    .ML__cmr {\n      font-family: ",";\n    }\n\n    /* margin-left:0.17em is added inline by mathlive to first element after comma separator we want to remove this effect here */\n    .ML__cmr[style='margin-left:0.17em'] {\n      margin-left: 0 !important;\n    }\n\n    .ML__container {\n      min-height: ",";\n    }\n\n    .ML__is-inline {\n      display: flex;\n      --selection-background-color-focused: ",";\n      --caret-color: ",";\n\n      cursor: ",";\n      max-width: ",";\n    }\n\n    .ML__mathlive {\n      line-height: ",";\n    }\n\n    .ML__caret:after {\n      border-right-width: ",";\n    }\n\n    .ML__sqrt-sign,\n    .ML__small-delim,\n    .ML__accent-body {\n      font-family: KaTeX_Typewriter, KaTeX_Main;\n    }\n\n    .ML__bb,\n    .ML__ams {\n      font-family: KaTeX_Typewriter, KaTeX_AMS, KaTeX_Main;\n    }\n\n    .ML__mathit {\n      font-family: KaTeX_Typewriter, KaTeX_Math, KaTeX_Main;\n    }\n\n    .ML__frak {\n      font-family: KaTeX_Typewriter, KaTeX_Fraktur, KaTeX_Main;\n    }\n\n    :host(:focus),\n    :host(:focus-within) {\n      outline: none;\n      caret-color: transparent;\n    }\n\n    ","\n\n    :host(:not(:focus)) .ML__container {\n      /* allows to scroll on mobile */\n      pointer-events: none;\n    }\n  "]);return CQ=function(){return e},e}let C0=(e,n,r)=>_v(e.getValue(r,"latex"));var C1=(0,e0.forwardRef)(function(e,n){var r;let{computableValueGetter:i,cwvId:a,fontSizeMode:o,id:l,isComputed:s,isDisabled:u,isError:c,label:d,onBlur:h,onChange:p,onContextMenu:m,onFocus:f,setInputFeedback:g,size:y,value:b,variant:v,virtualKeyboardMode:_}=e,[x,O]=(0,e0.useState)(0),w=(0,e0.useRef)(null),E=function(){let e=(0,xa.Z)();return(0,e0.useMemo)(()=>{var n,r;return n=dj.input(e),r=e.useExperimentalTheme,(0,d7.Z)(CQ(),n.INPUT_TRANSITION,n.INPUT_FONT_FAMILY,n.INPUT_MIN_HEIGHT_MATH,n.INPUT_SELECTION_COLOR,n.INPUT_CARET_COLOR,n.INPUT_CURSOR,n.INPUT_MAX_WIDTH,n.INPUT_LINE_HEIGHT,n.CARET_WIDTH,r?":host(.".concat(_Y,") .ML__is-inline {\n      --caret-color: ").concat(n.ALTERNATIVE.INPUT_CARET_COLOR_ERROR,";\n    }"):"")},[e])}();(0,e0.useEffect)(()=>{0===x&&(0,e0.startTransition)(()=>{var e,n;O(null!==(n=null===(e=w.current)||void 0===e?void 0:e.clientWidth)&&void 0!==n?n:0)})},[x]);let C=(0,_p.Z)(n),T=null==C?void 0:C.current;return r=null==C?void 0:C.current,(0,e0.useEffect)(()=>{var e;let n=null==r?void 0:null===(e=r.shadowRoot)||void 0===e?void 0:e.querySelectorAll("[".concat(CJ,"]"));null==n||n.forEach(e=>{let n=e.getAttribute(CJ);e.removeAttribute(CJ),(0,t9.$K)(n)&&e.setAttribute("role",n)})},[r]),function(e,n){let{normalFontSize:r,smallFontSize:i}=function(){let e=(0,xa.Z)();return(0,e0.useMemo)(()=>{let n=dj.input(e);return{normalFontSize:n.INPUT_TEXT_DEFAULT_SIZE,smallFontSize:n.INPUT_TEXT_MIN_SIZE}},[e])}(),a="normal"===e?r:i;(0,e0.useEffect)(()=>{(0,t9.$K)(n)&&function(e,n,r){var i;let a=null===(i=e.shadowRoot)||void 0===i?void 0:i.querySelector(n);(0,t9.Rw)(a)||(a.style.fontSize=r)}(n,_m,a)},[n,e,a])}(o,T),(0,K.tZ)(_Q,{"data-cwv-id":a,$isComputed:s,$isDisabled:u,$isError:c,$size:y,$variant:v,ref:w,tabIndex:u?0:void 0,children:(0,K.tZ)(_X,{computableValueGetter:i,"data-testid":l,id:l,inlineStyle:E,isDisabled:u,hasError:c,label:d,onBlur:h,onChange:p,onContextMenu:m,onExport:C0,onFocus:f,ref:n,setInputFeedback:g,value:b,virtualKeyboardMode:_})})}),C2=(0,CP.Z)((0,CK.jsx)("path",{d:"M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2m0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2m6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5M19 3l-6 6 2 2 7-7V3z"}),"ContentCut"),C3=(0,CP.Z)((0,CK.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),C4=(0,CP.Z)((0,CK.jsx)("path",{d:"M19 2h-4.18C14.4.84 13.3 0 12 0S9.6.84 9.18 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m7 18H5V4h2v3h10V4h2z"}),"ContentPaste"),C6=r(5638),C5=r(1677),C8=r(77592),C7=r(67145);function C9(){let e=(0,sz._)(["\n      .MuiList-root {\n        padding: ",";\n      }\n\n      .MuiMenuItem-root {\n        padding-inline: ",";\n        outline: ",";\n\n        &:focus: {\n          outline: ",";\n        }\n\n        &:focus-visible,\n        &.Mui-focusVisible {\n          box-shadow: ",";\n          outline: ",";\n        }\n      }\n\n      /* overriding default styles */\n      .MuiListItemIcon-root.MuiListItemIcon-root {\n        min-width: ",";\n      }\n    "]);return C9=function(){return e},e}let Te=(0,dC.zo)(C6.Z,{target:"ebhsa5j0"})(e=>{let{theme:n}=e,r=dj.mathInputMenu(n);return(0,d7.Z)(C9(),r.MATH_INPUT_MENU_LIST_PADDING,r.MATH_INPUT_MENU_ITEM_PADDING_INLINE,r.MATH_INPUT_MENU_ITEM_OUTLINE,r.MATH_INPUT_MENU_ITEM_OUTLINE,r.MATH_INPUT_MENU_ITEM_OUTLINE_FOCUSED,r.MATH_INPUT_MENU_ITEM_OUTLINE_FOCUSED_HIGH_CONTRAST,r.MATH_INPUT_MENU_ICON_MIN_WIDTH)});function Tt(e){let{anchorEl:n,cwvId:r,isOpen:i,onClose:a,onCopy:o,onCut:l,onPaste:s,path:u}=e,c=(0,xa.Z)(),{t:d}=tu(),{MATH_INPUT_MENU_ICON_VIEWBOX:h}=dj.mathInputMenu(c);return(0,K.BX)(Te,{"data-cwv-id":r,anchorEl:n,autoFocus:!1,"data-testid":"math-input-menu",disableAutoFocus:!0,disableEnforceFocus:!0,onClose:a,onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},open:i,children:[(0,t9.$K)(l)&&(0,K.BX)(C5.Z,{id:"".concat(u,"-firstItem"),onClick:l,children:[(0,K.tZ)(C8.Z,{children:(0,K.tZ)(C2,{fontSize:"inherit",viewBox:h})}),(0,K.tZ)(C7.Z,{children:d("contextMenuCut")})]}),(0,t9.$K)(o)&&(0,K.BX)(C5.Z,{onClick:o,children:[(0,K.tZ)(C8.Z,{children:(0,K.tZ)(C3,{fontSize:"inherit",viewBox:h})}),(0,K.tZ)(C7.Z,{children:d("contextMenuCopy")})]}),!(0,t9.yF)()&&(0,t9.$K)(s)&&(0,K.BX)(C5.Z,{onClick:s,children:[(0,K.tZ)(C8.Z,{children:(0,K.tZ)(C4,{fontSize:"inherit",viewBox:h})}),(0,K.tZ)(C7.Z,{children:d("contextMenuPaste")})]})]})}var Tn=r(57377);function Tr(){let e=(0,sz._)(["\n      display: ",";\n      width: ",";\n      height: ",";\n      background-color: ",";\n      border-radius: ",";\n      border-width: ",";\n      border-style: ",";\n      border-color: ",";\n      transition: ",";\n\n      animation-duration: ",";\n      animation-timing-function: ",";\n      animation-name: ",";\n\n      input:not(:disabled):hover ~ & {\n        background-color: ",";\n        border-color: ",";\n      }\n\n      input:disabled ~ & {\n        background-color: ",";\n        border-color: ",";\n      }\n    "]);return Tr=function(){return e},e}function Ti(){let e=(0,sz._)(["\n      border-width: ",";\n      animation-name: ",";\n\n      border-color: ",";\n\n      && {\n        input:hover ~ & {\n          border-color: ",";\n        }\n      }\n    "]);return Ti=function(){return e},e}let Ta=(0,dC.zo)("span",{target:"e19g3t9d0"})(e=>{let{$isError:n,theme:r}=e,i=dj.radio(r);return(0,U.iv)(Tr(),i.RADIO_ICON_DISPLAY,i.RADIO_ICON_WIDTH,i.RADIO_ICON_HEIGHT,n?i.RADIO_ICON_BACKGROUND_COLOR_ERROR:i.RADIO_ICON_BACKGROUND_COLOR,i.RADIO_ICON_BORDER_RADIUS,i.RADIO_ICON_BORDER_WIDTH,i.RADIO_ICON_BORDER_STYLE,n?i.RADIO_ICON_BORDER_COLOR_ERROR:i.RADIO_ICON_BORDER_COLOR,i.RADIO_ICON_TRANSITION,i.RADIO_ICON_ANIMATION_DURATION,i.RADIO_ICON_ANIMATION_TIMING_FUNCTION,i.RADIO_ICON_ANIMATION,n?i.RADIO_ICON_BACKGROUND_COLOR_ERROR_HOVER:i.RADIO_ICON_BACKGROUND_COLOR_HOVER,n?i.RADIO_ICON_BORDER_COLOR_ERROR_HOVER:i.RADIO_ICON_BORDER_COLOR_HOVER,i.RADIO_ICON_BACKGROUND_COLOR_DISABLED,i.RADIO_ICON_BORDER_COLOR_DISABLED)}),To=(0,dC.zo)(Ta,{target:"e19g3t9d1"})(e=>{let{$isError:n,theme:r}=e,i=dj.radio(r);return(0,U.iv)(Ti(),i.RADIO_ICON_BORDER_WIDTH_ACTIVE,i.RADIO_ICON_ANIMATION_ACTIVE,n?i.RADIO_ICON_BORDER_COLOR_ERROR:i.RADIO_ICON_BORDER_COLOR_ACTIVE,n?i.RADIO_ICON_BORDER_COLOR_ACTIVE_ERROR_HOVER:i.RADIO_ICON_BORDER_COLOR_ACTIVE_HOVER)});function Tl(e){let{isError:n,...r}=e;return(0,K.tZ)(Tn.Z,{...r,checkedIcon:(0,K.tZ)(To,{$isError:n}),icon:(0,K.tZ)(Ta,{$isError:n})})}let Ts=(0,dC.zo)(d1.Z,{target:"e1bknc9p0"})(e=>{let{$open:n,theme:r}=e,i=dj.stackWithAnimation(r);return{marginTop:n?i.SPACING:0,rowGap:i.SPACING,transition:i.STACK_WRAPPER_TRANSITION}});function Tu(e){let{children:n,open:r,...i}=e;return(0,K.tZ)(Ts,{$open:r,...i,children:n})}function Tc(){let e=(0,sz._)(["\n    white-space: ",";\n    ","\n  "]);return Tc=function(){return e},e}let Td=(0,dC.zo)(dC.ZT,{target:"eqliybn0"})(e=>{let{theme:n}=e,{COLOR:r,WHITE_SPACE:i}=dj.subtext(n);return(0,U.iv)(Tc(),i,n.useExperimentalTheme?"":"color: ".concat(r,";"))});function Th(e){let{children:n,component:r="span",spacing:i="normal",type:a,...o}=e,{useExperimentalTheme:l}=d4(),s=function(e,n,r){let i="normal"===n?"1.25":"0.5";switch(e){case"both":return"0 ".concat(i);case"none":return;case"suffix":return r?"0 0.5":"0 ".concat(i," 0 0");case"prefix":return"0 0 0 ".concat(i)}}(a,i,l),u=l?"mediumReg":"mediumRegCompact",c=l?void 0:"15px";return(0,K.tZ)(Td,{paddingSpacing:s,component:r,font:"secondary",variant:"basic",styleName:u,legacyFontSize:c,color:"secondary",...o,children:n})}let Tp=(0,dC.zo)(hf,{target:"e1bpa1670"})(e=>{let{$hasGroupTitle:n,theme:r}=e;if(r.useExperimentalTheme){let{CONTENT_PADDING_NO_TITLE:e,CONTENT_PADDING_WITH_TITLE:i}=dj.blockGroup(r);return{padding:n?i:e}}return null});function Tm(e){let{basePath:n,children:r,collapseVariant:i,hasTitle:a,shape:o}=e,{useExperimentalTheme:l}=d4();return(0,K.tZ)(d5.Z,{"data-testid":"".concat(n,"-collapse-container"),in:"collapsed"!==i,children:(0,K.tZ)(Tp,{"aria-hidden":"collapsed"===i,color:l?"transparent":"primary",component:"section","data-testid":n,id:n,$hasGroupTitle:a,shape:o,spacing:"large",children:r})})}function Tf(e){let{collapseVariant:n,html:r,isHighlighted:i,path:a}=e;return(0,K.tZ)(d5.Z,{"data-testid":"".concat(a,"-collapse-container"),in:i||"collapsed"!==n,children:(0,K.tZ)(CX,{"aria-hidden":"collapsed"===n,html:r,id:a,isHighlighted:i,paddingTop:3,role:"note"})})}var Tg=r(51009);let Ty=(0,dC.zo)(hh.Z,{target:"eb0pg4y0"})(e=>{let{theme:n}=e,{COUNTER_BUTTON_POSITIONER:r}=dj.counterButton(n);return{height:r.SIZE,width:r.SIZE,transform:r.TRANSFORM,"& > *":{transform:r.OPPOSITE_TRANSFORM}}}),Tb=(0,dC.zo)(hu.Z,{target:"eb0pg4y1"})(e=>{let{theme:n}=e,{COUNTER_BUTTON:r,COUNTER_BUTTON_BORDER_RADIUS:i}=dj.counterButton(n);return{padding:r.PADDING,borderRadius:i,minWidth:r.MIN_WIDTH,display:r.DISPLAY,flexDirection:r.FLEX_DIRECTION}}),Tv=(0,dC.zo)(d5.Z,{target:"eb0pg4y2"})(e=>{let{theme:n}=e,{COUNTER_BUTTON_BORDER_RADIUS:r,COUNTER_BUTTON_TRANSITION:i}=dj.counterButton(n);return{transition:i,borderRadius:r}}),T_=(0,dC.zo)(hh.Z,{target:"eb0pg4y3"})(e=>{let{$show:n,theme:r}=e,{COUNTER_BUTTON_ALTERNATIVE_COLOR:i,COUNTER_BUTTON_BORDER_RADIUS:a,COUNTER_BUTTON_INDICATOR:o,COUNTER_BUTTON_MAIN_COLOR:l}=dj.counterButton(r);return{margin:o.MARGIN,background:i,color:l,borderRadius:a,height:o.SIZE,width:o.SIZE,opacity:n?o.OPACITY_VISIBLE:o.OPACITY_HIDDEN}}),Tx=(0,dC.zo)(hh.Z,{target:"eb0pg4y4"})(e=>{let{$collapsed:n,theme:r}=e,{COUNTER_BUTTON_ALTERNATIVE_COLOR:i,COUNTER_BUTTON_BORDER_RADIUS:a,COUNTER_BUTTON_ICON:o,COUNTER_BUTTON_MAIN_COLOR:l,COUNTER_BUTTON_TRANSITION:s}=dj.counterButton(r);return{transition:s,background:n?o.DEFAULT_BACKGROUND_COLOR:i,borderRadius:a,height:o.SIZE,width:o.SIZE,display:o.DISPLAY,alignItems:o.ALIGN_ITEMS,justifyContent:o.JUSTIFY_CONTENT,svg:{height:o.SVG.SIZE,width:o.SVG.SIZE,transition:s,color:n?i:l,transform:n?o.TRANSITION_COLLAPSED:o.TRANSITION_EXPANDED}}}),TO=(0,dC.zo)(CV.Z,{target:"eb0pg4y5"})(e=>{let{theme:n}=e,{COUNTER_BUTTON_ICON:r}=dj.counterButton(n);return{padding:r.ALTERNATIVE_PADDING}}),Tw=(0,dC.zo)(hY,{target:"eb0pg4y6"})(e=>{let{$collapsed:n,theme:r}=e,{COUNTER_BUTTON_ICON:i,COUNTER_BUTTON_INDICATOR:a,COUNTER_BUTTON_MAIN_COLOR:o,COUNTER_BUTTON_TRANSITION:l}=dj.counterButton(r);return{transition:l,width:a.SIZE,height:a.SIZE,color:o,transform:n?i.TRANSITION_COLLAPSED:i.TRANSITION_EXPANDED}});var TE=e=>{let{basePath:n,collapseVariant:r}=e,i=tZ(cN(n)),{useExperimentalTheme:a}=d4(),o=tZ(cK(n)),l="collapsed"===r;return a?(0,K.tZ)(TO,{children:(0,K.tZ)(Tw,{$collapsed:l})}):(0,K.tZ)(Ty,{children:(0,K.BX)(Tb,{"data-testid":"".concat(n,"-header-collapse-button"),size:"small",variant:"contained",children:[(0,K.tZ)(Tv,{in:l&&i>0&&!o,children:(0,K.tZ)(Tg.a,{children:(0,K.tZ)(T_,{$show:l&&i>0,children:i>9?"9+":i})})}),(0,K.tZ)(Tx,{$collapsed:l,children:(0,K.tZ)(hY,{})})]})})};let TC=(0,dC.zo)(d1.Z,{target:"e39onaa0"})(e=>{let{$isClickable:n}=e;return{cursor:n?"pointer":"text"}});var TT=e=>{let{basePath:n,collapseVariant:r,descriptionId:i,isHighlighted:a,onToggleCollapse:o,titleHtml:l}=e,{useExperimentalTheme:s}=d4(),{t:u}=tu(),c="".concat(n,"-header-title-container"),d=["".concat(n,"-content"),i].filter(t9.$K),h=u("collapsed"===r?"ariaGroupsExpand":"ariaGroupsCollapse");return(0,K.BX)(TC,{$isClickable:"none"!==r,alignItems:"center","aria-controls":d.join(hy.L_),"aria-expanded":"expanded"===r,"aria-label":h,"data-testid":c,direction:"row",onClick:o,role:"none"!==r?"button":void 0,spacing:1.5,children:["none"!==r&&(0,K.tZ)(TE,{basePath:n,collapseVariant:r}),(0,K.tZ)(dC.ZT,{"aria-details":i,component:"h2","data-testid":"".concat(n,"-header-title"),variant:"body",font:"primary",styleName:"mediumBld",legacyFontSize:"20px",marginSpacing:s?void 0:"0 0 0 2",children:(0,K.tZ)(CX,{html:l,isHighlighted:a,size:"heading"})})]})};let Tk=(0,dC.zo)(hf,{target:"e1gwljz0"})(e=>{let{theme:n}=e;if(n.useExperimentalTheme){let{HEADER_PADDING:e}=dj.blockGroup(n);return{padding:e}}return null});function TR(e){let{basePath:n,collapseVariant:r,descriptionHtml:i,highlightedElement:a,onToggleCollapse:o,titleHtml:l}=e,s="".concat(n,"-header"),u=(0,t9.GI)(i),c="".concat(n,"-header-description"),{useExperimentalTheme:d}=d4();return(0,K.BX)(Tk,{"data-cwv-id":b.BLOCK_GROUP_HEADER,color:d?"transparent":"primary",component:"header","data-testid":s,shape:"collapsed"===r?"whole":"header",spacing:"normal",children:[(0,K.tZ)(TT,{basePath:n,collapseVariant:r,descriptionId:u?c:void 0,isHighlighted:"title"===a,onToggleCollapse:o,titleHtml:l}),u&&(0,K.tZ)(Tf,{collapseVariant:r,html:i,isHighlighted:"description"===a,path:c})]})}function TS(e){let{viewBox:n,...r}=e;return(0,K.BX)(ht.Z,{viewBox:"0 0 32 32",...r,children:[(0,K.tZ)("rect",{fill:"currentColor",height:"32",rx:"16",width:"32",xmlns:"http://www.w3.org/2000/svg"}),(0,K.tZ)("path",{clipRule:"evenodd",d:"M20.0003 9.33333C19.2639 9.33333 18.667 9.93029 18.667 10.6667C18.667 11.403 19.2639 12 20.0003 12C20.7367 12 21.3337 11.403 21.3337 10.6667C21.3337 9.93029 20.7367 9.33333 20.0003 9.33333ZM17.3337 10.6667C17.3337 9.19391 18.5276 8 20.0003 8C21.4731 8 22.667 9.19391 22.667 10.6667C22.667 12.1394 21.4731 13.3333 20.0003 13.3333C19.2082 13.3333 18.4967 12.9879 18.0083 12.4395L13.7935 14.9684C13.9267 15.2857 14.0003 15.6343 14.0003 16C14.0003 16.3658 13.9267 16.7145 13.7934 17.0319L18.0081 19.5607C18.4965 19.0122 19.2081 18.6667 20.0003 18.6667C21.4731 18.6667 22.667 19.8606 22.667 21.3333C22.667 22.8061 21.4731 24 20.0003 24C18.5276 24 17.3337 22.8061 17.3337 21.3333C17.3337 21.1328 17.3558 20.9374 17.3978 20.7494L12.9794 18.0984C12.5261 18.4544 11.9547 18.6667 11.3337 18.6667C9.8609 18.6667 8.66699 17.4728 8.66699 16C8.66699 14.5272 9.8609 13.3333 11.3337 13.3333C11.9548 13.3333 12.5263 13.5457 12.9796 13.9018L17.3978 11.2509C17.3558 11.0628 17.3337 10.8673 17.3337 10.6667ZM11.3337 14.6667C10.5973 14.6667 10.0003 15.2636 10.0003 16C10.0003 16.7364 10.5973 17.3333 11.3337 17.3333C12.07 17.3333 12.667 16.7364 12.667 16C12.667 15.2636 12.07 14.6667 11.3337 14.6667ZM18.667 21.3333C18.667 20.597 19.2639 20 20.0003 20C20.7367 20 21.3337 20.597 21.3337 21.3333C21.3337 22.0697 20.7367 22.6667 20.0003 22.6667C19.2639 22.6667 18.667 22.0697 18.667 21.3333Z",fill:"white",fillRule:"evenodd",xmlns:"http://www.w3.org/2000/svg"})]})}var TA=r(89567);function TI(){let e=(0,sz._)(["\n      svg {\n        height: ",";\n        width: ",";\n      }\n    "]);return TI=function(){return e},e}let TL=(0,dC.zo)(hd,{target:"e269g80"})(e=>{let{$isMobile:n,theme:r}=e,i=dj.calculatorActionsPanel(r);return{borderRadius:r.shape.borderRadius,padding:i.BUTTON_PADDING,":hover":{textDecoration:n?i.MOBILE_HOVER_TEXT_DECORATION:i.DESKTOP_HOVER_TEXT_DECORATION}}}),TM=(0,dC.zo)(d1.Z,{target:"e269g81"})(e=>{let{$isMobile:n,theme:r}=e,i=dj.calculatorActionsPanel(r);return n?(0,d7.Z)(TI(),i.MOBILE_LABEL_SVG_HEIGHT,i.MOBILE_LABEL_SVG_WIDTH):""});function TN(e){let{displayShareButton:n,forceClearButtonEnabled:r,isMobile:i}=e,a=(0,xa.Z)(),o=tZ(sa),{clearAllChanges:l,reloadCalculator:s,shareCalculatorResult:u}=zH(),{t:c}=tu(),{CONTAINER_GAP:d}=dj.calculatorActionsPanel(a),{ShareButtonIcon:h,buttonVariant:p,stackDirection:m}=(0,e0.useMemo)(()=>i?{buttonVariant:"outlined",stackDirection:"column",ShareButtonIcon:TA.Z}:{buttonVariant:"text",stackDirection:"row",ShareButtonIcon:TS},[i]),f={fullWidth:!0,$isMobile:i,variant:p};return(0,K.BX)(d1.Z,{"data-cwv-id":b.ACTION_PANEL,direction:m,gap:d,children:[n&&(0,K.tZ)(TL,{"data-cwv-id":b.ACTION_PANEL_SHARED,"data-testid":"share-result-button",label:(0,K.BX)(TM,{$isMobile:i,alignItems:"center",direction:"row",spacing:1,children:[(0,K.tZ)("div",{children:(0,K.tZ)(h,{})}),(0,K.tZ)("div",{children:c("shareResult")})]}),onClick:u,...f}),(0,K.tZ)(TL,{"data-cwv-id":b.ACTION_PANEL_RELOAD,"data-testid":"calculator-reload-button",label:c("reloadCalculator"),onClick:s,...f}),(0,K.tZ)(Tg.a,{children:(0,K.tZ)(TL,{"data-cwv-id":b.ACTION_PANEL_CLEAR,color:"error","data-testid":"calculator-clear-button",disabled:!(r||o),label:c("clearAllChanges"),onClick:l,...f})})]})}let TD=(0,dC.zo)(hd,{target:"enl2sxo0"})(e=>{let{theme:n}=e,{ALTERNATIVE:r,BUTTON_PADDING:i}=dj.calculatorActionsPanel(n),{BACKGROUND_COLOR:a,BORDER:o,BORDER_RADIUS:l,COLOR:s,FONT_SIZE:u,FONT_WEIGHT:c}=r.ACTION_BUTTON;return{backgroundColor:a.DEFAULT,borderRadius:l,border:o.DEFAULT,color:s,fontWeight:c,fontSize:u,padding:i,":hover":{backgroundColor:a.HOVER,border:o.HOVER},":active":{backgroundColor:a.PRESS,border:o.PRESS}}}),TB=(0,dC.zo)(d1.Z,{target:"enl2sxo1"})(e=>{let{theme:n}=e,{ALTERNATIVE:r}=dj.calculatorActionsPanel(n),{ALIGN_ITEMS:i,FLEX_DIRECTION:a,ROW_GAP:o}=r.SHARE_BUTTON;return{alignItems:i,flexDirection:a,rowGap:o}}),TP=(0,dC.zo)(d1.Z,{target:"enl2sxo2"})(e=>{let{theme:n}=e,{ALTERNATIVE:r}=dj.calculatorActionsPanel(n),{BORDER_TOP:i,FLEX_DIRECTION:a,GAP:o,PADDING:l}=r.ACTIONS_PANEL;return{borderTop:i,flexDirection:a,gap:o,padding:l}}),TK=(0,dC.zo)(TD,{target:"enl2sxo3"})(e=>{let{theme:n}=e,{ALTERNATIVE:r}=dj.calculatorActionsPanel(n);return{flex:r.SHARE_BUTTON.FLEX,padding:r.SHARE_BUTTON.PADDING}}),TU=(0,dC.zo)(d1.Z,{target:"enl2sxo4"})(e=>{let{theme:n}=e,{ALTERNATIVE:r}=dj.calculatorActionsPanel(n),{FLEX:i,FLEX_DIRECTION:a,GAP:o}=r.RIGHT_COLUMN;return{flexDirection:a,flex:i,gap:o}}),TV=(0,dC.zo)(TS,{target:"enl2sxo5"})(e=>{let{theme:n}=e,{ALTERNATIVE:r}=dj.calculatorActionsPanel(n),{ICON_COLOR:i,ICON_SIZE:a}=r.SHARE_BUTTON;return{color:i,width:a,height:a}});function TG(e){let{forceClearButtonEnabled:n}=e,r=tZ(sa),{clearAllChanges:i,reloadCalculator:a,shareCalculatorResult:o}=zH(),{t:l}=tu(),s={fullWidth:!0,variant:"text"};return(0,K.BX)(TP,{"data-cwv-id":b.ACTION_PANEL,children:[(0,K.tZ)(TK,{"data-cwv-id":b.ACTION_PANEL_SHARED,id:"share-result-button","data-testid":"share-result-button",label:(0,K.BX)(TB,{children:[(0,K.tZ)(TV,{}),(0,K.tZ)("div",{children:l("shareResult")})]}),onClick:o,...s}),(0,K.BX)(TU,{children:[(0,K.tZ)(TD,{"data-cwv-id":b.ACTION_PANEL_RELOAD,id:"calculator-reload-button","data-testid":"calculator-reload-button",label:l("reloadCalculator"),onClick:a,...s}),(0,K.tZ)(TD,{"data-cwv-id":b.ACTION_PANEL_CLEAR,id:"calculator-clear-button","data-testid":"calculator-clear-button",disabled:!(n||r),label:l("clearAllChanges"),onClick:i,...s})]})]})}var TF=r(76994);function TH(e){return(0,K.tZ)(ht.Z,{viewBox:"0 0 48 48",...e,children:(0,K.tZ)("path",{d:"M38 6H10C7.8 6 6 7.8 6 10V38C6 40.2 7.8 42 10 42H38C40.2 42 42 40.2 42 38V10C42 7.8 40.2 6 38 6ZM38 38H10V28.84L11.98 30.82L19.98 22.82L27.98 30.82L35.98 22.84L38 24.86V38ZM38 19.18L35.98 17.16L27.98 25.18L19.98 17.18L11.98 25.18L10 23.18V10H38V19.18Z"})})}function Tz(){let e=(0,sz._)(["\n      ","\n      position: ",";\n      overflow: ",";\n\n      svg {\n        position: absolute;\n        right: ",";\n        bottom: ",";\n      }\n    "]);return Tz=function(){return e},e}let T$=e=>{switch(e){case"right":return"float: right;";case"left":return"float: left;";case"center":return"margin: auto;";default:return""}},TZ=(0,dC.zo)(hh.Z,{target:"ehmc6p60"})(e=>{let{$alignment:n,theme:r}=e,{WRAPPER:i}=dj.dynamicImage(r);return(0,U.iv)(Tz(),T$(n),i.POSITION,i.OVERFLOW,i.ICON_SPACING,i.ICON_SPACING)}),Tj=(0,dC.zo)(hh.Z,{target:"ehmc6p61"})(e=>{let{$height:n,theme:r}=e,{BROKEN_IMAGE:i}=dj.dynamicImage(r);return{height:n,width:i.WIDTH,display:i.DISPLAY,alignItems:i.ALIGN_ITEMS,justifyContent:i.JUSTIFY_CONTENT,backgroundColor:i.BACKGROUND_COLOR,svg:{width:i.SVG.SIZE,height:i.SVG.SIZE,color:i.SVG.COLOR}}}),TW=(0,dC.zo)(TF.Z,{target:"ehmc6p62"})(e=>{let{theme:n}=e,{SKELETON_LOADER:r}=dj.dynamicImage(n);return"\n      position: ".concat(r.POSITION,";\n      width: ").concat(r.WIDTH,";\n      height: ").concat(r.HEIGHT,";\n    ")}),Tq=(0,dC.zo)("img",{target:"ehmc6p63"})(e=>{let{theme:n}=e,{IMAGE:r}=dj.dynamicImage(n);return{width:r.WIDTH}});function TY(e){let{alignment:n,alt:r,onClick:i,src:a,srcSet:o,width:l="100%"}=e,[s,u]=(0,e0.useState)(150),[c,d]=(0,e0.useState)(!0),[h,p]=(0,e0.useState)(null),{t:m}=tu(),f=(0,e0.useRef)(null),g=e=>{u(e.height),d(!1)};(0,e0.useEffect)(()=>{let e=null;f.current&&f.current.complete&&(0===f.current.naturalHeight?e=Error("Image did not load"):g(f.current)),p(e)},[a,f]);let y=(0,t9.$K)(h);return(0,K.BX)(TZ,{$alignment:n,minHeight:s,onClick:y?xl():i,width:l,children:[c&&!y&&(0,K.tZ)(TW,{variant:"rectangular"}),y?(0,K.tZ)(Tj,{$height:s,children:(0,K.tZ)(TH,{"aria-label":m("ariaBrokenImage")})}):(0,K.BX)("picture",{children:[o.map((e,n)=>{let{media:r,url:i}=e;return(0,K.tZ)("source",{media:r,srcSet:i},n)}),(0,K.tZ)(Tq,{alt:r,onError:()=>p(Error("Something went wrong during image loading")),onLoad:e=>g(e.currentTarget),ref:f,src:a})]})]})}var TX=r(72680);let TJ=e=>e.map(e=>{let{name:n}=e;return n});function TQ(){let e=(0,sz._)(["d"],["\\d"]);return TQ=function(){return e},e}function T0(){let e=(0,sz._)([".|,"],["\\.|,"]);return T0=function(){return e},e}function T1(){let e=(0,sz._)(["-"]);return T1=function(){return e},e}let T2=String.raw(TQ()),T3=String.raw(T0()),T4=String.raw(T1());function T6(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return RegExp("[^".concat(n.join("|"),"]*"),"g")}function T5(){let e=(0,sz._)(["\n      font-size: ",";\n    "]);return T5=function(){return e},e}function T8(){let e=(0,sz._)(["\n      display: ",";\n      align-items: ",";\n      margin: ",";\n      flex-basis: ",";\n      flex-shrink: ",";\n    "]);return T8=function(){return e},e}let T7=(0,dC.zo)(d1.Z,{target:"e1tj9q080"})(e=>{let{theme:n}=e,r=dj.mixedUnitInput(n);return(0,d7.Z)(T5(),r.CONTAINER_FONT_SIZE)}),T9=(0,dC.zo)("label",{target:"e1tj9q081"})(e=>{let{theme:n}=e,r=dj.mixedUnitInput(n);return(0,d7.Z)(T8(),r.LABEL_DISPLAY,r.LABEL_ALIGN_ITEMS,r.LABEL_MARGIN,r.LABEL_FLEX_BASIS,r.LABEL_FLEX_SHRINK)});function ke(e){let{id:n,isDisabled:r,isFirstFocusable:i,items:a,onBlur:o,onChange:l,onFirstFocus:s,onFocus:u,path:c,...d}=e,h=_L(),{formattedItems:p,handleBlur:m,handleChange:f,handleClick:g,handleFocus:y,handlePaste:b,standardFontSizeUnitsNames:v}=function(e){let{id:n,items:r,onBlur:i,onChange:a,onFocus:o,path:l}=e,s=dp(l),u=tZ(cA),[c,d]=(0,e0.useState)(r.map(e=>{let{name:n}=e;return n})),h=function(e){let{decimalSeparator:n,id:r,items:i,onChange:a,setInputFeedback:o}=e;return(0,e0.useCallback)((e,r,l)=>{let s=function(e){let{decimalSeparator:n,inputIndex:r,itemsLength:i,value:a}=e;return 0===r?function(e){var n;let r=e.replace(T6(T2,T4),""),i=null!==(n=r[0])&&void 0!==n?n:"",a=r.slice(1).replace(RegExp(T4,"g"),"");return"".concat(i).concat(a)}(a):r===i-1?function(e,n){let r=e.replace(T6(T2,T3),""),i=r.search(new RegExp(T3));if(i<0)return r;let a=r.slice(0,i),o=r.slice(i).replace(RegExp(T3,"g"),""),l=(0,_O.Nx)()?n:t4.an;return"".concat(a).concat(l).concat(o)}(a,n):a.replace(T6(T2),"")}({decimalSeparator:n,inputIndex:l,itemsLength:i.length,value:r});a(i.map(n=>({name:n.name,value:n.name===e?s:_S(n.value)}))),o((0,_O.Nx)()&&_V(s)?"decimalAmbiguity":null)},[n,a,i,o])}({decimalSeparator:u,id:n,items:r,onChange:a,setInputFeedback:s}),p=function(e){let{handleChange:n,onBlur:r,onFormattedUnitsNamesChange:i,setInputFeedback:a}=e;return(0,e0.useCallback)((e,o,l)=>{"-"===o&&n(e,"-0",l),i(n=>[...n,e]),r(),a(null)},[n,r,i,a])}({onBlur:i,handleChange:h,onFormattedUnitsNamesChange:d,setInputFeedback:s}),m=function(e){let{onFocus:n,onFormattedUnitsNamesChange:r,setInputFeedback:i}=e;return(0,e0.useCallback)((e,a)=>{r(n=>n.filter(n=>n!==e)),n(a.target),i(null)},[n,r,i])}({onFocus:o,onFormattedUnitsNamesChange:d,setInputFeedback:s}),f=function(e){let{handleChange:n,items:r,setInputFeedback:i}=e,a=_$();return(0,e0.useCallback)(async(e,o,l)=>{if(l!==r.length-1)return;o.preventDefault();let s=await _N();if((0,t9.Rw)(s)){i("pasteDisabled");return}let u=a(s);n(e,u.output,l),(0,_O.Nx)()||i(u.isAmbiguous?"decimalAmbiguity":null)},[r,n,i,a])}({items:r,handleChange:h,setInputFeedback:s}),g=(0,e0.useCallback)(()=>{s(null)},[s]),y=(0,e0.useCallback)((e,n,r)=>{if(c.includes(e)||(0,t9.Rw)(n)||n.isNaN())return r;if(!n.isFinite())return"";let i=_S(n);if(/(\.|,)$/.test(r)){let e=(0,_O.Nx)()?u:t4.an;return"".concat(i).concat(e)}return i},[u,c]),b=(0,e0.useMemo)(()=>r.map(e=>{let{formattedValue:n,name:r,value:i}=e;return{name:r,value:y(r,i,n)}}),[r,y]),v=function(e,n){let[r,i]=(0,e0.useState)(!1);return(0,TX.Z)(()=>{i(!0)},[]),(0,e0.useMemo)(()=>r?TJ(n.filter(n=>{let{name:r,value:i}=n;return!function(e,n){let r=document.getElementById(n);return!(0,t9.Rw)(r)&&_b(e,r)}(i,"".concat(e,"-").concat(r,"-container"))})):TJ(n),[n,e,r])}(n,b);return{handleBlur:p,handleChange:h,handleClick:g,handleFocus:m,handlePaste:f,formattedItems:b,standardFontSizeUnitsNames:v}}({id:n,items:a,onBlur:o,onChange:l,onFocus:u,path:c});return(0,K.tZ)(T7,{"data-testid":n,direction:"row",divider:(0,K.tZ)(xe,{isError:d.isError}),id:n,role:"group",tabIndex:-1,children:p.map((e,o)=>{let{name:l,value:u}=e;return(0,K.BX)(T9,{children:[(0,K.tZ)(_8,{"data-allow_decimal":o===a.length-1,"data-disable_negative":0!==o,"data-keyboard_type":"simple","data-testid":"".concat(n,"-").concat(l),id:"".concat(n,"-").concat(l),inputMode:"none",inputSize:v.includes(l)?"normal":"small",isDisabled:r,onBlur:e=>m(l,e.currentTarget.value,o),onChange:e=>f(l,e.currentTarget.value,o),onClick:g,onFocus:e=>y(l,e),onPaste:e=>b(l,e,o),ref:e=>{0===o&&i&&(null==e||e.focus(),s())},value:h(u),...d}),(0,K.tZ)(Th,{component:"span",spacing:"small",type:"suffix",children:l})]},l)})})}let{information:kt,negative:kn,positive:kr,warning:ki}=rM.TextBlockTextType;function ka(e){let{type:n}=e;switch(n){case kt:return(0,K.tZ)(hJ,{});case kn:return(0,K.tZ)(hn,{});case kr:return(0,K.tZ)(h3,{});case ki:return(0,K.tZ)(hr,{})}}function ko(){let e=(0,sz._)(["\n      color: ",";\n      line-height: ",";\n      font-size: ",";\n      svg {\n        display: ",";\n        font-size: ",";\n      }\n    "]);return ko=function(){return e},e}let{information:kl,negative:ks,positive:ku,warning:kc}=rM.TextBlockTextType,kd=(0,dC.zo)(hh.Z,{target:"e4mlrnn0"})(e=>{let{$formatType:n,$iconType:r,theme:i}=e,a=dj.textFieldIcon(i);return(0,d7.Z)(ko(),function(e,n){switch(e){case kl:return n.TEXT_FIELD_ICON_COLOR_INFO;case ks:return n.TEXT_FIELD_ICON_COLOR_NEGATIVE;case ku:return n.TEXT_FIELD_ICON_COLOR_POSITIVE;case kc:return n.TEXT_FIELD_ICON_COLOR_WARNING}}(r,a),a.TEXT_FIELD_ICON_LINE_HEIGHT,n===rM.Kj.regular?a.TEXT_FIELD_FONT_SIZE_REGULAR:a.TEXT_FIELD_FONT_SIZE_SMALL,a.TEXT_FIELD_SVG_DISPLAY,n===rM.Kj.regular?a.TEXT_FIELD_SVG_FONT_SIZE_REGULAR:a.TEXT_FIELD_SVG_FONT_SIZE_SMALL)});function kh(e){let{formatType:n,iconType:r}=e;return(0,K.tZ)(kd,{$formatType:n,$iconType:r,children:(0,K.tZ)(ka,{type:r})})}let kp={[rM.Kj.regular]:"regular",[rM.Kj.finePrint]:"small"},km=(0,dC.zo)(hh.Z,{target:"e1jx5kd50"})("flex-grow:1;overflow-x:",e=>{let{$containsHighlightedText:n}=e;return n?"visible":"auto"},";overflow-y:",e=>{let{$containsHighlightedText:n}=e;return n?"visible":"hidden"},";"),kf=(0,dC.zo)(hf,{target:"e1jx5kd51"})(e=>{let{$isFineprint:n,theme:r}=e,{useExperimentalTheme:i}=d4();if(!i)return null;let{EXPERIMENTAL:a}=dj.textField(r);return{borderRadius:a.BORDER_RADIUS,lineHeight:a.LINE_HEIGHT,padding:n?a.PADDING.FINE_PRINT:a.PADDING.REGULAR}});function kg(e){let{chunks:n,className:r,"data-testid":i,formatType:a,highlightedTextId:o,role:l,textType:s}=e,{useExperimentalTheme:u}=d4(),c=s===rM.TextBlockTextType.neutral?"primary":s,d=(0,t9.$K)(o),h=!u&&s!==rM.TextBlockTextType.neutral;return(0,K.tZ)(kf,{color:c,"data-testid":i,role:l,spacing:"small",$isFineprint:a===rM.Kj.finePrint,children:(0,K.BX)(d1.Z,{direction:"row",spacing:1,children:[h&&(0,K.tZ)(kh,{formatType:a,iconType:s}),(0,K.tZ)(km,{$containsHighlightedText:d&&n.some(e=>{let{uid:n}=e;return n===o}),children:n.map(e=>{let{html:n,uid:i}=e;return(0,K.tZ)(CX,{className:r,html:n,inline:!0,isHighlighted:d&&i===o,size:kp[a],type:c},i)})})]})})}var ky=r(33682),kb=r(98354);function kv(e){let{viewBox:n,...r}=e;return(0,K.tZ)(ht.Z,{width:"13",height:"10",viewBox:"0 0 13 10",...r,children:(0,K.tZ)("path",{d:"M1 4.5L5 8.5L11.5 1",stroke:"white",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}function k_(e){let{viewBox:n,...r}=e;return(0,K.tZ)(ht.Z,{...r,children:(0,K.tZ)("path",{clipRule:"evenodd",d:"M15.6575 6.19057C16.0042 6.55375 15.9908 7.1292 15.6276 7.47587L8.96091 13.8395C8.60961 14.1748 8.05679 14.1748 7.7055 13.8395L4.3722 10.6577C4.00903 10.311 3.99565 9.73556 4.34232 9.37238C4.68899 9.0092 5.26444 8.99582 5.62762 9.3425L8.33321 11.9251L14.3722 6.16067C14.7354 5.814 15.3108 5.82739 15.6575 6.19057Z",fillRule:"evenodd"})})}function kx(){let e=(0,sz._)(["\n      display: ",";\n      width: ",";\n      height: ",";\n      background-color: ",";\n      border-radius: ",";\n      border-width: ",";\n      border-style: ",";\n      border-color: ",";\n      transition: ",";\n\n      input:not(:disabled):hover ~ & {\n        background-color: ",";\n        border-color: ",";\n      }\n\n      input:disabled ~ & {\n        background-color: ",";\n        border-color: ",";\n      }\n    "]);return kx=function(){return e},e}function kO(){let e=(0,sz._)(["\n      border-width: ",";\n      background-color: ",";\n\n      svg {\n        width: ",";\n        height: ",";\n        fill: ",";\n        margin: ",";\n      }\n\n      input:not(:disabled):hover ~ & {\n        background-color: ",";\n      }\n\n      input:disabled ~ & {\n        background-color: ",";\n      }\n    "]);return kO=function(){return e},e}let kw=(0,dC.zo)("span",{target:"eborw4l0"})(e=>{let{$isError:n,theme:r}=e,i=dj.checkbox(r);return(0,U.iv)(kx(),i.CHECKBOX_ICON_DISPLAY,i.CHECKBOX_ICON_WIDTH,i.CHECKBOX_ICON_HEIGHT,n?i.CHECKBOX_ICON_BACKGROUND_COLOR_ERROR:i.CHECKBOX_ICON_BACKGROUND_COLOR,i.CHECKBOX_ICON_BORDER_RADIUS,i.CHECKBOX_ICON_BORDER_WIDTH,i.CHECKBOX_ICON_BORDER_STYLE,n?i.CHECKBOX_ICON_BORDER_COLOR_ERROR:i.CHECKBOX_ICON_BORDER_COLOR,i.CHECKBOX_ICON_TRANSITION,n?i.CHECKBOX_ICON_BACKGROUND_COLOR_ERROR_HOVER:i.CHECKBOX_ICON_BACKGROUND_COLOR_HOVER,n?i.CHECKBOX_ICON_BORDER_COLOR_ERROR_HOVER:i.CHECKBOX_ICON_BORDER_COLOR_HOVER,i.CHECKBOX_ICON_BACKGROUND_COLOR_DISABLED,i.CHECKBOX_ICON_BORDER_COLOR_DISABLED)}),kE=(0,dC.zo)(kw,{target:"eborw4l1"})(e=>{let{$isError:n,theme:r}=e,i=dj.checkbox(r);return(0,U.iv)(kO(),i.CHECKBOX_ICON_BORDER_WIDTH_ACTIVE,n?i.CHECKBOX_ICON_BACKGROUND_COLOR_ACTIVE_ERROR:i.CHECKBOX_ICON_BACKGROUND_COLOR_ACTIVE,i.CHECKBOX_ICON_SVG_WIDTH,i.CHECKBOX_ICON_SVG_HEIGHT,i.CHECKBOX_ICON_COLOR,i.CHECKBOX_ICON_MARGIN,n?i.CHECKBOX_ICON_BACKGROUND_COLOR_ACTIVE_ERROR_HOVER:i.CHECKBOX_ICON_BACKGROUND_COLOR_ACTIVE_HOVER,i.CHECKBOX_ICON_BACKGROUND_COLOR_ACTIVE_DISABLED)});function kC(){let e=(0,sz._)(["\n            color: ",";\n          "]);return kC=function(){return e},e}function kT(){let e=(0,sz._)(["\n      gap: ",";\n      height: ",";\n      ",";\n\n      &.MuiFormControlLabel-root {\n        align-items: ",";\n      }\n\n      & .Mui-checked + .MuiFormControlLabel-label {\n        font-weight: ",";\n      }\n    "]);return kT=function(){return e},e}let kk=(0,dC.zo)(ky.Z,{target:"e1a2rehb0"})(e=>{let{$isError:n,theme:r}=e,i=dj.checkbox(r);return(0,U.iv)(kT(),i.CHECKBOX_GAP,i.CHECKBOX_ROW_HEIGHT,n?(0,U.iv)(kC(),i.CHECKBOX_ICON_COLOR_ERROR):"",i.CHECKBOX_INLINE_LABEL_ALIGN_ITEMS,i.CHECKBOX_LABEL_WEIGHT_SELECTED)});function kR(e){let{ariaLabelledby:n,checkboxProps:r,formLabelProps:i,isChecked:a,isDisabled:o,isError:l,label:s,onChange:u,value:c}=e,{useExperimentalTheme:d}=d4();return(0,K.tZ)(kk,{$isError:l,checked:a,control:(0,K.tZ)(kb.Z,{"aria-labelledby":n,checkedIcon:(0,K.tZ)(kE,{$isError:l,children:d?(0,K.tZ)(kv,{}):(0,K.tZ)(k_,{})}),icon:(0,K.tZ)(kw,{$isError:l}),...r}),disabled:o,label:null!=s?s:"",onChange:e=>{let{checked:n}=e.target;u(n)},value:c,...i})}function kS(e){let{"data-testid":n,highlightedPart:r,prefixHtml:i,suffixHtml:a,value:o}=e,{direction:l}=(0,xa.Z)();return(0,K.BX)("span",{"data-testid":n,children:[!(0,t9.oM)(i)&&(0,K.BX)(Th,{type:"none",children:["rtl"===l&&hy.L_,(0,K.tZ)(CX,{font:"input",html:i,inline:!0,isHighlighted:"prefix"===r,type:"secondary"}),"ltr"===l&&hy.L_]}),o,!(0,t9.oM)(a)&&(0,K.BX)(Th,{type:"suffix",children:["ltr"===l&&hy.L_,(0,K.tZ)(CX,{font:"input",html:a,inline:!0,isHighlighted:"suffix"===r,type:"secondary"}),"rtl"===l&&hy.L_]})]})}function kA(){let e=(0,sz._)(["\n    && {\n      line-height: ",";\n    }\n  "]);return kA=function(){return e},e}function kI(){let e=(0,sz._)(["\n    .MuiStack-root + &.MuiBox-root {\n      margin-top: ",";\n    }\n  "]);return kI=function(){return e},e}let kL=(0,dC.zo)(CX,{target:"e1rldr7g0"})(e=>{let{theme:n}=e,r=dj.checkbox(n);return(0,U.iv)(kA(),r.CHECKBOX_INLINE_LABEL_LINE_HEIGHT)}),kM=(0,dC.zo)(hh.Z,{target:"e1rldr7g1"})(e=>{let{theme:n}=e,r=dj.checkbox(n);return(0,U.iv)(kI(),r.CHECKBOX_LABEL_GAP)});function kN(e){let{ariaLabelledby:n,"data-testid":r,highlightedPart:i,isDisabled:a,isError:o,onChange:l,options:s,prefixHtml:u,suffixHtml:c,value:d}=e,[h,p]=s;return(0,K.tZ)(kM,{"data-cwv-id":b.BLOCK_VARIABLE_VALUE_SELECT_CHECKBOX,"data-testid":r,children:(0,K.tZ)(Tg.a,{children:(0,K.tZ)(kR,{ariaLabelledby:n,isChecked:d===h.value,isDisabled:a,isError:o,label:(0,K.tZ)(kS,{highlightedPart:i,prefixHtml:u,suffixHtml:c,value:(0,K.tZ)(kL,{html:h.label,inline:!0})}),onChange:e=>{var n;return l(null!==(n=e?h.value:null==p?void 0:p.value)&&void 0!==n?n:null)},value:null!=d?d:""})})})}function kD(){let e=(0,sz._)(["\n              &:hover {\n                box-shadow: ",";\n                border-color: ",";\n              }\n            "]);return kD=function(){return e},e}function kB(){let e=(0,sz._)(["\n              background: ",";\n            "]);return kB=function(){return e},e}function kP(){let e=(0,sz._)(["\n        border: ",";\n        height: ",";\n\n        &&:focus-within {\n          ","\n        }\n\n        ","\n\n        ","\n      "]);return kP=function(){return e},e}function kK(){let e=(0,sz._)(["\n    && {\n      padding: ",";\n      border-style: ",";\n      border-width: ",";\n      cursor: ",";\n      transition: ",";\n      border-radius: ",";\n      background-color: ",";\n      margin-top: ",";\n      overflow: auto;\n      outline: ",";\n\n      &:focus {\n        outline: ",";\n      }\n\n      ","\n\n      ","\n    }\n  "]);return kK=function(){return e},e}function kU(){let e=(0,sz._)(["\n      border: ",";\n      outline: ",";\n      background: ",";\n      box-shadow: ",";\n    "]);return kU=function(){return e},e}function kV(){let e=(0,sz._)(["\n    border: ",";\n    outline: ",";\n    background: ",";\n    box-shadow: ",";\n  "]);return kV=function(){return e},e}function kG(){let e=(0,sz._)(["\n    &:focus-within {\n      border-color: ",";\n    }\n    border-color: ",";\n  "]);return kG=function(){return e},e}let kF=(e,n)=>{let{$isDisabled:r,$isError:i}=n,a=dj.inputField(e),o=e.useExperimentalTheme?(0,U.iv)(kP(),a.ALTERNATIVE.BORDER,a.ALTERNATIVE.HEIGHT,function(e,n,r){let{BACKGROUND_FOCUS:i,BORDER_OUTLINE_FOCUS:a,BOX_SHADOW_FOCUS:o}=e.ALTERNATIVE;return n?null:r?(0,U.iv)(kU(),a.ERROR,a.ERROR,i,o.ERROR):(0,U.iv)(kV(),a.DEFAULT,a.DEFAULT,i,o.DEFAULT)}(a,r,i),r||i?"":(0,U.iv)(kD(),a.ALTERNATIVE.BOX_SHADOW_HOVER,a.ALTERNATIVE.BORDER_COLOR_HOVER),i?(0,U.iv)(kB(),a.ALTERNATIVE.BACKGROUND_ERROR):""):"";return(0,U.iv)(kK(),a.FIELD_PADDING,a.FIELD_BORDER_STYLE,a.FIELD_BORDER_WIDTH,r?a.FIELD_CURSOR_DISABLED:a.FIELD_CURSOR_DEFAULT,a.FIELD_TRANSITION,a.FIELD_BORDER_RADIUS,r?a.FIELD_BACKGROUND_COLOR_DISABLED:a.FIELD_BACKGROUND_COLOR,a.FIELD_MARGIN_TOP,a.FIELD_OUTLINE,a.FIELD_OUTLINE,function(e,n){let{FIELD_BORDER_COLOR:r,FIELD_BORDER_COLOR_ACTIVE:i,FIELD_BORDER_COLOR_DISABLED:a,FIELD_BORDER_COLOR_ERROR:o}=n,l=[o,a][e.indexOf(!0)];return(0,t9.$K)(l)?"\n      border-color: ".concat(l,";\n    "):(0,U.iv)(kG(),i,r)}([i,r],a),o)};var kH=(0,dC.zo)(d1.Z,{target:"eavt5nr0"})(e=>{let{theme:n,...r}=e;return kF(n,r)});function kz(){let e=(0,sz._)(["$&"],["\\$&"]);return kz=function(){return e},e}let k$=/[|\\{}()[\]^$+*?.]/g;function kZ(e){let{highlight:n="",text:r}=e,{useExperimentalTheme:i}=d4();if((0,t9.oM)(n))return(0,K.tZ)(K.HY,{children:r});let a=n.replace(k$,String.raw(kz())),o=RegExp("(".concat(a,")"),"gi"),l=i?void 0:"15px";return(0,K.tZ)(K.HY,{children:r.split(o).map((e,r)=>e.toLowerCase()===n.toLowerCase()?(0,K.tZ)(dC.ZT,{component:"strong",styleName:"mediumBldCondensed",font:"primary",variant:"body",legacyFontSize:l,children:e},r):(0,K.tZ)(e0.Fragment,{children:e},r))})}function kj(){let e=(0,sz._)(["\n      font-size: ",";\n      font-weight: ",";\n      line-height: ",";\n      padding: ",";\n      color: ",";\n      text-transform: ",";\n    "]);return kj=function(){return e},e}function kW(){let e=(0,sz._)(["\n      padding: ",";\n    "]);return kW=function(){return e},e}let kq=(0,dC.zo)("div",{target:"eo0wh230"})(e=>{let{theme:n}=e,r=dj.autocompleteGroup(n);return(0,U.iv)(kj(),r.GROUP_HEADER_FONT_SIZE,r.GROUP_HEADER_FONT_WEIGHT,r.GROUP_HEADER_LINE_HEIGHT,r.GROUP_HEADER_PADDING,r.GROUP_HEADER_COLOR,r.GROUP_HEADER_TEXT_TRANSFORM)}),kY=(0,dC.zo)("ul",{target:"eo0wh231"})(e=>{let{theme:n}=e,r=dj.autocompleteGroup(n);return(0,U.iv)(kW(),r.GROUP_CONTENT_PADDING)});function kX(e){let{children:n,group:r,key:i}=e;return(0,K.BX)("li",{children:[(0,K.tZ)(kq,{children:r}),(0,K.tZ)(kY,{children:n})]},i)}var kJ=r(61906);function kQ(){let e=(0,sz._)(["\n      .MuiAutocomplete-endAdornment .MuiButtonBase-root {\n        height: ",";\n        width: ",";\n        padding: ",";\n      }\n    "]);return kQ=function(){return e},e}function k0(){let e=(0,sz._)(["\n      && .MuiAutocomplete-inputRoot {\n        ","\n\n        input.MuiInput-input {\n          color: ",";\n          padding: ",";\n\n          &::placeholder {\n            -webkit-text-fill-color: ",";\n            opacity: 1;\n          }\n          // input is active\n          &[aria-controls]::placeholder {\n            -webkit-text-fill-color: ",";\n          }\n\n          &:disabled::placeholder {\n            -webkit-text-fill-color: ",";\n          }\n        }\n      }\n    "]);return k0=function(){return e},e}var k1=(0,dC.zo)(kJ.Z,{target:"e6zdiyb0"})(e=>{let{$isError:n,theme:r}=e,i=dj.autocomplete(r),{EXPERIMENTAL:a}=i,o=(0,U.iv)(kQ(),a.AUTOCOMPLETE_BUTTON_HEIGHT,a.AUTOCOMPLETE_BUTTON_WIDTH,a.AUTOCOMPLETE_BUTTON_PADDING);return(0,U.iv)(k0(),r.useExperimentalTheme?o:"",n?i.AUTOCOMPLETE_ERROR_COLOR:i.root.color,i.AUTOCOMPLETE_PADDING,n?i.AUTOCOMPLETE_ERROR_COLOR:i.AUTOCOMPLETE_PLACEHOLDER_COLOR,n?i.AUTOCOMPLETE_PLACEHOLDER_COLOR:i.AUTOCOMPLETE_PLACEHOLDER_COLOR_ACTIVE,r.palette.grey["700"])});function k2(){let e=(0,sz._)(["\n      background-color: ",";\n      display: ",";\n      justify-content: ",";\n      padding: ",";\n\n      span {\n        display: ",";\n      }\n    "]);return k2=function(){return e},e}let k3=(0,dC.zo)("div",{target:"e4m3qvu0"})(e=>{let{theme:n}=e,{AUTOCOMPLETE_LOADER_BACKGROUND_COLOR:r,AUTOCOMPLETE_LOADER_CIRCULAR_PROGRESS_DISPLAY:i,AUTOCOMPLETE_LOADER_DISPLAY:a,AUTOCOMPLETE_LOADER_JUSTIFY_CONTENT:o,AUTOCOMPLETE_LOADER_PADDING:l}=dj.autocomplete(n);return(0,U.iv)(k2(),r,a,o,l,i)},";");function k4(){return(0,K.tZ)(k3,{"data-testid":"autocomplete-loader",children:(0,K.tZ)(dT.Z,{disableShrink:!0,size:16})})}var k6=r(90357);function k5(){let e=(0,sz._)(["\n      && .MuiAutocomplete-endAdornment {\n        right: ",";\n      }\n\n      &:hover .MuiInput-root:not(.Mui-disabled) {\n        .MuiAutocomplete-popupIndicator {\n          background-color: ",";\n        }\n      }\n    "]);return k5=function(){return e},e}var k8=(0,dC.zo)(k6.Z,{target:"e1uisip00"})(e=>{let{theme:n}=e,r=dj.autocomplete(n);return(0,d7.Z)(k5(),r.endAdornment.right,r.popupIndicatorOpen.backgroundColor)});function k7(){let e=(0,sz._)(["\n        && {\n          margin-top: ",";\n        }\n      "]);return k7=function(){return e},e}function k9(){let e=(0,sz._)(["\n    flex-grow: 1;\n\n    ","\n  "]);return k9=function(){return e},e}function Re(){let e=(0,sz._)(["\n    &&& .MuiAutocomplete-input::placeholder {\n      // for Firefox\n      color: ",";\n      // for webkit-based browsers\n      -webkit-text-fill-color: ",";\n    }\n  "]);return Re=function(){return e},e}let Rt=(0,dC.zo)(d1.Z,{target:"eigp13f0"})(e=>{let{theme:n}=e,r=dj.variableBlock(n),i=n.useExperimentalTheme?(0,U.iv)(k7(),r.ALTERNATIVE.DROPDOWN_MARGIN_TOP):"";return(0,U.iv)(k9(),i)}),Rn=(0,dC.zo)(function(e){var n;let{"data-testid":r,disableClearable:i=!0,inputId:a,inputProps:o,isDisabled:l,isError:s=!1,multiple:u,onChange:c,options:d,placeholder:h,value:p=null,...m}=e,f=(0,xa.Z)(),g=(0,e0.useMemo)(()=>dj.autocomplete(f),[f]),{t:y}=tu(),b=u?function(e,n){if(!Array.isArray(n))throw Error("Value must be an array if Select contain multiple prop");return e.filter(e=>n.some(n=>lP()(n,e.value)))}(d,p):null!==(n=d.find(e=>lP()(e.value,p)))&&void 0!==n?n:null,{highlight:v,input:_,select:x}=function(e,n){let[r,i]=(0,e0.useState)(""),a=(0,e0.useRef)(null),[o,l]=(0,e0.useState)(!1),[s,u]=(0,e0.useState)([]),c=(0,e0.useRef)(!1);(0,e0.useEffect)(()=>{if(o){let n=setTimeout(()=>{u(e)},200);return()=>{clearTimeout(n)}}u([])},[o,e]);let d=(0,e0.useCallback)(async()=>{var e,n;await (0,t9.Z0)(),i(null!==(n=null===(e=a.current)||void 0===e?void 0:e.value)&&void 0!==n?n:"")},[]),h=(0,e0.useCallback)(async()=>{await (0,t9.Z0)(),l(!0),i(""),c.current=!1},[]),p=(0,e0.useCallback)(async()=>{if(c.current){var e;await (0,t9.Z0)(),c.current=!1,null===(e=a.current)||void 0===e||e.select()}c.current=!0},[]),m=(0,e0.useCallback)(async()=>{await (0,t9.Z0)(),l(!1),c.current=!1,function(e){if((0,t9.Rw)(e.current))return;let n=e.current.value.length;e.current.setSelectionRange(n,n)}(a)},[]),f=(0,e0.useCallback)(async(e,r)=>{var i;await (0,t9.Z0)(),n(Array.isArray(r)?r.map(e=>{let{value:n}=e;return n}):null!==(i=null==r?void 0:r.value)&&void 0!==i?i:null)},[n]);return{select:{isLoading:o&&0===s.length,isOpen:o,finalOptions:s,onChange:f,onClose:m,onOpen:h},input:{onChange:d,onClick:p,ref:a},highlight:r}}(d,c);return(0,K.tZ)(k8,{...m,ChipProps:{deleteIcon:(0,K.tZ)(hX,{})},blurOnSelect:"touch",clearIcon:(0,K.tZ)(hX,{}),"data-testid":r,disableClearable:i,disabled:l,getOptionLabel:e=>e.label,loading:x.isLoading,loadingText:(0,K.tZ)(k4,{}),multiple:u,noOptionsText:(0,K.tZ)(dC.ZT,{font:"primary",variant:"body",styleName:"smallRegCompact",legacyFontSize:"15px",color:"disabled",children:y("autoCompleteEmptyList")}),onChange:x.onChange,onClose:x.onClose,onOpen:x.onOpen,open:x.isOpen,options:x.finalOptions,popupIcon:(0,K.tZ)(dC.v4,{htmlColor:s?g.AUTOCOMPLETE_ERROR_COLOR:"currentColor"}),renderGroup:kX,renderInput:e=>(0,K.tZ)(k1,{...e,$isError:s,InputProps:{...e.InputProps,disableUnderline:!0,inputRef:_.ref},autoFocus:!1,inputProps:{...e.inputProps,...o,id:a,disableUnderline:!0},onChange:_.onChange,onClick:_.onClick,placeholder:h,variant:"standard"}),renderOption:(e,n,r)=>{let i=n.label||String(n.value);return(0,K.tZ)(C5.Z,{...e,children:r.selected?i:(0,K.tZ)(kZ,{highlight:v,text:i})})},selectOnFocus:!1,value:b})},{target:"eigp13f1"})(e=>{let{theme:n}=e,{AUTOCOMPLETE_PLACEHOLDER_COLOR_ACTIVE:r}=dj.autocomplete(n);return(0,U.iv)(Re(),r,r)});function Rr(e){let{highlightedPart:n,prefixHtml:r,suffixHtml:i,...a}=e,{t:o}=tu(),l=(0,e0.useMemo)(()=>{let e=a.options.length<=5;return{placeholder:o(e?"selectPlaceholder":"autoCompletePlaceholder"),inputProps:{readOnly:e}}},[a.options.length,o]);return(0,K.tZ)(Rt,{"data-cwv-id":b.BLOCK_VARIABLE_VALUE_SELECT_DROPDOWN,children:(0,K.BX)(kH,{$isDisabled:a.isDisabled,$isError:a.isError,alignItems:"center",flexDirection:"row",children:[!(0,t9.oM)(r)&&(0,K.tZ)(Th,{type:"prefix",children:(0,K.tZ)(CX,{font:"input",html:r,inline:!0,isHighlighted:"prefix"===n,type:"secondary"})}),(0,K.tZ)(Rn,{...a,...l}),!(0,t9.oM)(i)&&(0,K.tZ)(Th,{type:"suffix",children:(0,K.tZ)(CX,{font:"input",html:i,inline:!0,isHighlighted:"suffix"===n,type:"secondary"})})]})})}var Ri=r(51255);function Ra(){let e=(0,sz._)(["\n      gap: ",";\n      ",";\n      height: ",";\n      vertical-align: ",";\n\n      &.MuiFormControlLabel-root {\n        align-items: ",";\n      }\n\n      & .Mui-checked + .MuiFormControlLabel-label {\n        font-weight: ",";\n      }\n    "]);return Ra=function(){return e},e}function Ro(){let e=(0,sz._)(["\n    && {\n      line-height: ",";\n    }\n  "]);return Ro=function(){return e},e}function Rl(){let e=(0,sz._)(["\n    && {\n      margin-top: ",";\n    }\n  "]);return Rl=function(){return e},e}let Rs=(0,dC.zo)(ky.Z,{target:"e14gomho0"})(e=>{let{$isError:n,theme:r}=e,i=dj.radioGroup(r);return(0,U.iv)(Ra(),i.RADIO_GROUP_GAP,n?"color: ".concat(i.RADIO_GROUP_COLOR_ERROR):"",i.RADIO_GROUP_HEIGHT,i.RADIO_GROUP_VERTICAL_ALIGN,i.RADIO_GROUP_LABEL_ALIGN_ITEMS,i.RADIO_GROUP_LABEL_WEIGHT_SELECTED)}),Ru=(0,dC.zo)(CX,{target:"e14gomho1"})(e=>{let{theme:n}=e,r=dj.radioGroup(n);return(0,U.iv)(Ro(),r.RADIO_GROUP_LABEL_LINE_HEIGHT)}),Rc=(0,dC.zo)(hh.Z,{target:"e14gomho2"})(e=>{let{theme:n}=e,r=dj.radio(n),i={height:r.EXPERIMENTAL.RADIO_CONTAINER_HEIGHT};return{minHeight:r.RADIO_CONTAINER_MIN_HEIGHT,"&:not(:last-child)":{marginBottom:r.RADIO_CONTAINER_SPACING},...n.useExperimentalTheme?i:{}}}),Rd=(0,dC.zo)(Ri.Z,{target:"e14gomho3"})(e=>{let{theme:n}=e,r=dj.radioGroup(n);return(0,U.iv)(Rl(),r.RADIO_GROUP_LABEL_GAP)});function Rh(e){let{"data-testid":n,highlightedPart:r,isDisabled:i,isError:a,onChange:o,options:l,prefixHtml:s,suffixHtml:u,value:c}=e;return(0,K.tZ)(Rd,{"data-cwv-id":b.BLOCK_VARIABLE_VALUE_SELECT_RADIO,"data-testid":n,onChange:e=>o(e.target.value),value:c,children:l.map(e=>{let{label:n,value:o}=e;return(0,K.tZ)(Rc,{children:(0,K.tZ)(Tg.a,{children:(0,K.tZ)(Rs,{$isError:a,componentsProps:{typography:{variant:"body1"}},control:(0,K.tZ)(Tl,{isError:a}),disabled:i,label:(0,K.tZ)(kS,{highlightedPart:r,prefixHtml:s,suffixHtml:u,value:(0,K.tZ)(Ru,{html:n,inline:!0})}),value:o})})},o)})})}let{CHECKBOX:Rp,DROPDOWN:Rm,RADIO:Rf}=rM.ValueSelectV2UiType;function Rg(e){let{onChange:n,options:r,path:i,type:a,...o}=e,{optionsWithHtmlLabels:l,optionsWithValueLabels:s}=(0,e0.useMemo)(()=>({optionsWithHtmlLabels:r.map(e=>{let{label:n,...r}=e;return{...r,label:n.html}}),optionsWithValueLabels:r.map(e=>{let{label:n,...r}=e;return{...r,label:n.value}})}),[r]),u=e=>{let r=[Rp].includes(a);if(Array.isArray(e))throw Error("Invalid value returned from value select: expected string but array was given");if(!r&&(0,t9.Rw)(e))throw Error("Invalid value returned from value select: expected string but nullish value was given");n(e)};switch(a){case Rm:return(0,K.tZ)(Rr,{...o,inputId:"".concat(i,"-input"),onChange:u,options:s});case Rf:return(0,K.tZ)(Rh,{...o,onChange:u,options:l});case Rp:return(0,K.tZ)(kN,{...o,ariaLabelledby:"".concat(i,"-label"),onChange:u,options:l});default:return"Not implemented"}}function Ry(){let e=(0,sz._)(["\n      align-items: ",";\n      background-color: ",";\n      border: ",";\n      border-radius: ",";\n      color: ",";\n      display: ",";\n      font-family: ",";\n      font-size: ","px;\n      font-weight: ",";\n      text-transform: ",";\n      height: ",";\n      outline: ",";\n      position: ",";\n      width: ",";\n      transition: ",";\n      user-select: ",";\n      padding: ",";\n\n      .indicator-container {\n        color: ",";\n        transition: ",";\n      }\n\n      &:active {\n        background-color: ",";\n        color: ",";\n\n        .indicator-container {\n          color: ",";\n        }\n      }\n      &:hover {\n        background-color: ",";\n      }\n    "]);return Ry=function(){return e},e}(g=k||(k={})).DIGIT="digit",g.NAVIGATION="navigation",g.SUBMENU="submenu",g.SYMBOL="symbol",g.VARIANT="variant";let{DIGIT:Rb,NAVIGATION:Rv,SUBMENU:R_,SYMBOL:Rx,VARIANT:RO}=k,Rw=(0,dC.zo)(hu.Z,{target:"e19dpzi40"})(e=>{let{$variant:n,theme:r}=e,{useExperimentalTheme:i}=d4(),a=dj.virtualKeyboardKey(r,i),o=function(e,n){switch(n){case Rb:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_DIGIT;case Rv:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_NAVIGATION;case Rx:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_SYMBOL;case RO:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_VARIANT;case R_:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_SUBMENU}}(a,n);return(0,d7.Z)(Ry(),a.VIRTUAL_KEYBOARD_KEY_ALIGN_ITEMS,o,a.VIRTUAL_KEYBOARD_KEY_BUTTON_BORDER,n===Rv?a.VIRTUAL_KEYBOARD_KEY_BUTTON_BORDER_RADIUS_NAVIGATION:a.VIRTUAL_KEYBOARD_KEY_BUTTON_BORDER_RADIUS,function(e,n){switch(n){case Rb:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_DIGIT;case Rv:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_NAVIGATION;case Rx:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_SYMBOL;case RO:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_VARIANT;case R_:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_SUBMENU}}(a,n),a.VIRTUAL_KEYBOARD_KEY_BUTTON_DISPLAY,a.VIRTUAL_KEYBOARD_KEY_BUTTON_FONT_FAMILY,a.VIRTUAL_KEYBOARD_KEY_BUTTON_FONT_SIZE,a.VIRTUAL_KEYBOARD_KEY_BUTTON_FONT_WEIGHT,a.VIRTUAL_KEYBOARD_KEY_TEXT_TRANSFORM,a.VIRTUAL_KEYBOARD_KEY_BUTTON_HEIGHT,a.VIRTUAL_KEYBOARD_KEY_BUTTON_OUTLINE,a.VIRTUAL_KEYBOARD_KEY_BUTTON_POSITION,a.VIRTUAL_KEYBOARD_KEY_BUTTON_WIDTH,r.transitions.create("all",{duration:a.VIRTUAL_KEYBOARD_KEY_BUTTON_TRANSITION_DURATION,easing:a.VIRTUAL_KEYBOARD_KEY_BUTTON_TRANSITION_EASING}),a.VIRTUAL_KEYBOARD_KEY_BUTTON_USER_SELECT,a.VIRTUAL_KEYBOARD_KEY_BUTTON_PADDING,a.VIRTUAL_KEYBOARD_KEY_BUTTON_INDICATOR_COLOR,r.transitions.create("all",{duration:a.VIRTUAL_KEYBOARD_KEY_BUTTON_TRANSITION_DURATION,easing:a.VIRTUAL_KEYBOARD_KEY_BUTTON_TRANSITION_EASING}),function(e,n){switch(n){case Rb:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_DIGIT_ACTIVE;case Rv:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_NAVIGATION_ACTIVE;case Rx:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_SYMBOL_ACTIVE;case RO:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_VARIANT_ACTIVE;case R_:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_BACKGROUND_COLOR_SYMBOL_ACTIVE}}(a,n),function(e,n){switch(n){case Rb:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_DIGIT_ACTIVE;case Rv:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_NAVIGATION_ACTIVE;case Rx:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_SYMBOL_ACTIVE;case RO:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_VARIANT_ACTIVE;case R_:return e.VIRTUAL_KEYBOARD_KEY_BUTTON_COLOR_SUBMENU_ACTIVE}}(a,n),a.VIRTUAL_KEYBOARD_KEY_BUTTON_INDICATOR_COLOR_ACTIVE,o)});function RE(){let e=(0,sz._)(["\n      bottom: ",";\n      height: ",";\n      position: ",";\n      right: ",";\n      width: ",";\n\n      svg {\n        transform: ",";\n        color: ",";\n      }\n    "]);return RE=function(){return e},e}let RC=(0,dC.zo)(hh.Z,{target:"e1e8mizl0"})(e=>{let{theme:n}=e,{useExperimentalTheme:r}=d4(),i=dj.virtualKeyboardKey(n,r);return(0,d7.Z)(RE(),i.VIRTUAL_KEYBOARD_KEY_INDICATOR_CONTAINER_BOTTOM,i.VIRTUAL_KEYBOARD_KEY_INDICATOR_CONTAINER_HEIGHT,i.VIRTUAL_KEYBOARD_KEY_INDICATOR_CONTAINER_POSITION,i.VIRTUAL_KEYBOARD_KEY_INDICATOR_CONTAINER_RIGHT,i.VIRTUAL_KEYBOARD_KEY_INDICATOR_CONTAINER_WIDTH,i.VIRTUAL_KEYBOARD_KEY_INDICATOR_SVG_TRANSFORM,i.VIRTUAL_KEYBOARD_KEY_INDICATOR_SVG_COLOR)});function RT(){let e=(0,sz._)(["\n      text-align: ",";\n      width: ",";\n      height: ",";\n      display: ",";\n      justify-content: ",";\n      align-items: ",";\n    "]);return RT=function(){return e},e}let Rk=(0,dC.zo)(hh.Z,{target:"ee61hkg0"})(e=>{let{theme:n}=e,{useExperimentalTheme:r}=d4(),i=dj.virtualKeyboardKey(n,r);return(0,d7.Z)(RT(),i.VIRTUAL_KEYBOARD_KEY_LABEL_TEXT_ALIGN,i.VIRTUAL_KEYBOARD_KEY_LABEL_WIDTH,i.VIRTUAL_KEYBOARD_KEY_LABEL_HEIGHT,i.VIRTUAL_KEYBOARD_KEY_LABEL_DISPLAY,i.VIRTUAL_KEYBOARD_KEY_LABEL_JUSTIFY_CONTENT,i.VIRTUAL_KEYBOARD_KEY_LABEL_ALIGN_ITEMS)});function RR(e){let{children:n,open:r,title:i}=e;return(0,K.tZ)(xr,{PopperProps:{modifiers:[{name:"offset",options:{offset:[0,-30]}}]},arrow:!1,open:r,placement:"top",title:i,children:n})}var RS=(0,e0.forwardRef)((e,n)=>{let{keyData:r,onShowVariants:i,pattern:a}=e,{handleTooltip:o,tooltipIsOpen:l}=function(){let[e,n]=(0,e0.useState)(!1),r=(0,e0.useRef)(null);return{tooltipIsOpen:e,handleTooltip:(0,e0.useCallback)(()=>{(0,t9.$K)(r.current)&&clearTimeout(r.current),n(!0),r.current=setTimeout(()=>{n(!1)},2e3)},[])}}(),{isDisabled:s,label:u,name:c,tooltipText:d,variant:h,variants:p}=r,m=(0,e0.useCallback)(()=>{var e;return null===(e=r.onClick)||void 0===e?void 0:e.call(r,{key:r,pattern:a})},[r,a]),{onTouchEnd:f,onTouchStart:g}=(0,dC.YX)({onLongTouch:i,onShortTouch:m}),y=(0,K.BX)(Rw,{$variant:h,disableRipple:!0,disabled:s,id:c,onContextMenu:e=>e.preventDefault(),onTouchEnd:e=>{e.preventDefault(),(0,t9.$K)(f)&&f(e)},onTouchStart:e=>{o(),e.stopPropagation(),(0,t9.$K)(g)&&g(e)},ref:n,children:[(0,K.tZ)(Rk,{children:u}),!t5()(p)&&(0,K.tZ)(RC,{className:"indicator-container","data-testid":"".concat(c,"-variants-indicator"),children:(0,K.tZ)(h4,{})})]});return(0,K.tZ)(hh.Z,{children:(0,t9.$K)(d)?(0,K.tZ)(RR,{open:l,title:d,children:y}):y})}),RA=r(75935);function RI(){let e=(0,sz._)(["\n      background-color: ",";\n      display: ",";\n      grid-template-columns: ",";\n      gap: ",";\n      height: ","px;\n      width: ","px;\n    "]);return RI=function(){return e},e}let RL=(0,dC.zo)(hh.Z,{target:"ey70thn0"})(e=>{let{$columns:n,$height:r,$width:i,theme:a}=e,{useExperimentalTheme:o}=d4(),{KEYBOARD_VARIANT_BOX:l}=dj.virtualKeyboard(a,o);return(0,U.iv)(RI(),l.BACKGROUND_COLOR,l.DISPLAY,l.gridTemplateColumns(n),l.GAP,r,i)});function RM(e){var n,r,i,a,o;let{keyData:l,pattern:s}=e,u=(0,e0.useRef)(null),[c,d]=(0,e0.useState)(!1),h=null!==(i=l.variants)&&void 0!==i?i:[];return(0,K.BX)(K.HY,{children:[(0,K.tZ)(RS,{keyData:l,onShowVariants:()=>d(!0),pattern:s,ref:u}),!t5()(h)&&(0,K.tZ)(RA.ZP,{BackdropProps:{invisible:!0,onPointerDown:()=>d(!1)},anchorEl:u.current,"data-testid":"".concat(l.name,"-variants-box"),disableAutoFocus:!0,open:c,children:(0,K.tZ)(RL,{$columns:h.length,$height:null!==(a=null===(n=u.current)||void 0===n?void 0:n.clientHeight)&&void 0!==a?a:0,$width:(null!==(o=null===(r=u.current)||void 0===r?void 0:r.clientWidth)&&void 0!==o?o:0)*h.length,children:h.map(e=>(0,K.tZ)(RS,{keyData:e,pattern:s},l.name))})})]})}var RN=r(83078);function RD(e){return null!=e}function RB(e){let{message:n,path:r,type:i}=e;return(0,K.tZ)(d9.Z,{"data-testid":"".concat(r,"-").concat(i,"-error"),icon:(0,K.tZ)(kh,{formatType:rM.Kj.regular,iconType:rM.TextBlockTextType.negative}),severity:"error",children:n})}var RP=r(14272),RK=r(62592),RU=r(52567);function RV(){let e=(0,sz._)(["\n      margin-top: ",";\n      padding: ",";\n      &&,\n      && .math-inline {\n        font-style: ",";\n        font-size: ",";\n      }\n      .link-like {\n        color: ",";\n      }\n    "]);return RV=function(){return e},e}function RG(){let e=(0,sz._)(["\n    overflow-x: auto;\n    width: 100%;\n    border-radius: ",";\n  "]);return RG=function(){return e},e}function RF(){let e=(0,sz._)(["\n    background-color: ",";\n    :nth-child(even) {\n      background-color: ",";\n    }\n    height: ",";\n\n    :last-child .MuiTableCell-root {\n      ","\n    }\n  "]);return RF=function(){return e},e}let RH=(0,dC.zo)(d1.Z,{target:"e1pvuz4g0"})("width:100%;"),Rz=(0,dC.zo)(CX,{target:"e1pvuz4g1"})(e=>{let{theme:n}=e,{useExperimentalTheme:r}=d4(),i=dj.tableBlock(n,r);return(0,d7.Z)(RV(),i.CAPTION_SPACING,i.CAPTION_PADDING,i.CAPTION_FONT_STYLE,i.CAPTION_FONT_SIZE,i.DEFAULT_LINK_COLOR)}),R$=(0,dC.zo)(RP.Z,{target:"e1pvuz4g2"})(e=>{let{theme:n}=e,{useExperimentalTheme:r}=d4(),i=dj.tableBlock(n,r);return"\n    min-width: ".concat(i.TABLE_MIN_WIDTH,";\n    overflow-x: ").concat(i.TABLE_OVERFLOW_X,";\n    width: ").concat(i.TABLE_WIDTH,";\n  ")}),RZ=(0,dC.zo)(RK.Z,{target:"e1pvuz4g3"})(e=>{let{theme:n}=e,{useExperimentalTheme:r}=d4(),{BORDER_RADIUS:i}=dj.tableBlock(n,r);return(0,d7.Z)(RG(),i)}),Rj=(0,dC.zo)(RU.Z,{target:"e1pvuz4g4"})(e=>{let{theme:n}=e,{useExperimentalTheme:r}=d4(),i=dj.tableBlock(n,r);return(0,d7.Z)(RF(),i.ROW_ODD_BACKGROUND_COLOR,i.ROW_EVEN_BACKGROUND_COLOR,i.ROW_HEIGHT,r?"border-bottom: ".concat(i.EXPERIMENTAL.CELL_BORDER_BOTTOM):"")});function RW(){return(RW=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(null,arguments)}var Rq=r(7224);function RY(e,n){if(null==e)return{};var r={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(n.includes(i))continue;r[i]=e[i]}return r}var RX=Sr(),RJ=e=>R9(e,RX),RQ=Sr();RJ.write=e=>R9(e,RQ);var R0=Sr();RJ.onStart=e=>R9(e,R0);var R1=Sr();RJ.onFrame=e=>R9(e,R1);var R2=Sr();RJ.onFinish=e=>R9(e,R2);var R3=[];RJ.setTimeout=(e,n)=>{let r=RJ.now()+n,i=()=>{let e=R3.findIndex(e=>e.cancel==i);~e&&R3.splice(e,1),R8-=~e?1:0},a={time:r,handler:e,cancel:i};return R3.splice(R4(r),0,a),R8+=1,Se(),a};var R4=e=>~(~R3.findIndex(n=>n.time>e)||~R3.length);RJ.cancel=e=>{R0.delete(e),R1.delete(e),R2.delete(e),RX.delete(e),RQ.delete(e)},RJ.sync=e=>{R7=!0,RJ.batchedUpdates(e),R7=!1},RJ.throttle=e=>{let n;function r(){try{e(...n)}finally{n=null}}function i(...e){n=e,RJ.onStart(r)}return i.handler=e,i.cancel=()=>{R0.delete(r),n=null},i};var R6="undefined"!=typeof window?window.requestAnimationFrame:()=>{};RJ.use=e=>R6=e,RJ.now="undefined"!=typeof performance?()=>performance.now():Date.now,RJ.batchedUpdates=e=>e(),RJ.catch=console.error,RJ.frameLoop="always",RJ.advance=()=>{"demand"!==RJ.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Sn()};var R5=-1,R8=0,R7=!1;function R9(e,n){R7?(n.delete(e),e(0)):(n.add(e),Se())}function Se(){R5<0&&(R5=0,"demand"!==RJ.frameLoop&&R6(St))}function St(){~R5&&(R6(St),RJ.batchedUpdates(Sn))}function Sn(){let e=R5,n=R4(R5=RJ.now());if(n&&(Si(R3.splice(0,n),e=>e.handler()),R8-=n),!R8){R5=-1;return}R0.flush(),RX.flush(e?Math.min(64,R5-e):16.667),R1.flush(),RQ.flush(),R2.flush()}function Sr(){let e=new Set,n=e;return{add(r){R8+=n!=e||e.has(r)?0:1,e.add(r)},delete:r=>(R8-=n==e&&e.has(r)?1:0,e.delete(r)),flush(r){n.size&&(e=new Set,R8-=n.size,Si(n,n=>n(r)&&e.add(n)),R8+=e.size,n=e)}}}function Si(e,n){e.forEach(e=>{try{n(e)}catch(e){RJ.catch(e)}})}var Sa=Object.defineProperty,So={};function Sl(){}((e,n)=>{for(var r in n)Sa(e,r,{get:n[r],enumerable:!0})})(So,{assign:()=>S_,colors:()=>Sy,createStringInterpolator:()=>R,skipAnimation:()=>Sb,to:()=>S,willAdvance:()=>Sv});var Ss=(e,n,r)=>Object.defineProperty(e,n,{value:r,writable:!0,configurable:!0}),Su={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function Sc(e,n){if(Su.arr(e)){if(!Su.arr(n)||e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}return e===n}var Sd=(e,n)=>e.forEach(n);function Sh(e,n,r){if(Su.arr(e)){for(let i=0;i<e.length;i++)n.call(r,e[i],`${i}`);return}for(let i in e)e.hasOwnProperty(i)&&n.call(r,e[i],i)}var Sp=e=>Su.und(e)?[]:Su.arr(e)?e:[e];function Sm(e,n){if(e.size){let r=Array.from(e);e.clear(),Sd(r,n)}}var Sf=(e,...n)=>Sm(e,e=>e(...n)),Sg=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Sy=null,Sb=!1,Sv=Sl,S_=e=>{e.to&&(S=e.to),e.now&&(RJ.now=e.now),void 0!==e.colors&&(Sy=e.colors),null!=e.skipAnimation&&(Sb=e.skipAnimation),e.createStringInterpolator&&(R=e.createStringInterpolator),e.requestAnimationFrame&&RJ.use(e.requestAnimationFrame),e.batchedUpdates&&(RJ.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Sv=e.willAdvance),e.frameLoop&&(RJ.frameLoop=e.frameLoop)},Sx=new Set,SO=[],Sw=[],SE=0,SC={get idle(){return!Sx.size&&!SO.length},start(e){SE>e.priority?(Sx.add(e),RJ.onStart(ST)):(Sk(e),RJ(SS))},advance:SS,sort(e){if(SE)RJ.onFrame(()=>SC.sort(e));else{let n=SO.indexOf(e);~n&&(SO.splice(n,1),SR(e))}},clear(){SO=[],Sx.clear()}};function ST(){Sx.forEach(Sk),Sx.clear(),RJ(SS)}function Sk(e){SO.includes(e)||SR(e)}function SR(e){SO.splice(function(e,n){let r=e.findIndex(n);return r<0?e.length:r}(SO,n=>n.priority>e.priority),0,e)}function SS(e){let n=Sw;for(let r=0;r<SO.length;r++){let i=SO[r];SE=i.priority,i.idle||(Sv(i),i.advance(e),i.idle||n.push(i))}return SE=0,(Sw=SO).length=0,(SO=n).length>0}var SA="[-+]?\\d*\\.?\\d+",SI=SA+"%";function SL(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var SM=RegExp("rgb"+SL(SA,SA,SA)),SN=RegExp("rgba"+SL(SA,SA,SA,SA)),SD=RegExp("hsl"+SL(SA,SI,SI)),SB=RegExp("hsla"+SL(SA,SI,SI,SA)),SP=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,SK=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,SU=/^#([0-9a-fA-F]{6})$/,SV=/^#([0-9a-fA-F]{8})$/;function SG(e,n,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(n-e)*6*r:r<.5?n:r<2/3?e+(n-e)*(2/3-r)*6:e}function SF(e,n,r){let i=r<.5?r*(1+n):r+n-r*n,a=2*r-i;return Math.round(255*SG(a,i,e+1/3))<<24|Math.round(255*SG(a,i,e))<<16|Math.round(255*SG(a,i,e-1/3))<<8}function SH(e){let n=parseInt(e,10);return n<0?0:n>255?255:n}function Sz(e){return(parseFloat(e)%360+360)%360/360}function S$(e){let n=parseFloat(e);return n<0?0:n>1?255:Math.round(255*n)}function SZ(e){let n=parseFloat(e);return n<0?0:n>100?1:n/100}function Sj(e){let n;let r="number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(n=SU.exec(e))?parseInt(n[1]+"ff",16)>>>0:Sy&&void 0!==Sy[e]?Sy[e]:(n=SM.exec(e))?(SH(n[1])<<24|SH(n[2])<<16|SH(n[3])<<8|255)>>>0:(n=SN.exec(e))?(SH(n[1])<<24|SH(n[2])<<16|SH(n[3])<<8|S$(n[4]))>>>0:(n=SP.exec(e))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0:(n=SV.exec(e))?parseInt(n[1],16)>>>0:(n=SK.exec(e))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0:(n=SD.exec(e))?(255|SF(Sz(n[1]),SZ(n[2]),SZ(n[3])))>>>0:(n=SB.exec(e))?(SF(Sz(n[1]),SZ(n[2]),SZ(n[3]))|S$(n[4]))>>>0:null;if(null===r)return e;let i=(4278190080&(r=r||0))>>>24,a=(16711680&r)>>>16,o=(65280&r)>>>8,l=(255&r)/255;return`rgba(${i}, ${a}, ${o}, ${l})`}var SW=(e,n,r)=>{if(Su.fun(e))return e;if(Su.arr(e))return SW({range:e,output:n,extrapolate:r});if(Su.str(e.output[0]))return R(e);let i=e.output,a=e.range||[0,1],o=e.extrapolateLeft||e.extrapolate||"extend",l=e.extrapolateRight||e.extrapolate||"extend",s=e.easing||(e=>e);return n=>{let r=function(e,n){for(var r=1;r<n.length-1&&!(n[r]>=e);++r);return r-1}(n,a);return function(e,n,r,i,a,o,l,s,u){let c=u?u(e):e;if(c<n){if("identity"===l)return c;"clamp"===l&&(c=n)}if(c>r){if("identity"===s)return c;"clamp"===s&&(c=r)}return i===a?i:n===r?e<=n?i:a:(n===-1/0?c=-c:r===1/0?c-=n:c=(c-n)/(r-n),c=o(c),i===-1/0?c=-c:a===1/0?c+=i:c=c*(a-i)+i,c)}(n,a[r],a[r+1],i[r],i[r+1],s,o,l,e.map)}},Sq=Symbol.for("FluidValue.get"),SY=Symbol.for("FluidValue.observers"),SX=e=>!!(e&&e[Sq]),SJ=e=>e&&e[Sq]?e[Sq]():e,SQ=e=>e[SY]||null;function S0(e,n){let r=e[SY];r&&r.forEach(e=>{e.eventObserved?e.eventObserved(n):e(n)})}var S1=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");S2(this,e)}},S2=(e,n)=>S6(e,Sq,n);function S3(e,n){if(e[Sq]){let r=e[SY];r||S6(e,SY,r=new Set),!r.has(n)&&(r.add(n),e.observerAdded&&e.observerAdded(r.size,n))}return n}function S4(e,n){let r=e[SY];if(r&&r.has(n)){let i=r.size-1;i?r.delete(n):e[SY]=null,e.observerRemoved&&e.observerRemoved(i,n)}}var S6=(e,n,r)=>Object.defineProperty(e,n,{value:r,writable:!0,configurable:!0}),S5=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,S8=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,S7=RegExp(`(${S5.source})(%|[a-z]+)`,"i"),S9=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Ae=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,At=e=>{let[n,r]=An(e);if(!n||Sg())return e;let i=window.getComputedStyle(document.documentElement).getPropertyValue(n);if(i)return i.trim();if(r&&r.startsWith("--")){let e=window.getComputedStyle(document.documentElement).getPropertyValue(r);if(e)return e}else if(r&&Ae.test(r))return At(r);else if(r)return r;return e},An=e=>{let n=Ae.exec(e);if(!n)return[,];let[,r,i]=n;return[r,i]},Ar=(e,n,r,i,a)=>`rgba(${Math.round(n)}, ${Math.round(r)}, ${Math.round(i)}, ${a})`,Ai=e=>{A||(A=Sy?RegExp(`(${Object.keys(Sy).join("|")})(?!\\w)`,"g"):/^\b$/);let n=e.output.map(e=>SJ(e).replace(Ae,At).replace(S8,Sj).replace(A,Sj)),r=n.map(e=>e.match(S5).map(Number)),i=r[0].map((e,n)=>r.map(e=>{if(!(n in e))throw Error('The arity of each "output" value must be equal');return e[n]})).map(n=>SW({...e,output:n}));return e=>{let r=!S7.test(n[0])&&n.find(e=>S7.test(e))?.replace(S5,""),a=0;return n[0].replace(S5,()=>`${i[a++](e)}${r||""}`).replace(S9,Ar)}},Aa="react-spring: ",Ao=e=>{let n=!1;if("function"!=typeof e)throw TypeError(`${Aa}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},Al=Ao(console.warn),As=Ao(console.warn);function Au(e){return Su.str(e)&&("#"==e[0]||/\d/.test(e)||!Sg()&&Ae.test(e)||e in(Sy||{}))}var Ac=Sg()?e0.useEffect:e0.useLayoutEffect,Ad=()=>{let e=(0,e0.useRef)(!1);return Ac(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function Ah(){let e=(0,e0.useState)()[1],n=Ad();return()=>{n.current&&e(Math.random())}}var Ap=e=>(0,e0.useEffect)(e,Am),Am=[];function Af(e){let n=(0,e0.useRef)();return(0,e0.useEffect)(()=>{n.current=e}),n.current}var Ag=Symbol.for("Animated:node"),Ay=e=>!!e&&e[Ag]===e,Ab=e=>e&&e[Ag],Av=(e,n)=>Ss(e,Ag,n),A_=e=>e&&e[Ag]&&e[Ag].getPayload(),Ax=class{constructor(){Av(this,this)}getPayload(){return this.payload||[]}},AO=class extends Ax{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,Su.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new AO(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,n){return Su.num(e)&&(this.lastPosition=e,n&&(e=Math.round(e/n)*n,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,Su.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Aw=class extends AO{constructor(e){super(0),this._string=null,this._toString=SW({output:[e,e]})}static create(e){return new Aw(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(Su.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=SW({output:[this.getValue(),e]})),this._value=0,super.reset()}},AE={dependencies:null},AC=class extends Ax{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let n={};return Sh(this.source,(r,i)=>{Ay(r)?n[i]=r.getValue(e):SX(r)?n[i]=SJ(r):e||(n[i]=r)}),n}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Sd(this.payload,e=>e.reset())}_makePayload(e){if(e){let n=new Set;return Sh(e,this._addToPayload,n),Array.from(n)}}_addToPayload(e){AE.dependencies&&SX(e)&&AE.dependencies.add(e);let n=A_(e);n&&Sd(n,e=>this.add(e))}},AT=class extends AC{constructor(e){super(e)}static create(e){return new AT(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let n=this.getPayload();return e.length==n.length?n.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(Ak)),!0)}};function Ak(e){return(Au(e)?Aw:AO).create(e)}function AR(e){let n=Ab(e);return n?n.constructor:Su.arr(e)?AT:Au(e)?Aw:AO}var AS=(e,n)=>{let r=!Su.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,e0.forwardRef)((i,a)=>{let o=(0,e0.useRef)(null),l=r&&(0,e0.useCallback)(e=>{o.current=(a&&(Su.fun(a)?a(e):a.current=e),e)},[a]),[s,u]=function(e,n){let r=new Set;return AE.dependencies=r,e.style&&(e={...e,style:n.createAnimatedStyle(e.style)}),e=new AC(e),AE.dependencies=null,[e,r]}(i,n),c=Ah(),d=()=>{let e=o.current;(!r||e)&&!1===(!!e&&n.applyAnimatedValues(e,s.getValue(!0)))&&c()},h=new AA(d,u),p=(0,e0.useRef)();Ac(()=>(p.current=h,Sd(u,e=>S3(e,h)),()=>{p.current&&(Sd(p.current.deps,e=>S4(e,p.current)),RJ.cancel(p.current.update))})),(0,e0.useEffect)(d,[]),Ap(()=>()=>{let e=p.current;Sd(e.deps,n=>S4(n,e))});let m=n.getComponentProps(s.getValue());return e0.createElement(e,{...m,ref:l})})},AA=class{constructor(e,n){this.update=e,this.deps=n}eventObserved(e){"change"==e.type&&RJ.write(this.update)}},AI=Symbol.for("AnimatedComponent"),AL=e=>Su.str(e)?e:e&&Su.str(e.displayName)?e.displayName:Su.fun(e)&&e.name||null;function AM(e,...n){return Su.fun(e)?e(...n):e}var AN=(e,n)=>!0===e||!!(n&&e&&(Su.fun(e)?e(n):Sp(e).includes(n))),AD=(e,n)=>Su.obj(e)?n&&e[n]:e,AB=(e,n)=>!0===e.default?e[n]:e.default?e.default[n]:void 0,AP=e=>e,AK=(e,n=AP)=>{let r=AU;e.default&&!0!==e.default&&(r=Object.keys(e=e.default));let i={};for(let a of r){let r=n(e[a],a);Su.und(r)||(i[a]=r)}return i},AU=["config","onProps","onStart","onChange","onPause","onResume","onRest"],AV={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function AG(e){let n=function(e){let n={},r=0;if(Sh(e,(e,i)=>{!AV[i]&&(n[i]=e,r++)}),r)return n}(e);if(n){let r={to:n};return Sh(e,(e,i)=>i in n||(r[i]=e)),r}return{...e}}function AF(e){return e=SJ(e),Su.arr(e)?e.map(AF):Au(e)?So.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function AH(e){for(let n in e)return!0;return!1}function Az(e){return Su.fun(e)||Su.arr(e)&&Su.obj(e[0])}function A$(e,n){e.ref?.delete(e),n?.delete(e)}function AZ(e,n){n&&e.ref!==n&&(e.ref?.delete(e),n.add(e),e.ref=n)}var Aj={tension:170,friction:26,mass:1,damping:1,easing:e=>e,clamp:!1},AW=class{constructor(){this.velocity=0,Object.assign(this,Aj)}};function Aq(e,n){if(Su.und(n.decay)){let r=!Su.und(n.tension)||!Su.und(n.friction);!r&&Su.und(n.frequency)&&Su.und(n.damping)&&Su.und(n.mass)||(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}else e.duration=void 0}var AY=[],AX=class{constructor(){this.changed=!1,this.values=AY,this.toValues=null,this.fromValues=AY,this.config=new AW,this.immediate=!1}};function AJ(e,{key:n,props:r,defaultProps:i,state:a,actions:o}){return new Promise((l,s)=>{let u,c;let d=AN(r.cancel??i?.cancel,n);if(d)m();else{Su.und(r.pause)||(a.paused=AN(r.pause,n));let e=i?.pause;!0!==e&&(e=a.paused||AN(e,n)),u=AM(r.delay||0,n),e?(a.resumeQueue.add(p),o.pause()):(o.resume(),p())}function h(){a.resumeQueue.add(p),a.timeouts.delete(c),c.cancel(),u=c.time-RJ.now()}function p(){u>0&&!So.skipAnimation?(a.delayed=!0,c=RJ.setTimeout(m,u),a.pauseQueue.add(h),a.timeouts.add(c)):m()}function m(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(h),a.timeouts.delete(c),e<=(a.cancelId||0)&&(d=!0);try{o.start({...r,callId:e,cancel:d},l)}catch(e){s(e)}}})}var AQ=(e,n)=>1==n.length?n[0]:n.some(e=>e.cancelled)?A2(e.get()):n.every(e=>e.noop)?A0(e.get()):A1(e.get(),n.every(e=>e.finished)),A0=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),A1=(e,n,r=!1)=>({value:e,finished:n,cancelled:r}),A2=e=>({value:e,cancelled:!0,finished:!1});function A3(e,n,r,i){let{callId:a,parentId:o,onRest:l}=n,{asyncTo:s,promise:u}=r;return o||e!==s||n.reset?r.promise=(async()=>{let c,d,h;r.asyncId=a,r.asyncTo=e;let p=AK(n,(e,n)=>"onRest"===n?void 0:e),m=new Promise((e,n)=>(c=e,d=n)),f=e=>{let n=a<=(r.cancelId||0)&&A2(i)||a!==r.asyncId&&A1(i,!1);if(n)throw e.result=n,d(e),e},g=(e,n)=>{let o=new A6,l=new A5;return(async()=>{if(So.skipAnimation)throw A4(r),l.result=A1(i,!1),d(l),l;f(o);let s=Su.obj(e)?{...e}:{...n,to:e};s.parentId=a,Sh(p,(e,n)=>{Su.und(s[n])&&(s[n]=e)});let u=await i.start(s);return f(o),r.paused&&await new Promise(e=>{r.resumeQueue.add(e)}),u})()};if(So.skipAnimation)return A4(r),A1(i,!1);try{let n;n=Su.arr(e)?(async e=>{for(let n of e)await g(n)})(e):Promise.resolve(e(g,i.stop.bind(i))),await Promise.all([n.then(c),m]),h=A1(i.get(),!0,!1)}catch(e){if(e instanceof A6)h=e.result;else if(e instanceof A5)h=e.result;else throw e}finally{a==r.asyncId&&(r.asyncId=o,r.asyncTo=o?s:void 0,r.promise=o?u:void 0)}return Su.fun(l)&&RJ.batchedUpdates(()=>{l(h,i,i.item)}),h})():u}function A4(e,n){Sm(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,n&&(e.cancelId=n)}var A6=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},A5=class extends Error{constructor(){super("SkipAnimationSignal")}},A8=e=>e instanceof A9,A7=1,A9=class extends S1{constructor(){super(...arguments),this.id=A7++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=Ab(this);return e&&e.getValue()}to(...e){return So.to(this,e)}interpolate(...e){return Al(`${Aa}The "interpolate" function is deprecated in v9 (use "to" instead)`),So.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,n=!1){S0(this,{type:"change",parent:this,value:e,idle:n})}_onPriorityChange(e){this.idle||SC.sort(this),S0(this,{type:"priority",parent:this,priority:e})}},Ie=Symbol.for("SpringPhase"),It=e=>(1&e[Ie])>0,In=e=>(2&e[Ie])>0,Ir=e=>(4&e[Ie])>0,Ii=(e,n)=>n?e[Ie]|=3:e[Ie]&=-3,Ia=(e,n)=>n?e[Ie]|=4:e[Ie]&=-5,Io=class extends A9{constructor(e,n){if(super(),this.animation=new AX,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Su.und(e)||!Su.und(n)){let r=Su.obj(e)?{...e}:{...n,from:e};Su.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(In(this)||this._state.asyncTo)||Ir(this)}get goal(){return SJ(this.animation.to)}get velocity(){let e=Ab(this);return e instanceof AO?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return It(this)}get isAnimating(){return In(this)}get isPaused(){return Ir(this)}get isDelayed(){return this._state.delayed}advance(e){let n=!0,r=!1,i=this.animation,{toValues:a}=i,{config:o}=i,l=A_(i.to);!l&&SX(i.to)&&(a=Sp(SJ(i.to))),i.values.forEach((s,u)=>{if(s.done)return;let c=s.constructor==Aw?1:l?l[u].lastPosition:a[u],d=i.immediate,h=c;if(!d){let n;if(h=s.lastPosition,o.tension<=0){s.done=!0;return}let r=s.elapsedTime+=e,a=i.fromValues[u],l=null!=s.v0?s.v0:s.v0=Su.arr(o.velocity)?o.velocity[u]:o.velocity,p=o.precision||(a==c?.005:Math.min(1,.001*Math.abs(c-a)));if(Su.und(o.duration)){if(o.decay){let e=!0===o.decay?.998:o.decay,i=Math.exp(-(1-e)*r);h=a+l/(1-e)*(1-i),d=Math.abs(s.lastPosition-h)<=p,n=l*i}else{n=null==s.lastVelocity?l:s.lastVelocity;let r=o.restVelocity||p/10,i=o.clamp?0:o.bounce,u=!Su.und(i),m=a==c?s.v0>0:a<c,f=Math.ceil(e/1);for(let e=0;e<f&&!(!(Math.abs(n)>r)&&(d=Math.abs(c-h)<=p));++e){u&&(h==c||h>c==m)&&(n=-n*i,h=c);let e=(-(1e-6*o.tension)*(h-c)+-(.001*o.friction)*n)/o.mass;n+=1*e,h+=1*n}}}else{let i=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,s.durationProgress>0&&(s.elapsedTime=o.duration*s.durationProgress,r=s.elapsedTime+=e)),i=(i=(o.progress||0)+r/this._memoizedDuration)>1?1:i<0?0:i,s.durationProgress=i),n=((h=a+o.easing(i)*(c-a))-s.lastPosition)/e,d=1==i}s.lastVelocity=n,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),d=!0)}l&&!l[u].done&&(d=!1),d?s.done=!0:n=!1,s.setValue(h,o.round)&&(r=!0)});let s=Ab(this),u=s.getValue();if(n){let e=SJ(i.to);(u!==e||r)&&!o.decay?(s.setValue(e),this._onChange(e)):r&&o.decay&&this._onChange(u),this._stop()}else r&&this._onChange(u)}set(e){return RJ.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(In(this)){let{to:e,config:n}=this.animation;RJ.batchedUpdates(()=>{this._onStart(),n.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,n){let r;return Su.und(e)?(r=this.queue||[],this.queue=[]):r=[Su.obj(e)?e:{...n,to:e}],Promise.all(r.map(e=>this._update(e))).then(e=>AQ(this,e))}stop(e){let{to:n}=this.animation;return this._focus(this.get()),A4(this._state,e&&this._lastCallId),RJ.batchedUpdates(()=>this._stop(n,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){let n=this.key||"",{to:r,from:i}=e;(null==(r=Su.obj(r)?r[n]:r)||Az(r))&&(r=void 0),null==(i=Su.obj(i)?i[n]:i)&&(i=void 0);let a={to:r,from:i};return It(this)||(e.reverse&&([r,i]=[i,r]),i=SJ(i),Su.und(i)?Ab(this)||this._set(r):this._set(i)),a}_update({...e},n){let{key:r,defaultProps:i}=this;e.default&&Object.assign(i,AK(e,(e,n)=>/^on/.test(n)?AD(e,r):e)),Ih(this,e,"onProps"),Ip(this,"onProps",e,this);let a=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let o=this._state;return AJ(++this._lastCallId,{key:r,props:e,defaultProps:i,state:o,actions:{pause:()=>{Ir(this)||(Ia(this,!0),Sf(o.pauseQueue),Ip(this,"onPause",A1(this,Il(this,this.animation.to)),this))},resume:()=>{Ir(this)&&(Ia(this,!1),In(this)&&this._resume(),Sf(o.resumeQueue),Ip(this,"onResume",A1(this,Il(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(r=>{if(e.loop&&r.finished&&!(n&&r.noop)){let n=Is(e);if(n)return this._update(n,!0)}return r})}_merge(e,n,r){if(n.cancel)return this.stop(!0),r(A2(this));let i=!Su.und(e.to),a=!Su.und(e.from);if(i||a){if(!(n.callId>this._lastToId))return r(A2(this));this._lastToId=n.callId}let{key:o,defaultProps:l,animation:s}=this,{to:u,from:c}=s,{to:d=u,from:h=c}=e;a&&!i&&(!n.default||Su.und(d))&&(d=h),n.reverse&&([d,h]=[h,d]);let p=!Sc(h,c);p&&(s.from=h),h=SJ(h);let m=!Sc(d,u);m&&this._focus(d);let f=Az(n.to),{config:g}=s,{decay:y,velocity:b}=g;(i||a)&&(g.velocity=0),n.config&&!f&&function(e,n,r){for(let i in r&&(Aq(r={...r},n),n={...r,...n}),Aq(e,n),Object.assign(e,n),Aj)null==e[i]&&(e[i]=Aj[i]);let{frequency:i,damping:a}=e,{mass:o}=e;Su.und(i)||(i<.01&&(i=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/i,2)*o,e.friction=4*Math.PI*a*o/i)}(g,AM(n.config,o),n.config!==l.config?AM(l.config,o):void 0);let v=Ab(this);if(!v||Su.und(d))return r(A1(this,!0));let _=Su.und(n.reset)?a&&!n.default:!Su.und(h)&&AN(n.reset,o),x=_?h:this.get(),O=AF(d),w=Su.num(O)||Su.arr(O)||Au(O),E=!f&&(!w||AN(l.immediate||n.immediate,o));if(m){let e=AR(d);if(e!==v.constructor){if(E)v=this._set(O);else throw Error(`Cannot animate between ${v.constructor.name} and ${e.name}, as the "to" prop suggests`)}}let C=v.constructor,T=SX(d),k=!1;if(!T){let e=_||!It(this)&&p;(m||e)&&(T=!(k=Sc(AF(x),O))),(Sc(s.immediate,E)||E)&&Sc(g.decay,y)&&Sc(g.velocity,b)||(T=!0)}if(k&&In(this)&&(s.changed&&!_?T=!0:T||this._stop(u)),!f&&((T||SX(u))&&(s.values=v.getPayload(),s.toValues=SX(d)?null:C==Aw?[1]:Sp(O)),s.immediate==E||(s.immediate=E,E||_||this._set(u)),T)){let{onRest:e}=s;Sd(Id,e=>Ih(this,n,e));let i=A1(this,Il(this,u));Sf(this._pendingCalls,i),this._pendingCalls.add(r),s.changed&&RJ.batchedUpdates(()=>{s.changed=!_,e?.(i,this),_?AM(l.onRest,i):s.onStart?.(i,this)})}_&&this._set(x),f?r(A3(n.to,n,this._state,this)):T?this._start():In(this)&&!m?this._pendingCalls.add(r):r(A0(x))}_focus(e){let n=this.animation;e!==n.to&&(SQ(this)&&this._detach(),n.to=e,SQ(this)&&this._attach())}_attach(){let e=0,{to:n}=this.animation;SX(n)&&(S3(n,this),A8(n)&&(e=n.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;SX(e)&&S4(e,this)}_set(e,n=!0){let r=SJ(e);if(!Su.und(r)){let e=Ab(this);if(!e||!Sc(r,e.getValue())){let i=AR(r);e&&e.constructor==i?e.setValue(r):Av(this,i.create(r)),e&&RJ.batchedUpdates(()=>{this._onChange(r,n)})}}return Ab(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,Ip(this,"onStart",A1(this,Il(this,e.to)),this))}_onChange(e,n){n||(this._onStart(),AM(this.animation.onChange,e,this)),AM(this.defaultProps.onChange,e,this),super._onChange(e,n)}_start(){let e=this.animation;Ab(this).reset(SJ(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),In(this)||(Ii(this,!0),Ir(this)||this._resume())}_resume(){So.skipAnimation?this.finish():SC.start(this)}_stop(e,n){if(In(this)){Ii(this,!1);let r=this.animation;Sd(r.values,e=>{e.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),S0(this,{type:"idle",parent:this});let i=n?A2(this.get()):A1(this.get(),Il(this,e??r.to));Sf(this._pendingCalls,i),r.changed&&(r.changed=!1,Ip(this,"onRest",i,this))}}};function Il(e,n){let r=AF(n);return Sc(AF(e.get()),r)}function Is(e,n=e.loop,r=e.to){let i=AM(n);if(i){let a=!0!==i&&AG(i),o=(a||e).reverse,l=!a||a.reset;return Iu({...e,loop:n,default:!1,pause:void 0,to:!o||Az(r)?r:void 0,from:l?e.from:void 0,reset:l,...a})}}function Iu(e){let{to:n,from:r}=e=AG(e),i=new Set;return Su.obj(n)&&Ic(n,i),Su.obj(r)&&Ic(r,i),e.keys=i.size?Array.from(i):null,e}function Ic(e,n){Sh(e,(e,r)=>null!=e&&n.add(r))}var Id=["onStart","onRest","onChange","onPause","onResume"];function Ih(e,n,r){e.animation[r]=n[r]!==AB(n,r)?AD(n[r],e.key):void 0}function Ip(e,n,...r){e.animation[n]?.(...r),e.defaultProps[n]?.(...r)}var Im=["onStart","onChange","onRest"],If=1,Ig=class{constructor(e,n){this.id=If++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((n,r)=>e[r]=n.get()),e}set(e){for(let n in e){let r=e[n];Su.und(r)||this.springs[n].set(r)}}update(e){return e&&this.queue.push(Iu(e)),this}start(e){let{queue:n}=this;return(e?n=Sp(e).map(Iu):this.queue=[],this._flush)?this._flush(this,n):(Iw(this,n),Iy(this,n))}stop(e,n){if(!!e!==e&&(n=e),n){let r=this.springs;Sd(Sp(n),n=>r[n].stop(!!e))}else A4(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(Su.und(e))this.start({pause:!0});else{let n=this.springs;Sd(Sp(e),e=>n[e].pause())}return this}resume(e){if(Su.und(e))this.start({pause:!1});else{let n=this.springs;Sd(Sp(e),e=>n[e].resume())}return this}each(e){Sh(this.springs,e)}_onFrame(){let{onStart:e,onChange:n,onRest:r}=this._events,i=this._active.size>0,a=this._changed.size>0;(i&&!this._started||a&&!this._started)&&(this._started=!0,Sm(e,([e,n])=>{n.value=this.get(),e(n,this,this._item)}));let o=!i&&this._started,l=a||o&&r.size?this.get():null;a&&n.size&&Sm(n,([e,n])=>{n.value=l,e(n,this,this._item)}),o&&(this._started=!1,Sm(r,([e,n])=>{n.value=l,e(n,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}RJ.onFrame(this._onFrame)}};function Iy(e,n){return Promise.all(n.map(n=>Ib(e,n))).then(n=>AQ(e,n))}async function Ib(e,n,r){let{keys:i,to:a,from:o,loop:l,onRest:s,onResolve:u}=n,c=Su.obj(n.default)&&n.default;l&&(n.loop=!1),!1===a&&(n.to=null),!1===o&&(n.from=null);let d=Su.arr(a)||Su.fun(a)?a:void 0;d?(n.to=void 0,n.onRest=void 0,c&&(c.onRest=void 0)):Sd(Im,r=>{let i=n[r];if(Su.fun(i)){let a=e._events[r];n[r]=({finished:e,cancelled:n})=>{let r=a.get(i);r?(e||(r.finished=!1),n&&(r.cancelled=!0)):a.set(i,{value:null,finished:e||!1,cancelled:n||!1})},c&&(c[r]=n[r])}});let h=e._state;!h.paused===n.pause?(h.paused=n.pause,Sf(n.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(n.pause=!0);let p=(i||Object.keys(e.springs)).map(r=>e.springs[r].start(n)),m=!0===n.cancel||!0===AB(n,"cancel");(d||m&&h.asyncId)&&p.push(AJ(++e._lastAsyncId,{props:n,state:h,actions:{pause:Sl,resume:Sl,start(n,r){m?(A4(h,e._lastAsyncId),r(A2(e))):(n.onRest=s,r(A3(d,n,h,e)))}}})),h.paused&&await new Promise(e=>{h.resumeQueue.add(e)});let f=AQ(e,await Promise.all(p));if(l&&f.finished&&!(r&&f.noop)){let r=Is(n,l,a);if(r)return Iw(e,[r]),Ib(e,r,!0)}return u&&RJ.batchedUpdates(()=>u(f,e,e.item)),f}function Iv(e,n){let r={...e.springs};return n&&Sd(Sp(n),e=>{Su.und(e.keys)&&(e=Iu(e)),Su.obj(e.to)||(e={...e,to:void 0}),IO(r,e,e=>Ix(e))}),I_(e,r),r}function I_(e,n){Sh(n,(n,r)=>{e.springs[r]||(e.springs[r]=n,S3(n,e))})}function Ix(e,n){let r=new Io;return r.key=e,n&&S3(r,n),r}function IO(e,n,r){n.keys&&Sd(n.keys,i=>{(e[i]||(e[i]=r(i)))._prepareNode(n)})}function Iw(e,n){Sd(n,n=>{IO(e.springs,n,n=>Ix(n,e))})}var IE=({children:e,...n})=>{let r=(0,e0.useContext)(IC),i=n.pause||!!r.pause,a=n.immediate||!!r.immediate;n=function(e,n){let[r]=(0,e0.useState)(()=>({inputs:n,result:e()})),i=(0,e0.useRef)(),a=i.current,o=a;return o?n&&o.inputs&&function(e,n){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}(n,o.inputs)||(o={inputs:n,result:e()}):o=r,(0,e0.useEffect)(()=>{i.current=o,a==r&&(r.inputs=r.result=void 0)},[o]),o.result}(()=>({pause:i,immediate:a}),[i,a]);let{Provider:o}=IC;return e0.createElement(o,{value:n},e)},IC=(p={},Object.assign(IE,e0.createContext(p)),IE.Provider._context=IE,IE.Consumer._context=IE,IE);IE.Provider=IC.Provider,IE.Consumer=IC.Consumer;var IT=()=>{let e=[],n=function(n){As(`${Aa}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);let i=[];return Sd(e,(e,a)=>{if(Su.und(n))i.push(e.start());else{let o=r(n,e,a);o&&i.push(e.start(o))}}),i};n.current=e,n.add=function(n){e.includes(n)||e.push(n)},n.delete=function(n){let r=e.indexOf(n);~r&&e.splice(r,1)},n.pause=function(){return Sd(e,e=>e.pause(...arguments)),this},n.resume=function(){return Sd(e,e=>e.resume(...arguments)),this},n.set=function(n){Sd(e,(e,r)=>{let i=Su.fun(n)?n(r,e):n;i&&e.set(i)})},n.start=function(n){let r=[];return Sd(e,(e,i)=>{if(Su.und(n))r.push(e.start());else{let a=this._getProps(n,e,i);a&&r.push(e.start(a))}}),r},n.stop=function(){return Sd(e,e=>e.stop(...arguments)),this},n.update=function(n){return Sd(e,(e,r)=>e.update(this._getProps(n,e,r))),this};let r=function(e,n,r){return Su.fun(e)?e(r,n):e};return n._getProps=r,n};function Ik(e,n,r){let i=Su.fun(n)&&n,{reset:a,sort:o,trail:l=0,expires:s=!0,exitBeforeEnter:u=!1,onDestroyed:c,ref:d,config:h}=i?i():n,p=(0,e0.useMemo)(()=>i||3==arguments.length?IT():void 0,[]),m=Sp(e),f=[],g=(0,e0.useRef)(null),y=a?null:g.current;Ac(()=>{g.current=f}),Ap(()=>(Sd(f,e=>{p?.add(e.ctrl),e.ctrl.ref=p}),()=>{Sd(g.current,e=>{e.expired&&clearTimeout(e.expirationId),A$(e.ctrl,p),e.ctrl.stop(!0)})}));let b=function(e,{key:n,keys:r=n},i){if(null===r){let n=new Set;return e.map(e=>{let r=i&&i.find(r=>r.item===e&&"leave"!==r.phase&&!n.has(r));return r?(n.add(r),r.key):IR++})}return Su.und(r)?e:Su.fun(r)?e.map(r):Sp(r)}(m,i?i():n,y),v=a&&g.current||[];Ac(()=>Sd(v,({ctrl:e,item:n,key:r})=>{A$(e,p),AM(c,n,r)}));let _=[];if(y&&Sd(y,(e,n)=>{e.expired?(clearTimeout(e.expirationId),v.push(e)):~(n=_[n]=b.indexOf(e.key))&&(f[n]=e)}),Sd(m,(e,n)=>{f[n]||(f[n]={key:b[n],item:e,phase:"mount",ctrl:new Ig},f[n].ctrl.item=e)}),_.length){let e=-1,{leave:r}=i?i():n;Sd(_,(n,i)=>{let a=y[i];~n?(e=f.indexOf(a),f[e]={...a,item:m[n]}):r&&f.splice(++e,0,a)})}Su.fun(o)&&f.sort((e,n)=>o(e.item,n.item));let x=-l,O=Ah(),w=AK(n),E=new Map,C=(0,e0.useRef)(new Map),T=(0,e0.useRef)(!1);Sd(f,(e,r)=>{let a,o;let c=e.key,p=e.phase,m=i?i():n,f=AM(m.delay||0,c);if("mount"==p)a=m.enter,o="enter";else{let e=0>b.indexOf(c);if("leave"!=p){if(e)a=m.leave,o="leave";else{if(!(a=m.update))return;o="update"}}else{if(e)return;a=m.enter,o="enter"}}if(a=AM(a,e.item,r),!(a=Su.obj(a)?AG(a):{to:a}).config){let n=h||w.config;a.config=AM(n,e.item,r,o)}x+=l;let v={...w,delay:f+x,ref:d,immediate:m.immediate,reset:!1,...a};if("enter"==o&&Su.und(v.from)){let a=i?i():n,o=Su.und(a.initial)||y?a.from:a.initial;v.from=AM(o,e.item,r)}let{onResolve:_}=v;v.onResolve=e=>{AM(_,e);let n=g.current,r=n.find(e=>e.key===c);if(r){if(e.cancelled&&"update"!=r.phase)return;if(r.ctrl.idle){let e=n.every(e=>e.ctrl.idle);if("leave"==r.phase){let n=AM(s,r.item);if(!1!==n){let i=!0===n?0:n;if(r.expired=!0,!e&&i>0){i<=2147483647&&(r.expirationId=setTimeout(O,i));return}}}e&&n.some(e=>e.expired)&&(C.current.delete(r),u&&(T.current=!0),O())}}};let k=Iv(e.ctrl,v);"leave"===o&&u?C.current.set(e,{phase:o,springs:k,payload:v}):E.set(e,{phase:o,springs:k,payload:v})});let k=(0,e0.useContext)(IE),R=Af(k),S=k!==R&&AH(k);Ac(()=>{S&&Sd(f,e=>{e.ctrl.start({default:k})})},[k]),Sd(E,(e,n)=>{if(C.current.size){let e=f.findIndex(e=>e.key===n.key);f.splice(e,1)}}),Ac(()=>{Sd(C.current.size?C.current:E,({phase:e,payload:n},r)=>{let{ctrl:i}=r;r.phase=e,p?.add(i),S&&"enter"==e&&i.start({default:k}),n&&(AZ(i,n.ref),(i.ref||p)&&!T.current?i.update(n):(i.start(n),T.current&&(T.current=!1)))})},a?void 0:r);let A=e=>e0.createElement(e0.Fragment,null,f.map((n,r)=>{let{springs:i}=E.get(n)||n.ctrl,a=e({...i},n.item,n,r);return a&&a.type?e0.createElement(a.type,{...a.props,key:Su.str(n.key)||Su.num(n.key)?n.key:n.ctrl.id,ref:a.ref}):a}));return p?[A,p]:A}var IR=1,IS=class extends A9{constructor(e,n){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=SW(...n);let r=this._get();Av(this,AR(r).create(r))}advance(e){let n=this._get();Sc(n,this.get())||(Ab(this).setValue(n),this._onChange(n,this.idle)),!this.idle&&II(this._active)&&IL(this)}_get(){let e=Su.arr(this.source)?this.source.map(SJ):Sp(SJ(this.source));return this.calc(...e)}_start(){this.idle&&!II(this._active)&&(this.idle=!1,Sd(A_(this),e=>{e.done=!1}),So.skipAnimation?(RJ.batchedUpdates(()=>this.advance()),IL(this)):SC.start(this))}_attach(){let e=1;Sd(Sp(this.source),n=>{SX(n)&&S3(n,this),A8(n)&&(n.idle||this._active.add(n),e=Math.max(e,n.priority+1))}),this.priority=e,this._start()}_detach(){Sd(Sp(this.source),e=>{SX(e)&&S4(e,this)}),this._active.clear(),IL(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Sp(this.source).reduce((e,n)=>Math.max(e,(A8(n)?n.priority:0)+1),0))}};function IA(e){return!1!==e.idle}function II(e){return!e.size||Array.from(e).every(IA)}function IL(e){e.idle||(e.idle=!0,Sd(A_(e),e=>{e.done=!0}),S0(e,{type:"idle",parent:e}))}var IM=(e,...n)=>new IS(e,n);So.assign({createStringInterpolator:Ai,to:(e,n)=>new IS(e,n)}),SC.advance;var IN=/^--/,ID={},IB={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IP=(e,n)=>e+n.charAt(0).toUpperCase()+n.substring(1),IK=["Webkit","Ms","Moz","O"];IB=Object.keys(IB).reduce((e,n)=>(IK.forEach(r=>e[IP(r,n)]=e[n]),e),IB);var IU=/^(matrix|translate|scale|rotate|skew)/,IV=/^(translate)/,IG=/^(rotate|skew)/,IF=(e,n)=>Su.num(e)&&0!==e?e+n:e,IH=(e,n)=>Su.arr(e)?e.every(e=>IH(e,n)):Su.num(e)?e===n:parseFloat(e)===n,Iz=class extends AC{constructor({x:e,y:n,z:r,...i}){let a=[],o=[];(e||n||r)&&(a.push([e||0,n||0,r||0]),o.push(e=>[`translate3d(${e.map(e=>IF(e,"px")).join(",")})`,IH(e,0)])),Sh(i,(e,n)=>{if("transform"===n)a.push([e||""]),o.push(e=>[e,""===e]);else if(IU.test(n)){if(delete i[n],Su.und(e))return;let r=IV.test(n)?"px":IG.test(n)?"deg":"";a.push(Sp(e)),o.push("rotate3d"===n?([e,n,i,a])=>[`rotate3d(${e},${n},${i},${IF(a,r)})`,IH(a,0)]:e=>[`${n}(${e.map(e=>IF(e,r)).join(",")})`,IH(e,n.startsWith("scale")?1:0)])}}),a.length&&(i.transform=new I$(a,o)),super(i)}},I$=class extends S1{constructor(e,n){super(),this.inputs=e,this.transforms=n,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",n=!0;return Sd(this.inputs,(r,i)=>{let a=SJ(r[0]),[o,l]=this.transforms[i](Su.arr(a)?a:r.map(SJ));e+=" "+o,n=n&&l}),n?"none":e}observerAdded(e){1==e&&Sd(this.inputs,e=>Sd(e,e=>SX(e)&&S3(e,this)))}observerRemoved(e){0==e&&Sd(this.inputs,e=>Sd(e,e=>SX(e)&&S4(e,this)))}eventObserved(e){"change"==e.type&&(this._value=null),S0(this,e)}};So.assign({batchedUpdates:w5.unstable_batchedUpdates,createStringInterpolator:Ai,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var IZ=((e,{applyAnimatedValues:n=()=>!1,createAnimatedStyle:r=e=>new AC(e),getComponentProps:i=e=>e}={})=>{let a={applyAnimatedValues:n,createAnimatedStyle:r,getComponentProps:i},o=e=>{let n=AL(e)||"Anonymous";return(e=Su.str(e)?o[e]||(o[e]=AS(e,a)):e[AI]||(e[AI]=AS(e,a))).displayName=`Animated(${n})`,e};return Sh(e,(n,r)=>{Su.arr(e)&&(r=AL(n)),o[r]=o(n)}),{animated:o}})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,n){if(!e.nodeType||!e.setAttribute)return!1;let r="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{style:i,children:a,scrollTop:o,scrollLeft:l,viewBox:s,...u}=n,c=Object.values(u),d=Object.keys(u).map(n=>r||e.hasAttribute(n)?n:ID[n]||(ID[n]=n.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())));for(let n in void 0!==a&&(e.textContent=a),i)if(i.hasOwnProperty(n)){var h;let r=null==(h=i[n])||"boolean"==typeof h||""===h?"":"number"!=typeof h||0===h||IN.test(n)||IB.hasOwnProperty(n)&&IB[n]?(""+h).trim():h+"px";IN.test(n)?e.style.setProperty(n,r):e.style[n]=r}d.forEach((n,r)=>{e.setAttribute(n,c[r])}),void 0!==o&&(e.scrollTop=o),void 0!==l&&(e.scrollLeft=l),void 0!==s&&e.setAttribute("viewBox",s)},createAnimatedStyle:e=>new Iz(e),getComponentProps:({scrollTop:e,scrollLeft:n,...r})=>r}).animated;let Ij=e0.createContext({isInitialized:!1,data:{xAxis:{},yAxis:{},xAxisIds:[],yAxisIds:[]}}),IW=()=>{let{data:e}=e0.useContext(Ij);return e};function Iq(e,n,r){let i={};return Object.keys(e).forEach(a=>{i[a]=e[a].reduce((e,i)=>{if(i){let a=n(i);""!==a&&e.push(a),r&&r[i]&&e.push(r[i])}return e},[]).join(" ")}),i}function IY(...e){return e0.useMemo(()=>e.every(e=>null==e)?null:n=>{e.forEach(e=>{"function"==typeof e?e(n):e&&(e.current=n)})},e)}var IX=function(){for(var e,n,r=0,i="",a=arguments.length;r<a;r++)(e=arguments[r])&&(n=function e(n){var r,i,a="";if("string"==typeof n||"number"==typeof n)a+=n;else if("object"==typeof n){if(Array.isArray(n)){var o=n.length;for(r=0;r<o;r++)n[r]&&(i=e(n[r]))&&(a&&(a+=" "),a+=i)}else for(i in n)n[i]&&(a&&(a+=" "),a+=i)}return a}(e))&&(i&&(i+=" "),i+=n);return i},IJ=function(e,n=[]){if(void 0===e)return{};let r={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&"function"==typeof e[r]&&!n.includes(r)).forEach(n=>{r[n]=e[n]}),r},IQ=function(e){if(void 0===e)return{};let n={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&"function"==typeof e[n])).forEach(r=>{n[r]=e[r]}),n},I0=function(e){let{getSlotProps:n,additionalProps:r,externalSlotProps:i,externalForwardedProps:a,className:o}=e;if(!n){let e=IX(null==r?void 0:r.className,o,null==a?void 0:a.className,null==i?void 0:i.className),n=RW({},null==r?void 0:r.style,null==a?void 0:a.style,null==i?void 0:i.style),l=RW({},r,a,i);return e.length>0&&(l.className=e),Object.keys(n).length>0&&(l.style=n),{props:l,internalRef:void 0}}let l=IJ(RW({},a,i)),s=IQ(i),u=IQ(a),c=n(l),d=IX(null==c?void 0:c.className,null==r?void 0:r.className,o,null==a?void 0:a.className,null==i?void 0:i.className),h=RW({},null==c?void 0:c.style,null==r?void 0:r.style,null==a?void 0:a.style,null==i?void 0:i.style),p=RW({},c,r,u,s);return d.length>0&&(p.className=d),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:c.ref}};let I1=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];var I2=function(e){var n,r;let{elementType:i,externalSlotProps:a,ownerState:o,skipResolvingSlotProps:l=!1}=e,s=RY(e,I1),u=l?{}:"function"==typeof a?a(o,void 0):a,{props:c,internalRef:d}=I0(RW({},s,{externalSlotProps:u})),h=IY(d,null==u?void 0:u.ref,null==(n=e.additionalProps)?void 0:n.ref);return r=RW({},c,{ref:h}),void 0===i||"string"==typeof i?r:RW({},r,{ownerState:RW({},r.ownerState,o)})};let I3=e=>e,I4=(d=I3,{configure(e){d=e},generate:e=>d(e),reset(){d=I3}}),I6={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function I5(e,n,r="Mui"){let i=I6[n];return i?`${r}-${i}`:`${I4.generate(e)}-${n}`}var I8=r(42458);function I7(e,n,r="Mui"){let i={};return n.forEach(n=>{i[n]=I5(e,n,r)}),i}function I9(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function Le(e,n){var r=Object.create(e.prototype);for(var i in n)r[i]=n[i];return r}function Lt(){}var Ln="\\s*([+-]?\\d+)\\s*",Lr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",La=/^#([0-9a-f]{3,8})$/,Lo=RegExp(`^rgb\\(${Ln},${Ln},${Ln}\\)$`),Ll=RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),Ls=RegExp(`^rgba\\(${Ln},${Ln},${Ln},${Lr}\\)$`),Lu=RegExp(`^rgba\\(${Li},${Li},${Li},${Lr}\\)$`),Lc=RegExp(`^hsl\\(${Lr},${Li},${Li}\\)$`),Ld=RegExp(`^hsla\\(${Lr},${Li},${Li},${Lr}\\)$`),Lh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Lp(){return this.rgb().formatHex()}function Lm(){return this.rgb().formatRgb()}function Lf(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=La.exec(e))?(r=n[1].length,n=parseInt(n[1],16),6===r?Lg(n):3===r?new Lv(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===r?Ly(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===r?Ly(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Lo.exec(e))?new Lv(n[1],n[2],n[3],1):(n=Ll.exec(e))?new Lv(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Ls.exec(e))?Ly(n[1],n[2],n[3],n[4]):(n=Lu.exec(e))?Ly(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Lc.exec(e))?LC(n[1],n[2]/100,n[3]/100,1):(n=Ld.exec(e))?LC(n[1],n[2]/100,n[3]/100,n[4]):Lh.hasOwnProperty(e)?Lg(Lh[e]):"transparent"===e?new Lv(NaN,NaN,NaN,0):null}function Lg(e){return new Lv(e>>16&255,e>>8&255,255&e,1)}function Ly(e,n,r,i){return i<=0&&(e=n=r=NaN),new Lv(e,n,r,i)}function Lb(e,n,r,i){var a;return 1==arguments.length?((a=e)instanceof Lt||(a=Lf(a)),a)?new Lv((a=a.rgb()).r,a.g,a.b,a.opacity):new Lv:new Lv(e,n,r,null==i?1:i)}function Lv(e,n,r,i){this.r=+e,this.g=+n,this.b=+r,this.opacity=+i}function L_(){return`#${LE(this.r)}${LE(this.g)}${LE(this.b)}`}function Lx(){let e=LO(this.opacity);return`${1===e?"rgb(":"rgba("}${Lw(this.r)}, ${Lw(this.g)}, ${Lw(this.b)}${1===e?")":`, ${e})`}`}function LO(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Lw(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function LE(e){return((e=Lw(e))<16?"0":"")+e.toString(16)}function LC(e,n,r,i){return i<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new Lk(e,n,r,i)}function LT(e){if(e instanceof Lk)return new Lk(e.h,e.s,e.l,e.opacity);if(e instanceof Lt||(e=Lf(e)),!e)return new Lk;if(e instanceof Lk)return e;var n=(e=e.rgb()).r/255,r=e.g/255,i=e.b/255,a=Math.min(n,r,i),o=Math.max(n,r,i),l=NaN,s=o-a,u=(o+a)/2;return s?(l=n===o?(r-i)/s+(r<i)*6:r===o?(i-n)/s+2:(n-r)/s+4,s/=u<.5?o+a:2-o-a,l*=60):s=u>0&&u<1?0:l,new Lk(l,s,u,e.opacity)}function Lk(e,n,r,i){this.h=+e,this.s=+n,this.l=+r,this.opacity=+i}function LR(e){return(e=(e||0)%360)<0?e+360:e}function LS(e){return Math.max(0,Math.min(1,e||0))}function LA(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}I9(Lt,Lf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Lp,formatHex:Lp,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return LT(this).formatHsl()},formatRgb:Lm,toString:Lm}),I9(Lv,Lb,Le(Lt,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new Lv(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new Lv(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Lv(Lw(this.r),Lw(this.g),Lw(this.b),LO(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:L_,formatHex:L_,formatHex8:function(){return`#${LE(this.r)}${LE(this.g)}${LE(this.b)}${LE((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:Lx,toString:Lx})),I9(Lk,function(e,n,r,i){return 1==arguments.length?LT(e):new Lk(e,n,r,null==i?1:i)},Le(Lt,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new Lk(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new Lk(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,a=2*r-i;return new Lv(LA(e>=240?e-240:e+120,a,i),LA(e,a,i),LA(e<120?e+240:e-120,a,i),this.opacity)},clamp(){return new Lk(LR(this.h),LS(this.s),LS(this.l),LO(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=LO(this.opacity);return`${1===e?"hsl(":"hsla("}${LR(this.h)}, ${100*LS(this.s)}%, ${100*LS(this.l)}%${1===e?")":`, ${e})`}`}}));let LI=e0.createContext({item:null,axis:{x:null,y:null},useVoronoiInteraction:!1,dispatch:()=>null}),LL=(e,n)=>{switch(n.type){case"enterItem":return RW({},e,{item:n.data});case"exitChart":if(null===e.item&&null===e.axis.x&&null===e.axis.y)return e;return RW({},e,{axis:{x:null,y:null},item:null});case"updateVoronoiUsage":return RW({},e,{useVoronoiInteraction:n.useVoronoiInteraction});case"leaveItem":if(null===e.item||Object.keys(n.data).some(r=>n.data[r]!==e.item[r]))return e;return RW({},e,{item:null});case"updateAxis":if(n.data.x===e.axis.x&&n.data.y===e.axis.y)return e;return RW({},e,{axis:n.data});default:return e}};function LM(e){let{children:n}=e,[r,i]=e0.useReducer(LL,{item:null,axis:{x:null,y:null},useVoronoiInteraction:!1}),a=e0.useMemo(()=>RW({},r,{dispatch:i}),[r]);return(0,CK.jsx)(LI.Provider,{value:a,children:n})}let LN=e0.createContext({isInitialized:!1,data:{highlightedItem:null,setHighlighted:()=>{},clearHighlighted:()=>{},isHighlighted:()=>!1,isFaded:()=>!1}});function LD(){let{isInitialized:e,data:n}=e0.useContext(LN);if(!e)throw Error("MUI X: Could not find the highlighted ref context.\nIt looks like you rendered your component outside of a ChartsContainer parent component.");return n}let LB=e=>{let{dispatch:n}=e0.useContext(LI),{setHighlighted:r,clearHighlighted:i}=LD();return e?()=>({}):e=>({onPointerEnter:()=>{n({type:"enterItem",data:e}),r({seriesId:e.seriesId,dataIndex:e.dataIndex})},onPointerLeave:r=>{r.currentTarget.releasePointerCapture(r.pointerId),n({type:"leaveItem",data:e}),i()},onPointerDown:e=>{e.currentTarget.hasPointerCapture(e.pointerId)&&e.currentTarget.releasePointerCapture(e.pointerId)}})};function LP(e){let n=LD();if(!e)return{isHighlighted:!1,isFaded:!1};let r=n.isHighlighted(e),i=!r&&n.isFaded(e);return{isHighlighted:r,isFaded:i}}let LK=["id","dataIndex","classes","color","slots","slotProps","style","onClick"];function LU(e){return I5("MuiBarElement",e)}I7("MuiBarElement",["root"]);let LV=e=>{let{classes:n,id:r}=e;return Iq({root:["root",`series-${r}`]},LU,n)},LG=(0,I8.ZP)(IZ.rect,{name:"MuiBarElement",slot:"Root",overridesResolver:(e,n)=>n.root})(({ownerState:e})=>({stroke:"none",fill:e.isHighlighted?Lf(e.color).brighter(.5).formatHex():e.color,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",opacity:e.isFaded&&.3||1}));function LF(e){let{id:n,dataIndex:r,classes:i,color:a,slots:o,slotProps:l,style:s,onClick:u}=e,c=RY(e,LK),d=LB(),{isFaded:h,isHighlighted:p}=LP({seriesId:n,dataIndex:r}),m={id:n,dataIndex:r,classes:i,color:a,isFaded:h,isHighlighted:p},f=LV(m),g=o?.bar??LG,y=I2({elementType:g,externalSlotProps:l?.bar,externalForwardedProps:c,additionalProps:RW({},d({type:"bar",seriesId:n,dataIndex:r}),{style:s,onClick:u,cursor:u?"pointer":"unset"}),className:f.root,ownerState:m});return(0,CK.jsx)(g,RW({},y))}var LH=(e,n,r)=>{let i="vertical"===e.layout,a=i?n?.colorScale:r?.colorScale,o=i?r?.colorScale:n?.colorScale,l=i?n?.data:r?.data;return o?n=>{let r=e.data[n],i=null===r?e.color:o(r);return null===i?e.color:i}:a&&l?n=>{let r=l[n],i=null===r?e.color:a(r);return null===i?e.color:i}:()=>e.color};let Lz=0,L$=e1["useId".toString()];function LZ(e){if(void 0!==L$){let n=L$();return null!=e?e:n}return function(e){let[n,r]=e0.useState(e),i=e||n;return e0.useEffect(()=>{null==n&&(Lz+=1,r(`mui-${Lz}`))},[n]),i}(e)}let Lj="DEFAULT_X_AXIS_KEY",LW="DEFAULT_Y_AXIS_KEY",Lq={top:50,bottom:50,left:50,right:50};var LY=(e,n,r)=>{let i=RW({},Lq,r);return e0.useMemo(()=>({left:i.left,top:i.top,right:i.right,bottom:i.bottom,width:Math.max(0,e-i.left-i.right),height:Math.max(0,n-i.top-i.bottom)}),[e,n,i.top,i.bottom,i.left,i.right])};let LX=e0.createContext({top:0,left:0,bottom:0,right:0,height:300,width:400,chartId:"",isPointInside:()=>!1}),LJ=e0.createContext({isInitialized:!1,data:{current:null}});function LQ(e){let{width:n,height:r,margin:i,svgRef:a,children:o}=e,l=LY(n,r,i),s=LZ(),u=e0.useCallback(({x:e,y:n},r)=>{if(r?.targetElement&&r?.targetElement.closest("[data-drawing-container]"))return!0;let i=e>=l.left-1&&e<=l.left+l.width,a=n>=l.top-1&&n<=l.top+l.height;return r?.direction==="x"?i:r?.direction==="y"?a:i&&a},[l]),c=e0.useMemo(()=>RW({chartId:s??""},l,{isPointInside:u}),[s,l,u]),d=e0.useMemo(()=>({isInitialized:!0,data:a}),[a]);return(0,CK.jsx)(LJ.Provider,{value:d,children:(0,CK.jsx)(LX.Provider,{value:c,children:o})})}function L0(){let{chartId:e}=e0.useContext(LX);return e0.useMemo(()=>e,[e])}let L1=(e,{hasNegative:n,hasPositive:r,borderRadius:i,layout:a})=>{if(!i)return 0;let o="vertical"===a;return"top-left"===e&&(o&&r||!o&&n)||"top-right"===e&&(o&&r||!o&&r)||"bottom-right"===e&&(o&&n||!o&&r)||"bottom-left"===e&&(o&&n||!o&&n)?i:0},L2=["style","maskId"],L3=e=>`inset(0px round ${e.topLeft}px ${e.topRight}px ${e.bottomRight}px ${e.bottomLeft}px)`;function L4(e){let n=e.ownerState;return(0,CK.jsx)(IZ.rect,{style:RW({},e.style,{clipPath:("vertical"===e.ownerState.layout?e.style?.height:e.style?.width).to(e=>L3({topLeft:Math.min(e,L1("top-left",n)),topRight:Math.min(e,L1("top-right",n)),bottomRight:Math.min(e,L1("bottom-right",n)),bottomLeft:Math.min(e,L1("bottom-left",n))}))})})}function L6(e){let{style:n,maskId:r}=e,i=RY(e,L2);return!e.borderRadius||e.borderRadius<=0?null:(0,CK.jsx)("clipPath",{id:r,children:(0,CK.jsx)(L4,{ownerState:i,style:n})})}function L5(e){return I5("MuiBarLabel",e)}let L8=I7("MuiBarLabel",["root","highlighted","faded"]),L7=e=>{let{classes:n,seriesId:r,isFaded:i,isHighlighted:a}=e;return Iq({root:["root",`series-${r}`,a&&"highlighted",i&&"faded"]},L5,n)},L9=e=>{let{barLabel:n,value:r,dataIndex:i,seriesId:a,height:o,width:l}=e;return"value"===n?r?r?.toString():null:n({seriesId:a,dataIndex:i,value:r},{bar:{height:o,width:l}})},Me=["seriesId","dataIndex","color","isFaded","isHighlighted","classes"],Mt=(0,I8.ZP)(IZ.text,{name:"MuiBarLabel",slot:"Root",overridesResolver:(e,n)=>[{[`&.${L8.faded}`]:n.faded},{[`&.${L8.highlighted}`]:n.highlighted},n.root]})(({theme:e})=>RW({},e?.typography?.body2,{stroke:"none",fill:(e.vars||e)?.palette?.text?.primary,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",opacity:1,[`&.${L8.faded}`]:{opacity:.3}}));function Mn(e){let n=RY((0,Rq.Z)({props:e,name:"MuiBarLabel"}),Me);return(0,CK.jsx)(Mt,RW({},n))}let Mr=["seriesId","classes","color","style","dataIndex","barLabel","slots","slotProps","height","width","value"],Mi=["ownerState"];function Ma(e){let{seriesId:n,classes:r,color:i,style:a,dataIndex:o,barLabel:l,slots:s,slotProps:u,height:c,width:d,value:h}=e,p=RY(e,Mr),{isFaded:m,isHighlighted:f}=LP({seriesId:n,dataIndex:o}),g={seriesId:n,classes:r,color:i,isFaded:m,isHighlighted:f,dataIndex:o},y=L7(g),b=s?.barLabel??Mn,v=I2({elementType:b,externalSlotProps:u?.barLabel,additionalProps:RW({},p,{style:a,className:y.root}),ownerState:g}),{ownerState:_}=v,x=RY(v,Mi);if(!l)return null;let O=L9({barLabel:l,value:h,dataIndex:o,seriesId:n,height:c,width:d});return O?(0,CK.jsx)(b,RW({},x,_,{children:O})):null}let Mo=["bars","skipAnimation"],Ml=({layout:e,yOrigin:n,x:r,width:i,y:a,xOrigin:o,height:l})=>RW({},"vertical"===e?{y:n,x:r+i/2,height:0,width:i}:{y:a+l/2,x:o,height:l,width:0}),Ms=({x:e,width:n,y:r,height:i})=>({x:e+n/2,y:r+i/2,height:i,width:n});function Mu(e){let{bars:n,skipAnimation:r}=e,i=RY(e,Mo),a=Ik(n,{keys:e=>`${e.seriesId}-${e.dataIndex}`,from:Ml,leave:null,enter:Ms,update:Ms,immediate:r});return(0,CK.jsx)(e0.Fragment,{children:a((e,{seriesId:n,dataIndex:r,color:a,value:o,width:l,height:s})=>(0,CK.jsx)(Ma,RW({seriesId:n,dataIndex:r,value:o,color:a,width:l,height:s},i,{style:e})))})}function Mc(e){return"band"===e.scaleType}function Md(e){return"point"===e.scaleType}let Mh=(e,n)=>{let r=`${e}-axis`,i=`${e}Axis`;return n===("x"===e?Lj:LW)?`The first \`${i}\``:`The ${r} with id "${n}"`},Mp=e0.createContext({isInitialized:!1,data:{}});function Mm(){let{isInitialized:e,data:n}=e0.useContext(Mp);if(!e)throw Error("MUI X: Could not find the series ref context.\nIt looks like you rendered your component outside of a ChartsContainer parent component.");return n}function Mf(){let e=Mm();return e0.useMemo(()=>e.line,[e.line])}let Mg=["skipAnimation","onItemClick","borderRadius","barLabel"],My=()=>{let e=function(){let e=Mm();return e0.useMemo(()=>e.bar,[e.bar])}()??{series:{},stackingGroups:[],seriesOrder:[]},n=IW(),r=L0(),{series:i,stackingGroups:a}=e,{xAxis:o,yAxis:l,xAxisIds:s,yAxisIds:u}=n,c=s[0],d=u[0],h={};return{completedData:a.flatMap(({ids:e},n)=>e.flatMap(e=>{let s=i[e].xAxisId??i[e].xAxisKey??c,u=i[e].yAxisId??i[e].yAxisKey??d,p=o[s],m=l[u],f="vertical"===i[e].layout;!function(e,n,r,i,a,o){let l=i[r],s=o[a],u=e?l:s,c=e?s:l,d=e?r:a,h=e?"x":"y";if(!Mc(u))throw Error(`MUI X: ${Mh(h,d)} should be of type "band" to display the bar series of id "${n}".`);if(void 0===u.data)throw Error(`MUI X: ${Mh(h,d)} should have data property.`);if(Mc(c)||Md(c))throw Error(`MUI X: ${Mh(e?"y":"x",e?a:r)} should be a continuous type to display the bar series of id "${n}".`)}(f,e,s,o,u,l);let g=f?p:m,y=p.scale,b=m.scale,v=LH(i[e],o[s],l[u]),{barWidth:_,offset:x}=function({bandWidth:e,numberOfGroups:n,gapRatio:r}){if(0===r)return{barWidth:e/n,offset:0};let i=e/(n+(n-1)*r);return{barWidth:i,offset:r*i}}({bandWidth:g.scale.bandwidth(),numberOfGroups:a.length,gapRatio:g.barGapRatio}),O=n*(_+x),{stackedData:w}=i[e];return w.map((a,c)=>{let d=a.map(e=>f?b(e):y(e)),p=Math.round(Math.min(...d)),m=Math.round(Math.max(...d)),g=i[e].stack,x={seriesId:e,dataIndex:c,layout:i[e].layout,x:f?y(o[s].data?.[c])+O:p,y:f?p:b(l[u].data?.[c])+O,xOrigin:y(0),yOrigin:b(0),height:f?m-p:_,width:f?_:m-p,color:v(c),value:i[e].data[c],maskId:`${r}_${g||e}_${n}_${c}`};h[x.maskId]||(h[x.maskId]={id:x.maskId,width:0,height:0,hasNegative:!1,hasPositive:!1,layout:x.layout,xOrigin:y(0),yOrigin:b(0),x:0,y:0});let w=h[x.maskId];return w.width="vertical"===x.layout?x.width:w.width+x.width,w.height="vertical"===x.layout?w.height+x.height:x.height,w.x=Math.min(0===w.x?1/0:w.x,x.x),w.y=Math.min(0===w.y?1/0:w.y,x.y),w.hasNegative=w.hasNegative||(x.value??0)<0,w.hasPositive=w.hasPositive||(x.value??0)>0,x})})),masksData:Object.values(h)}},Mb=({layout:e,yOrigin:n,x:r,width:i,y:a,xOrigin:o,height:l})=>RW({},"vertical"===e?{y:n,x:r,height:0,width:i}:{y:a,x:o,height:l,width:0}),Mv=({x:e,width:n,y:r,height:i})=>({y:r,x:e,height:i,width:n});function M_(e){let{completedData:n,masksData:r}=My(),{skipAnimation:i,onItemClick:a,borderRadius:o,barLabel:l}=e,s=RY(e,Mg),u=!o||o<=0,c=Ik(n,{keys:e=>`${e.seriesId}-${e.dataIndex}`,from:Mb,leave:Mb,enter:Mv,update:Mv,immediate:i}),d=Ik(u?[]:r,{keys:e=>e.id,from:Mb,leave:Mb,enter:Mv,update:Mv,immediate:i});return(0,CK.jsxs)(e0.Fragment,{children:[!u&&d((e,{id:n,hasPositive:r,hasNegative:i,layout:a})=>(0,CK.jsx)(L6,{maskId:n,borderRadius:o,hasNegative:i,hasPositive:r,layout:a,style:e})),c((e,{seriesId:n,dataIndex:r,color:i,maskId:o})=>{let l=(0,CK.jsx)(LF,RW({id:n,dataIndex:r,color:i},s,{onClick:a&&(e=>{a(e,{type:"bar",seriesId:n,dataIndex:r})}),style:e}));return u?l:(0,CK.jsx)("g",{clipPath:`url(#${o})`,children:l})}),l&&(0,CK.jsx)(Mu,RW({bars:n,skipAnimation:i,barLabel:l},s))]})}let Mx=["#02B2AF","#2E96FF","#B800D8","#60009B","#2731C8","#03008D"],MO=["#02B2AF","#72CCFF","#DA00FF","#9001CB","#2E96FF","#3B48E0"],Mw=e=>"dark"===e?MO:Mx,ME=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],MC=({series:e,colors:n,seriesFormatters:r,dataset:i})=>{let a={};e.forEach((e,r)=>{let{id:i=`auto-generated-id-${r}`,type:o}=e;if(void 0===a[o]&&(a[o]={series:{},seriesOrder:[]}),a[o]?.series[i]!==void 0)throw Error(`MUI X: series' id "${i}" is not unique.`);a[o].series[i]=RW({id:i},function(e,n,r=ME){return"pie"===e.type?RW({},e,{data:e.data.map((e,n)=>RW({color:r[n%r.length]},e))}):RW({color:r[n%r.length]},e)}(e,r,n)),a[o].seriesOrder.push(i)});let o={};return Object.keys(r).forEach(e=>{let n=a[e];void 0!==n&&(o[e]=r[e]?.(n,i)??a[e])}),o},MT=e0.createContext({isInitialized:!1,data:{colorProcessors:{},seriesFormatters:{},xExtremumGetters:{},yExtremumGetters:{}}});function Mk(e){let{series:n,dataset:r,colors:i=Mw,children:a}=e,o=function(e){let{isInitialized:n,data:r}=e0.useContext(MT);if(!n)throw Error("MUI X: Could not find the plugin context.\nIt looks like you rendered your component outside of a ChartsContainer parent component.");return r.seriesFormatters}(),l=(0,xa.Z)(),s=e0.useMemo(()=>({isInitialized:!0,data:MC({series:n,colors:"function"==typeof i?i(l.palette.mode):i,seriesFormatters:o,dataset:r})}),[n,i,l.palette.mode,o,r]);return(0,CK.jsx)(Mp.Provider,{value:s,children:a})}function MR(e){return void 0!==e.bandwidth}function MS(){let{isInitialized:e,data:n}=e0.useContext(LJ);if(!e)throw Error("MUI X: Could not find the svg ref context.\nIt looks like you rendered your component outside of a ChartsContainer parent component.");return n}function MA(){let{left:e,top:n,width:r,height:i,bottom:a,right:o,isPointInside:l}=e0.useContext(LX);return e0.useMemo(()=>({left:e,top:n,width:r,height:i,bottom:a,right:o,isPointInside:l}),[i,e,n,r,a,o,l])}function MI(e){return e instanceof Date?e.getTime():e}let ML=e=>{let n=MS(),r=MA(),{xAxis:i,yAxis:a,xAxisIds:o,yAxisIds:l}=IW(),{dispatch:s}=e0.useContext(LI),u=o[0],c=l[0],d=e0.useRef({isInChart:!1,x:-1,y:-1});e0.useEffect(()=>{let o=n.current;if(null===o||e)return()=>{};function l(e,n){let{scale:r,data:i,reverse:a}=e;if(!MR(r)){let e=r.invert(n);if(void 0===i)return{value:e,index:-1};let a=MI(e),o=i?.findIndex((n,r)=>{let o=MI(n);return!!(o>a&&(0===r||Math.abs(a-o)<=Math.abs(a-MI(i[r-1])))||o<=a&&(r===i.length-1||Math.abs(MI(e)-o)<Math.abs(MI(e)-MI(i[r+1]))))});return{value:void 0!==o&&o>=0?i[o]:e,index:o}}let o=0===r.bandwidth()?Math.floor((n-Math.min(...r.range())+r.step()/2)/r.step()):Math.floor((n-Math.min(...r.range()))/r.step());if(o<0||o>=i.length)return null;if(a){let e=i.length-1-o;return{index:e,value:i[e]}}return{index:o,value:i[o]}}let h=()=>{d.current={isInChart:!1,x:-1,y:-1},s({type:"exitChart"})},p=e=>{let n=function(e,n){let r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r.matrixTransform(e.getScreenCTM().inverse())}(o,"targetTouches"in e?e.targetTouches[0]:e);if(d.current.x=n.x,d.current.y=n.y,!r.isPointInside(n,{targetElement:e.target})){d.current.isInChart&&(s({type:"exitChart"}),d.current.isInChart=!1);return}d.current.isInChart=!0,s({type:"updateAxis",data:{x:l(i[u],n.x),y:l(a[c],n.y)}})},m=e=>{let n=e.currentTarget;n&&n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId)};return o.addEventListener("pointerdown",m),o.addEventListener("pointermove",p),o.addEventListener("pointerout",h),o.addEventListener("pointercancel",h),o.addEventListener("pointerleave",h),()=>{o.removeEventListener("pointerdown",m),o.removeEventListener("pointermove",p),o.removeEventListener("pointerout",h),o.removeEventListener("pointercancel",h),o.removeEventListener("pointerleave",h)}},[n,s,c,a,u,i,e,r])},MM=["children","width","height","viewBox","disableAxisListener","className","title","desc"],MN=(0,I8.ZP)("svg",{name:"MuiChartsSurface",slot:"Root"})(()=>({touchAction:"none"})),MD=e0.forwardRef(function(e,n){let r=(0,Rq.Z)({props:e,name:"MuiChartsSurface"}),{children:i,width:a,height:o,viewBox:l,disableAxisListener:s=!1,className:u,title:c,desc:d}=r,h=RY(r,MM),p=RW({width:a,height:o,x:0,y:0},l);return ML(s),(0,CK.jsxs)(MN,RW({width:a,height:o,viewBox:`${p.x} ${p.y} ${p.width} ${p.height}`,ref:n,className:u},h,{children:[(0,CK.jsx)("title",{children:c}),(0,CK.jsx)("desc",{children:d}),i]}))});function MB(e,n){return null==e||null==n?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function MP(e,n){return null==e||null==n?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function MK(e){let n,r,i;function a(e,i,a=0,o=e.length){if(a<o){if(0!==n(i,i))return o;do{let n=a+o>>>1;0>r(e[n],i)?a=n+1:o=n}while(a<o)}return a}return 2!==e.length?(n=MB,r=(n,r)=>MB(e(n),r),i=(n,r)=>e(n)-r):(n=e===MB||e===MP?e:MU,r=e,i=e),{left:a,center:function(e,n,r=0,o=e.length){let l=a(e,n,r,o-1);return l>r&&i(e[l-1],n)>-i(e[l],n)?l-1:l},right:function(e,i,a=0,o=e.length){if(a<o){if(0!==n(i,i))return o;do{let n=a+o>>>1;0>=r(e[n],i)?a=n+1:o=n}while(a<o)}return a}}}function MU(){return 0}let MV=Math.sqrt(50),MG=Math.sqrt(10),MF=Math.sqrt(2);function MH(e,n,r){let i,a,o;let l=(n-e)/Math.max(0,r),s=Math.floor(Math.log10(l)),u=l/Math.pow(10,s),c=u>=MV?10:u>=MG?5:u>=MF?2:1;return(s<0?(i=Math.round(e*(o=Math.pow(10,-s)/c)),a=Math.round(n*o),i/o<e&&++i,a/o>n&&--a,o=-o):(i=Math.round(e/(o=Math.pow(10,s)*c)),a=Math.round(n/o),i*o<e&&++i,a*o>n&&--a),a<i&&.5<=r&&r<2)?MH(e,n,2*r):[i,a,o]}function Mz(e,n,r){if(n=+n,e=+e,!((r=+r)>0))return[];if(e===n)return[e];let i=n<e,[a,o,l]=i?MH(n,e,r):MH(e,n,r);if(!(o>=a))return[];let s=o-a+1,u=Array(s);if(i){if(l<0)for(let e=0;e<s;++e)u[e]=-((o-e)/l);else for(let e=0;e<s;++e)u[e]=(o-e)*l}else if(l<0)for(let e=0;e<s;++e)u[e]=-((a+e)/l);else for(let e=0;e<s;++e)u[e]=(a+e)*l;return u}function M$(e,n,r){return MH(e=+e,n=+n,r=+r)[2]}function MZ(e,n,r){n=+n,e=+e,r=+r;let i=n<e,a=i?M$(n,e,r):M$(e,n,r);return(i?-1:1)*(a<0?-(1/a):a)}let Mj=new Date,MW=new Date;function Mq(e,n,r,i){function a(n){return e(n=0==arguments.length?new Date:new Date(+n)),n}return a.floor=n=>(e(n=new Date(+n)),n),a.ceil=r=>(e(r=new Date(r-1)),n(r,1),e(r),r),a.round=e=>{let n=a(e),r=a.ceil(e);return e-n<r-e?n:r},a.offset=(e,r)=>(n(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,i,o)=>{let l;let s=[];if(r=a.ceil(r),o=null==o?1:Math.floor(o),!(r<i)||!(o>0))return s;do s.push(l=new Date(+r)),n(r,o),e(r);while(l<r&&r<i);return s},a.filter=r=>Mq(n=>{if(n>=n)for(;e(n),!r(n);)n.setTime(n-1)},(e,i)=>{if(e>=e){if(i<0)for(;++i<=0;)for(;n(e,-1),!r(e););else for(;--i>=0;)for(;n(e,1),!r(e););}}),r&&(a.count=(n,i)=>(Mj.setTime(+n),MW.setTime(+i),e(Mj),e(MW),Math.floor(r(Mj,MW))),a.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?a.filter(i?n=>i(n)%e==0:n=>a.count(0,n)%e==0):a:null),a}let MY=Mq(()=>{},(e,n)=>{e.setTime(+e+n)},(e,n)=>n-e);MY.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?Mq(n=>{n.setTime(Math.floor(n/e)*e)},(n,r)=>{n.setTime(+n+r*e)},(n,r)=>(r-n)/e):MY:null,MY.range;let MX=Mq(e=>{e.setTime(e-e.getMilliseconds())},(e,n)=>{e.setTime(+e+1e3*n)},(e,n)=>(n-e)/1e3,e=>e.getUTCSeconds());MX.range;let MJ=Mq(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},(e,n)=>{e.setTime(+e+6e4*n)},(e,n)=>(n-e)/6e4,e=>e.getMinutes());MJ.range;let MQ=Mq(e=>{e.setUTCSeconds(0,0)},(e,n)=>{e.setTime(+e+6e4*n)},(e,n)=>(n-e)/6e4,e=>e.getUTCMinutes());MQ.range;let M0=Mq(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())},(e,n)=>{e.setTime(+e+36e5*n)},(e,n)=>(n-e)/36e5,e=>e.getHours());M0.range;let M1=Mq(e=>{e.setUTCMinutes(0,0,0)},(e,n)=>{e.setTime(+e+36e5*n)},(e,n)=>(n-e)/36e5,e=>e.getUTCHours());M1.range;let M2=Mq(e=>e.setHours(0,0,0,0),(e,n)=>e.setDate(e.getDate()+n),(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1);M2.range;let M3=Mq(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/864e5,e=>e.getUTCDate()-1);M3.range;let M4=Mq(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/864e5,e=>Math.floor(e/864e5));function M6(e){return Mq(n=>{n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+7*n)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}M4.range;let M5=M6(0),M8=M6(1),M7=M6(2),M9=M6(3),Ne=M6(4),Nt=M6(5),Nn=M6(6);function Nr(e){return Mq(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+7*n)},(e,n)=>(n-e)/6048e5)}M5.range,M8.range,M7.range,M9.range,Ne.range,Nt.range,Nn.range;let Ni=Nr(0),Na=Nr(1),No=Nr(2),Nl=Nr(3),Ns=Nr(4),Nu=Nr(5),Nc=Nr(6);Ni.range,Na.range,No.range,Nl.range,Ns.range,Nu.range,Nc.range;let Nd=Mq(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,n)=>{e.setMonth(e.getMonth()+n)},(e,n)=>n.getMonth()-e.getMonth()+(n.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Nd.range;let Nh=Mq(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCMonth(e.getUTCMonth()+n)},(e,n)=>n.getUTCMonth()-e.getUTCMonth()+(n.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Nh.range;let Np=Mq(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n)},(e,n)=>n.getFullYear()-e.getFullYear(),e=>e.getFullYear());Np.every=e=>isFinite(e=Math.floor(e))&&e>0?Mq(n=>{n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,r)=>{n.setFullYear(n.getFullYear()+r*e)}):null,Np.range;let Nm=Mq(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n)},(e,n)=>n.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function Nf(e,n,r,i,a,o){let l=[[MX,1,1e3],[MX,5,5e3],[MX,15,15e3],[MX,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[a,1,36e5],[a,3,108e5],[a,6,216e5],[a,12,432e5],[i,1,864e5],[i,2,1728e5],[r,1,6048e5],[n,1,2592e6],[n,3,7776e6],[e,1,31536e6]];function s(n,r,i){let a=Math.abs(r-n)/i,o=MK(([,,e])=>e).right(l,a);if(o===l.length)return e.every(MZ(n/31536e6,r/31536e6,i));if(0===o)return MY.every(Math.max(MZ(n,r,i),1));let[s,u]=l[a/l[o-1][2]<l[o][2]/a?o-1:o];return s.every(u)}return[function(e,n,r){let i=n<e;i&&([e,n]=[n,e]);let a=r&&"function"==typeof r.range?r:s(e,n,r),o=a?a.range(e,+n+1):[];return i?o.reverse():o},s]}Nm.every=e=>isFinite(e=Math.floor(e))&&e>0?Mq(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,r)=>{n.setUTCFullYear(n.getUTCFullYear()+r*e)}):null,Nm.range;let[Ng,Ny]=Nf(Nm,Nh,Ni,M4,M1,MQ),[Nb,Nv]=Nf(Np,Nd,M5,M2,M0,MJ);function N_(e){if(0<=e.y&&e.y<100){var n=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return n.setFullYear(e.y),n}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Nx(e){if(0<=e.y&&e.y<100){var n=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return n.setUTCFullYear(e.y),n}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function NO(e,n,r){return{y:e,m:n,d:r,H:0,M:0,S:0,L:0}}var Nw={"-":"",_:" ",0:"0"},NE=/^\s*\d+/,NC=/^%/,NT=/[\\^$*+?|[\]().{}]/g;function Nk(e,n,r){var i=e<0?"-":"",a=(i?-e:e)+"",o=a.length;return i+(o<r?Array(r-o+1).join(n)+a:a)}function NR(e){return e.replace(NT,"\\$&")}function NS(e){return RegExp("^(?:"+e.map(NR).join("|")+")","i")}function NA(e){return new Map(e.map((e,n)=>[e.toLowerCase(),n]))}function NI(e,n,r){var i=NE.exec(n.slice(r,r+1));return i?(e.w=+i[0],r+i[0].length):-1}function NL(e,n,r){var i=NE.exec(n.slice(r,r+1));return i?(e.u=+i[0],r+i[0].length):-1}function NM(e,n,r){var i=NE.exec(n.slice(r,r+2));return i?(e.U=+i[0],r+i[0].length):-1}function NN(e,n,r){var i=NE.exec(n.slice(r,r+2));return i?(e.V=+i[0],r+i[0].length):-1}function ND(e,n,r){var i=NE.exec(n.slice(r,r+2));return i?(e.W=+i[0],r+i[0].length):-1}function NB(e,n,r){var i=NE.exec(n.slice(r,r+4));return i?(e.y=+i[0],r+i[0].length):-1}function NP(e,n,r){var i=NE.exec(n.slice(r,r+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function NK(e,n,r){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(r,r+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),r+i[0].length):-1}function NU(e,n,r){var i=NE.exec(n.slice(r,r+1));return i?(e.q=3*i[0]-3,r+i[0].length):-1}function NV(e,n,r){var i=NE.exec(n.slice(r,r+2));return i?(e.m=i[0]-1,r+i[0].length):-1}function NG(e,n,r){var i=NE.exec(n.slice(r,r+2));return i?(e.d=+i[0],r+i[0].length):-1}function NF(e,n,r){var i=NE.exec(n.slice(r,r+3));return i?(e.m=0,e.d=+i[0],r+i[0].length):-1}function NH(e,n,r){var i=NE.exec(n.slice(r,r+2));return i?(e.H=+i[0],r+i[0].length):-1}function Nz(e,n,r){var i=NE.exec(n.slice(r,r+2));return i?(e.M=+i[0],r+i[0].length):-1}function N$(e,n,r){var i=NE.exec(n.slice(r,r+2));return i?(e.S=+i[0],r+i[0].length):-1}function NZ(e,n,r){var i=NE.exec(n.slice(r,r+3));return i?(e.L=+i[0],r+i[0].length):-1}function Nj(e,n,r){var i=NE.exec(n.slice(r,r+6));return i?(e.L=Math.floor(i[0]/1e3),r+i[0].length):-1}function NW(e,n,r){var i=NC.exec(n.slice(r,r+1));return i?r+i[0].length:-1}function Nq(e,n,r){var i=NE.exec(n.slice(r));return i?(e.Q=+i[0],r+i[0].length):-1}function NY(e,n,r){var i=NE.exec(n.slice(r));return i?(e.s=+i[0],r+i[0].length):-1}function NX(e,n){return Nk(e.getDate(),n,2)}function NJ(e,n){return Nk(e.getHours(),n,2)}function NQ(e,n){return Nk(e.getHours()%12||12,n,2)}function N0(e,n){return Nk(1+M2.count(Np(e),e),n,3)}function N1(e,n){return Nk(e.getMilliseconds(),n,3)}function N2(e,n){return N1(e,n)+"000"}function N3(e,n){return Nk(e.getMonth()+1,n,2)}function N4(e,n){return Nk(e.getMinutes(),n,2)}function N6(e,n){return Nk(e.getSeconds(),n,2)}function N5(e){var n=e.getDay();return 0===n?7:n}function N8(e,n){return Nk(M5.count(Np(e)-1,e),n,2)}function N7(e){var n=e.getDay();return n>=4||0===n?Ne(e):Ne.ceil(e)}function N9(e,n){return e=N7(e),Nk(Ne.count(Np(e),e)+(4===Np(e).getDay()),n,2)}function De(e){return e.getDay()}function Dt(e,n){return Nk(M8.count(Np(e)-1,e),n,2)}function Dn(e,n){return Nk(e.getFullYear()%100,n,2)}function Dr(e,n){return Nk((e=N7(e)).getFullYear()%100,n,2)}function Di(e,n){return Nk(e.getFullYear()%1e4,n,4)}function Da(e,n){var r=e.getDay();return Nk((e=r>=4||0===r?Ne(e):Ne.ceil(e)).getFullYear()%1e4,n,4)}function Do(e){var n=e.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Nk(n/60|0,"0",2)+Nk(n%60,"0",2)}function Dl(e,n){return Nk(e.getUTCDate(),n,2)}function Ds(e,n){return Nk(e.getUTCHours(),n,2)}function Du(e,n){return Nk(e.getUTCHours()%12||12,n,2)}function Dc(e,n){return Nk(1+M3.count(Nm(e),e),n,3)}function Dd(e,n){return Nk(e.getUTCMilliseconds(),n,3)}function Dh(e,n){return Dd(e,n)+"000"}function Dp(e,n){return Nk(e.getUTCMonth()+1,n,2)}function Dm(e,n){return Nk(e.getUTCMinutes(),n,2)}function Df(e,n){return Nk(e.getUTCSeconds(),n,2)}function Dg(e){var n=e.getUTCDay();return 0===n?7:n}function Dy(e,n){return Nk(Ni.count(Nm(e)-1,e),n,2)}function Db(e){var n=e.getUTCDay();return n>=4||0===n?Ns(e):Ns.ceil(e)}function Dv(e,n){return e=Db(e),Nk(Ns.count(Nm(e),e)+(4===Nm(e).getUTCDay()),n,2)}function D_(e){return e.getUTCDay()}function Dx(e,n){return Nk(Na.count(Nm(e)-1,e),n,2)}function DO(e,n){return Nk(e.getUTCFullYear()%100,n,2)}function Dw(e,n){return Nk((e=Db(e)).getUTCFullYear()%100,n,2)}function DE(e,n){return Nk(e.getUTCFullYear()%1e4,n,4)}function DC(e,n){var r=e.getUTCDay();return Nk((e=r>=4||0===r?Ns(e):Ns.ceil(e)).getUTCFullYear()%1e4,n,4)}function DT(){return"+0000"}function Dk(){return"%"}function DR(e){return+e}function DS(e){return Math.floor(+e/1e3)}L=(I=function(e){var n=e.dateTime,r=e.date,i=e.time,a=e.periods,o=e.days,l=e.shortDays,s=e.months,u=e.shortMonths,c=NS(a),d=NA(a),h=NS(o),p=NA(o),m=NS(l),f=NA(l),g=NS(s),y=NA(s),b=NS(u),v=NA(u),_={a:function(e){return l[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:NX,e:NX,f:N2,g:Dr,G:Da,H:NJ,I:NQ,j:N0,L:N1,m:N3,M:N4,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:DR,s:DS,S:N6,u:N5,U:N8,V:N9,w:De,W:Dt,x:null,X:null,y:Dn,Y:Di,Z:Do,"%":Dk},x={a:function(e){return l[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Dl,e:Dl,f:Dh,g:Dw,G:DC,H:Ds,I:Du,j:Dc,L:Dd,m:Dp,M:Dm,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:DR,s:DS,S:Df,u:Dg,U:Dy,V:Dv,w:D_,W:Dx,x:null,X:null,y:DO,Y:DE,Z:DT,"%":Dk},O={a:function(e,n,r){var i=m.exec(n.slice(r));return i?(e.w=f.get(i[0].toLowerCase()),r+i[0].length):-1},A:function(e,n,r){var i=h.exec(n.slice(r));return i?(e.w=p.get(i[0].toLowerCase()),r+i[0].length):-1},b:function(e,n,r){var i=b.exec(n.slice(r));return i?(e.m=v.get(i[0].toLowerCase()),r+i[0].length):-1},B:function(e,n,r){var i=g.exec(n.slice(r));return i?(e.m=y.get(i[0].toLowerCase()),r+i[0].length):-1},c:function(e,r,i){return C(e,n,r,i)},d:NG,e:NG,f:Nj,g:NP,G:NB,H:NH,I:NH,j:NF,L:NZ,m:NV,M:Nz,p:function(e,n,r){var i=c.exec(n.slice(r));return i?(e.p=d.get(i[0].toLowerCase()),r+i[0].length):-1},q:NU,Q:Nq,s:NY,S:N$,u:NL,U:NM,V:NN,w:NI,W:ND,x:function(e,n,i){return C(e,r,n,i)},X:function(e,n,r){return C(e,i,n,r)},y:NP,Y:NB,Z:NK,"%":NW};function w(e,n){return function(r){var i,a,o,l=[],s=-1,u=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===e.charCodeAt(s)&&(l.push(e.slice(u,s)),null!=(a=Nw[i=e.charAt(++s)])?i=e.charAt(++s):a="e"===i?" ":"0",(o=n[i])&&(i=o(r,a)),l.push(i),u=s+1);return l.push(e.slice(u,s)),l.join("")}}function E(e,n){return function(r){var i,a,o=NO(1900,void 0,1);if(C(o,e,r+="",0)!=r.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!n||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(a=(i=Nx(NO(o.y,0,1))).getUTCDay())>4||0===a?Na.ceil(i):Na(i),i=M3.offset(i,(o.V-1)*7),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(i=(a=(i=N_(NO(o.y,0,1))).getDay())>4||0===a?M8.ceil(i):M8(i),i=M2.offset(i,(o.V-1)*7),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),a="Z"in o?Nx(NO(o.y,0,1)).getUTCDay():N_(NO(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(a+5)%7:o.w+7*o.U-(a+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Nx(o)):N_(o)}}function C(e,n,r,i){for(var a,o,l=0,s=n.length,u=r.length;l<s;){if(i>=u)return -1;if(37===(a=n.charCodeAt(l++))){if(!(o=O[(a=n.charAt(l++))in Nw?n.charAt(l++):a])||(i=o(e,r,i))<0)return -1}else if(a!=r.charCodeAt(i++))return -1}return i}return _.x=w(r,_),_.X=w(i,_),_.c=w(n,_),x.x=w(r,x),x.X=w(i,x),x.c=w(n,x),{format:function(e){var n=w(e+="",_);return n.toString=function(){return e},n},parse:function(e){var n=E(e+="",!1);return n.toString=function(){return e},n},utcFormat:function(e){var n=w(e+="",x);return n.toString=function(){return e},n},utcParse:function(e){var n=E(e+="",!0);return n.toString=function(){return e},n}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,I.parse,M=I.utcFormat,I.utcParse;let DA=MK(MB),DI=DA.right;function DL(e,n,r,i,a){var o=e*e,l=o*e;return((1-3*e+3*o-l)*n+(4-6*o+3*l)*r+(1+3*e+3*o-3*l)*i+l*a)/6}DA.left,MK(function(e){return null===e?NaN:+e}).center;var DM=e=>()=>e;function DN(e,n){var r=n-e;return r?function(n){return e+n*r}:DM(isNaN(e)?n:e)}var DD=function e(n){var r,i=1==(r=+(r=n))?DN:function(e,n){var i,a,o;return n-e?(i=e,a=n,i=Math.pow(i,o=r),a=Math.pow(a,o)-i,o=1/o,function(e){return Math.pow(i+e*a,o)}):DM(isNaN(e)?n:e)};function a(e,n){var r=i((e=Lb(e)).r,(n=Lb(n)).r),a=i(e.g,n.g),o=i(e.b,n.b),l=DN(e.opacity,n.opacity);return function(n){return e.r=r(n),e.g=a(n),e.b=o(n),e.opacity=l(n),e+""}}return a.gamma=e,a}(1);function DB(e){return function(n){var r,i,a=n.length,o=Array(a),l=Array(a),s=Array(a);for(r=0;r<a;++r)i=Lb(n[r]),o[r]=i.r||0,l[r]=i.g||0,s[r]=i.b||0;return o=e(o),l=e(l),s=e(s),i.opacity=1,function(e){return i.r=o(e),i.g=l(e),i.b=s(e),i+""}}}function DP(e,n){var r=new Date;return e=+e,n=+n,function(i){return r.setTime(e*(1-i)+n*i),r}}function DK(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}DB(function(e){var n=e.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,n-1):Math.floor(r*n),a=e[i],o=e[i+1],l=i>0?e[i-1]:2*a-o,s=i<n-1?e[i+2]:2*o-a;return DL((r-i/n)*n,l,a,o,s)}}),DB(function(e){var n=e.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*n),a=e[(i+n-1)%n],o=e[i%n],l=e[(i+1)%n],s=e[(i+2)%n];return DL((r-i/n)*n,a,o,l,s)}});var DU=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,DV=RegExp(DU.source,"g");function DG(e,n){var r,i,a,o,l,s=DU.lastIndex=DV.lastIndex=0,u=-1,c=[],d=[];for(e+="",n+="";(a=DU.exec(e))&&(o=DV.exec(n));)(l=o.index)>s&&(l=n.slice(s,l),c[u]?c[u]+=l:c[++u]=l),(a=a[0])===(o=o[0])?c[u]?c[u]+=o:c[++u]=o:(c[++u]=null,d.push({i:u,x:DK(a,o)})),s=DV.lastIndex;return s<n.length&&(l=n.slice(s),c[u]?c[u]+=l:c[++u]=l),c.length<2?d[0]?(r=d[0].x,function(e){return r(e)+""}):(i=n,function(){return i}):(n=d.length,function(e){for(var r,i=0;i<n;++i)c[(r=d[i]).i]=r.x(e);return c.join("")})}function DF(e,n){var r,i,a=typeof n;return null==n||"boolean"===a?DM(n):("number"===a?DK:"string"===a?(i=Lf(n))?(n=i,DD):DG:n instanceof Lf?DD:n instanceof Date?DP:!ArrayBuffer.isView(r=n)||r instanceof DataView?Array.isArray(n)?function(e,n){var r,i=n?n.length:0,a=e?Math.min(i,e.length):0,o=Array(a),l=Array(i);for(r=0;r<a;++r)o[r]=DF(e[r],n[r]);for(;r<i;++r)l[r]=n[r];return function(e){for(r=0;r<a;++r)l[r]=o[r](e);return l}}:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(e,n){var r,i={},a={};for(r in(null===e||"object"!=typeof e)&&(e={}),(null===n||"object"!=typeof n)&&(n={}),n)r in e?i[r]=DF(e[r],n[r]):a[r]=n[r];return function(e){for(r in i)a[r]=i[r](e);return a}}:DK:function(e,n){n||(n=[]);var r,i=e?Math.min(n.length,e.length):0,a=n.slice();return function(o){for(r=0;r<i;++r)a[r]=e[r]*(1-o)+n[r]*o;return a}})(e,n)}function DH(e,n){return e=+e,n=+n,function(r){return Math.round(e*(1-r)+n*r)}}function Dz(e){return+e}var D$=[0,1];function DZ(e){return e}function Dj(e,n){var r;return(n-=e=+e)?function(r){return(r-e)/n}:(r=isNaN(n)?NaN:.5,function(){return r})}function DW(e,n,r){var i=e[0],a=e[1],o=n[0],l=n[1];return a<i?(i=Dj(a,i),o=r(l,o)):(i=Dj(i,a),o=r(o,l)),function(e){return o(i(e))}}function Dq(e,n,r){var i=Math.min(e.length,n.length)-1,a=Array(i),o=Array(i),l=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++l<i;)a[l]=Dj(e[l],e[l+1]),o[l]=r(n[l],n[l+1]);return function(n){var r=DI(e,n,1,i)-1;return o[r](a[r](n))}}function DY(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function DX(){var e,n,r,i,a,o,l=D$,s=D$,u=DF,c=DZ;function d(){var e,n,r,u=Math.min(l.length,s.length);return c!==DZ&&(e=l[0],n=l[u-1],e>n&&(r=e,e=n,n=r),c=function(r){return Math.max(e,Math.min(n,r))}),i=u>2?Dq:DW,a=o=null,h}function h(n){return null==n||isNaN(n=+n)?r:(a||(a=i(l.map(e),s,u)))(e(c(n)))}return h.invert=function(r){return c(n((o||(o=i(s,l.map(e),DK)))(r)))},h.domain=function(e){return arguments.length?(l=Array.from(e,Dz),d()):l.slice()},h.range=function(e){return arguments.length?(s=Array.from(e),d()):s.slice()},h.rangeRound=function(e){return s=Array.from(e),u=DH,d()},h.clamp=function(e){return arguments.length?(c=!!e||DZ,d()):c!==DZ},h.interpolate=function(e){return arguments.length?(u=e,d()):u},h.unknown=function(e){return arguments.length?(r=e,h):r},function(r,i){return e=r,n=i,d()}}function DJ(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e)}return this}function DQ(e,n){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof n?this.interpolator(n):this.range(n)}return this}function D0(e,n){e=e.slice();var r,i=0,a=e.length-1,o=e[i],l=e[a];return l<o&&(r=i,i=a,a=r,r=o,o=l,l=r),e[i]=n.floor(o),e[a]=n.ceil(l),e}function D1(e){return new Date(e)}function D2(e){return e instanceof Date?+e:+new Date(+e)}function D3(e,n,r,i,a,o,l,s,u,c){var d=DX()(DZ,DZ),h=d.invert,p=d.domain,m=c(".%L"),f=c(":%S"),g=c("%I:%M"),y=c("%I %p"),b=c("%a %d"),v=c("%b %d"),_=c("%B"),x=c("%Y");function O(e){return(u(e)<e?m:s(e)<e?f:l(e)<e?g:o(e)<e?y:i(e)<e?a(e)<e?b:v:r(e)<e?_:x)(e)}return d.invert=function(e){return new Date(h(e))},d.domain=function(e){return arguments.length?p(Array.from(e,D2)):p().map(D1)},d.ticks=function(n){var r=p();return e(r[0],r[r.length-1],null==n?10:n)},d.tickFormat=function(e,n){return null==n?O:c(n)},d.nice=function(e){var r=p();return e&&"function"==typeof e.range||(e=n(r[0],r[r.length-1],null==e?10:e)),e?p(D0(r,e)):d},d.copy=function(){return DY(d,D3(e,n,r,i,a,o,l,s,u,c))},d}function D4(){return DJ.apply(D3(Nb,Nv,Np,Nd,M5,M2,M0,MJ,MX,L).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}class D6 extends Map{constructor(e,n=D8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=e)for(let[n,r]of e)this.set(n,r)}get(e){return super.get(D5(this,e))}has(e){return super.has(D5(this,e))}set(e,n){return super.set(function({_intern:e,_key:n},r){let i=n(r);return e.has(i)?e.get(i):(e.set(i,r),r)}(this,e),n)}delete(e){return super.delete(function({_intern:e,_key:n},r){let i=n(r);return e.has(i)&&(r=e.get(i),e.delete(i)),r}(this,e))}}function D5({_intern:e,_key:n},r){let i=n(r);return e.has(i)?e.get(i):r}function D8(e){return null!==e&&"object"==typeof e?e.valueOf():e}let D7=Symbol("implicit");function D9(){var e=new D6,n=[],r=[],i=D7;function a(a){let o=e.get(a);if(void 0===o){if(i!==D7)return i;e.set(a,o=n.push(a)-1)}return r[o%r.length]}return a.domain=function(r){if(!arguments.length)return n.slice();for(let i of(n=[],e=new D6,r))e.has(i)||e.set(i,n.push(i)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(i=e,a):i},a.copy=function(){return D9(n,r).unknown(i)},DJ.apply(a,arguments),a}function Be(){var e,n,r=D9().unknown(void 0),i=r.domain,a=r.range,o=0,l=1,s=!1,u=0,c=0,d=.5;function h(){var r=i().length,h=l<o,p=h?l:o,m=h?o:l;e=(m-p)/Math.max(1,r-u+2*c),s&&(e=Math.floor(e)),p+=(m-p-e*(r-u))*d,n=e*(1-u),s&&(p=Math.round(p),n=Math.round(n));var f=(function(e,n,r){e=+e,n=+n,r=(a=arguments.length)<2?(n=e,e=0,1):a<3?1:+r;for(var i=-1,a=0|Math.max(0,Math.ceil((n-e)/r)),o=Array(a);++i<a;)o[i]=e+i*r;return o})(r).map(function(n){return p+e*n});return a(h?f.reverse():f)}return delete r.unknown,r.domain=function(e){return arguments.length?(i(e),h()):i()},r.range=function(e){return arguments.length?([o,l]=e,o=+o,l=+l,h()):[o,l]},r.rangeRound=function(e){return[o,l]=e,o=+o,l=+l,s=!0,h()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,h()):s},r.padding=function(e){return arguments.length?(u=Math.min(1,c=+e),h()):u},r.paddingInner=function(e){return arguments.length?(u=Math.min(1,e),h()):u},r.paddingOuter=function(e){return arguments.length?(c=+e,h()):c},r.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),h()):d},r.copy=function(){return Be(i(),[o,l]).round(s).paddingInner(u).paddingOuter(c).align(d)},DJ.apply(h(),arguments)}var Bt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bn(e){var n;if(!(n=Bt.exec(e)))throw Error("invalid format: "+e);return new Br({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Br(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Bi(e,n){if((r=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var r,i=e.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+e.slice(r+1)]}function Ba(e){return(e=Bi(Math.abs(e)))?e[1]:NaN}function Bo(e,n){var r=Bi(e,n);if(!r)return e+"";var i=r[0],a=r[1];return a<0?"0."+Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+Array(a-i.length+2).join("0")}Bn.prototype=Br.prototype,Br.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Bl={"%":(e,n)=>(100*e).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>Bo(100*e,n),r:Bo,s:function(e,n){var r=Bi(e,n);if(!r)return e+"";var i=r[0],a=r[1],o=a-(N=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,l=i.length;return o===l?i:o>l?i+Array(o-l+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+Array(1-o).join("0")+Bi(e,Math.max(0,n+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Bs(e){return e}var Bu=Array.prototype.map,Bc=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Bd(e){var n=e.domain;return e.ticks=function(e){var r=n();return Mz(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var i=n();return function(e,n,r,i){var a,o,l=MZ(e,n,r);switch((i=Bn(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(n));return null!=i.precision||isNaN(o=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ba(s)/3)))-Ba(Math.abs(l))))||(i.precision=o),P(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=Math.max(0,Ba(Math.abs(Math.max(Math.abs(e),Math.abs(n)))-(a=Math.abs(a=l)))-Ba(a))+1)||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=Math.max(0,-Ba(Math.abs(l))))||(i.precision=o-("%"===i.type)*2)}return B(i)}(i[0],i[i.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var i,a,o=n(),l=0,s=o.length-1,u=o[l],c=o[s],d=10;for(c<u&&(a=u,u=c,c=a,a=l,l=s,s=a);d-- >0;){if((a=M$(u,c,r))===i)return o[l]=u,o[s]=c,n(o);if(a>0)u=Math.floor(u/a)*a,c=Math.ceil(c/a)*a;else if(a<0)u=Math.ceil(u*a)/a,c=Math.floor(c*a)/a;else break;i=a}return e},e}function Bh(e){return e.values?D9(e.values,e.colors).unknown(e.unknownColor??null):D9(e.colors.map((e,n)=>n),e.colors).unknown(e.unknownColor??null)}function Bp(e){return"ordinal"===e.type?Bh(e):"piecewise"===e.type?function e(){var n,r=[.5],i=[0,1],a=1;function o(e){return null!=e&&e<=e?i[DI(r,e,0,a)]:n}return o.domain=function(e){return arguments.length?(a=Math.min((r=Array.from(e)).length,i.length-1),o):r.slice()},o.range=function(e){return arguments.length?(i=Array.from(e),a=Math.min(r.length,i.length-1),o):i.slice()},o.invertExtent=function(e){var n=i.indexOf(e);return[r[n-1],r[n]]},o.unknown=function(e){return arguments.length?(n=e,o):n},o.copy=function(){return e().domain(r).range(i).unknown(n)},DJ.apply(o,arguments)}(e.thresholds,e.colors):function e(){var n=Bd((function(){var e,n,r,i,a,o=0,l=1,s=DZ,u=!1;function c(n){return null==n||isNaN(n=+n)?a:s(0===r?.5:(n=(i(n)-e)*r,u?Math.max(0,Math.min(1,n)):n))}function d(e){return function(n){var r,i;return arguments.length?([r,i]=n,s=e(r,i),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([o,l]=a,e=i(o=+o),n=i(l=+l),r=e===n?0:1/(n-e),c):[o,l]},c.clamp=function(e){return arguments.length?(u=!!e,c):u},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=d(DF),c.rangeRound=d(DH),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return i=a,e=a(o),n=a(l),r=e===n?0:1/(n-e),c}})()(DZ));return n.copy=function(){return e().domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())},DQ.apply(n,arguments)}([e.min??0,e.max??100],e.color)}function Bm(e){return"number"==typeof e&&!Number.isFinite(e)}B=(D=function(e){var n,r,i,a=void 0===e.grouping||void 0===e.thousands?Bs:(n=Bu.call(e.grouping,Number),r=e.thousands+"",function(e,i){for(var a=e.length,o=[],l=0,s=n[0],u=0;a>0&&s>0&&(u+s+1>i&&(s=Math.max(1,i-u)),o.push(e.substring(a-=s,a+s)),!((u+=s+1)>i));)s=n[l=(l+1)%n.length];return o.reverse().join(r)}),o=void 0===e.currency?"":e.currency[0]+"",l=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",u=void 0===e.numerals?Bs:(i=Bu.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,function(e){return i[+e]})}),c=void 0===e.percent?"%":e.percent+"",d=void 0===e.minus?"":e.minus+"",h=void 0===e.nan?"NaN":e.nan+"";function p(e){var n=(e=Bn(e)).fill,r=e.align,i=e.sign,p=e.symbol,m=e.zero,f=e.width,g=e.comma,y=e.precision,b=e.trim,v=e.type;"n"===v?(g=!0,v="g"):Bl[v]||(void 0===y&&(y=12),b=!0,v="g"),(m||"0"===n&&"="===r)&&(m=!0,n="0",r="=");var _="$"===p?o:"#"===p&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===p?l:/[%p]/.test(v)?c:"",O=Bl[v],w=/[defgprs%]/.test(v);function E(e){var o,l,c,p=_,E=x;if("c"===v)E=O(e)+E,e="";else{var C=(e=+e)<0||1/e<0;if(e=isNaN(e)?h:O(Math.abs(e),y),b&&(e=function(e){t:for(var n,r=e.length,i=1,a=-1;i<r;++i)switch(e[i]){case".":a=n=i;break;case"0":0===a&&(a=i),n=i;break;default:if(!+e[i])break t;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(n+1):e}(e)),C&&0==+e&&"+"!==i&&(C=!1),p=(C?"("===i?i:d:"-"===i||"("===i?"":i)+p,E=("s"===v?Bc[8+N/3]:"")+E+(C&&"("===i?")":""),w){for(o=-1,l=e.length;++o<l;)if(48>(c=e.charCodeAt(o))||c>57){E=(46===c?s+e.slice(o+1):e.slice(o))+E,e=e.slice(0,o);break}}}g&&!m&&(e=a(e,1/0));var T=p.length+e.length+E.length,k=T<f?Array(f-T+1).join(n):"";switch(g&&m&&(e=a(k+e,k.length?f-E.length:1/0),k=""),r){case"<":e=p+e+E+k;break;case"=":e=p+k+e+E;break;case"^":e=k.slice(0,T=k.length>>1)+p+e+E+k.slice(T);break;default:e=k+p+e+E}return u(e)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),E.toString=function(){return e+""},E}return{format:p,formatPrefix:function(e,n){var r=p(((e=Bn(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(Ba(n)/3))),a=Math.pow(10,-i),o=Bc[8+i/3];return function(e){return r(a*e)+o}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,P=D.formatPrefix;let Bf={start:0,extremities:0,end:1,middle:.5};function Bg(e){let{scale:n,tickNumber:r,valueFormatter:i,tickInterval:a,tickPlacement:o="extremities",tickLabelPlacement:l="middle"}=e;return e0.useMemo(()=>{if(MR(n)){let e=n.domain();return n.bandwidth()>0?[...("function"==typeof a&&e.filter(a)||"object"==typeof a&&a||e).map(e=>({value:e,formattedValue:i?.(e,{location:"tick"})??`${e}`,offset:n(e)-(n.step()-n.bandwidth())/2+Bf[o]*n.step(),labelOffset:"tick"===l?0:n.step()*(Bf[l]-Bf[o])})),..."extremities"===o?[{formattedValue:void 0,offset:n.range()[1],labelOffset:0}]:[]]:("function"==typeof a&&e.filter(a)||"object"==typeof a&&a||e).map(e=>({value:e,formattedValue:i?.(e,{location:"tick"})??`${e}`,offset:n(e),labelOffset:0}))}return n.domain().some(Bm)?[]:("object"==typeof a?a:n.ticks(r)).map(e=>({value:e,formattedValue:i?.(e,{location:"tick"})??n.tickFormat(r)(e),offset:n(e),labelOffset:0}))},[n,a,r,i,o,l])}function By(e){return Math.log(e)}function Bb(e){return Math.exp(e)}function Bv(e){return-Math.log(-e)}function B_(e){return-Math.exp(-e)}function Bx(e){return isFinite(e)?+("1e"+e):e<0?0:e}function BO(e){return(n,r)=>-e(-n,r)}function Bw(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function BE(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function BC(e){return e<0?-e*e:e*e}function BT(){var e,n,r,i=(n=(e=DX())(DZ,DZ),r=1,n.exponent=function(n){return arguments.length?1==(r=+n)?e(DZ,DZ):.5===r?e(BE,BC):e(Bw(r),Bw(1/r)):r},Bd(n));return i.copy=function(){return DY(i,BT()).exponent(i.exponent())},DJ.apply(i,arguments),i}let Bk=(e,n)=>{let r=e[1]-e[0],i=n[1]-n[0];return[e[0]-n[0]*r/i,e[1]+(100-n[1])*r/i]},BR=(e,n,r,i,a,o,l)=>{let s=i[n],u=o[n]?.series??{},[c,d]=s?.({series:u,axis:r,isDefaultAxis:a,getFilters:l})??[1/0,-1/0],[h,p]=e;return[Math.min(c,h),Math.max(d,p)]},BS=(e,n,r,i,a)=>{let o=Object.keys(n).reduce((o,l)=>BR(o,l,e,n,r,i,a),[1/0,-1/0]);return Number.isNaN(o[0])||Number.isNaN(o[1])?[1/0,-1/0]:o},BA=(e,n,r)=>{let i="x"===n?[e.left,e.left+e.width]:[e.top+e.height,e.top];return r?i.reverse():i},BI=e=>e?.[0] instanceof Date;function BL(e,n){let r=D4(e.data,n);return(n,{location:i})=>"tick"===i?r.tickFormat(e.tickNumber)(n):`${n.toLocaleString()}`}function BM({drawingArea:e,formattedSeries:n,axis:r,extremumGetters:i,axisDirection:a,zoomData:o,zoomOptions:l,getFilters:s}){let u={};return r.forEach((r,c)=>{let d=l?.[r.id],h=o?.find(({axisId:e})=>e===r.id),p=h?[h.start,h.end]:[0,100],m=BA(e,a,r.reverse),[f,g]=BS(r,i,0===c,n,void 0!==h||d?void 0:s),y=r.data??[];if(Mc(r)){let e=r.categoryGapRatio??.2,n=r.barGapRatio??.1,i="x"===a?m:[m[1],m[0]],o=Bk(i,p);if(u[r.id]=RW({categoryGapRatio:e,barGapRatio:n},r,{data:y,scale:Be(r.data,o).paddingInner(e).paddingOuter(e/2),tickNumber:r.data.length,colorScale:r.colorMap&&("ordinal"===r.colorMap.type?Bh(RW({values:r.data},r.colorMap)):Bp(r.colorMap))}),BI(r.data)){let e=BL(r,i);u[r.id].valueFormatter=r.valueFormatter??e}}if(Md(r)){let e="x"===a?m:[...m].reverse(),n=Bk(e,p);if(u[r.id]=RW({},r,{data:y,scale:function(){return function e(n){var r=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return e(r())},n}(Be.apply(null,arguments).paddingInner(1))}(r.data,n),tickNumber:r.data.length,colorScale:r.colorMap&&("ordinal"===r.colorMap.type?Bh(RW({values:r.data},r.colorMap)):Bp(r.colorMap))}),BI(r.data)){let n=BL(r,e);u[r.id].valueFormatter=r.valueFormatter??n}}if("band"===r.scaleType||"point"===r.scaleType)return;let b=r.scaleType??"linear",v=[r.min??f,r.max??g],_=function(e){let{tickMaxStep:n,tickMinStep:r,tickNumber:i,range:a,domain:o}=e;return Math.min(void 0===r?999:Math.floor(Math.abs(o[1]-o[0])/r),Math.max(void 0===n?2:Math.ceil(Math.abs(o[1]-o[0])/n),i??Math.floor(Math.abs(a[1]-a[0])/50)))}(RW({},r,{range:m,domain:v})),x=_/((p[1]-p[0])/100),O=(function(e,n,r){switch(e){case"log":return function e(){let n=(function(e){let n,r;let i=e(By,Bb),a=i.domain,o=10;function l(){var l,s;return n=(l=o)===Math.E?Math.log:10===l&&Math.log10||2===l&&Math.log2||(l=Math.log(l),e=>Math.log(e)/l),r=10===(s=o)?Bx:s===Math.E?Math.exp:e=>Math.pow(s,e),a()[0]<0?(n=BO(n),r=BO(r),e(Bv,B_)):e(By,Bb),i}return i.base=function(e){return arguments.length?(o=+e,l()):o},i.domain=function(e){return arguments.length?(a(e),l()):a()},i.ticks=e=>{let i,l;let s=a(),u=s[0],c=s[s.length-1],d=c<u;d&&([u,c]=[c,u]);let h=n(u),p=n(c),m=null==e?10:+e,f=[];if(!(o%1)&&p-h<m){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(i=1;i<o;++i)if(!((l=h<0?i/r(-h):i*r(h))<u)){if(l>c)break;f.push(l)}}else for(;h<=p;++h)for(i=o-1;i>=1;--i)if(!((l=h>0?i/r(-h):i*r(h))<u)){if(l>c)break;f.push(l)}2*f.length<m&&(f=Mz(u,c,m))}else f=Mz(h,p,Math.min(p-h,m)).map(r);return d?f.reverse():f},i.tickFormat=(e,a)=>{if(null==e&&(e=10),null==a&&(a=10===o?"s":","),"function"!=typeof a&&(o%1||null!=(a=Bn(a)).precision||(a.trim=!0),a=B(a)),e===1/0)return a;let l=Math.max(1,o*e/i.ticks().length);return e=>{let i=e/r(Math.round(n(e)));return i*o<o-.5&&(i*=o),i<=l?a(e):""}},i.nice=()=>a(D0(a(),{floor:e=>r(Math.floor(n(e))),ceil:e=>r(Math.ceil(n(e)))})),i})(DX()).domain([1,10]);return n.copy=()=>DY(n,e()).base(n.base()),DJ.apply(n,arguments),n}(n,r);case"pow":return BT(n,r);case"sqrt":return function(){return BT.apply(null,arguments).exponent(.5)}(n,r);case"time":return D4(n,r);case"utc":return function(){return DJ.apply(D3(Ng,Ny,Nm,Nh,Ni,M3,M1,MQ,MX,M).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}(n,r);default:return function e(){var n=DX()(DZ,DZ);return n.copy=function(){return DY(n,e())},DJ.apply(n,arguments),Bd(n)}(n,r)}})(b,v,Bk(m,p)).nice(_),[w,E]=O.domain(),C=[r.min??w,r.max??E];u[r.id]=RW({},r,{data:y,scaleType:b,scale:O.domain(C),tickNumber:x,colorScale:r.colorMap&&Bp(r.colorMap)})}),{axis:u,axisIds:r.map(({id:e})=>e)}}function BN(e){let{xAxis:n,yAxis:r,children:i}=e,a=Mm(),o=MA(),l=function(e){let{isInitialized:n,data:r}=e0.useContext(MT);if(!n)throw Error("MUI X: Could not find the plugin context.\nIt looks like you rendered your component outside of a ChartsContainer parent component.");return r.xExtremumGetters}(),s=function(e){let{isInitialized:n,data:r}=e0.useContext(MT);if(!n)throw Error("MUI X: Could not find the plugin context.\nIt looks like you rendered your component outside of a ChartsContainer parent component.");return r.yExtremumGetters}(),u=e0.useMemo(()=>BM({drawingArea:o,formattedSeries:a,axis:n,extremumGetters:l,axisDirection:"x"}),[o,a,n,l]),c=e0.useMemo(()=>BM({drawingArea:o,formattedSeries:a,axis:r,extremumGetters:s,axisDirection:"y"}),[o,a,r,s]),d=e0.useMemo(()=>({isInitialized:!0,data:{xAxis:u.axis,yAxis:c.axis,xAxisIds:u.axisIds,yAxisIds:c.axisIds}}),[u,c]);return(0,CK.jsx)(Ij.Provider,{value:d,children:i})}function BD(e){let{isReversed:n,gradientId:r,size:i,direction:a,scale:o,colorMap:l}=e;return(0,CK.jsx)("linearGradient",{id:r,x1:"0",x2:"0",y1:"0",y2:"0",[`${a}${n?1:2}`]:`${i}px`,gradientUnits:"userSpaceOnUse",children:l.thresholds.map((e,r)=>{let a=o(e);if(void 0===a)return null;let s=n?1-a/i:a/i;return(0,CK.jsxs)(e0.Fragment,{children:[(0,CK.jsx)("stop",{offset:s,stopColor:l.colors[r],stopOpacity:1}),(0,CK.jsx)("stop",{offset:s,stopColor:l.colors[r+1],stopOpacity:1})]},e.toString()+r)})})}function BB(e){let{gradientUnits:n,isReversed:r,gradientId:i,size:a,direction:o,scale:l,colorScale:s,colorMap:u}=e,c=[u.min??0,u.max??100],d=c.map(l).filter(e=>void 0!==e);if(2!==d.length)return null;let h="number"==typeof c[0]?DK(c[0],c[1]):DP(c[0],c[1]),p=Math.round((Math.max(...d)-Math.min(...d))/10),m=`${c[0]}-${c[1]}-`;return(0,CK.jsx)("linearGradient",{id:i,x1:"0",x2:"0",y1:"0",y2:"0",[`${o}${r?1:2}`]:"objectBoundingBox"===n?1:`${a}px`,gradientUnits:n??"userSpaceOnUse",children:Array.from({length:p+1},(e,n)=>{let i=h(n/p);if(void 0===i)return null;let o=l(i);if(void 0===o)return null;let u=s(i);return null===u?null:(0,CK.jsx)("stop",{offset:r?1-o/a:o/a,stopColor:u,stopOpacity:1},m+n)})})}function BP(){let{chartId:e}=e0.useContext(LX);return e0.useCallback((n,r)=>`${e}-gradient-${r}-${n}`,[e])}function BK(){let{top:e,height:n,bottom:r,left:i,width:a,right:o}=MA(),l=e+n+r,s=i+a+o,u=BP(),{xAxisIds:c,xAxis:d,yAxisIds:h,yAxis:p}=IW();return(0,CK.jsxs)("defs",{children:[h.filter(e=>void 0!==p[e].colorMap).map(e=>{let n=u(e,"y"),{colorMap:r,scale:i,colorScale:a,reverse:o}=p[e];return r?.type==="piecewise"?(0,CK.jsx)(BD,{isReversed:!o,scale:i,colorMap:r,size:l,gradientId:n,direction:"y"},n):r?.type==="continuous"?(0,CK.jsx)(BB,{isReversed:!o,scale:i,colorScale:a,colorMap:r,size:l,gradientId:n,direction:"y"},n):null}),c.filter(e=>void 0!==d[e].colorMap).map(e=>{let n=u(e,"x"),{colorMap:r,scale:i,reverse:a,colorScale:o}=d[e];return r?.type==="piecewise"?(0,CK.jsx)(BD,{isReversed:a,scale:i,colorMap:r,size:s,gradientId:n,direction:"x"},n):r?.type==="continuous"?(0,CK.jsx)(BB,{isReversed:a,scale:i,colorScale:o,colorMap:r,size:s,gradientId:n,direction:"x"},n):null})]})}let BU=e0.createContext({zAxis:{},zAxisIds:[]});function BV(e){let{zAxis:n,dataset:r,children:i}=e,a=e0.useMemo(()=>n?.map(e=>{let n=e.dataKey;if(void 0===n||void 0!==e.data)return e;if(void 0===r)throw Error("MUI X: z-axis uses `dataKey` but no `dataset` is provided.");return RW({},e,{data:r.map(e=>e[n])})}),[n,r]),o=e0.useMemo(()=>{let e=a?.map((e,n)=>RW({id:`defaultized-z-axis-${n}`},e))??[],n={};return e.forEach(e=>{n[e.id]=RW({},e,{colorScale:e.colorMap&&("ordinal"===e.colorMap.type&&e.data?Bh(RW({values:e.data},e.colorMap)):Bp("continuous"===e.colorMap.type?RW({min:e.min,max:e.max},e.colorMap):e.colorMap))})}),{zAxis:n,zAxisIds:e.map(({id:e})=>e)}},[a]);return(0,CK.jsx)(BU.Provider,{value:o,children:i})}let BG=(e,n)=>r=>!!e&&("series"===e.fade?r.seriesId===n?.seriesId&&r.dataIndex!==n?.dataIndex:"global"===e.fade&&(r.seriesId!==n?.seriesId||r.dataIndex!==n?.dataIndex)),BF=(e,n)=>r=>!!e&&("series"===e.highlight?r.seriesId===n?.seriesId:"item"===e.highlight&&r.dataIndex===n?.dataIndex&&r.seriesId===n?.seriesId),BH=["highlighted","faded"],Bz=e=>{let n=e??{},{highlighted:r,faded:i}=n,a=RY(n,BH);return RW({highlight:r,fade:i},a)};function B$({children:e,highlightedItem:n,onHighlightChange:r}){let[i,a]=function({controlled:e,default:n,name:r,state:i="value"}){let{current:a}=e0.useRef(void 0!==e),[o,l]=e0.useState(n),s=e0.useCallback(e=>{a||l(e)},[]);return[a?e:o,s]}({controlled:n,default:null,name:"HighlightedProvider",state:"highlightedItem"}),o=Mm(),l=e0.useMemo(()=>{let e=new Map;return Object.keys(o).forEach(n=>{let r=o[n];Object.keys(r?.series??{}).forEach(n=>{let i=r?.series[n];e.set(n,Bz(i?.highlightScope))})}),e},[o]),s=i&&i.seriesId?l.get(i.seriesId)??void 0:void 0,u=e0.useMemo(()=>({isInitialized:!0,data:{highlightScope:s,highlightedItem:i,setHighlighted:e=>{a(e),r?.(e)},clearHighlighted:()=>{a(null),r?.(null)},isHighlighted:BF(s,i),isFaded:BG(s,i)}}),[i,s,a,r]);return(0,CK.jsx)(LN.Provider,{value:u,children:e})}let BZ=(e,n)=>"x"===n?{x:e,y:null}:{x:null,y:e},Bj=e=>{let{axis:n,getFilters:r,isDefaultAxis:i}=e,a=r?.({currentAxisId:n.id,isDefaultAxis:i}),o=a?n.data?.filter((e,n)=>a({x:null,y:null},n)):n.data;return[Math.min(...o??[]),Math.max(...o??[])]},BW=e=>n=>{let{series:r,axis:i,getFilters:a,isDefaultAxis:o}=n;return Object.keys(r).filter(e=>{let n=r[e].yAxisId??r[e].yAxisKey;return n===i.id||o&&void 0===n}).reduce((n,l)=>{let{stackedData:s}=r[l],u=a?.({currentAxisId:i.id,isDefaultAxis:o,seriesXAxisId:r[l].xAxisId??r[l].xAxisKey,seriesYAxisId:r[l].yAxisId??r[l].yAxisKey}),[c,d]=s?.reduce((n,r,i)=>!u||u(BZ(r[0],e),i)&&u(BZ(r[1],e),i)?[Math.min(...r,n[0]),Math.max(...r,n[1])]:n,[1/0,-1/0])??[1/0,-1/0];return[Math.min(c,n[0]),Math.max(d,n[1])]},[1/0,-1/0])};function Bq(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function BY(e){return function(){return e}}function BX(e,n){if((a=e.length)>1)for(var r,i,a,o=1,l=e[n[0]],s=l.length;o<a;++o)for(i=l,l=e[n[o]],r=0;r<s;++r)l[r][1]+=l[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function BJ(e){for(var n=e.length,r=Array(n);--n>=0;)r[n]=n;return r}function BQ(e,n){return e[n]}function B0(e){let n=[];return n.key=e,n}function B1(){var e=BY([]),n=BJ,r=BX,i=BQ;function a(a){var o,l,s=Array.from(e.apply(this,arguments),B0),u=s.length,c=-1;for(let e of a)for(o=0,++c;o<u;++o)(s[o][c]=[0,+i(e,s[o].key,c,a)]).data=e;for(o=0,l=Bq(n(s));o<u;++o)s[l[o]].index=o;return r(s,l),s}return a.keys=function(n){return arguments.length?(e="function"==typeof n?n:BY(Array.from(n)),a):e},a.value=function(e){return arguments.length?(i="function"==typeof e?e:BY(+e),a):i},a.order=function(e){return arguments.length?(n=null==e?BJ:"function"==typeof e?e:BY(Array.from(e)),a):n},a.offset=function(e){return arguments.length?(r=null==e?BX:e,a):r},a}function B2(e){var n=e.map(B3);return BJ(e).sort(function(e,r){return n[e]-n[r]})}function B3(e){for(var n,r=-1,i=0,a=e.length,o=-1/0;++r<a;)(n=+e[r][1])>o&&(o=n,i=r);return i}function B4(e){var n=e.map(B6);return BJ(e).sort(function(e,r){return n[e]-n[r]})}function B6(e){for(var n,r=0,i=-1,a=e.length;++i<a;)(n=+e[i][1])&&(r+=n);return r}Array.prototype.slice;let B5={appearance:B2,ascending:B4,descending:function(e){return B4(e).reverse()},insideOut:function(e){var n,r,i=e.length,a=e.map(B6),o=B2(e),l=0,s=0,u=[],c=[];for(n=0;n<i;++n)r=o[n],l<s?(l+=a[r],u.push(r)):(s+=a[r],c.push(r));return c.reverse().concat(u)},none:BJ,reverse:function(e){return BJ(e).reverse()}},B8={expand:function(e,n){if((i=e.length)>0){for(var r,i,a,o=0,l=e[0].length;o<l;++o){for(a=r=0;r<i;++r)a+=e[r][o][1]||0;if(a)for(r=0;r<i;++r)e[r][o][1]/=a}BX(e,n)}},diverging:function(e,n){if((s=e.length)>0)for(var r,i,a,o,l,s,u=0,c=e[n[0]].length;u<c;++u)for(o=l=0,r=0;r<s;++r)(a=(i=e[n[r]][u])[1]-i[0])>0?(i[0]=o,i[1]=o+=a):a<0?(i[1]=l,i[0]=l+=a):(i[0]=0,i[1]=a)},none:BX,silhouette:function(e,n){if((r=e.length)>0){for(var r,i=0,a=e[n[0]],o=a.length;i<o;++i){for(var l=0,s=0;l<r;++l)s+=e[l][i][1]||0;a[i][1]+=a[i][0]=-s/2}BX(e,n)}},wiggle:function(e,n){if((a=e.length)>0&&(i=(r=e[n[0]]).length)>0){for(var r,i,a,o=0,l=1;l<i;++l){for(var s=0,u=0,c=0;s<a;++s){for(var d=e[n[s]],h=d[l][1]||0,p=(h-(d[l-1][1]||0))/2,m=0;m<s;++m){var f=e[n[m]];p+=(f[l][1]||0)-(f[l-1][1]||0)}u+=h,c+=p*h}r[l-1][1]+=r[l-1][0]=o,u&&(o-=c/u)}r[l-1][1]+=r[l-1][0]=o,BX(e,n)}}},B7=e=>{let{series:n,seriesOrder:r,defaultStrategy:i}=e,a=[],o={};return r.forEach(e=>{let{stack:r,stackOrder:l,stackOffset:s}=n[e];void 0===r?a.push({ids:[e],stackingOrder:B5.none,stackingOffset:B8.none}):void 0===o[r]?(o[r]=a.length,a.push({ids:[e],stackingOrder:B5[l??i?.stackOrder??"none"],stackingOffset:B8[s??i?.stackOffset??"diverging"]})):(a[o[r]].ids.push(e),void 0!==l&&(a[o[r]].stackingOrder=B5[l]),void 0!==s&&(a[o[r]].stackingOffset=B8[s]))}),a};function B9(e,n){let r={};return Object.keys(e).forEach(i=>{r[i]=RW({},e[i],{valueFormatter:e[i].valueFormatter??n})}),r}let Pe=(e,n)=>[Math.min(e[0],n[0]),Math.max(e[1],n[1])];var Pt=(e,n,r)=>{let i=r?.colorScale,a=n?.colorScale;return i?n=>{let r=e.data[n],a=null===r?e.color:i(r);return null===a?e.color:a}:a?r=>{let i=n.data?.[r],o=null===i?e.color:a(i);return null===o?e.color:o}:()=>e.color};function Pn(e,n){return n<e?-1:n>e?1:n>=e?0:NaN}function Pr(e){return e}let Pi=Math.abs,Pa=Math.atan2,Po=Math.cos,Pl=Math.max,Ps=Math.min,Pu=Math.sin,Pc=Math.sqrt,Pd=Math.PI,Ph=Pd/2,Pp=2*Pd;function Pm(e){return e>=1?Ph:e<=-1?-Ph:Math.asin(e)}function Pf(e,n){return"function"==typeof e?e(n):e}let Pg=(e="none")=>{if("function"==typeof e)return e;switch(e){case"none":default:return null;case"desc":return(e,n)=>n-e;case"asc":return(e,n)=>e-n}},Py=[{seriesType:"bar",seriesFormatter:(e,n)=>{let{seriesOrder:r,series:i}=e,a=B7(e),o=n??[];r.forEach(e=>{let r=i[e].data;if(void 0!==r)r.forEach((n,r)=>{o.length<=r?o.push({[e]:n}):o[r][e]=n});else if(void 0===n)throw Error(`MUI X: bar series with id='${e}' has no data.
Either provide a data property to the series or use the dataset prop.`)});let l={};return a.forEach(e=>{let{ids:r,stackingOffset:a,stackingOrder:s}=e,u=B1().keys(r.map(e=>{let n=i[e].dataKey;return void 0===i[e].data&&void 0!==n?n:e})).value((e,n)=>e[n]??0).order(s).offset(a)(o);r.forEach((e,r)=>{let a=i[e].dataKey;l[e]=RW({layout:"vertical"},i[e],{data:a?n.map(e=>{let n=e[a];return"number"!=typeof n?0:n}):i[e].data,stackedData:u[r].map(([e,n])=>[e,n])})})}),{seriesOrder:r,stackingGroups:a,series:B9(l,e=>null==e?"":e.toLocaleString())}},colorProcessor:LH,xExtremumGetter:e=>Object.keys(e.series).some(n=>"horizontal"===e.series[n].layout)?BW("x")(e):Bj(e),yExtremumGetter:e=>Object.keys(e.series).some(n=>"horizontal"===e.series[n].layout)?Bj(e):BW("y")(e)},{seriesType:"scatter",seriesFormatter:({series:e,seriesOrder:n})=>({series:B9(e,e=>`(${e.x}, ${e.y})`),seriesOrder:n}),colorProcessor:(e,n,r,i)=>{let a=i?.colorScale,o=r?.colorScale,l=n?.colorScale;return a?n=>{if(i?.data?.[n]!==void 0){let e=a(i?.data?.[n]);if(null!==e)return e}let r=e.data[n],o=null===r?e.color:a(r.z);return null===o?e.color:o}:o?n=>{let r=e.data[n],i=null===r?e.color:o(r.y);return null===i?e.color:i}:l?n=>{let r=e.data[n],i=null===r?e.color:l(r.x);return null===i?e.color:i}:()=>e.color},xExtremumGetter:e=>{let{series:n,axis:r,isDefaultAxis:i,getFilters:a}=e;return Object.keys(n).filter(e=>{let a=n[e].xAxisId??n[e].xAxisKey;return a===r.id||void 0===a&&i}).reduce((e,o)=>{let l=a?.({currentAxisId:r.id,isDefaultAxis:i,seriesXAxisId:n[o].xAxisId??n[o].xAxisKey,seriesYAxisId:n[o].yAxisId??n[o].yAxisKey}),s=n[o].data.reduce((e,n,r)=>l&&!l(n,r)?e:Pe(e,[n.x,n.x]),[1/0,-1/0]);return Pe(e,s)},[1/0,-1/0])},yExtremumGetter:e=>{let{series:n,axis:r,isDefaultAxis:i,getFilters:a}=e;return Object.keys(n).filter(e=>{let a=n[e].yAxisId??n[e].yAxisKey;return a===r.id||void 0===a&&i}).reduce((e,o)=>{let l=a?.({currentAxisId:r.id,isDefaultAxis:i,seriesXAxisId:n[o].xAxisId??n[o].xAxisKey,seriesYAxisId:n[o].yAxisId??n[o].yAxisKey}),s=n[o].data.reduce((e,n,r)=>l&&!l(n,r)?e:Pe(e,[n.y,n.y]),[1/0,-1/0]);return Pe(e,s)},[1/0,-1/0])}},{seriesType:"line",colorProcessor:Pt,seriesFormatter:(e,n)=>{let{seriesOrder:r,series:i}=e,a=B7(RW({},e,{defaultStrategy:{stackOffset:"none"}})),o=n??[];r.forEach(e=>{let n=i[e].data;void 0!==n&&n.forEach((n,r)=>{o.length<=r?o.push({[e]:n}):o[r][e]=n})});let l={};return a.forEach(e=>{let{ids:r,stackingOrder:a,stackingOffset:s}=e,u=B1().keys(r.map(e=>{let n=i[e].dataKey;return void 0===i[e].data&&void 0!==n?n:e})).value((e,n)=>e[n]??0).order(a).offset(s)(o);r.forEach((e,r)=>{let a=i[e].dataKey;l[e]=RW({},i[e],{data:a?n.map(e=>{let n=e[a];return"number"!=typeof n?null:n}):i[e].data,stackedData:u[r].map(([e,n])=>[e,n])})})}),{seriesOrder:r,stackingGroups:a,series:B9(l,e=>null==e?"":e.toLocaleString())}},xExtremumGetter:e=>{let{axis:n}=e;return[Math.min(...n.data??[]),Math.max(...n.data??[])]},yExtremumGetter:e=>{let{series:n,axis:r,isDefaultAxis:i,getFilters:a}=e;return Object.keys(n).filter(e=>{let a=n[e].yAxisId??n[e].yAxisKey;return a===r.id||i&&void 0===a}).reduce((e,o)=>{var l;let{area:s,stackedData:u}=n[o],c=a?.({currentAxisId:r.id,isDefaultAxis:i,seriesXAxisId:n[o].xAxisId??n[o].xAxisKey,seriesYAxisId:n[o].yAxisId??n[o].yAxisKey}),[d,h]=(l=void 0!==s&&"log"!==r.scaleType&&"string"!=typeof n[o].baseline?e=>e:e=>[e[1],e[1]],u.reduce((e,n,r)=>{let[i,a]=l(n);return!c||c({y:i,x:null},r)&&c({y:a,x:null},r)?[Math.min(i,a,e[0]),Math.max(i,a,e[1])]:e},[1/0,-1/0]));return[Math.min(d,e[0]),Math.max(h,e[1])]},[1/0,-1/0])}},{seriesType:"pie",colorProcessor:e=>n=>e.data[n].color,seriesFormatter:e=>{let{seriesOrder:n,series:r}=e,i={};return n.forEach(e=>{let n=(function(){var e=Pr,n=Pn,r=null,i=BY(0),a=BY(Pp),o=BY(0);function l(l){var s,u,c,d,h,p=(l=Bq(l)).length,m=0,f=Array(p),g=Array(p),y=+i.apply(this,arguments),b=Math.min(Pp,Math.max(-Pp,a.apply(this,arguments)-y)),v=Math.min(Math.abs(b)/p,o.apply(this,arguments)),_=v*(b<0?-1:1);for(s=0;s<p;++s)(h=g[f[s]=s]=+e(l[s],s,l))>0&&(m+=h);for(null!=n?f.sort(function(e,r){return n(g[e],g[r])}):null!=r&&f.sort(function(e,n){return r(l[e],l[n])}),s=0,c=m?(b-p*_)/m:0;s<p;++s,y=d)d=y+((h=g[u=f[s]])>0?h*c:0)+_,g[u]={data:l[u],index:s,value:h,startAngle:y,endAngle:d,padAngle:v};return g}return l.value=function(n){return arguments.length?(e="function"==typeof n?n:BY(+n),l):e},l.sortValues=function(e){return arguments.length?(n=e,r=null,l):n},l.sort=function(e){return arguments.length?(r=e,n=null,l):r},l.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:BY(+e),l):i},l.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:BY(+e),l):a},l.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:BY(+e),l):o},l})().startAngle(2*Math.PI*(r[e].startAngle??0)/360).endAngle(2*Math.PI*(r[e].endAngle??360)/360).padAngle(2*Math.PI*(r[e].paddingAngle??0)/360).sortValues(Pg(r[e].sortingValues??"none"))(r[e].data.map(e=>e.value));i[e]=RW({valueFormatter:e=>e.value.toLocaleString()},r[e],{data:r[e].data.map((r,i)=>RW({},r,{id:r.id??`auto-generated-pie-id-${e}-${i}`},n[i])).map((n,i)=>RW({},n,{formattedValue:r[e].valueFormatter?.(RW({},n,{label:Pf(n.label,"arc")}),{dataIndex:i})??n.value.toLocaleString()}))})}),{seriesOrder:n,series:i}}}];function Pb(e){let{children:n,plugins:r}=e,i=e0.useMemo(()=>({isInitialized:!0,data:function(e){let n=e??Py,r={},i={},a={},o={};for(let e=0;e<n.length;e+=1){let l=n[e],s=l.seriesType;r[s]=l.seriesFormatter,i[s]=l.colorProcessor,l.xExtremumGetter&&(a[s]=l.xExtremumGetter),l.yExtremumGetter&&(o[s]=l.yExtremumGetter)}return{seriesFormatters:r,colorProcessors:i,xExtremumGetters:a,yExtremumGetters:o}}(r)}),[r]);return(0,CK.jsx)(MT.Provider,{value:i,children:n})}let Pv=(e,n,r)=>{let i="x"===r?Lj:LW;return[...e?.map((e,n)=>RW({id:`defaultized-${r}-axis-${n}`},e))??[],...void 0===e||-1===e.findIndex(({id:e})=>e===i)?[{id:i,scaleType:"linear"}]:[]].map(e=>{let i=e.dataKey;if(void 0===i||void 0!==e.data)return e;if(void 0===n)throw Error(`MUI X: ${r}-axis uses \`dataKey\` but no \`dataset\` is provided.`);return RW({},e,{data:n.map(e=>e[i])})})},P_=(e,n,r)=>[e0.useMemo(()=>Pv(e,r,"x"),[e,r]),e0.useMemo(()=>Pv(n,r,"y"),[n,r])],Px=e=>{So.assign({skipAnimation:e.matches||void 0})},PO=()=>{Ac(()=>{if(!window?.matchMedia){Px({matches:!0});return}let e=window.matchMedia("(prefers-reduced-motion)");return Px(e),e.addEventListener?.("change",Px),()=>{e.removeEventListener?.("change",Px)}},[])},Pw=["width","height","series","margin","xAxis","yAxis","zAxis","colors","dataset","sx","title","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","children"],PE=(e,n)=>{let{width:r,height:i,series:a,margin:o,xAxis:l,yAxis:s,zAxis:u,colors:c,dataset:d,sx:h,title:p,desc:m,disableAxisListener:f,highlightedItem:g,onHighlightChange:y,plugins:b,children:v}=e,_=RY(e,Pw),x=e0.useRef(null),O=IY(n,x);PO();let[w,E]=P_(l,s,d),C=RW({},_,{width:r,height:i,ref:O,sx:h,title:p,desc:m,disableAxisListener:f});return{children:v,drawingProviderProps:{width:r,height:i,margin:o,svgRef:x},seriesProviderProps:{series:a,colors:c,dataset:d},cartesianProviderProps:{xAxis:w,yAxis:E,dataset:d},zAxisContextProps:{zAxis:u,dataset:d},highlightedProviderProps:{highlightedItem:g,onHighlightChange:y},chartsSurfaceProps:C,pluginProviderProps:{plugins:b},xAxis:w,yAxis:E}},PC=e0.forwardRef(function(e,n){let{children:r,drawingProviderProps:i,seriesProviderProps:a,cartesianProviderProps:o,zAxisContextProps:l,highlightedProviderProps:s,chartsSurfaceProps:u,pluginProviderProps:c}=PE(e,n);return(0,CK.jsx)(LQ,RW({},i,{children:(0,CK.jsx)(Pb,RW({},c,{children:(0,CK.jsx)(Mk,RW({},a,{children:(0,CK.jsx)(BN,RW({},o,{children:(0,CK.jsx)(BV,RW({},l,{children:(0,CK.jsx)(LM,{children:(0,CK.jsx)(B$,RW({},s,{children:(0,CK.jsxs)(MD,RW({},u,{children:[(0,CK.jsx)(BK,{}),r]}))}))})}))}))}))}))}))}),PT=(0,I8.ZP)("div",{name:"MuiResponsiveChart",slot:"Container"})(({ownerState:e})=>({width:e.width??"100%",height:e.height??"100%",display:"flex",position:"relative",flexGrow:1,flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden","&>svg":{width:"100%",height:"100%"}})),Pk="undefined"!=typeof window?e0.useLayoutEffect:e0.useEffect,PR=(e,n)=>{let r=e0.useRef(!1),i=e0.useRef(null),[a,o]=e0.useState(0),[l,s]=e0.useState(0),u=e0.useCallback(()=>{let e=i?.current;if(!e)return;let n=((e&&e.ownerDocument||document).defaultView||window).getComputedStyle(e),r=Math.floor(parseFloat(n.height))||0;o(Math.floor(parseFloat(n.width))||0),s(r)},[]);return e0.useEffect(()=>{r.current=!0},[]),Pk(()=>{let r;if(void 0!==e&&void 0!==n)return()=>{};u();let a=i.current;if("undefined"==typeof ResizeObserver)return()=>{};let o=new ResizeObserver(()=>{r=requestAnimationFrame(()=>{u()})});return a&&o.observe(a),()=>{r&&window.cancelAnimationFrame(r),a&&o.unobserve(a)}},[u,n,e]),{containerRef:i,width:e??a,height:n??l}},PS=["width","height","margin","children","series","colors","dataset","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","sx","title","viewBox","xAxis","yAxis","zAxis"],PA=(e,n)=>{let{width:r,height:i,margin:a,children:o,series:l,colors:s,dataset:u,desc:c,disableAxisListener:d,highlightedItem:h,onHighlightChange:p,plugins:m,sx:f,title:g,viewBox:y,xAxis:b,yAxis:v,zAxis:_}=e,x=RY(e,PS),{containerRef:O,width:w,height:E}=PR(r,i);return{hasIntrinsicSize:w&&E,chartContainerProps:{margin:a,children:o,series:l,colors:s,dataset:u,desc:c,disableAxisListener:d,highlightedItem:h,onHighlightChange:p,plugins:m,sx:f,title:g,viewBox:y,xAxis:b,yAxis:v,zAxis:_,width:w,height:E,ref:n},resizableChartContainerProps:RW({},x,{ownerState:{width:r,height:i},ref:O})}},PI=e0.forwardRef(function(e,n){let{hasIntrinsicSize:r,chartContainerProps:i,resizableChartContainerProps:a}=PA(e,n);return(0,CK.jsx)(PT,RW({},a,{children:r?(0,CK.jsx)(PC,RW({},i)):null}))});function PL(e){return I5("MuiChartsAxis",e)}let PM=I7("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right"]),PN=(0,I8.ZP)("g",{name:"MuiChartsAxis",slot:"Root",overridesResolver:(e,n)=>n.root})(({theme:e})=>({[`& .${PM.tickLabel}`]:RW({},e.typography.caption,{fill:(e.vars||e).palette.text.primary}),[`& .${PM.label}`]:RW({},e.typography.body1,{fill:(e.vars||e).palette.text.primary}),[`& .${PM.line}`]:{stroke:(e.vars||e).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${PM.tick}`]:{stroke:(e.vars||e).palette.text.primary,shapeRendering:"crispEdges"}})),PD={widthCache:{},cacheCount:0},PB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PP=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],PK="mui_measurement_span";function PU(e,n){return PP.indexOf(e)>=0&&n===+n?`${n}px`:n}function PV(e){return e.split("").reduce((e,n)=>n===n.toUpperCase()?[...e,"-",n.toLowerCase()]:[...e,n],[]).join("")}let PG=e=>Object.keys(e).sort().reduce((n,r)=>`${n}${PV(r)}:${PU(r,e[r])};`,""),PF=(e,n={})=>{if(null==e||"undefined"==typeof window)return{width:0,height:0};let r=`${e}`,i=PG(n),a=`${r}-${i}`;if(PD.widthCache[a])return PD.widthCache[a];try{let e=document.getElementById(PK);null===e&&((e=document.createElement("span")).setAttribute("id",PK),e.setAttribute("aria-hidden","true"),document.body.appendChild(e));let i=RW({},PB,n);Object.keys(i).map(n=>(e.style[PV(n)]=PU(n,i[n]),n)),e.textContent=r;let o=e.getBoundingClientRect(),l={width:o.width,height:o.height};return PD.widthCache[a]=l,PD.cacheCount+1>2e3?(PD.cacheCount=0,PD.widthCache={}):PD.cacheCount+=1,u&&clearTimeout(u),u=setTimeout(()=>{e.textContent=""},0),l}catch(e){return{width:0,height:0}}};function PH({style:e,needsComputation:n,text:r}){return r.split("\n").map(r=>RW({text:r},n?PF(r,e):{width:0,height:0}))}let Pz=["x","y","style","text","ownerState"],P$=["angle","textAnchor","dominantBaseline"];function PZ(e){let n;let{x:r,y:i,style:a,text:o}=e,l=RY(e,Pz),s=a??{},{angle:u,textAnchor:c,dominantBaseline:d}=s,h=RY(s,P$),p=e0.useMemo(()=>PH({style:h,needsComputation:o.includes("\n"),text:o}),[h,o]);switch(d){case"hanging":n=0;break;case"central":n=-((p.length-1)/2*p[0].height);break;default:n=-((p.length-1)*p[0].height)}let m=[];return u&&m.push(`rotate(${u}, ${r}, ${i})`),(0,CK.jsx)("text",RW({},l,{transform:m.length>0?m.join(" "):void 0,x:r,y:i,textAnchor:c,dominantBaseline:d,style:h,children:p.map((e,i)=>(0,CK.jsx)("tspan",{x:r,dy:`${0===i?n:p[0].height}px`,dominantBaseline:d,children:e.text},i))}))}let Pj=["scale","tickNumber","reverse"],PW=e=>{let{classes:n,position:r}=e;return Iq({root:["root","directionX",r],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},PL,n)},Pq=(0,I8.ZP)(PN,{name:"MuiChartsXAxis",slot:"Root",overridesResolver:(e,n)=>n.root})({}),PY={position:"bottom",disableLine:!1,disableTicks:!1,tickSize:6};function PX(e){let{xAxisIds:n,xAxis:r}=IW(),i=r[e.axisId??n[0]],{scale:a,tickNumber:o,reverse:l}=i,s=RY(i,Pj),u=function(e=!1){let[n,r]=e0.useState(!1);return Pk(()=>{e||r(!0)},[e]),e0.useEffect(()=>{e&&r(!0)},[e]),n}(),c=(0,Rq.Z)({props:RW({},s,e),name:"MuiChartsXAxis"}),d=RW({},PY,c),{position:h,disableLine:p,disableTicks:m,tickLabelStyle:f,label:g,labelStyle:y,tickFontSize:b,labelFontSize:v,tickSize:_,valueFormatter:x,slots:O,slotProps:w,tickInterval:E,tickLabelInterval:C,tickPlacement:T,tickLabelPlacement:k,sx:R}=d,S=(0,xa.Z)(),A=PW(RW({},d,{theme:S})),{left:I,top:L,width:M,height:N,isPointInside:D}=MA(),B=m?4:_,P="bottom"===h?1:-1,K=O?.axisLine??"line",U=O?.axisTick??"line",V=O?.axisTickLabel??PZ,G=O?.axisLabel??PZ,F=I2({elementType:V,externalSlotProps:w?.axisTickLabel,additionalProps:{style:RW({textAnchor:"middle",dominantBaseline:"bottom"===h?"hanging":"auto",fontSize:b??12},f)},className:A.tickLabel,ownerState:{}}),H=function(e,{tickLabelStyle:n,tickLabelInterval:r,reverse:i,isMounted:a}){let o=e.map(e=>{if(!a||void 0===e.formattedValue)return RW({},e,{width:0,height:0});let r=PH({style:n,needsComputation:!0,text:e.formattedValue});return RW({},e,{width:Math.max(...r.map(e=>e.width)),height:Math.max(r.length*r[0].height)})});if("function"==typeof r)return o.map((e,n)=>RW({},e,{skipLabel:!r(e.value,n)}));let l=0,s=0,u=i?-1:1;return o.map((e,r)=>{let{width:i,offset:a,labelOffset:o,height:c}=e,d=function(e,n,r=0){let i=Math.min(Math.abs(r)%180,Math.abs(Math.abs(r)%180-180)%180);if(i<5)return e;if(i>85)return n;let a=i*Math.PI/180;return a<Math.atan2(n,e)?e/Math.cos(a):n/Math.sin(a)}(i,c,n?.angle),h=a+o;return(l=h-1.2*d*u/2,r>0&&u*l<u*s)?RW({},e,{skipLabel:!0}):(s=h+1.2*d*u/2,e)})}(Bg({scale:a,tickNumber:o,valueFormatter:x,tickInterval:E,tickPlacement:T,tickLabelPlacement:k}),{tickLabelStyle:F.style,tickLabelInterval:C,reverse:l,isMounted:u}),z=I2({elementType:G,externalSlotProps:w?.axisLabel,additionalProps:{style:RW({fontSize:v??14,textAnchor:"middle",dominantBaseline:"bottom"===h?"hanging":"auto"},y)},ownerState:{}}),$=a.domain(),Z=MR(a);return Z&&0===$.length||!Z&&$.some(Bm)?null:(0,CK.jsxs)(Pq,{transform:`translate(0, ${"bottom"===h?L+N:L})`,className:A.root,sx:R,children:[!p&&(0,CK.jsx)(K,RW({x1:I,x2:I+M,className:A.line},w?.axisLine)),H.map(({formattedValue:e,offset:n,labelOffset:r,skipLabel:i},a)=>{let o=r??0,l=D({x:n,y:-1},{direction:"x"}),s=D({x:n+o,y:-1},{direction:"x"});return(0,CK.jsxs)("g",{transform:`translate(${n}, 0)`,className:A.tickContainer,children:[!m&&l&&(0,CK.jsx)(U,RW({y2:P*B,className:A.tick},w?.axisTick)),void 0!==e&&!i&&s&&(0,CK.jsx)(V,RW({x:o,y:P*(B+3)},F,{text:e.toString()}))]},a)}),g&&(0,CK.jsx)("g",{className:A.label,children:(0,CK.jsx)(G,RW({},{x:I+M/2,y:P*(B+22)},z,{text:g}))})]})}var PJ=r(91429);let PQ=["scale","tickNumber"],P0=e=>{let{classes:n,position:r}=e;return Iq({root:["root","directionY",r],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},PL,n)},P1=(0,I8.ZP)(PN,{name:"MuiChartsYAxis",slot:"Root",overridesResolver:(e,n)=>n.root})({}),P2={position:"left",disableLine:!1,disableTicks:!1,tickFontSize:12,labelFontSize:14,tickSize:6};function P3(e){let{yAxisIds:n,yAxis:r}=IW(),i=r[e.axisId??n[0]],{scale:a,tickNumber:o}=i,l=RY(i,PQ),s=(0,Rq.Z)({props:RW({},l,e),name:"MuiChartsYAxis"}),u=RW({},P2,s),{position:c,disableLine:d,disableTicks:h,tickFontSize:p,label:m,labelFontSize:f,labelStyle:g,tickLabelStyle:y,tickSize:b,valueFormatter:v,slots:_,slotProps:x,tickPlacement:O,tickLabelPlacement:w,tickInterval:E,tickLabelInterval:C,sx:T}=u,k=(0,xa.Z)(),R=(0,PJ.V)(),S=P0(RW({},u,{theme:k})),{left:A,top:I,width:L,height:M,isPointInside:N}=MA(),D=h?4:b,B=Bg({scale:a,tickNumber:o,valueFormatter:v,tickPlacement:O,tickLabelPlacement:w,tickInterval:E}),P="right"===c?1:-1,K=_?.axisLine??"line",U=_?.axisTick??"line",V=_?.axisTickLabel??PZ,G=_?.axisLabel??PZ,F=I2({elementType:V,externalSlotProps:x?.axisTickLabel,additionalProps:{style:RW({fontSize:p,textAnchor:!R&&"right"===c||R&&"right"!==c?"start":"end",dominantBaseline:"central"},y)},className:S.tickLabel,ownerState:{}}),H=I2({elementType:G,externalSlotProps:x?.axisLabel,additionalProps:{style:RW({fontSize:f,angle:90*P,textAnchor:"middle",dominantBaseline:"auto"},g)},ownerState:{}}),z=I2({elementType:K,externalSlotProps:x?.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),$=a.domain(),Z=MR(a);return Z&&0===$.length||!Z&&$.some(Bm)?null:(0,CK.jsxs)(P1,{transform:`translate(${"right"===c?A+L:A}, 0)`,className:S.root,sx:T,children:[!d&&(0,CK.jsx)(K,RW({y1:I,y2:I+M,className:S.line},z)),B.map(({formattedValue:e,offset:n,labelOffset:r,value:i},a)=>{let o="function"==typeof C&&!C?.(i,a);return N({x:-1,y:n},{direction:"y"})?(0,CK.jsxs)("g",{transform:`translate(0, ${n})`,className:S.tickContainer,children:[!h&&(0,CK.jsx)(U,RW({x2:P*D,className:S.tick},x?.axisTick)),void 0!==e&&!o&&(0,CK.jsx)(V,RW({x:P*(D+2),y:r,text:e.toString()},F))]},a):null}),m&&(0,CK.jsx)("g",{className:S.label,children:(0,CK.jsx)(G,RW({},{x:P*(p+D+10),y:I+M/2},H,{text:m}))})]})}let P4=(e,n)=>null==e?null:"object"==typeof e?e.axisId??n??null:e,P6=(e,n,r)=>"object"==typeof e?RW({},e,{slots:RW({},n,e?.slots),slotProps:RW({},r,e?.slotProps)}):{slots:n,slotProps:r};function P5(e){let{topAxis:n,leftAxis:r,rightAxis:i,bottomAxis:a,slots:o,slotProps:l}=e,{xAxis:s,xAxisIds:u,yAxis:c,yAxisIds:d}=IW(),h=P4(void 0===r?d[0]:r,d[0]),p=P4(void 0===a?u[0]:a,u[0]),m=P4(n,u[0]),f=P4(i,d[0]);if(null!==m&&!s[m])throw Error(`MUI X: id used for top axis "${m}" is not defined.
Available ids are: ${u.join(", ")}.`);if(null!==h&&!c[h])throw Error(`MUI X: id used for left axis "${h}" is not defined.
Available ids are: ${d.join(", ")}.`);if(null!==f&&!c[f])throw Error(`MUI X: id used for right axis "${f}" is not defined.
Available ids are: ${d.join(", ")}.`);if(null!==p&&!s[p])throw Error(`MUI X: id used for bottom axis "${p}" is not defined.
Available ids are: ${u.join(", ")}.`);let g=P6(n,o,l),y=P6(a,o,l),b=P6(r,o,l),v=P6(i,o,l);return(0,CK.jsxs)(e0.Fragment,{children:[m&&(0,CK.jsx)(PX,RW({},g,{position:"top",axisId:m})),p&&(0,CK.jsx)(PX,RW({},y,{position:"bottom",axisId:p})),h&&(0,CK.jsx)(P3,RW({},b,{position:"left",axisId:h})),f&&(0,CK.jsx)(P3,RW({},v,{position:"right",axisId:f}))]})}var P8=r(52951),P7=r(59696);function P9(e){return I5("MuiChartsTooltip",e)}let Ke=I7("MuiChartsTooltip",["root","paper","table","row","cell","mark","markCell","labelCell","valueCell"]),Kt=(0,I8.ZP)("div",{name:"MuiChartsTooltip",slot:"Container",overridesResolver:(e,n)=>n.paper})(({theme:e})=>({boxShadow:e.shadows[1],backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),borderRadius:e.shape.borderRadius})),Kn=(0,I8.ZP)("table",{name:"MuiChartsTooltip",slot:"Table",overridesResolver:(e,n)=>n.table})(({theme:e})=>({borderSpacing:0,"& thead td":{borderBottom:`solid ${(e.vars||e).palette.divider} 1px`}})),Kr=(0,I8.ZP)("tr",{name:"MuiChartsTooltip",slot:"Row",overridesResolver:(e,n)=>n.row})(({theme:e})=>({"tr:first-of-type& td":{paddingTop:e.spacing(1)},"tr:last-of-type& td":{paddingBottom:e.spacing(1)}})),Ki=(0,I8.ZP)("td",{name:"MuiChartsTooltip",slot:"Cell",overridesResolver:(e,n)=>n.cell})(({theme:e})=>({verticalAlign:"middle",color:(e.vars||e).palette.text.secondary,[`&.${Ke.labelCell}`]:{paddingLeft:e.spacing(1)},[`&.${Ke.valueCell}`]:{paddingLeft:e.spacing(4),color:(e.vars||e).palette.text.primary},"td:first-of-type&":{paddingLeft:e.spacing(2)},"td:last-of-type&":{paddingRight:e.spacing(2)}})),Ka=(0,I8.ZP)("div",{name:"MuiChartsTooltip",slot:"Mark",overridesResolver:(e,n)=>n.mark,shouldForwardProp:e=>(0,P7.x9)(e)&&"color"!==e})(({theme:e,color:n})=>({width:e.spacing(1),height:e.spacing(1),borderRadius:"50%",boxShadow:e.shadows[1],backgroundColor:n,borderColor:(e.vars||e).palette.background.paper,border:`solid ${(e.vars||e).palette.background.paper} ${e.spacing(.25)}`,boxSizing:"content-box"}));function Ko(e){let{series:n,itemData:r,sx:i,classes:a,getColor:o}=e;if(void 0===r.dataIndex||!n.data[r.dataIndex])return null;let{displayedLabel:l,color:s}="pie"===n.type?{color:o(r.dataIndex),displayedLabel:Pf(n.data[r.dataIndex].label,"tooltip")}:{color:o(r.dataIndex),displayedLabel:Pf(n.label,"tooltip")},u="pie"===n.type?RW({},n.data[r.dataIndex],{label:Pf(n.data[r.dataIndex].label,"tooltip")}):n.data[r.dataIndex],c=n.valueFormatter?.(u,{dataIndex:r.dataIndex});return(0,CK.jsx)(Kt,{sx:i,className:a.paper,children:(0,CK.jsx)(Kn,{className:a.table,children:(0,CK.jsx)("tbody",{children:(0,CK.jsxs)(Kr,{className:a.row,children:[(0,CK.jsx)(Ki,{className:IX(a.markCell,a.cell),children:(0,CK.jsx)(Ka,{color:s,className:a.mark})}),(0,CK.jsx)(Ki,{className:IX(a.labelCell,a.cell),children:l}),(0,CK.jsx)(Ki,{className:IX(a.valueCell,a.cell),children:c})]})})})})}function Kl(e){let{isInitialized:n,data:r}=e0.useContext(MT);if(!n)throw Error("MUI X: Could not find the plugin context.\nIt looks like you rendered your component outside of a ChartsContainer parent component.");return e?r.colorProcessors[e]:r.colorProcessors}function Ks(e){let{content:n,itemData:r,sx:i,classes:a,contentProps:o}=e,l=Mm()[r.type].series[r.seriesId],{xAxis:s,yAxis:u,xAxisIds:c,yAxisIds:d}=IW(),{zAxis:h,zAxisIds:p}=e0.useContext(BU),m=Kl(),f=l.xAxisId??l.xAxisKey??c[0],g=l.yAxisId??l.yAxisKey??d[0],y=l.zAxisId??l.zAxisKey??p[0],b=m[l.type]?.(l,f&&s[f],g&&u[g],y&&h[y])??(()=>""),v=n??Ko,_=I2({elementType:v,externalSlotProps:o,additionalProps:{itemData:r,series:l,sx:i,classes:a,getColor:b},ownerState:{}});return(0,CK.jsx)(v,RW({},_))}var Ku=r(49262);class Kc{constructor(){if(this.types=new Set,c)throw Error("You can only create one instance!");c=this.types}addType(e){this.types.add(e)}getTypes(){return this.types}}let Kd=new Kc;function Kh(e){return Kd.getTypes().has(e)}function Kp(e){return Kh(e.type)}function Km(e){let{series:n,axis:r,dataIndex:i,axisValue:a,sx:o,classes:l}=e;if(null==i)return null;let s=r.valueFormatter??(e=>"utc"===r.scaleType&&e instanceof Date?e.toUTCString():e.toLocaleString());return(0,CK.jsx)(Kt,{sx:o,className:l.paper,children:(0,CK.jsxs)(Kn,{className:l.table,children:[null!=a&&!r.hideTooltip&&(0,CK.jsx)("thead",{children:(0,CK.jsx)(Kr,{children:(0,CK.jsx)(Ki,{colSpan:3,children:(0,CK.jsx)(Ku.Z,{children:s(a,{location:"tooltip"})})})})}),(0,CK.jsx)("tbody",{children:n.filter(Kp).map(({id:e,label:n,valueFormatter:r,data:a,getColor:o})=>{let s=r(a[i]??null,{dataIndex:i});if(null==s)return null;let u=Pf(n,"tooltip"),c=o(i);return(0,CK.jsxs)(Kr,{className:l.row,children:[(0,CK.jsx)(Ki,{className:IX(l.markCell,l.cell),children:c&&(0,CK.jsx)(Ka,{color:c,className:l.mark})}),(0,CK.jsx)(Ki,{className:IX(l.labelCell,l.cell),children:u?(0,CK.jsx)(Ku.Z,{children:u}):null}),(0,CK.jsx)(Ki,{className:IX(l.valueCell,l.cell),children:(0,CK.jsx)(Ku.Z,{children:s})})]},e)})})]})})}function Kf(e){let{content:n,contentProps:r,axisData:i,sx:a,classes:o}=e,l=i.x&&-1!==i.x.index,s=l?i.x&&i.x.index:i.y&&i.y.index,u=l?i.x&&i.x.value:i.y&&i.y.value,{xAxisIds:c,xAxis:d,yAxisIds:h,yAxis:p}=IW(),{zAxisIds:m,zAxis:f}=e0.useContext(BU),g=Mm(),y=Kl(),b=l?c[0]:h[0],v=e0.useMemo(()=>{let e=[];return Object.keys(g).filter(Kh).forEach(n=>{g[n].seriesOrder.forEach(r=>{let i=g[n].series[r],a=i.xAxisId??i.xAxisKey,o=i.yAxisId??i.yAxisKey,s=l?a:o;if(void 0===s||s===b){let i=g[n].series[r],l=a??c[0],s=o??h[0],u=i.zAxisId??i.zAxisKey??m[0],b=y[n]?.(i,d[l],p[s],u&&f[u])??(()=>"");e.push(RW({},i,{getColor:b}))}})}),e},[b,y,l,g,d,c,p,h,f,m]),_=e0.useMemo(()=>l?d[b]:p[b],[b,l,d,p]),x=n??Km,O=I2({elementType:x,externalSlotProps:r,additionalProps:{axisData:i,series:v,axis:_,dataIndex:s,axisValue:u,sx:a,classes:o},ownerState:{}});return(0,CK.jsx)(x,RW({},O))}Kd.addType("bar"),Kd.addType("line"),Kd.addType("scatter");let Kg=e=>{let{classes:n}=e;return Iq({root:["root"],paper:["paper"],table:["table"],row:["row"],cell:["cell"],mark:["mark"],markCell:["markCell"],labelCell:["labelCell"],valueCell:["valueCell"]},P9,n)},Ky=(0,I8.ZP)(P8.Z,{name:"MuiChartsTooltip",slot:"Root",overridesResolver:(e,n)=>n.root})(({theme:e})=>({pointerEvents:"none",zIndex:e.zIndex.modal}));function Kb(e){let n=(0,Rq.Z)({props:e,name:"MuiChartsTooltip"}),{trigger:r="axis",itemContent:i,axisContent:a,slots:o,slotProps:l}=n,s=function(){let e=MS(),[n,r]=e0.useState(null);return e0.useEffect(()=>{let n=e.current;if(null===n)return()=>{};let i=e=>{"mouse"!==e.pointerType&&r(null)},a=e=>{r({x:e.clientX,y:e.clientY,height:e.height,pointerType:e.pointerType})};return n.addEventListener("pointerdown",a),n.addEventListener("pointermove",a),n.addEventListener("pointerup",i),()=>{n.removeEventListener("pointerdown",a),n.removeEventListener("pointermove",a),n.removeEventListener("pointerup",i)}},[e]),n}(),{item:u,axis:c}=e0.useContext(LI),d="item"===r?u:c,h=function(e,n){if("item"===e)return null!==n;let r=null!==n.x,i=null!==n.y;return r||i}(r,d),p=null!==s&&h,m=Kg({classes:n.classes}),f=o?.popper??Ky,g=I2({elementType:f,externalSlotProps:l?.popper,additionalProps:{open:p,placement:s?.pointerType==="mouse"?"right-start":"top",anchorEl:function(e){if(null===e)return{getBoundingClientRect:()=>({width:0,height:0,x:0,y:0,top:0,right:0,bottom:0,left:0,toJSON:()=>""})};let{x:n,y:r}=e,i={width:0,height:0,x:n,y:r,top:r,right:n,bottom:r,left:n};return{getBoundingClientRect:()=>RW({},i,{toJSON:()=>JSON.stringify(i)})}}(s),modifiers:[{name:"offset",options:{offset:[0,s?.pointerType==="touch"?40-s.height:0]}}]},ownerState:{}});return"none"===r?null:(0,CK.jsx)(Tg.a,{children:p&&(0,CK.jsx)(f,RW({},g,{className:m.root,children:"item"===r?(0,CK.jsx)(Ks,{itemData:d,content:o?.itemContent??i,contentProps:l?.itemContent,sx:{mx:2},classes:m}):(0,CK.jsx)(Kf,{axisData:d,content:o?.axisContent??a,contentProps:l?.axisContent,sx:{mx:2},classes:m})}))})}let Kv={bar:e=>{let{seriesOrder:n,series:r}=e;return n.reduce((e,n)=>{let i=Pf(r[n].label,"legend");return void 0===i||e.push({color:r[n].color,label:i,id:n}),e},[])},scatter:e=>{let{seriesOrder:n,series:r}=e;return n.reduce((e,n)=>{let i=Pf(r[n].label,"legend");return void 0===i||e.push({color:r[n].color,label:i,id:n}),e},[])},line:e=>{let{seriesOrder:n,series:r}=e;return n.reduce((e,n)=>{let i=Pf(r[n].label,"legend");return void 0===i||e.push({color:r[n].color,label:i,id:n}),e},[])},pie:e=>{let{seriesOrder:n,series:r}=e;return n.reduce((e,n)=>(r[n].data.forEach(n=>{let r=Pf(n.label,"legend");void 0!==r&&e.push({color:n.color,label:r,id:n.id})}),e),[])}};function K_(e){return I5("MuiChartsLegend",e)}I7("MuiChartsLegend",["root","series","mark","label","column","row"]);let Kx=["label"],KO=["rotate","dominantBaseline"],Kw=(0,I8.ZP)("g",{name:"MuiChartsLegend",slot:"Root",overridesResolver:(e,n)=>n.root})({}),KE=e=>"number"==typeof e?{left:e,right:e,top:e,bottom:e}:RW({left:0,right:0,top:0,bottom:0},e);function KC(e){let{position:n,direction:r,itemsToDisplay:i,classes:a,itemMarkWidth:o=20,itemMarkHeight:l=20,markGap:s=5,itemGap:u=10,padding:c=10,labelStyle:d}=e,h=(0,xa.Z)(),p=(0,PJ.V)(),m=MA(),f=e0.useMemo(()=>RW({},h.typography.subtitle1,{color:"inherit",dominantBaseline:"central",textAnchor:"start",fill:(h.vars||h).palette.text.primary,lineHeight:1},d),[d,h]),g=e0.useMemo(()=>KE(c),[c]),y=e0.useCallback((e,n={})=>{let r=PH({style:RY(n,KO),needsComputation:!0,text:e}),i={innerWidth:o+s+Math.max(...r.map(e=>e.width)),innerHeight:Math.max(l,r.length*r[0].height)};return RW({},i,{outerWidth:i.innerWidth+u,outerHeight:i.innerHeight+u})},[u,l,o,s]),b=m.left+m.width+m.right,v=m.top+m.height+m.bottom,_=b-g.left-g.right,x=v-g.top-g.bottom,[O,w,E]=e0.useMemo(()=>(function(e,n,r,i,a,o,l){let s=0,u=0,c=0,d=0,h=0,p=[0];return[e.map(e=>{let{label:m}=e,f=RY(e,Kx),g=n(m,r),y=RW({},f,{label:m,positionX:s,positionY:u,innerHeight:g.innerHeight,innerWidth:g.innerWidth,outerHeight:g.outerHeight,outerWidth:g.outerWidth,rowIndex:h});return"row"===i&&(s+g.innerWidth>a&&(s=0,u+=p[h],h+=1,p.length<=h&&p.push(0),y.positionX=s,y.positionY=u,y.rowIndex=h),c=Math.max(c,s+g.outerWidth),d=Math.max(d,u+g.outerHeight),p[h]=Math.max(p[h],g.outerHeight),s+=g.outerWidth),"column"===i&&(u+g.innerHeight>o&&(s=c+l,u=0,h=0,y.positionX=s,y.positionY=u,y.rowIndex=h),p.length<=h&&p.push(0),c=Math.max(c,s+g.outerWidth),d=Math.max(d,u+g.outerHeight),h+=1,u+=g.outerHeight),y}).map(e=>RW({},e,{positionY:e.positionY+("row"===i?p[e.rowIndex]/2:e.outerHeight/2)})),c,d]})(i,y,f,r,_,x,u),[i,y,f,r,_,x,u]),C=e0.useMemo(()=>{switch(n.horizontal){case"left":return g.left;case"right":return b-g.right-w;default:return(b-w)/2}},[n.horizontal,g.left,g.right,b,w]),T=e0.useMemo(()=>{switch(n.vertical){case"top":return g.top;case"bottom":return v-g.bottom-E;default:return(v-E)/2}},[n.vertical,g.top,g.bottom,v,E]);return(0,CK.jsx)(Tg.a,{children:(0,CK.jsx)(Kw,{className:a?.root,children:O.map(({id:e,label:n,color:r,positionX:i,positionY:u})=>(0,CK.jsxs)("g",{className:a?.series,transform:`translate(${C+(p?w-i:i)} ${T+u})`,children:[(0,CK.jsx)("rect",{className:a?.mark,x:p?-o:0,y:-l/2,width:o,height:l,fill:r}),(0,CK.jsx)(PZ,{style:f,text:n,x:(p?-1:1)*(o+s),y:0})]},e))})})}let KT=["drawingArea","seriesToDisplay","hidden"];function Kk(e){let{seriesToDisplay:n,hidden:r}=e,i=RY(e,KT);return r?null:(0,CK.jsx)(KC,RW({},i,{itemsToDisplay:n}))}let KR=["slots","slotProps"],KS=e=>{let{classes:n,direction:r}=e;return Iq({root:["root",r],mark:["mark"],label:["label"],series:["series"]},K_,n)};function KA(e){let n=(0,Rq.Z)({props:e,name:"MuiChartsLegend"}),r=RW({direction:"row"},n,{position:RW({horizontal:"middle",vertical:"top"},n.position)}),{slots:i,slotProps:a}=r,o=RY(r,KR),l=(0,xa.Z)(),s=KS(RW({},r,{theme:l})),u=MA(),c=Mm(),d=Object.keys(c).flatMap(e=>{let n=Kv[e];return void 0===n?[]:n(c[e])}),h=i?.legend??Kk,p=I2({elementType:h,externalSlotProps:a?.legend,additionalProps:RW({},o,{classes:s,drawingArea:u,series:c,seriesToDisplay:d}),ownerState:{}});return(0,CK.jsx)(h,RW({},p))}function KI(e){return MR(e)?n=>(e(n)??0)+e.bandwidth()/2:n=>e(n)}function KL(e){return I5("MuiChartsAxisHighlight",e)}let KM=I7("MuiChartsAxisHighlight",["root"]),KN=()=>Iq({root:["root"]},KL),KD=(0,I8.ZP)("path",{name:"MuiChartsAxisHighlight",slot:"Root",overridesResolver:(e,n)=>n.root})(({theme:e})=>({pointerEvents:"none",variants:[{props:{axisHighlight:"band"},style:RW({fill:"white",fillOpacity:.1},e.applyStyles("light",{fill:"gray"}))},{props:{axisHighlight:"line"},style:RW({strokeDasharray:"5 2",stroke:"#ffffff"},e.applyStyles("light",{stroke:"#000000"}))}]}));function KB(e){let{x:n,y:r}=e,{xAxisIds:i,xAxis:a,yAxisIds:o,yAxis:l}=IW(),s=KN(),u=i[0],c=o[0],d=a[u].scale,h=l[c].scale,{axis:p}=e0.useContext(LI),m=KI(d),f=KI(h),g=p.x,y=p.y,b="band"===n&&null!==g&&MR(d),v="band"===r&&null!==y&&MR(h);return(0,CK.jsxs)(e0.Fragment,{children:[b&&void 0!==d(g.value)&&(0,CK.jsx)(KD,{d:`M ${d(g.value)-(d.step()-d.bandwidth())/2} ${h.range()[0]} l ${d.step()} 0 l 0 ${h.range()[1]-h.range()[0]} l ${-d.step()} 0 Z`,className:s.root,ownerState:{axisHighlight:"band"}}),v&&void 0!==h(y.value)&&(0,CK.jsx)(KD,{d:`M ${d.range()[0]} ${h(y.value)-(h.step()-h.bandwidth())/2} l 0 ${h.step()} l ${d.range()[1]-d.range()[0]} 0 l 0 ${-h.step()} Z`,className:s.root,ownerState:{axisHighlight:"band"}}),"line"===n&&null!==p.x&&(0,CK.jsx)(KD,{d:`M ${m(p.x.value)} ${h.range()[0]} L ${m(p.x.value)} ${h.range()[1]}`,className:s.root,ownerState:{axisHighlight:"line"}}),"line"===r&&null!==p.y&&(0,CK.jsx)(KD,{d:`M ${d.range()[0]} ${f(p.y.value)} L ${d.range()[1]} ${f(p.y.value)}`,className:s.root,ownerState:{axisHighlight:"line"}})]})}function KP(e){let{id:n,offset:r}=e,{left:i,top:a,width:o,height:l}=MA(),s=RW({top:0,right:0,bottom:0,left:0},r);return(0,CK.jsx)("clipPath",{id:n,children:(0,CK.jsx)("rect",{x:i-s.left,y:a-s.top,width:o+s.left+s.right,height:l+s.top+s.bottom})})}function KK(e){return I5("MuiChartsGrid",e)}let KU=I7("MuiChartsGrid",["root","line","horizontalLine","verticalLine"]),KV=(0,I8.ZP)("g",{name:"MuiChartsGrid",slot:"Root",overridesResolver:(e,n)=>[{[`&.${KU.verticalLine}`]:n.verticalLine},{[`&.${KU.horizontalLine}`]:n.horizontalLine},n.root]})({}),KG=(0,I8.ZP)("line",{name:"MuiChartsGrid",slot:"Line",overridesResolver:(e,n)=>n.line})(({theme:e})=>({stroke:(e.vars||e).palette.divider,shapeRendering:"crispEdges",strokeWidth:1}));function KF(e){let{axis:n,drawingArea:r,classes:i}=e,{scale:a,tickNumber:o,tickInterval:l}=n,s=Bg({scale:a,tickNumber:o,tickInterval:l});return(0,CK.jsx)(e0.Fragment,{children:s.map(({formattedValue:e,offset:n})=>(0,CK.jsx)(KG,{y1:r.top,y2:r.top+r.height,x1:n,x2:n,className:i.verticalLine},`vertical-${e}`))})}function KH(e){let{axis:n,drawingArea:r,classes:i}=e,{scale:a,tickNumber:o,tickInterval:l}=n,s=Bg({scale:a,tickNumber:o,tickInterval:l});return(0,CK.jsx)(e0.Fragment,{children:s.map(({formattedValue:e,offset:n})=>(0,CK.jsx)(KG,{y1:n,y2:n,x1:r.left,x2:r.left+r.width,className:i.horizontalLine},`horizontal-${e}`))})}let Kz=["vertical","horizontal"],K$=({classes:e})=>Iq({root:["root"],verticalLine:["line","verticalLine"],horizontalLine:["line","horizontalLine"]},KK,e);function KZ(e){let n=(0,Rq.Z)({props:e,name:"MuiChartsGrid"}),r=MA(),{vertical:i,horizontal:a}=n,o=RY(n,Kz),{xAxis:l,xAxisIds:s,yAxis:u,yAxisIds:c}=IW(),d=K$(n),h=u[c[0]],p=l[s[0]];return(0,CK.jsxs)(KV,RW({},o,{className:d.root,children:[i&&(0,CK.jsx)(KF,{axis:p,drawingArea:r,classes:d}),a&&(0,CK.jsx)(KH,{axis:h,drawingArea:r,classes:d})]}))}function Kj(e){let{onAxisClick:n}=e,r=MS(),i=Mm(),{axis:a}=e0.useContext(LI),{xAxisIds:o,xAxis:l,yAxisIds:s,yAxis:u}=IW();return e0.useEffect(()=>{let e=r.current;if(null===e||!n)return()=>{};let c=e=>{e.preventDefault();let r=(a.x&&a.x.index)!==void 0,c=r?o[0]:s[0],d=r?a.x&&a.x.index:a.y&&a.y.index;if(null==d)return;let h={};Object.keys(i).filter(e=>["bar","line"].includes(e)).forEach(e=>{i[e]?.seriesOrder.forEach(n=>{let a=i[e].series[n],o=a.xAxisId??a.xAxisKey,l=a.yAxisId??a.yAxisKey,s=r?o:l;(void 0===s||s===c)&&(h[n]=a.data[d])})});let p=(r?l:u)[c].data?.[d];n(e,{dataIndex:d,axisValue:p,seriesValues:h})};return e.addEventListener("click",c),()=>{e.removeEventListener("click",c)}},[a.x,a.y,n,i,r,l,o,u,s]),(0,CK.jsx)(e0.Fragment,{})}let KW=["message"],Kq=(0,I8.ZP)("text")(({theme:e})=>RW({},e.typography.body2,{stroke:"none",fill:e.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function KY(e){let{message:n}=e,r=RY(e,KW),{top:i,left:a,height:o,width:l}=MA();return(0,CK.jsx)(Kq,RW({x:a+l/2,y:i+o/2},r,{children:n??"Loading data"}))}let KX=["message"],KJ=(0,I8.ZP)("text")(({theme:e})=>RW({},e.typography.body2,{stroke:"none",fill:e.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function KQ(e){let{message:n}=e,r=RY(e,KX),{top:i,left:a,height:o,width:l}=MA();return(0,CK.jsx)(KJ,RW({x:a+l/2,y:i+o/2},r,{children:n??"No data to display"}))}function K0(e){let n=Object.values(Mm()).every(e=>{if(!e)return!0;let{series:n,seriesOrder:r}=e;return r.every(e=>0===n[e].data.length)});if(e.loading){let n=e.slots?.loadingOverlay??KY;return(0,CK.jsx)(n,RW({},e.slotProps?.loadingOverlay))}if(n){let n=e.slots?.noDataOverlay??KQ;return(0,CK.jsx)(n,RW({},e.slotProps?.noDataOverlay))}return null}let K1=["xAxis","yAxis","series","width","height","margin","colors","dataset","sx","tooltip","onAxisClick","axisHighlight","legend","grid","topAxis","leftAxis","rightAxis","bottomAxis","children","slots","slotProps","skipAnimation","loading","layout","onItemClick","highlightedItem","onHighlightChange","borderRadius","barLabel","className"],K2=e=>{let{xAxis:n,yAxis:r,series:i,width:a,height:o,margin:l,colors:s,dataset:u,sx:c,tooltip:d,onAxisClick:h,axisHighlight:p,legend:m,grid:f,topAxis:g,leftAxis:y,rightAxis:b,bottomAxis:v,children:_,slots:x,slotProps:O,skipAnimation:w,loading:E,layout:C,onItemClick:T,highlightedItem:k,onHighlightChange:R,borderRadius:S,barLabel:A,className:I}=e,L=RY(e,K1),M=LZ(),N=`${M}-clip-path`,D="horizontal"===C||void 0===C&&i.some(e=>"horizontal"===e.layout),B={scaleType:"band",data:Array.from({length:Math.max(...i.map(e=>(e.data??u??[]).length))},(e,n)=>n)},P=RW({},L,{series:i.map(e=>RW({type:"bar"},e,{layout:D?"horizontal":"vertical"})),width:a,height:o,margin:l,colors:s,dataset:u,xAxis:n??(D?void 0:[RW({id:Lj},B)]),yAxis:r??(D?[RW({id:LW},B)]:void 0),sx:c,highlightedItem:k,onHighlightChange:R,disableAxisListener:d?.trigger!=="axis"&&p?.x==="none"&&p?.y==="none"&&!h,className:I}),K={vertical:f?.vertical,horizontal:f?.horizontal},U={clipPath:`url(#${N})`},V=RW({},D?{y:"band"}:{x:"band"},p),G=RW({},m,{slots:x,slotProps:O}),F=RW({},d,{slots:x,slotProps:O});return{chartContainerProps:P,barPlotProps:{onItemClick:T,slots:x,slotProps:O,skipAnimation:w,borderRadius:S,barLabel:A},axisClickHandlerProps:{onAxisClick:h},gridProps:K,clipPathProps:{id:N},clipPathGroupProps:U,overlayProps:{slots:x,slotProps:O,loading:E},chartsAxisProps:{topAxis:g,leftAxis:y,rightAxis:b,bottomAxis:v,slots:x,slotProps:O},axisHighlightProps:V,legendProps:G,tooltipProps:F,children:_}},K3=e0.forwardRef(function(e,n){let r=(0,Rq.Z)({props:e,name:"MuiBarChart"}),{chartContainerProps:i,barPlotProps:a,axisClickHandlerProps:o,gridProps:l,clipPathProps:s,clipPathGroupProps:u,overlayProps:c,chartsAxisProps:d,axisHighlightProps:h,legendProps:p,tooltipProps:m,children:f}=K2(r);return(0,CK.jsxs)(PI,RW({ref:n},i,{children:[r.onAxisClick&&(0,CK.jsx)(Kj,RW({},o)),(0,CK.jsx)(KZ,RW({},l)),(0,CK.jsxs)("g",RW({},u,{children:[(0,CK.jsx)(M_,RW({},a)),(0,CK.jsx)(K0,RW({},c)),(0,CK.jsx)(KB,RW({},h))]})),(0,CK.jsx)(P5,RW({},d)),(0,CK.jsx)(KA,RW({},p)),!r.loading&&(0,CK.jsx)(Kb,RW({},m)),(0,CK.jsx)(KP,RW({},s)),f]}))});var K4=r(3224),K6=r.n(K4);function K5(){let e=tZ(uh);return(0,e0.useCallback)(n=>K6()(n)?o0(String(n),e,0):String(n),[e])}function K8(e){let{children:n}=e;return(0,K.tZ)(dC.ZT,{paddingSpacing:"2",styleName:"mediumReg",font:"primary",variant:"body",legacyFontSize:"15px",children:n})}let K7=(0,dC.zo)(hp.Z,{target:"ey4jbbk0"})(e=>{let{theme:n}=e,{TOOLTIP:r}=dj.chart(n),{BORDER_RADIUS:i,BOX_SHADOW:a}=r.BACKGROUND;return"\n          border-radius: ".concat(i,";\n          box-shadow: ").concat(a,";\n      ")}),K9=(0,dC.zo)(hh.Z,{target:"ey4jbbk1"})(e=>{let{$backgroundColor:n,theme:r}=e,{TOOLTIP:i}=dj.chart(r),{BORDER_RADIUS:a,DISPLAY:o,SIZE:l}=i.ITEM_MARK;return"\n          width: ".concat(l,";\n          height: ").concat(l,";\n          display: ").concat(o,";\n          border-radius: ").concat(a,";\n          background-color: ").concat(n,";\n      ")}),Ue=(0,dC.zo)(RN.Z,{target:"ey4jbbk2"})(e=>{let{theme:n}=e,{TOOLTIP:r}=dj.chart(n),{PADDING:i,ROW_GAP:a}=r.LEGEND;return"\n          padding: ".concat(i,";\n          row-gap: ").concat(a,";\n      ")}),Ut=(0,dC.zo)(RN.Z,{target:"ey4jbbk3"})(e=>{let{theme:n}=e,{TOOLTIP:r}=dj.chart(n),{ALIGN_ITEMS:i,COLUMN_GAP:a,FLEX_DIRECTION:o,JUSTIFY_CONTENT:l}=r.LEGEND_ROW;return"\n          align-items: ".concat(i,";\n          column-gap: ").concat(a,";\n          flex-direction: ").concat(o,";\n          justify-content: ").concat(l,";\n      ")});function Un(e){let{children:n}=e;return(0,K.tZ)(dC.ZT,{marginSpacing:"0 0 0 auto",textAlign:"right",legacyFontSize:"15px",styleName:"smallReg",font:"primary",variant:"body",children:n})}let Ur=(0,dC.zo)(RN.Z,{target:"ey4jbbk4"})(e=>{let{theme:n}=e,{TOOLTIP:{LEGEND_ROW:r}}=dj.chart(n),{ALIGN_ITEMS:i,COLUMN_GAP:a,FLEX_DIRECTION:o,PADDING:l}=r;return"\n    align-items: ".concat(i,";\n    column-gap: ").concat(a,";\n    flex-direction: ").concat(o,";\n    padding: ").concat(l,";\n  ")}),Ui={axisContent:function(e){let{axisValue:n,dataIndex:r,series:i}=e,a=K5();return(0,K.BX)(K7,{children:[(0,K.tZ)(K8,{children:a(null!=n?n:"")}),(0,K.tZ)(hM.Z,{}),(0,K.tZ)(Ue,{children:i.map(e=>{let{label:n}=e,i=e.data[null!=r?r:0],o=K6()(i)?a(i):"";return(0,K.BX)(Ut,{children:[(0,K.tZ)(K9,{$backgroundColor:e.color}),(0,K.tZ)(CX,{html:n}),(0,K.tZ)(Un,{children:o})]},e.id)})})]})}},Ua={legend:{hidden:!0}};function Uo(){let e=(0,xa.Z)(),{getSeriesColor:n}=dj.chart(e);return n}let Ul=(0,dC.zo)(K3,{target:"esjkptm0"})(e=>{let{theme:n}=e,{HIGHLIGHT_BACKGROUND_COLOR:r}=dj.chart(n).CARTESIAN.AXIS;return"\n    .".concat(KM.root," {\n      fill: ").concat(r,";\n    }")});function Us(e){let{chartData:n,chartOptions:r,height:i,margin:a,series:o,stacked:l,xAxis:s}=e,u=K5(),c=Uo(),d=n[s.field],{yMax:h,yMin:p}=null!=r?r:{},m=(0,e0.useMemo)(()=>Object.entries(du()(n,s.field)).map((e,n)=>{var r;let[i,a]=e;return{data:a,color:c(n),label:null===(r=o.find(e=>e.field===i))||void 0===r?void 0:r.title.html,stack:l?"stacked":void 0}}),[c,n,o,l,s]),f=(0,e0.useMemo)(()=>[{scaleType:"band",data:d,valueFormatter:u}],[u,d]),g=(0,e0.useMemo)(()=>[{valueFormatter:u,max:h,min:p}],[u,h,p]);return(0,K.tZ)(Ul,{height:i,series:m,slotProps:Ua,slots:Ui,xAxis:f,yAxis:g,margin:a})}let Uu=(0,dC.zo)("div",{target:"exob9rr0"})(e=>{let{theme:n}=e,{CONTAINER_POSITION:r}=dj.chart(n).CARTESIAN.AXIS.LABELS;return"\n    position: ".concat(r,";\n  ")}),Uc=(0,dC.zo)("div",{target:"exob9rr1"})(e=>{let{theme:n}=e,{OVERFLOW:r,POSITION:i,TEXT_ALIGN:a,WHITE_SPACE:o}=dj.chart(n).CARTESIAN.AXIS.LABELS;return"\n    position: ".concat(i,";\n    white-space: ").concat(o,";\n    overflow: ").concat(r,";\n    text-align: ").concat(a,";\n  ")}),Ud=(0,dC.zo)(Uc,{target:"exob9rr2"})(e=>{let{theme:n}=e,{BOTTOM:r,WIDTH:i}=dj.chart(n).CARTESIAN.AXIS.X_LABEL;return"\n    bottom: ".concat(r,";\n    width: ").concat(i,";\n  ")}),Uh=(0,dC.zo)(Uc,{target:"exob9rr3"})(e=>{let{theme:n}=e,{LEFT:r,MAX_WIDTH:i,TOP:a,TRANSFORM:o,TRANSFORM_ORIGIN:l}=dj.chart(n).CARTESIAN.AXIS.Y_LABEL;return"\n    left: ".concat(r,";\n    top: ").concat(a,";\n    width: ").concat(i,";\n    transform: ").concat(o,";\n    transform-origin: ").concat(l,";\n  ")});function Up(e){let{children:n,xLabel:r,yLabel:i}=e;return(0,K.BX)(Uu,{children:[(0,K.tZ)(Uh,{children:(0,K.tZ)(CX,{html:i,size:"small"})}),(0,K.tZ)(Ud,{children:(0,K.tZ)(CX,{html:r,size:"small"})}),n]})}function Um(e){let{error:n,path:r}=e,i=function(e){let{strictMode:n}=d4(),{t:r}=tu();return n?"Chart error: ".concat(e):"Maximum call stack size exceeded"===e?r("chartTooManyPoints"):e}(n.message);return(0,K.tZ)(RB,{message:i,path:r,type:"chart"})}class Uf extends e0.Component{componentDidCatch(e){this.setState({error:e})}render(){let{error:e}=this.state,{children:n,path:r}=this.props;return(0,t9.$K)(e)?(0,K.tZ)(Um,{error:e,path:r}):n}constructor(e){super(e),this.state={error:null}}}var Ug=r(96739);let Uy=(0,dC.zo)(Ug.Z,{target:"e6nrifr0"})(e=>{let{$color:n,theme:r}=e,{ITEM_MARK:i}=dj.chart(r),{MARGIN_RIGHT:a,SIZE:o}=i;return"\n        background-color: ".concat(n,";\n        width: ").concat(o,";\n        height: ").concat(o,";\n        margin-right: ").concat(a,";\n    ")}),Ub=(0,dC.zo)(RN.Z,{target:"e6nrifr1"})(e=>{let{theme:n}=e,{LEGEND:r}=dj.chart(n),{ENTRY_ALIGN_ITEMS:i,ENTRY_FLEX_DIRECTION:a}=r;return"\n      flex-direction: ".concat(a,";\n      align-items: ").concat(i,";\n    ")});function Uv(e){let{color:n,title:r}=e;return(0,K.BX)(Ub,{children:[(0,K.tZ)(Uy,{$color:n}),(0,K.tZ)(CX,{html:r.html,size:"small"})]})}let U_=(0,dC.zo)(RN.Z,{target:"e1p9rgtf0"})(e=>{let{theme:n}=e,{LEGEND:r}=dj.chart(n);return"\n    flex-direction: ".concat(r.FLEX_DIRECTION,";\n    flex-wrap: ").concat(r.FLEX_WRAP,";\n    gap: ").concat(r.GAP,";\n    justify-content: ").concat(r.JUSTIFY_CONTENT,";\n    margin-top: ").concat(r.MARGIN_TOP,";\n  ")});function Ux(e){let{labels:n}=e,r=Uo(),i=(0,e0.useMemo)(()=>n.filter(e=>{let{title:n}=e;return!(0,t9.oM)(n.html)}),[n]);return(0,K.tZ)(U_,{children:i.map((e,n)=>(0,K.tZ)(Uv,{color:r(n),title:e.title},e.id))})}function UO(e){this._context=e}function Uw(e){return new UO(e)}UO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:this._context.lineTo(e,n)}}};let UE=Math.PI,UC=2*UE,UT=UC-1e-6;function Uk(e){this._+=e[0];for(let n=1,r=e.length;n<r;++n)this._+=arguments[n]+e[n]}class UR{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Uk:function(e){let n=Math.floor(e);if(!(n>=0))throw Error(`invalid digits: ${e}`);if(n>15)return Uk;let r=10**n;return function(e){this._+=e[0];for(let n=1,i=e.length;n<i;++n)this._+=Math.round(arguments[n]*r)/r+e[n]}}(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,(a=+a)<0)throw Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,s=r-e,u=i-n,c=o-e,d=l-n,h=c*c+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=n}`;else if(h>1e-6){if(Math.abs(d*s-u*c)>1e-6&&a){let p=r-o,m=i-l,f=s*s+u*u,g=Math.sqrt(f),y=Math.sqrt(h),b=a*Math.tan((UE-Math.acos((f+h-(p*p+m*m))/(2*g*y)))/2),v=b/y,_=b/g;Math.abs(v-1)>1e-6&&this._append`L${e+v*c},${n+v*d}`,this._append`A${a},${a},0,0,${+(d*p>c*m)},${this._x1=e+_*s},${this._y1=n+_*u}`}else this._append`L${this._x1=e},${this._y1=n}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,o=!!o,(r=+r)<0)throw Error(`negative radius: ${r}`);let l=r*Math.cos(i),s=r*Math.sin(i),u=e+l,c=n+s,d=1^o,h=o?i-a:a-i;null===this._x1?this._append`M${u},${c}`:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%UC+UC),h>UT?this._append`A${r},${r},0,1,${d},${e-l},${n-s}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>1e-6&&this._append`A${r},${r},0,${+(h>=UE)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function US(e){let n=3;return e.digits=function(r){if(!arguments.length)return n;if(null==r)n=null;else{let e=Math.floor(r);if(!(e>=0))throw RangeError(`invalid digits: ${r}`);n=e}return e},()=>new UR(n)}function UA(e){return e[0]}function UI(e){return e[1]}function UL(e,n){var r=BY(!0),i=null,a=Uw,o=null,l=US(s);function s(s){var u,c,d,h=(s=Bq(s)).length,p=!1;for(null==i&&(o=a(d=l())),u=0;u<=h;++u)!(u<h&&r(c=s[u],u,s))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(c,u,s),+n(c,u,s));if(d)return o=null,d+""||null}return e="function"==typeof e?e:void 0===e?UA:BY(e),n="function"==typeof n?n:void 0===n?UI:BY(n),s.x=function(n){return arguments.length?(e="function"==typeof n?n:BY(+n),s):e},s.y=function(e){return arguments.length?(n="function"==typeof e?e:BY(+e),s):n},s.defined=function(e){return arguments.length?(r="function"==typeof e?e:BY(!!e),s):r},s.curve=function(e){return arguments.length?(a=e,null!=i&&(o=a(i)),s):a},s.context=function(e){return arguments.length?(null==e?i=o=null:o=a(i=e),s):i},s}function UM(e){return e.replace(" ","_")}UR.prototype;let UN=e=>{let n=function(e){let n=e0.useRef({currentPath:e,previousPath:void 0});return n.current.currentPath!==e&&(n.current={currentPath:e,previousPath:n.current.currentPath}),n.current}(e);return e0.useMemo(()=>n.previousPath?DG(n.previousPath,n.currentPath):()=>n.currentPath,[n.currentPath,n.previousPath])},UD=["d","skipAnimation","ownerState"],UB=(0,I8.ZP)(IZ.path,{name:"MuiAreaElement",slot:"Root",overridesResolver:(e,n)=>n.root})(({ownerState:e})=>({stroke:"none",fill:e.gradientId&&`url(#${e.gradientId})`||e.isHighlighted&&Lf(e.color).brighter(1).formatHex()||Lf(e.color).brighter(.5).formatHex(),transition:"opacity 0.2s ease-in, fill 0.2s ease-in",opacity:e.isFaded?.3:1}));function UP(e){let{d:n,skipAnimation:r,ownerState:i}=e,a=RY(e,UD),{left:o,top:l,right:s,bottom:u,width:c,height:d}=MA(),h=L0(),p=UN(n),m=Ik([1],{from:{animatedWidth:o},to:{animatedWidth:c+o+s},enter:{animatedWidth:c+o+s},leave:{animatedWidth:o},reset:!1,immediate:r}),f=Ik([p],{from:{value:0},to:{value:1},enter:{value:1},reset:!1,immediate:r}),g=UM(`${h}-${i.id}-area-clip`);return(0,CK.jsxs)(e0.Fragment,{children:[(0,CK.jsx)("clipPath",{id:g,children:m(e=>(0,CK.jsx)(IZ.rect,{x:0,y:0,width:e.animatedWidth,height:l+d+u}))}),(0,CK.jsx)("g",{clipPath:`url(#${g})`,children:f((e,n)=>(0,CK.jsx)(UB,RW({},a,{ownerState:i,d:e.value.to(n)})))})]})}let UK=["id","classes","color","gradientId","slots","slotProps","onClick"];function UU(e){return I5("MuiAreaElement",e)}I7("MuiAreaElement",["root","highlighted","faded"]);let UV=e=>{let{classes:n,id:r,isFaded:i,isHighlighted:a}=e;return Iq({root:["root",`series-${r}`,a&&"highlighted",i&&"faded"]},UU,n)};function UG(e){let{id:n,classes:r,color:i,gradientId:a,slots:o,slotProps:l,onClick:s}=e,u=RY(e,UK),c=LB(),{isFaded:d,isHighlighted:h}=LP({seriesId:n}),p={id:n,classes:r,color:i,gradientId:a,isFaded:d,isHighlighted:h},m=UV(p),f=o?.area??UP,g=I2({elementType:f,externalSlotProps:l?.area,additionalProps:RW({},c({type:"line",seriesId:n}),{onClick:s,cursor:s?"pointer":"unset"}),className:m.root,ownerState:p});return(0,CK.jsx)(f,RW({},u,g))}function UF(e,n,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-n),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function UH(e,n){this._context=e,this._k=(1-n)/6}function Uz(e,n){this._context=e,this._alpha=n}UH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:UF(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2,this._x1=e,this._y1=n;break;case 2:this._point=3;default:UF(this,e,n)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function e(n){function r(e){return new UH(e,n)}return r.tension=function(n){return e(+n)},r}(0),Uz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){if(e=+e,n=+n,this._point){var r=this._x2-e,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3;default:!function(e,n,r){var i=e._x1,a=e._y1,o=e._x2,l=e._y2;if(e._l01_a>1e-12){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,a=(a*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>1e-12){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-n*e._l12_2a)/d,l=(l*c+e._y1*e._l23_2a-r*e._l12_2a)/d}e._context.bezierCurveTo(i,a,o,l,e._x2,e._y2)}(this,e,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var U$=function e(n){function r(e){return n?new Uz(e,n):new UH(e,0)}return r.alpha=function(n){return e(+n)},r}(.5);function UZ(e,n,r){var i=e._x1-e._x0,a=n-e._x1,o=(e._y1-e._y0)/(i||a<0&&-0),l=(r-e._y1)/(a||i<0&&-0);return((o<0?-1:1)+(l<0?-1:1))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs((o*a+l*i)/(i+a)))||0}function Uj(e,n){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-n)/2:n}function UW(e,n,r){var i=e._x0,a=e._y0,o=e._x1,l=e._y1,s=(o-i)/3;e._context.bezierCurveTo(i+s,a+s*n,o-s,l-s*r,o,l)}function Uq(e){this._context=e}function UY(e){this._context=new UX(e)}function UX(e){this._context=e}function UJ(e){return new Uq(e)}function UQ(e){return new UY(e)}function U0(e){this._context=e}function U1(e){var n,r,i=e.length-1,a=Array(i),o=Array(i),l=Array(i);for(a[0]=0,o[0]=2,l[0]=e[0]+2*e[1],n=1;n<i-1;++n)a[n]=1,o[n]=4,l[n]=4*e[n]+2*e[n+1];for(a[i-1]=2,o[i-1]=7,l[i-1]=8*e[i-1]+e[i],n=1;n<i;++n)r=a[n]/o[n-1],o[n]-=r,l[n]-=r*l[n-1];for(a[i-1]=l[i-1]/o[i-1],n=i-2;n>=0;--n)a[n]=(l[n]-a[n+1])/o[n];for(n=0,o[i-1]=(e[i]+a[i-1])/2;n<i-1;++n)o[n]=2*e[n+1]-a[n+1];return[a,o]}function U2(e){return new U0(e)}function U3(e,n){this._context=e,this._t=n}function U4(e){return new U3(e,.5)}function U6(e){return new U3(e,0)}function U5(e){return new U3(e,1)}function U8(e){switch(e){case"catmullRom":return U$.alpha(.5);case"linear":return Uw;case"monotoneX":default:return UJ;case"monotoneY":return UQ;case"natural":return U2;case"step":return U4;case"stepBefore":return U6;case"stepAfter":return U5}}Uq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:UW(this,this._t0,Uj(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){var r=NaN;if(n=+n,(e=+e)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3,UW(this,Uj(this,r=UZ(this,e,n)),r);break;default:UW(this,this._t0,r=UZ(this,e,n))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n,this._t0=r}}},(UY.prototype=Object.create(Uq.prototype)).point=function(e,n){Uq.prototype.point.call(this,n,e)},UX.prototype={moveTo:function(e,n){this._context.moveTo(n,e)},closePath:function(){this._context.closePath()},lineTo:function(e,n){this._context.lineTo(n,e)},bezierCurveTo:function(e,n,r,i,a,o){this._context.bezierCurveTo(n,e,i,r,o,a)}},U0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,n=this._y,r=e.length;if(r){if(this._line?this._context.lineTo(e[0],n[0]):this._context.moveTo(e[0],n[0]),2===r)this._context.lineTo(e[1],n[1]);else for(var i=U1(e),a=U1(n),o=0,l=1;l<r;++o,++l)this._context.bezierCurveTo(i[0][o],a[0][o],i[1][o],a[1][o],e[l],n[l])}(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,n){this._x.push(+e),this._y.push(+n)}},U3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(e,n);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,n)}}this._x=e,this._y=n}};let U7=["slots","slotProps","onItemClick","skipAnimation"],U9=()=>{let e=Mf(),n=IW();return e0.useMemo(()=>{if(void 0===e)return[];let{series:r,stackingGroups:i}=e,{xAxis:a,yAxis:o,xAxisIds:l,yAxisIds:s}=n,u=l[0],c=s[0];return i.flatMap(({ids:e})=>[...e].reverse().map(e=>{let{xAxisId:n,yAxisId:i,xAxisKey:l=u,yAxisKey:s=c,stackedData:d,data:h,connectNulls:p,baseline:m}=r[e],f=n??l,g=i??s,y=KI(a[f].scale),b=o[g].scale,v=a[f].data,_=o[g].colorScale&&[g,"y"]||a[f].colorScale&&[f,"x"]||void 0,x=(function(e,n,r){var i=null,a=BY(!0),o=null,l=Uw,s=null,u=US(c);function c(c){var d,h,p,m,f,g=(c=Bq(c)).length,y=!1,b=Array(g),v=Array(g);for(null==o&&(s=l(f=u())),d=0;d<=g;++d){if(!(d<g&&a(m=c[d],d,c))===y){if(y=!y)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=d-1;p>=h;--p)s.point(b[p],v[p]);s.lineEnd(),s.areaEnd()}}y&&(b[d]=+e(m,d,c),v[d]=+n(m,d,c),s.point(i?+i(m,d,c):b[d],r?+r(m,d,c):v[d]))}if(f)return s=null,f+""||null}function d(){return UL().defined(a).curve(l).context(o)}return e="function"==typeof e?e:void 0===e?UA:BY(+e),n="function"==typeof n?n:void 0===n?BY(0):BY(+n),r="function"==typeof r?r:void 0===r?UI:BY(+r),c.x=function(n){return arguments.length?(e="function"==typeof n?n:BY(+n),i=null,c):e},c.x0=function(n){return arguments.length?(e="function"==typeof n?n:BY(+n),c):e},c.x1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:BY(+e),c):i},c.y=function(e){return arguments.length?(n="function"==typeof e?e:BY(+e),r=null,c):n},c.y0=function(e){return arguments.length?(n="function"==typeof e?e:BY(+e),c):n},c.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:BY(+e),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(n)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(i).y(n)},c.defined=function(e){return arguments.length?(a="function"==typeof e?e:BY(!!e),c):a},c.curve=function(e){return arguments.length?(l=e,null!=o&&(s=l(o)),c):l},c.context=function(e){return arguments.length?(null==e?o=s=null:s=l(o=e),c):o},c})().x(e=>y(e.x)).defined((e,n)=>p||null!=h[n]).y0(e=>{if("number"==typeof m)return b(m);if("max"===m)return b.range()[1];if("min"===m)return b.range()[0];let n=e.y&&b(e.y[0]);return Number.isNaN(n)?b.range()[0]:n}).y1(e=>e.y&&b(e.y[1])),O=U8(r[e].curve),w=v?.map((e,n)=>({x:e,y:d[n]}))??[],E=p?w.filter((e,n)=>null!=h[n]):w,C=x.curve(O)(E)||"";return RW({},r[e],{gradientUsed:_,d:C,seriesId:e})}))},[e,n])};function Ve(e){let{slots:n,slotProps:r,onItemClick:i,skipAnimation:a}=e,o=RY(e,U7),l=BP(),s=U9();return(0,CK.jsx)("g",RW({},o,{children:s.map(({d:e,seriesId:o,color:s,area:u,gradientUsed:c})=>!!u&&(0,CK.jsx)(UG,{id:o,d:e,color:s,gradientId:c&&l(...c),slots:n,slotProps:r,onClick:i&&(e=>i(e,{type:"line",seriesId:o})),skipAnimation:a},o))}))}let Vt=["d","skipAnimation","ownerState"],Vn=(0,I8.ZP)(IZ.path,{name:"MuiLineElement",slot:"Root",overridesResolver:(e,n)=>n.root})(({ownerState:e})=>({strokeWidth:2,strokeLinejoin:"round",fill:"none",stroke:e.gradientId&&`url(#${e.gradientId})`||e.isHighlighted&&Lf(e.color).brighter(.5).formatHex()||e.color,transition:"opacity 0.2s ease-in, stroke 0.2s ease-in",opacity:e.isFaded?.3:1}));function Vr(e){let{d:n,skipAnimation:r,ownerState:i}=e,a=RY(e,Vt),{left:o,top:l,bottom:s,width:u,height:c,right:d}=MA(),h=L0(),p=UN(n),m=Ik([1],{from:{animatedWidth:o},to:{animatedWidth:u+o+d},enter:{animatedWidth:u+o+d},leave:{animatedWidth:o},reset:!1,immediate:r}),f=Ik([p],{from:{value:0},to:{value:1},enter:{value:1},reset:!1,immediate:r}),g=UM(`${h}-${i.id}-line-clip`);return(0,CK.jsxs)(e0.Fragment,{children:[(0,CK.jsx)("clipPath",{id:g,children:m(e=>(0,CK.jsx)(IZ.rect,{x:0,y:0,width:e.animatedWidth,height:l+c+s}))}),(0,CK.jsx)("g",{clipPath:`url(#${g})`,children:f((e,n)=>(0,CK.jsx)(Vn,RW({},a,{ownerState:i,d:e.value.to(n)})))})]})}let Vi=["id","classes","color","gradientId","slots","slotProps","onClick"];function Va(e){return I5("MuiLineElement",e)}I7("MuiLineElement",["root","highlighted","faded"]);let Vo=e=>{let{classes:n,id:r,isFaded:i,isHighlighted:a}=e;return Iq({root:["root",`series-${r}`,a&&"highlighted",i&&"faded"]},Va,n)};function Vl(e){let{id:n,classes:r,color:i,gradientId:a,slots:o,slotProps:l,onClick:s}=e,u=RY(e,Vi),c=LB(),{isFaded:d,isHighlighted:h}=LP({seriesId:n}),p={id:n,classes:r,color:i,gradientId:a,isFaded:d,isHighlighted:h},m=Vo(p),f=o?.line??Vr,g=I2({elementType:f,externalSlotProps:l?.line,additionalProps:RW({},c({type:"line",seriesId:n}),{onClick:s,cursor:s?"pointer":"unset"}),className:m.root,ownerState:p});return(0,CK.jsx)(f,RW({},u,g))}let Vs=["slots","slotProps","skipAnimation","onItemClick"],Vu=()=>{let e=Mf(),n=IW();return e0.useMemo(()=>{if(void 0===e)return[];let{series:r,stackingGroups:i}=e,{xAxis:a,yAxis:o,xAxisIds:l,yAxisIds:s}=n,u=l[0],c=s[0];return i.flatMap(({ids:e})=>e.flatMap(e=>{let{xAxisId:n,yAxisId:i,xAxisKey:l=u,yAxisKey:s=c,stackedData:d,data:h,connectNulls:p}=r[e],m=n??l,f=i??s,g=KI(a[m].scale),y=o[f].scale,b=a[m].data,v=o[f].colorScale&&[f,"y"]||a[m].colorScale&&[m,"x"]||void 0,_=UL().x(e=>g(e.x)).defined((e,n)=>p||null!=h[n]).y(e=>y(e.y[1])),x=b?.map((e,n)=>({x:e,y:d[n]}))??[],O=p?x.filter((e,n)=>null!=h[n]):x,w=_.curve(U8(r[e].curve))(O)||"";return RW({},r[e],{gradientUsed:v,d:w,seriesId:e})}))},[e,n])};function Vc(e){let{slots:n,slotProps:r,skipAnimation:i,onItemClick:a}=e,o=RY(e,Vs),l=BP(),s=Vu();return(0,CK.jsx)("g",RW({},o,{children:s.map(({d:e,seriesId:o,color:s,gradientUsed:u})=>(0,CK.jsx)(Vl,{id:o,d:e,color:s,gradientId:u&&l(...u),skipAnimation:i,slots:n,slotProps:r,onClick:a&&(e=>a(e,{type:"line",seriesId:o}))},o))}))}Pc(3);var Vd={draw(e,n){let r=Pc(n/Pd);e.moveTo(r,0),e.arc(0,0,r,0,Pp)}};let Vh=Pc(1/3),Vp=2*Vh,Vm=Pu(Pd/10)/Pu(7*Pd/10),Vf=Pu(Pp/10)*Vm,Vg=-Po(Pp/10)*Vm,Vy=Pc(3);Pc(3);let Vb=Pc(3)/2,Vv=1/Pc(12),V_=(Vv/2+1)*3,Vx=[Vd,{draw(e,n){let r=Pc(n/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},{draw(e,n){let r=Pc(n/Vp),i=r*Vh;e.moveTo(0,-r),e.lineTo(i,0),e.lineTo(0,r),e.lineTo(-i,0),e.closePath()}},{draw(e,n){let r=Pc(n),i=-r/2;e.rect(i,i,r,r)}},{draw(e,n){let r=Pc(.8908130915292852*n),i=Vf*r,a=Vg*r;e.moveTo(0,-r),e.lineTo(i,a);for(let n=1;n<5;++n){let o=Pp*n/5,l=Po(o),s=Pu(o);e.lineTo(s*r,-l*r),e.lineTo(l*i-s*a,s*i+l*a)}e.closePath()}},{draw(e,n){let r=-Pc(n/(3*Vy));e.moveTo(0,2*r),e.lineTo(-Vy*r,-r),e.lineTo(Vy*r,-r),e.closePath()}},{draw(e,n){let r=Pc(n/V_),i=r/2,a=r*Vv,o=r*Vv+r,l=-i;e.moveTo(i,a),e.lineTo(i,o),e.lineTo(l,o),e.lineTo(-.5*i-Vb*a,Vb*i+-.5*a),e.lineTo(-.5*i-Vb*o,Vb*i+-.5*o),e.lineTo(-.5*l-Vb*o,Vb*l+-.5*o),e.lineTo(-.5*i+Vb*a,-.5*a-Vb*i),e.lineTo(-.5*i+Vb*o,-.5*o-Vb*i),e.lineTo(-.5*l+Vb*o,-.5*o-Vb*l),e.closePath()}}],VO=["x","y","id","classes","color","shape","dataIndex","onClick","skipAnimation"];function Vw(e){return I5("MuiMarkElement",e)}I7("MuiMarkElement",["root","highlighted","faded"]);let VE=e=>{let{classes:n,id:r,isFaded:i,isHighlighted:a}=e;return Iq({root:["root",`series-${r}`,a&&"highlighted",i&&"faded"]},Vw,n)},VC=(0,I8.ZP)(IZ.path,{name:"MuiMarkElement",slot:"Root",overridesResolver:(e,n)=>n.root})(({ownerState:e,theme:n})=>({fill:(n.vars||n).palette.background.paper,stroke:e.color,strokeWidth:2}));function VT(e){let{x:n,y:r,id:i,classes:a,color:o,shape:l,dataIndex:s,onClick:u,skipAnimation:c}=e,d=RY(e,VO),h=LB(),{isFaded:p,isHighlighted:m}=LP({seriesId:i}),{axis:f}=e0.useContext(LI),g=function(e,n){let r=Su.fun(e),[[i],a]=function(e,n,r){let i=Su.fun(n)&&n;i&&!r&&(r=[]);let a=(0,e0.useMemo)(()=>i||3==arguments.length?IT():void 0,[]),o=(0,e0.useRef)(0),l=Ah(),s=(0,e0.useMemo)(()=>({ctrls:[],queue:[],flush(e,n){let r=Iv(e,n);return!(o.current>0)||s.queue.length||Object.keys(r).some(n=>!e.springs[n])?new Promise(i=>{I_(e,r),s.queue.push(()=>{i(Iy(e,n))}),l()}):Iy(e,n)}}),[]),u=(0,e0.useRef)([...s.ctrls]),c=[],d=Af(e)||0;function h(e,r){for(let a=e;a<r;a++){let e=u.current[a]||(u.current[a]=new Ig(null,s.flush)),r=i?i(a,e):n[a];r&&(c[a]=function(e){let n=Iu(e);return Su.und(n.default)&&(n.default=AK(n)),n}(r))}}(0,e0.useMemo)(()=>{Sd(u.current.slice(e,d),e=>{A$(e,a),e.stop(!0)}),u.current.length=e,h(d,e)},[e]),(0,e0.useMemo)(()=>{h(0,Math.min(d,e))},r);let p=u.current.map((e,n)=>Iv(e,c[n])),m=(0,e0.useContext)(IE),f=Af(m),g=m!==f&&AH(m);Ac(()=>{o.current++,s.ctrls=u.current;let{queue:e}=s;e.length&&(s.queue=[],Sd(e,e=>e())),Sd(u.current,(e,n)=>{a?.add(e),g&&e.start({default:m});let r=c[n];r&&(AZ(e,r.ref),e.ref?e.queue.push(r):e.start(r))})}),Ap(()=>()=>{Sd(s.ctrls,e=>e.stop(!0))});let y=p.map(e=>({...e}));return a?[y,a]:y}(1,r?e:[e],r?n||[]:n);return r||2==arguments.length?[i,a]:i}({to:{x:n,y:r},immediate:c}),y={id:i,classes:a,isHighlighted:f.x?.index===s||m,isFaded:p,color:o},b=VE(y);return(0,CK.jsx)(VC,RW({},d,{style:{transform:IM([g.x,g.y],(e,n)=>`translate(${e}px, ${n}px)`),transformOrigin:IM([g.x,g.y],(e,n)=>`${e}px ${n}px`)},ownerState:y,className:b.root,d:(function(e,n){let r=null,i=US(a);function a(){let a;if(r||(r=a=i()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),a)return r=null,a+""||null}return e="function"==typeof e?e:BY(e||Vd),n="function"==typeof n?n:BY(void 0===n?64:+n),a.type=function(n){return arguments.length?(e="function"==typeof n?n:BY(n),a):e},a.size=function(e){return arguments.length?(n="function"==typeof e?e:BY(+e),a):n},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a})(Vx["circle cross diamond square star triangle wye".split(/ /).indexOf(l)||0])(),onClick:u,cursor:u?"pointer":"unset"},h({type:"line",seriesId:i,dataIndex:s})))}let Vk=["slots","slotProps","skipAnimation","onItemClick"];function VR(e){let{slots:n,slotProps:r,skipAnimation:i,onItemClick:a}=e,o=RY(e,Vk),l=Mf(),s=IW(),u=L0(),c=MA(),d=n?.mark??VT;if(void 0===l)return null;let{series:h,stackingGroups:p}=l,{xAxis:m,yAxis:f,xAxisIds:g,yAxisIds:y}=s,b=g[0],v=y[0];return(0,CK.jsx)("g",RW({},o,{children:p.flatMap(({ids:e})=>e.map(e=>{let{xAxisId:n,yAxisId:o,xAxisKey:l=b,yAxisKey:s=v,stackedData:p,data:g,showMark:y=!0}=h[e];if(!1===y)return null;let _=n??l,x=o??s,O=KI(m[_].scale),w=f[x].scale,E=m[_].data;if(void 0===E)throw Error(`MUI X: ${_===Lj?"The first `xAxis`":`The x-axis with id "${_}"`} should have data property to be able to display a line plot.`);let C=UM(`${u}-${e}-line-clip`),T=Pt(h[e],m[_],f[x]);return(0,CK.jsx)("g",{clipPath:`url(#${C})`,children:E?.map((e,n)=>{let r=null==g[n]?null:p[n][1];return{x:O(e),y:null===r?null:w(r),position:e,value:r,index:n}}).filter(({x:e,y:n,index:r,position:i,value:a})=>!!(null!==a&&null!==n&&c.isPointInside({x:e,y:n}))&&(!0===y||y({x:e,y:n,index:r,position:i,value:a}))).map(({x:n,y:o,index:l})=>CK.jsx(d,RW({id:e,dataIndex:l,shape:"circle",color:T(l),x:n,y:o,skipAnimation:i,onClick:a&&(n=>a(n,{type:"line",seriesId:e,dataIndex:l}))},r?.mark),`${e}-${l}`))},e)}))}))}let VS=["x","y","id","classes","color"];function VA(e){return I5("MuiHighlightElement",e)}I7("MuiHighlightElement",["root"]);let VI=e=>{let{classes:n,id:r}=e;return Iq({root:["root",`series-${r}`]},VA,n)},VL=(0,I8.ZP)("circle",{name:"MuiHighlightElement",slot:"Root",overridesResolver:(e,n)=>n.root})(({ownerState:e})=>({transform:`translate(${e.x}px, ${e.y}px)`,transformOrigin:`${e.x}px ${e.y}px`,fill:e.color}));function VM(e){let{x:n,y:r,id:i,classes:a,color:o}=e,l=RY(e,VS),s={id:i,classes:a,color:o,x:n,y:r},u=VI(s);return(0,CK.jsx)(VL,RW({pointerEvents:"none",ownerState:s,className:u.root,cx:0,cy:0,r:void 0===l.r?5:l.r},l))}let VN=["slots","slotProps"];function VD(e){let{slots:n,slotProps:r}=e,i=RY(e,VN),a=Mf(),o=IW(),l=MA(),{axis:s}=e0.useContext(LI),u=s.x?.index;if(void 0===u||void 0===a)return null;let{series:c,stackingGroups:d}=a,{xAxis:h,yAxis:p,xAxisIds:m,yAxisIds:f}=o,g=m[0],y=f[0],b=n?.lineHighlight??VM;return(0,CK.jsx)("g",RW({},i,{children:d.flatMap(({ids:e})=>e.flatMap(e=>{let{xAxisId:n,yAxisId:i,xAxisKey:a=g,yAxisKey:o=y,stackedData:s,data:d,disableHighlight:m}=c[e],f=n??a,v=i??o;if(m||null==d[u])return null;let _=KI(h[f].scale),x=p[v].scale,O=h[f].data;if(void 0===O)throw Error(`MUI X: ${f===Lj?"The first `xAxis`":`The x-axis with id "${f}"`} should have data property to be able to display a line plot.`);let w=_(O[u]),E=x(s[u][1]);if(!l.isPointInside({x:w,y:E}))return null;let C=Pt(c[e],h[f],p[v]);return(0,CK.jsx)(b,RW({id:e,color:C(u),x:w,y:E},r?.lineHighlight),`${e}`)}))}))}let VB=["xAxis","yAxis","series","width","height","margin","colors","dataset","sx","tooltip","onAxisClick","onAreaClick","onLineClick","onMarkClick","axisHighlight","disableLineItemHighlight","legend","grid","topAxis","leftAxis","rightAxis","bottomAxis","children","slots","slotProps","skipAnimation","loading","highlightedItem","onHighlightChange","className"],VP=e=>{let{xAxis:n,yAxis:r,series:i,width:a,height:o,margin:l,colors:s,dataset:u,sx:c,tooltip:d,onAxisClick:h,onAreaClick:p,onLineClick:m,onMarkClick:f,axisHighlight:g,disableLineItemHighlight:y,legend:b,grid:v,topAxis:_,leftAxis:x,rightAxis:O,bottomAxis:w,children:E,slots:C,slotProps:T,skipAnimation:k,loading:R,highlightedItem:S,onHighlightChange:A,className:I}=e,L=RY(e,VB),M=LZ(),N=`${M}-clip-path`,D=RW({},L,{series:i.map(e=>RW({disableHighlight:!!y,type:"line"},e)),width:a,height:o,margin:l,colors:s,dataset:u,xAxis:n??[{id:Lj,scaleType:"point",data:Array.from({length:Math.max(...i.map(e=>(e.data??u??[]).length))},(e,n)=>n)}],yAxis:r,sx:c,highlightedItem:S,onHighlightChange:A,disableAxisListener:d?.trigger!=="axis"&&g?.x==="none"&&g?.y==="none"&&!h,className:I}),B={vertical:v?.vertical,horizontal:v?.horizontal},P={clipPath:`url(#${N})`},K=RW({x:"line"},g),U=RW({},b,{slots:C,slotProps:T}),V=RW({},d,{slots:C,slotProps:T});return{chartContainerProps:D,axisClickHandlerProps:{onAxisClick:h},gridProps:B,clipPathProps:{id:N},clipPathGroupProps:P,areaPlotProps:{slots:C,slotProps:T,onItemClick:p,skipAnimation:k},linePlotProps:{slots:C,slotProps:T,onItemClick:m,skipAnimation:k},markPlotProps:{slots:C,slotProps:T,onItemClick:f,skipAnimation:k},overlayProps:{slots:C,slotProps:T,loading:R},chartsAxisProps:{topAxis:_,leftAxis:x,rightAxis:O,bottomAxis:w,slots:C,slotProps:T},axisHighlightProps:K,lineHighlightPlotProps:{slots:C,slotProps:T},legendProps:U,tooltipProps:V,children:E}},VK=e0.forwardRef(function(e,n){let r=(0,Rq.Z)({props:e,name:"MuiLineChart"}),{chartContainerProps:i,axisClickHandlerProps:a,gridProps:o,clipPathProps:l,clipPathGroupProps:s,areaPlotProps:u,linePlotProps:c,markPlotProps:d,overlayProps:h,chartsAxisProps:p,axisHighlightProps:m,lineHighlightPlotProps:f,legendProps:g,tooltipProps:y,children:b}=VP(r);return(0,CK.jsxs)(PI,RW({ref:n},i,{children:[r.onAxisClick&&(0,CK.jsx)(Kj,RW({},a)),(0,CK.jsx)(KZ,RW({},o)),(0,CK.jsxs)("g",RW({},s,{children:[(0,CK.jsx)(Ve,RW({},u)),(0,CK.jsx)(Vc,RW({},c)),(0,CK.jsx)(K0,RW({},h)),(0,CK.jsx)(KB,RW({},m))]})),(0,CK.jsx)(P5,RW({},p)),(0,CK.jsx)("g",{"data-drawing-container":!0,children:(0,CK.jsx)(VR,RW({},d))}),(0,CK.jsx)(VD,RW({},f)),(0,CK.jsx)(KA,RW({},g)),!r.loading&&(0,CK.jsx)(Kb,RW({},y)),(0,CK.jsx)(KP,RW({},l)),b]}))});function VU(e){let{chartData:n,chartOptions:r,chartType:i,height:a,margin:o,series:l,showPoints:s,xAxis:u}=e,c=K5(),d=Uo(),h=n[u.field],p=(0,e0.useMemo)(()=>i===rM.oX.area?{area:!0,stack:"total"}:{},[i]),m=(0,e0.useMemo)(()=>Object.entries(du()(n,u.field)).map((e,n)=>{var r;let[i,a]=e;return{data:a,color:d(n),label:null===(r=l.find(e=>e.field===i))||void 0===r?void 0:r.title.html,showMark:s,curve:"linear",...p}}),[p,d,n,s,l,u]),{xMax:f,xMin:g,yMax:y,yMin:b}=null!=r?r:{},v=(0,e0.useMemo)(()=>[{data:h,max:f,min:g,valueFormatter:c}],[c,h,g,f]),_=(0,e0.useMemo)(()=>[{valueFormatter:c,max:y,min:b}],[c,b,y]);return(0,K.tZ)(VK,{height:a,series:m,slotProps:Ua,slots:Ui,xAxis:v,yAxis:_,margin:o})}function VV(e){let{path:n,...r}=e,i=(0,xa.Z)(),{strictMode:a}=d4(),{series:o,title:l,xAxis:s,yAxisTitle:u}=r,c=!(0,t9.oM)(l.html),d=(0,e0.useMemo)(()=>o.map(e=>{let{field:n,title:r}=e;return{title:r,id:n}}),[o]),{chartData:h,error:p,options:m}=tZ(cx(n));if(a&&RD(p))return(0,K.tZ)(RB,{message:p.message,path:n,type:"chart"});if((0,t9.Rw)(h))return null;let{HEIGHT:f,MARGIN:g}=dj.chart(i).CARTESIAN,y={chartData:h,height:f,margin:g,chartOptions:m};return(0,K.tZ)(Uf,{path:n,children:(0,K.BX)(RN.Z,{"data-cwv-id":b.BLOCK_CHART_CARTESIAN,children:[(0,K.BX)(Up,{xLabel:s.title.html,yLabel:u.html,children:[(r.chartType===rM.oX.line||r.chartType===rM.oX.area)&&(0,K.tZ)(VU,{...r,...y}),r.chartType===rM.oX.bar&&(0,K.tZ)(Us,{...r,...y})]}),(0,K.tZ)(Ux,{labels:d}),c&&(0,K.tZ)(Rz,{html:l.html})]})})}function VG(e){return e.innerRadius}function VF(e){return e.outerRadius}function VH(e){return e.startAngle}function Vz(e){return e.endAngle}function V$(e){return e&&e.padAngle}function VZ(e,n,r,i,a,o,l){var s=e-r,u=n-i,c=(l?o:-o)/Pc(s*s+u*u),d=c*u,h=-c*s,p=e+d,m=n+h,f=r+d,g=i+h,y=(p+f)/2,b=(m+g)/2,v=f-p,_=g-m,x=v*v+_*_,O=a-o,w=p*g-f*m,E=(_<0?-1:1)*Pc(Pl(0,O*O*x-w*w)),C=(w*_-v*E)/x,T=(-w*v-_*E)/x,k=(w*_+v*E)/x,R=(-w*v+_*E)/x,S=C-y,A=T-b,I=k-y,L=R-b;return S*S+A*A>I*I+L*L&&(C=k,T=R),{cx:C,cy:T,x01:-d,y01:-h,x11:C*(a/O-1),y11:T*(a/O-1)}}function Vj(){var e=VG,n=VF,r=BY(0),i=null,a=VH,o=Vz,l=V$,s=null,u=US(c);function c(){var c,d,h=+e.apply(this,arguments),p=+n.apply(this,arguments),m=a.apply(this,arguments)-Ph,f=o.apply(this,arguments)-Ph,g=Pi(f-m),y=f>m;if(s||(s=c=u()),p<h&&(d=p,p=h,h=d),p>1e-12){if(g>Pp-1e-12)s.moveTo(p*Po(m),p*Pu(m)),s.arc(0,0,p,m,f,!y),h>1e-12&&(s.moveTo(h*Po(f),h*Pu(f)),s.arc(0,0,h,f,m,y));else{var b,v,_=m,x=f,O=m,w=f,E=g,C=g,T=l.apply(this,arguments)/2,k=T>1e-12&&(i?+i.apply(this,arguments):Pc(h*h+p*p)),R=Ps(Pi(p-h)/2,+r.apply(this,arguments)),S=R,A=R;if(k>1e-12){var I=Pm(k/h*Pu(T)),L=Pm(k/p*Pu(T));(E-=2*I)>1e-12?(I*=y?1:-1,O+=I,w-=I):(E=0,O=w=(m+f)/2),(C-=2*L)>1e-12?(L*=y?1:-1,_+=L,x-=L):(C=0,_=x=(m+f)/2)}var M=p*Po(_),N=p*Pu(_),D=h*Po(w),B=h*Pu(w);if(R>1e-12){var P,K=p*Po(x),U=p*Pu(x),V=h*Po(O),G=h*Pu(O);if(g<Pd){if(P=function(e,n,r,i,a,o,l,s){var u=r-e,c=i-n,d=l-a,h=s-o,p=h*u-d*c;if(!(p*p<1e-12))return p=(d*(n-o)-h*(e-a))/p,[e+p*u,n+p*c]}(M,N,V,G,K,U,D,B)){var F,H=M-P[0],z=N-P[1],$=K-P[0],Z=U-P[1],j=1/Pu(((F=(H*$+z*Z)/(Pc(H*H+z*z)*Pc($*$+Z*Z)))>1?0:F<-1?Pd:Math.acos(F))/2),W=Pc(P[0]*P[0]+P[1]*P[1]);S=Ps(R,(h-W)/(j-1)),A=Ps(R,(p-W)/(j+1))}else S=A=0}}C>1e-12?A>1e-12?(b=VZ(V,G,M,N,p,A,y),v=VZ(K,U,D,B,p,A,y),s.moveTo(b.cx+b.x01,b.cy+b.y01),A<R?s.arc(b.cx,b.cy,A,Pa(b.y01,b.x01),Pa(v.y01,v.x01),!y):(s.arc(b.cx,b.cy,A,Pa(b.y01,b.x01),Pa(b.y11,b.x11),!y),s.arc(0,0,p,Pa(b.cy+b.y11,b.cx+b.x11),Pa(v.cy+v.y11,v.cx+v.x11),!y),s.arc(v.cx,v.cy,A,Pa(v.y11,v.x11),Pa(v.y01,v.x01),!y))):(s.moveTo(M,N),s.arc(0,0,p,_,x,!y)):s.moveTo(M,N),h>1e-12&&E>1e-12?S>1e-12?(b=VZ(D,B,K,U,h,-S,y),v=VZ(M,N,V,G,h,-S,y),s.lineTo(b.cx+b.x01,b.cy+b.y01),S<R?s.arc(b.cx,b.cy,S,Pa(b.y01,b.x01),Pa(v.y01,v.x01),!y):(s.arc(b.cx,b.cy,S,Pa(b.y01,b.x01),Pa(b.y11,b.x11),!y),s.arc(0,0,h,Pa(b.cy+b.y11,b.cx+b.x11),Pa(v.cy+v.y11,v.cx+v.x11),y),s.arc(v.cx,v.cy,S,Pa(v.y11,v.x11),Pa(v.y01,v.x01),!y))):s.arc(0,0,h,w,O,y):s.lineTo(D,B)}}else s.moveTo(0,0);if(s.closePath(),c)return s=null,c+""||null}return c.centroid=function(){var r=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,i=(+a.apply(this,arguments)+ +o.apply(this,arguments))/2-Pd/2;return[Po(i)*r,Pu(i)*r]},c.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:BY(+n),c):e},c.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:BY(+e),c):n},c.cornerRadius=function(e){return arguments.length?(r="function"==typeof e?e:BY(+e),c):r},c.padRadius=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:BY(+e),c):i},c.startAngle=function(e){return arguments.length?(a="function"==typeof e?e:BY(+e),c):a},c.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:BY(+e),c):o},c.padAngle=function(e){return arguments.length?(l="function"==typeof e?e:BY(+e),c):l},c.context=function(e){return arguments.length?(s=null==e?null:e,c):s},c}let VW=["classes","color","cornerRadius","dataIndex","endAngle","id","innerRadius","isFaded","isHighlighted","onClick","outerRadius","paddingAngle","startAngle","highlightScope"];function Vq(e){return I5("MuiPieArc",e)}I7("MuiPieArc",["root","highlighted","faded"]);let VY=e=>{let{classes:n,id:r,isFaded:i,isHighlighted:a}=e;return Iq({root:["root",`series-${r}`,a&&"highlighted",i&&"faded"]},Vq,n)},VX=(0,I8.ZP)(IZ.path,{name:"MuiPieArc",slot:"Root",overridesResolver:(e,n)=>n.arc})(({theme:e})=>({stroke:(e.vars||e).palette.background.paper,strokeWidth:1,strokeLinejoin:"round"}));function VJ(e){let{classes:n,color:r,cornerRadius:i,dataIndex:a,endAngle:o,id:l,innerRadius:s,isFaded:u,isHighlighted:c,onClick:d,outerRadius:h,paddingAngle:p,startAngle:m}=e,f=RY(e,VW),g={id:l,dataIndex:a,classes:n,color:r,isFaded:u,isHighlighted:c},y=VY(g),b=LB();return(0,CK.jsx)(VX,RW({d:IM([m,o,p,s,h,i],(e,n,r,i,a,o)=>Vj().cornerRadius(o)({padAngle:r,startAngle:e,endAngle:n,innerRadius:i,outerRadius:a})),visibility:IM([m,o],(e,n)=>e===n?"hidden":"visible"),onClick:d,cursor:d?"pointer":"unset",ownerState:g,className:y.root},f,b({type:"pie",seriesId:l,dataIndex:a})))}let VQ={keys:e=>e.id,from:({innerRadius:e,outerRadius:n,cornerRadius:r,startAngle:i,endAngle:a,paddingAngle:o,color:l,isFaded:s})=>({innerRadius:e,outerRadius:(e+n)/2,cornerRadius:r,startAngle:(i+a)/2,endAngle:(i+a)/2,paddingAngle:o,fill:l,opacity:s?.3:1}),leave:({innerRadius:e,startAngle:n,endAngle:r})=>({innerRadius:e,outerRadius:e,startAngle:(n+r)/2,endAngle:(n+r)/2}),enter:({innerRadius:e,outerRadius:n,startAngle:r,endAngle:i})=>({innerRadius:e,outerRadius:n,startAngle:r,endAngle:i}),update:({innerRadius:e,outerRadius:n,cornerRadius:r,startAngle:i,endAngle:a,paddingAngle:o,color:l,isFaded:s})=>({innerRadius:e,outerRadius:n,cornerRadius:r,startAngle:i,endAngle:a,paddingAngle:o,fill:l,opacity:s?.3:1}),config:{tension:120,friction:14,clamp:!0}},V0={keys:e=>e.id,from:({innerRadius:e,outerRadius:n,arcLabelRadius:r,cornerRadius:i,startAngle:a,endAngle:o,paddingAngle:l})=>({innerRadius:e,outerRadius:(e+n)/2,cornerRadius:i,arcLabelRadius:r,startAngle:(a+o)/2,endAngle:(a+o)/2,paddingAngle:l,opacity:0}),leave:({innerRadius:e,startAngle:n,endAngle:r})=>({innerRadius:e,outerRadius:e,arcLabelRadius:e,startAngle:(n+r)/2,endAngle:(n+r)/2,opacity:0}),enter:({innerRadius:e,outerRadius:n,startAngle:r,endAngle:i,arcLabelRadius:a})=>({innerRadius:e,outerRadius:n,startAngle:r,endAngle:i,arcLabelRadius:a,opacity:1}),update:({innerRadius:e,outerRadius:n,cornerRadius:r,startAngle:i,endAngle:a,paddingAngle:o,arcLabelRadius:l})=>({innerRadius:e,outerRadius:n,cornerRadius:r,startAngle:i,endAngle:a,paddingAngle:o,arcLabelRadius:l,opacity:1}),config:{tension:120,friction:14,clamp:!0}};function V1(e){let{id:n,data:r,faded:i,highlighted:a,paddingAngle:o=0,innerRadius:l=0,arcLabelRadius:s,outerRadius:u,cornerRadius:c=0}=e,{isFaded:d,isHighlighted:h}=LD();return e0.useMemo(()=>r.map((e,r)=>{let p={seriesId:n,dataIndex:r},m=h(p),f=!m&&d(p),g=RW({additionalRadius:0},f&&i||m&&a||{}),y=Math.max(0,Math.PI*(g.paddingAngle??o)/180),b=Math.max(0,g.innerRadius??l),v=Math.max(0,g.outerRadius??u+g.additionalRadius),_=g.cornerRadius??c,x=g.arcLabelRadius??s??(b+v)/2;return RW({},e,g,{isFaded:f,isHighlighted:m,paddingAngle:y,innerRadius:b,outerRadius:v,cornerRadius:_,arcLabelRadius:x})}),[c,l,u,o,s,r,i,a,d,h,n])}let V2=["slots","slotProps","innerRadius","outerRadius","cornerRadius","paddingAngle","id","highlighted","faded","data","onItemClick","skipAnimation"],V3=["startAngle","endAngle","paddingAngle","innerRadius","arcLabelRadius","outerRadius","cornerRadius"];function V4(e){let{slots:n,slotProps:r,innerRadius:i=0,outerRadius:a,cornerRadius:o=0,paddingAngle:l=0,id:s,highlighted:u,faded:c={additionalRadius:-5},data:d,onItemClick:h,skipAnimation:p}=e,m=RY(e,V2),f=Ik(V1({innerRadius:i,outerRadius:a,cornerRadius:o,paddingAngle:l,id:s,highlighted:u,faded:c,data:d}),RW({},VQ,{immediate:p})),{highlightScope:g}=LD();if(0===d.length)return null;let y=n?.pieArc??VJ;return(0,CK.jsx)("g",RW({},m,{children:f((e,n,i,a)=>{let{startAngle:o,endAngle:l,paddingAngle:u,innerRadius:c,outerRadius:d,cornerRadius:p}=e,m=RY(e,V3);return(0,CK.jsx)(y,RW({startAngle:o,endAngle:l,paddingAngle:u,innerRadius:c,outerRadius:d,cornerRadius:p,style:m,id:s,color:n.color,dataIndex:a,highlightScope:g,isFaded:n.isFaded,isHighlighted:n.isHighlighted,onClick:h&&(e=>{h(e,{type:"pie",seriesId:s,dataIndex:a},n)})},r?.pieArc))})}))}let V6=["id","classes","color","startAngle","endAngle","paddingAngle","arcLabelRadius","innerRadius","outerRadius","cornerRadius","formattedArcLabel","isHighlighted","isFaded","style"];function V5(e){return I5("MuiPieArcLabel",e)}I7("MuiPieArcLabel",["root","highlighted","faded"]);let V8=e=>{let{classes:n,id:r,isFaded:i,isHighlighted:a}=e;return Iq({root:["root",`series-${r}`,a&&"highlighted",i&&"faded"]},V5,n)},V7=(0,I8.ZP)(IZ.text,{name:"MuiPieArcLabel",slot:"Root",overridesResolver:(e,n)=>n.root})(({theme:e})=>({fill:(e.vars||e).palette.text.primary,textAnchor:"middle",dominantBaseline:"middle",pointerEvents:"none"})),V9=(e,n)=>(r,i,a,o,l)=>{if(!e)return 0;let[s,u]=Vj().cornerRadius(l).centroid({padAngle:a,startAngle:r,endAngle:i,innerRadius:o,outerRadius:o});return"x"===n?s:u};function Ge(e){let{id:n,classes:r,color:i,startAngle:a,endAngle:o,paddingAngle:l,arcLabelRadius:s,cornerRadius:u,formattedArcLabel:c,isHighlighted:d,isFaded:h,style:p}=e,m=RY(e,V6),f=V8({id:n,classes:r,color:i,isFaded:h,isHighlighted:d});return(0,CK.jsx)(V7,RW({className:f.root},m,{style:RW({x:IM([a,o,l,s,u],V9(c,"x")),y:IM([a,o,l,s,u],V9(c,"y"))},p),children:c}))}let Gt=["arcLabel","arcLabelMinAngle","arcLabelRadius","cornerRadius","data","faded","highlighted","id","innerRadius","outerRadius","paddingAngle","skipAnimation","slotProps","slots"],Gn=["startAngle","endAngle","paddingAngle","innerRadius","outerRadius","arcLabelRadius","cornerRadius"],Gr=180/Math.PI;function Gi(e){let{arcLabel:n,arcLabelMinAngle:r=0,arcLabelRadius:i,cornerRadius:a=0,data:o,faded:l={additionalRadius:-5},highlighted:s,id:u,innerRadius:c,outerRadius:d,paddingAngle:h=0,skipAnimation:p,slotProps:m,slots:f}=e,g=RY(e,Gt),y=Ik(V1({innerRadius:c,outerRadius:d,arcLabelRadius:i,cornerRadius:a,paddingAngle:h,id:u,highlighted:s,faded:l,data:o}),RW({},V0,{immediate:p}));if(0===o.length)return null;let b=f?.pieArcLabel??Ge;return(0,CK.jsx)("g",RW({},g,{children:y((e,i)=>{let{startAngle:a,endAngle:o,paddingAngle:l,innerRadius:s,outerRadius:c,arcLabelRadius:d,cornerRadius:h}=e,p=RY(e,Gn);return(0,CK.jsx)(b,RW({startAngle:a,endAngle:o,paddingAngle:l,innerRadius:s,outerRadius:c,arcLabelRadius:d,cornerRadius:h,style:p,id:u,color:i.color,isFaded:i.isFaded,isHighlighted:i.isHighlighted,formattedArcLabel:function(e,n,r){if(!e||(r.endAngle-r.startAngle)*Gr<n)return null;switch(e){case"label":return Pf(r.label,"arc");case"value":return r.value?.toString();case"formattedValue":return r.formattedValue;default:return e(RW({},r,{label:Pf(r.label,"arc")}))}}(n,r,i)},m?.pieArcLabel))})}))}function Ga(e,n){if("number"==typeof e)return e;if("100%"===e)return n;if(e.endsWith("%")){let r=Number.parseFloat(e.slice(0,e.length-1));if(!Number.isNaN(r))return r*n/100}if(e.endsWith("px")){let n=Number.parseFloat(e.slice(0,e.length-2));if(!Number.isNaN(n))return n}throw Error(`MUI X: Received an unknown value "${e}". It should be a number, or a string with a percentage value.`)}function Go(e,n){let{height:r,width:i}=n,{cx:a,cy:o}=e,l=Math.min(i,r)/2;return{cx:Ga(a??"50%",i),cy:Ga(o??"50%",r),availableRadius:l}}function Gl(e){let{skipAnimation:n,slots:r,slotProps:i,onItemClick:a}=e,o=function(){let e=Mm();return e0.useMemo(()=>e.pie,[e.pie])}(),{left:l,top:s,width:u,height:c}=e0.useContext(LX);if(void 0===o)return null;let{series:d,seriesOrder:h}=o;return(0,CK.jsxs)("g",{children:[h.map(e=>{let{innerRadius:o,outerRadius:h,cornerRadius:p,paddingAngle:m,data:f,cx:g,cy:y,highlighted:b,faded:v}=d[e],{cx:_,cy:x,availableRadius:O}=Go({cx:g,cy:y},{width:u,height:c}),w=Ga(h??O,O),E=Ga(o??0,O);return(0,CK.jsx)("g",{transform:`translate(${l+_}, ${s+x})`,children:(0,CK.jsx)(V4,{innerRadius:E,outerRadius:w,cornerRadius:p,paddingAngle:m,id:e,data:f,skipAnimation:n,highlighted:b,faded:v,onItemClick:a,slots:r,slotProps:i})},e)}),h.map(e=>{let{innerRadius:a,outerRadius:o,arcLabelRadius:h,cornerRadius:p,paddingAngle:m,arcLabel:f,arcLabelMinAngle:g,data:y,cx:b,cy:v}=d[e],{cx:_,cy:x,availableRadius:O}=Go({cx:b,cy:v},{width:u,height:c}),w=Ga(o??O,O),E=Ga(a??0,O),C=void 0===h?(w+E)/2:Ga(h,O);return(0,CK.jsx)("g",{transform:`translate(${l+_}, ${s+x})`,children:(0,CK.jsx)(Gi,{innerRadius:E,outerRadius:w??O,arcLabelRadius:C,cornerRadius:p,paddingAngle:m,id:e,data:y,skipAnimation:n,arcLabel:f,arcLabelMinAngle:g,slots:r,slotProps:i})},e)})]})}let Gs=["xAxis","yAxis","series","width","height","margin","colors","sx","tooltip","axisHighlight","skipAnimation","legend","topAxis","leftAxis","rightAxis","bottomAxis","children","slots","slotProps","onItemClick","loading","highlightedItem","onHighlightChange","className"],Gu={top:5,bottom:5,left:5,right:100},Gc={top:5,bottom:5,left:100,right:5},Gd=e0.forwardRef(function(e,n){let r=(0,Rq.Z)({props:e,name:"MuiPieChart"}),{xAxis:i,yAxis:a,series:o,width:l,height:s,margin:u,colors:c,sx:d,tooltip:h={trigger:"item"},axisHighlight:p={x:"none",y:"none"},skipAnimation:m,legend:f,topAxis:g=null,leftAxis:y=null,rightAxis:b=null,bottomAxis:v=null,children:_,slots:x,slotProps:O,onItemClick:w,loading:E,highlightedItem:C,onHighlightChange:T,className:k}=r,R=RY(r,Gs),S=(0,PJ.V)(),A=RW({},S?Gc:Gu,u),I=RW({direction:"column",position:{vertical:"middle",horizontal:S?"left":"right"}},f);return(0,CK.jsxs)(PI,RW({},R,{ref:n,series:o.map(e=>RW({type:"pie"},e)),width:l,height:s,margin:A,xAxis:i??[{id:Lj,scaleType:"point",data:[...Array(Math.max(...o.map(e=>e.data.length)))].map((e,n)=>n)}],yAxis:a,colors:c,sx:d,disableAxisListener:h?.trigger!=="axis"&&p?.x==="none"&&p?.y==="none",highlightedItem:C,onHighlightChange:T,className:k,children:[(0,CK.jsx)(P5,{topAxis:g,leftAxis:y,rightAxis:b,bottomAxis:v,slots:x,slotProps:O}),(0,CK.jsx)(Gl,{slots:x,slotProps:O,onItemClick:w,skipAnimation:m}),(0,CK.jsx)(K0,{loading:E,slots:x,slotProps:O}),(0,CK.jsx)(KA,RW({},I,{slots:x,slotProps:O})),(0,CK.jsx)(KB,RW({},p)),!E&&(0,CK.jsx)(Kb,RW({},h,{slots:x,slotProps:O})),_]}))}),Gh={itemContent:function(e){let{itemData:n,series:r}=e,i=K5(),{color:a,label:o,value:l}=r.data[n.dataIndex];return"string"!=typeof o?null:(0,K.tZ)(K7,{children:(0,K.BX)(Ur,{children:[(0,K.tZ)(K9,{$backgroundColor:a}),(0,K.tZ)(CX,{html:o}),(0,K.tZ)(Un,{children:i(l)})]})})}};function Gp(e){let{path:n,...r}=e,i=(0,xa.Z)(),{HEIGHT:a,MARGIN:o,RADIUS:l}=dj.chart(i).PIE,s=Uo(),{slices:u,title:c}=r,d=!(0,t9.oM)(c.html),h=tZ(cw(u)),p=(0,e0.useMemo)(()=>h.every(RD)?[{data:u.map((e,n)=>{let{dataSource:r,title:i}=e;return{color:s(n),id:"".concat(n,"_").concat(r),label:i.html,value:h[n]}}),outerRadius:l}]:null,[s,u,l,h]),m=(0,e0.useMemo)(()=>u.map(e=>{let{dataSource:n,title:r}=e;return{title:r,id:n}}),[u]);return(0,t9.Rw)(p)?null:(0,K.BX)(d1.Z,{"data-cwv-id":b.BLOCK_CHART_PIE,children:[(0,K.tZ)(Gd,{series:p,slotProps:Ua,height:a,margin:o,slots:Gh}),(0,K.tZ)(Ux,{labels:m}),d&&(0,K.tZ)(Rz,{html:c.html})]})}function Gm(){let e=(0,sz._)(["\n          transform: scale(1);\n          transition: ",";\n        "]);return Gm=function(){return e},e}function Gf(){let e=(0,sz._)(["\n      width: 100%;\n      position: relative;\n      cursor: ",";\n\n      img {\n        border-radius: ",";\n      }\n\n      :after {\n        content: '';\n        transform: scale(0);\n        position: absolute;\n        border: 2px solid ",";\n        border-radius: 2px;\n        inset: ",";\n        z-index: 1;\n\n        ","\n      }\n    "]);return Gf=function(){return e},e}function Gg(){let e=(0,sz._)(["\n      &&,\n      && .math-inline {\n        color: inherit;\n        background-color: ",";\n      }\n    "]);return Gg=function(){return e},e}function Gy(){let e=(0,sz._)(["\n      && {\n        color: ",";\n        line-height: ",";\n        padding: ",";\n      }\n      &&,\n      && .math-inline {\n        font-style: ",";\n        font-size: ",";\n      }\n    "]);return Gy=function(){return e},e}let Gb=(0,dC.zo)(hh.Z,{target:"e10faqzu0"})(e=>{let{$isHighlighted:n=!1,theme:r}=e,i=dj.imageBlock(r);return(0,d7.Z)(Gf(),i.IMAGE_CURSOR,i.IMAGE_BORDER_RADIUS,r.palette.warning.main,r.spacing(-1),n&&(0,d7.Z)(Gm(),r.transitions.create("transform",{duration:"0.2s",easing:"ease-in"})))});function Gv(e){let{children:n}=e;return(0,K.tZ)(dC.ZT,{paddingSpacing:"0.5",variant:"body",font:"primary",styleName:"smallReg",legacyFontSize:"15px",textAlign:"center",children:n})}let G_=(0,dC.zo)(CX,{target:"e10faqzu1"})(e=>{let{theme:n}=e,r=dj.imageBlock(n);return(0,d7.Z)(Gg(),r.IMAGE_BACKGROUND_COLOR)}),Gx=(0,dC.zo)(G_,{target:"e10faqzu2"})(e=>{let{theme:n}=e,r=dj.imageBlock(n);return(0,d7.Z)(Gy(),r.TEXT_COLOR,r.TEXT_LINE_HEIGHT,r.TEXT_PADDING,r.TEXT_CAPTION_FONT_STYLE,r.TEXT_CAPTION_FONT_SIZE)}),GO=(0,dC.zo)(d1.Z,{target:"e10faqzu3"})(e=>{let{$hasTopMargin:n=!1,theme:r}=e,i=dj.imageBlock(r);return{gap:i.TEXT_SPACING,marginTop:n?i.IMAGE_MARGIN:0}});function Gw(e){let{children:n}=e,{useExperimentalTheme:r}=d4();return(0,K.tZ)(dC.ZT,{font:"primary",variant:"body",...r?{styleName:"smallRegItaCompact",color:"secondary"}:{styleName:"smallReg",legacyFontSize:"15px"},children:n})}function GE(e){let{options:n,path:r}=e,i=d6(),a=tZ(cU({path:r,highlightedTextId:i})),{t:o}=tu(),[l,s]=(0,e0.useState)(!1);if((0,t9.Rw)(a))return null;let{altText:u,caption:c,copyrightsByOmni:d,url:{original:h,preview:p,previewSet:m,uid:f}}=a,g=!(0,t9.oM)(c.html),y=g||d,v=(0,t9.$K)(i)&&[u.uid,f].includes(i),_=n.alignment===rM.Ns.none||n.alignment===rM.Ns.center;return(0,K.BX)(K.HY,{children:[(0,K.tZ)(Gb,{"data-cwv-id":b.BLOCK_IMAGE_PREVIEW,$isHighlighted:v,onClick:()=>s(!0),children:(0,K.tZ)(TY,{alignment:n.alignment,alt:u.value,src:p,srcSet:m,width:"".concat(n.width,"%")})}),y&&(0,K.BX)(GO,{"data-cwv-id":b.BLOCK_IMAGE_CAPTION,$hasTopMargin:_,children:[g&&(0,K.tZ)(Gx,{html:c.html,isHighlighted:c.uid===i}),d&&(0,K.tZ)(Gw,{children:o("imageOmniCopyrights")})]}),(0,K.tZ)(CZ,{"data-cwv-id":b.BLOCK_IMAGE_LIGHTBOX,close:()=>s(!1),footerContent:(0,K.tZ)(()=>(0,K.BX)(d1.Z,{children:[(0,K.tZ)(Gv,{children:(0,K.tZ)(G_,{html:c.html,isHighlighted:c.uid===i})}),d&&(0,K.tZ)(Gv,{children:o("imageOmniCopyrights")})]}),{}),imagesList:[{alt:u.value,src:h}],opened:l})]})}var GC=r(24029);function GT(){let e=(0,sz._)(["\n      max-width: ",";\n      padding: ",";\n      color: ",";\n      border-color: ",";\n      border-width: ",";\n    "]);return GT=function(){return e},e}let Gk=(0,dC.zo)(GC.Z,{target:"e1p3t0k20"})(e=>{let{$isHeader:n,$thickBorder:r,theme:i}=e,{useExperimentalTheme:a}=d4(),o=dj.tableBlock(i,a);return(0,d7.Z)(GT(),o.CELL_MAX_WIDTH,o.CELL_PADDING,n?o.CELL_COLOR_HEADER:o.CELL_COLOR_NORMAL,o.CELL_BORDER_COLOR,r?o.FIRST_ROW_HEADER_BORDER_WIDTH:o.CELL_BORDER_WIDTH)}),GR=(0,dC.zo)(CX,{target:"e1p3t0k21"})(e=>{let{$isHeader:n,theme:r}=e,{useExperimentalTheme:i}=d4(),a=dj.tableBlock(r,i);return{fontWeight:n?a.CELL_HEADER_FONT_WEIGHT:a.CELL_NORMAL_FONT_WEIGHT,"&&":{color:n?a.CELL_COLOR_HEADER:a.CELL_COLOR_NORMAL}}});function GS(e){let{columnIndex:n,headingsType:r,html:i,rowIndex:a}=e,{useExperimentalTheme:o}=d4(),l=(0,e0.useMemo)(()=>(function(e){let{columnIndex:n,headingsType:r,rowIndex:i}=e;return r!==rM.gM.none&&((r===rM.gM.firstRow||r===rM.gM.firstRowAndFirstColumn)&&0===i||(r===rM.gM.firstColumn||r===rM.gM.firstRowAndFirstColumn)&&0===n)})({columnIndex:n,headingsType:r,rowIndex:a}),[n,r,a]),s=function(e){let{headingsType:n,rowIndex:r}=e,i=n===rM.gM.firstRow||n===rM.gM.firstRowAndFirstColumn;return 0===r&&i}({rowIndex:a,headingsType:r});return(0,K.tZ)(Gk,{$isHeader:l,$thickBorder:s,children:(0,K.tZ)(GR,{$isHeader:l,html:i,size:o?"regular":"small"})})}function GA(e){let{caption:n,headings:r,rows:i,testId:a}=e,o=!(0,t9.oM)(n.html);return(0,K.BX)(RH,{"data-cwv-id":b.BLOCK_TABLE,"data-testid":a,children:[(0,K.tZ)(RZ,{children:(0,K.tZ)(R$,{children:i.map((e,n)=>(0,K.tZ)(Rj,{children:e.map((e,i)=>{let{html:a,uid:o}=e;return(0,K.tZ)(GS,{columnIndex:i,headingsType:r,html:a,rowIndex:n},o)})},n))})}),o&&(0,K.tZ)(Rz,{html:n.html,size:"small"})]})}function GI(e){let{path:n,...r}=e,{error:i,rows:a}=tZ(ci(n)),{strictMode:o}=d4();return o&&(0,t9.$K)(i)?(0,K.tZ)(RB,{message:i.message,path:n,type:"flex-table"}):(0,t9.Rw)(a)?null:(0,K.tZ)(GA,{...r,rows:a,testId:"".concat(n,"-flex-table")})}function GL(e){let{path:n,...r}=e,i=tZ(ca(n)),a=(0,e0.useMemo)(()=>i.map(e=>e.cells),[i]);return(0,K.tZ)(GA,{...r,rows:a,testId:"".concat(n,"-static-table")})}let GM=(0,dC.zo)(hh.Z,{target:"e1fn8oq70"})("width:100%;");function GN(e){let{formatType:n,path:r,textType:i}=e,a=d6(),o=tZ(cJ({highlightedTextId:a,path:r}));return t5()(o)?null:(0,K.tZ)(GM,{"data-cwv-id":b.BLOCK_TEXT,as:"section",children:(0,K.tZ)(kg,{chunks:o,formatType:n,highlightedTextId:a,role:"note",textType:i})})}var GD=r(67237);function GB(e){let{name:n,path:r,...i}=e,a=tZ(dn(n)),[o]=db(rM.VariableType.date);return(0,K.tZ)(hE,{...i,cwvId:b.BLOCK_VARIABLE_DATE,dataTestid:"".concat(r,"-date"),onChange:e=>o(n,e),value:a})}function GP(e){let{name:n,path:r,...i}=e,a=tZ(dn(n)),[o]=db(rM.VariableType.datetime);return(0,K.tZ)(hS,{...i,cwvId:b.BLOCK_VARIABLE_DATETIME,dataTestid:"".concat(r,"-datetime"),onChange:e=>o(n,e),value:a})}let GK=[0,0];function GU(e,n,r){null==e||e.executeCommand(n),r()}function GV(e){var n;let r=null!==(n=null==e?void 0:e.selection.ranges[0])&&void 0!==n?n:GK;r[0]===r[1]&&(null==e||e.executeCommand("selectAll"))}function GG(e){return(0,e0.useCallback)((n,r)=>{n&&e(r)},[e])}let GF=(0,dC.zo)("div",{target:"e1pto0sk0"})("flex-grow:1;overflow:hidden;");var GH=(0,e0.forwardRef)(function(e,n){var r;let{containerRef:i,isDisabled:a,isError:o,name:l,onBlur:s,onFocus:u,path:c}=e,{containerRef:d}=d4(),h=tZ(cz(l)),p=tZ(c2({path:c,highlightedTextId:d6()})),m=dp(c),f=cT(),[g,y]=(0,e0.useState)(!0),[v,_]=dy(),{formattedValue:x,isNumerical:O}=tZ(cL(l));!function(e){let{path:n,targetElementRef:r}=e,{autofocus:i}=d4(),a=sw(),o=tZ(cV(n));(0,e0.useEffect)(()=>{i&&o&&(0,t9.$K)(r)&&(0,t9.$K)(r.current)&&(r.current.focus(),a())},[i,a,o,r])}({path:c,targetElementRef:(0,_p.Z)(n)});let w=async e=>{var n,r;await (0,t9.Z0)(),v(l,{computable:null!==(n=null==e?void 0:e.result)&&void 0!==n?n:null,ui:null!==(r=null==e?void 0:e.rawInput)&&void 0!==r?r:null})},E=(0,e0.useCallback)(()=>{(0,e0.startTransition)(()=>{y(!0),null==s||s(),_()})},[_,s]),C=(0,e0.useCallback)(e=>{(0,e0.startTransition)(()=>{y(!1),null==u||u(e)})},[u]),{handleCloseMenu:T,handleCopy:k,handleCut:R,handleOpenMenu:S,handlePaste:A,isMenuOpen:I}=function(e,n){let{showSuccess:r}=(0,dC.pm)(),[i,a]=(0,e0.useState)(!1),o=_$(),l=dp(n),s=(0,e0.useCallback)(()=>{(0,e0.startTransition)(()=>{a(!0)})},[]),u=(0,e0.useCallback)(()=>{(0,e0.startTransition)(()=>{a(!1)})},[]),c=(0,e0.useCallback)(()=>{(0,e0.startTransition)(()=>{GV(e),GU(e,"copyToClipboard",u),r("Copied to clipboard")})},[u,e,r]),d=(0,e0.useCallback)(()=>{(0,e0.startTransition)(()=>{GV(e),GU(e,"cutToClipboard",u)})},[u,e]),h=(0,e0.useMemo)(()=>(0,t9.yF)()?null:async()=>{let n=await _N();if((0,t9.$K)(n)){let r=o(n);null==e||e.setValue(r.output,{insertionMode:"replaceSelection",focus:!1}),r.isAmbiguous&&l("decimalAmbiguity")}else l("pasteDisabled");u()},[u,e,l,o]);return{isMenuOpen:i,handleOpenMenu:s,handleCloseMenu:u,handleCopy:c,handleCut:d,handlePaste:h}}(n.current,c),L=_L(),M=tZ(cI(l)),N=g?x:null!==(r=L(M))&&void 0!==r?r:"",D=(0,_p.Z)(n),{fontSizeMode:B,handleFontSizeChangeOnBlur:P,handleFontSizeChangeOnFocus:U,isSmallFont:V}=function(e){let{isNumerical:n,refObject:r,value:i}=e,a=null==r?void 0:r.current,[o,l]=(0,e0.useState)(!1),{getInputValue:s}=_x(r),u=(0,e0.useCallback)(()=>{if((0,t9.Rw)(a))return;let e=s();if(!n){l(!1);return}l(_b(e,a))},[a,s,n]),c=(0,e0.useCallback)(()=>{if(!(0,t9.Rw)(a)){if(!n){l(!1);return}l(_b(i,a))}},[n,a,i]);return function(e){let{isNumerical:n,mathField:r,setIsSmallFont:i,value:a}=e;(0,TX.Z)(()=>{if(!(0,t9.Rw)(r)){if(!n){i(!1);return}i(_b(a,r))}},[r,a])}({isNumerical:n,mathField:a,setIsSmallFont:l,value:i}),{fontSizeMode:o?"small":"normal",isSmallFont:o,handleFontSizeChangeOnFocus:u,handleFontSizeChangeOnBlur:c}}({isNumerical:O,refObject:D,value:N}),{handleDisplayTooltipOnBlur:G,handleDisplayTooltipOnFocus:F,tooltipText:H}=function(e){let{isNumerical:n,isSmallFont:r,name:i,refObject:a,value:o}=e,l=(0,e0.useCallback)((e,i)=>{let a=null==e?void 0:e.current;return!((0,t9.Rw)(a)||(0,t9.oM)(i))&&(!n||!!r&&function(e,n){var r;let i=null===(r=n.shadowRoot)||void 0===r?void 0:r.querySelector(_m);return!(0,t9.Rw)(i)&&!!t5()(i.getAnimations())&&_b(e,n,i)}(i,a))},[n,r]),[s,u]=(0,e0.useState)(l(a,o)),c=function(e,n){let{t:r}=tu(),i=tZ(cC(e));return n?function(e,n){var r;if("number"==typeof e&&(e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY))return"";let i=null!==(r=null==e?void 0:e.toString())&&void 0!==r?r:"";return"NaN"===i?n("undefinedTooltip"):"Infinity"===i?n("infiniteTooltip"):"-Infinity"===i?n("infiniteMinusTooltip"):i}(i,r):null}(i,s);(0,e0.useEffect)(()=>{var e;(null==a?void 0:null===(e=a.current)||void 0===e?void 0:e.hasFocus())&&u(l(a,o))},[l,a,o]);let d=(0,e0.useCallback)(()=>{u(l(a,o))},[l,a,o]);return{tooltipText:c,handleDisplayTooltipOnBlur:(0,e0.useCallback)(()=>{u(!1)},[]),handleDisplayTooltipOnFocus:d}}({isNumerical:O,isSmallFont:V,name:l,refObject:D,value:N}),{handleBlur:z,handleFocus:$}=function(e,n){let[r,i,a]=e,[o,l,s]=n,u=(0,e0.useCallback)(e=>{null==r||r(e),null==i||i(e),null==a||a(e)},[r,i,a]),c=(0,e0.useCallback)(e=>{null==o||o(e),null==l||l(e),null==s||s(e)},[o,l,s]);return{handleFocus:GG(u),handleBlur:GG(c)}}([U,F,C],[P,G,E]),Z=(0,e0.useCallback)(e=>$(!a,e),[$,a]),j=(0,e0.useCallback)(e=>z(!a,e),[z,a]);return(0,K.BX)(K.HY,{children:[(0,K.tZ)(xi,{calculatorContainerRef:d,title:H,children:(0,K.tZ)(GF,{children:(0,K.tZ)(C1,{computableValueGetter:()=>f(l),cwvId:b.BLOCK_VARIABLE_NUMERICAL_CORTEX,fontSizeMode:B,id:"".concat(c,"-input"),isComputed:h,isDisabled:a,isError:o,isNumerical:O,label:p.html,onBlur:j,onChange:w,onContextMenu:S,onFocus:Z,parentRef:i,ref:n,setInputFeedback:m,size:"normal",value:N,variant:"rounded",virtualKeyboardMode:"manual"})})}),(0,K.tZ)(Tt,{anchorEl:n.current,cwvId:b.BLOCK_VARIABLE_NUMERICAL_MODAL_COPY_PASTE,isOpen:I,onClose:T,onCopy:k,onCut:a?null:R,onPaste:a?null:A,path:"".concat(c,"-inputMenu")})]})}),Gz=r(98746);function G$(e){let{isDisabled:n,isError:r,name:i,onBlur:a,onFocus:o,path:l,unit:s}=e,{autofocus:u}=d4(),c=tZ(cV(l)),d=sw(),{t:h}=tu(),{ratios:p,subunits:m}=s;if((0,t9.Rw)(m)||(0,t9.Rw)(p))throw Error("No mixed unit for ".concat(i," variable is selected"));let f=(0,e0.useMemo)(()=>(0,t9.uJ)(p),[p]),[g,y]=(0,e0.useState)([]),v=tZ(cz(i));!function(e){let{isComputed:n,onUpdateItems:r,sortedRatioEntries:i,variableName:a}=e,o=(0,e0.useRef)(!0),l=tZ(cW(a)),{computable:s}=tZ(sO(a)),u=di(a),[c,d]=[tZ(c7(a)),tq((0,e0.useCallback)((e,n)=>n(sc,null),[]))];(0,e0.useEffect)(()=>{(n||o.current||c)&&((()=>{if(!(0,t9.Rw)(l)){if((0,t9.Rw)(s)){r(i.map(e=>{let[n]=e;return t8({name:n})}));return}r(t7({initialValue:s,onFormat:u,sortedRatioEntries:i})),d()}})(),o.current=!1)},[d,s,u,n,r,c,i,l,a])}({isComputed:v,variableName:i,sortedRatioEntries:f,onUpdateItems:y});let[_,x]=function(e,n,r){let i=di(e),[a,o]=dy();return[(0,e0.useCallback)(async o=>{let l=function(e){let n=e.filter(e=>{let{value:n}=e;return(0,t9.$K)(n)});return n.length<=1?e:n.some(e=>{let{value:n}=e;return null==n?void 0:n.isFinite()})?e.map(e=>(0,t9.$K)(e.value)&&!e.value.isFinite()?t8({formattedValue:"0",name:e.name,value:(0,t9.US)(0)}):e):e}(o.map((e,n,r)=>{var a;let{name:o,value:l}=e,s=/(\.|,)$/.test(l),u=function(e){try{return(0,oQ.Z)(e)}catch(e){return null}}(s?l.slice(0,l.length-1):l);if((0,t9.Rw)(u))return t8({formattedValue:l,name:o});let c=u.isNaN()?null:u,d=(a=n===r.length-1,(0,t9.Rw)(c)?"":i(_S(c),a?void 0:0));return t8({formattedValue:s?d+t4.an:d,name:o,value:c})}));r(l);let s=function(e,n){let r=n.some(e=>{let{value:n}=e;return null==n?void 0:n.isNegative()}),i=e.reduce((e,r)=>{var i;let[a,o]=r,l=null===(i=n.find(e=>e.name===a))||void 0===i?void 0:i.value;if((0,t9.Rw)(l))return e;let s={ratio:o,sum:e,value:l};return e.isNaN()||!e.isFinite()?rZ.default.evaluate("abs(value * ratio)",s):rZ.default.evaluate("abs(sum + value * ratio)",s)},(0,Gz.Z)(Number.NaN));return r?i.negated():i}(n,l);if(s.isNaN()){a(e,rq);return}a(e,{computable:s,ui:s.toString()})},[i,r,a,n,e]),o]}(i,f,y),O=(0,e0.useCallback)(()=>{a(),x()},[a,x]);return t5()(g)?null:(0,K.tZ)("div",{"data-cwv-id":b.BLOCK_VARIABLE_NUMERICAL_MIXED,"aria-label":h("ariaMixedUnitLabel"),role:"region",children:(0,K.tZ)(ke,{id:"".concat(l,"-input"),isComputed:v,isDisabled:n,isError:r,isFirstFocusable:u&&c,items:g,onBlur:O,onChange:_,onFirstFocus:d,onFocus:o,path:l})})}function GZ(e){let n=tZ(cq(e.name));return(0,t9.Rw)(n)?null:(0,K.tZ)(G$,{...e,unit:n})}function Gj(e){let n=tZ(cY(e.name));return tZ(cF(e.name))?(0,K.tZ)(GZ,{...e},n):(0,K.tZ)(GH,{...e,ref:e.mathInputRef})}var GW=r(2505),Gq=r(16503);function GY(){return(0,K.tZ)(ht.Z,{width:"12",height:"7",viewBox:"0 0 12 6",children:(0,K.tZ)("path",{d:"M1 1L6 6L11 1",fill:"none",stroke:"#3B68FC",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"})})}function GX(){let e=(0,sz._)(["\n      &.MuiSelect-icon {\n        display: inline-flex;\n        align-items: center;\n\n        top: ",";\n        right: ",";\n        width: ",";\n        height: ",";\n        color: ",";\n        line-height: ",";\n        background-color: ",";\n\n        &.Mui-disabled {\n          color: ",";\n        }\n\n        svg {\n          width: ",";\n          height: ",";\n        }\n      }\n    "]);return GX=function(){return e},e}let GJ=(0,dC.zo)("span",{target:"eq10a950"})(e=>{let{theme:n}=e,r=dj.unitSwitcher(n);return(0,d7.Z)(GX(),r.ICON_TOP,r.ICON_RIGHT,r.ICON_WIDTH,r.ICON_HEIGHT,r.SELECT_COLOR_REGULAR,r.ICON_LINE_HEIGHT,r.ICON_BACKGROUND,r.SELECT_COLOR_DISABLED,r.ICON_WIDTH,r.ICON_HEIGHT)});function GQ(e){let{useExperimentalTheme:n}=(0,xa.Z)();return(0,K.tZ)(GJ,{...e,children:n?(0,K.tZ)(GY,{}):(0,K.tZ)(hq,{})})}function G0(){let e=(0,sz._)(["\n          color: ",";\n          border-radius: ",";\n\n          && .MuiSelect-select.MuiSelect-outlined {\n            font-size: ",";\n          }\n\n          && ."," {\n            color: ",";\n            right: ",";\n          }\n\n          &:focus-visible {\n            outline: ",";\n          }\n\n          [role='combobox'][aria-expanded='true'] {\n            background-color: ",";\n            border-radius: ",";\n          }\n\n          && .MuiSelect-iconOpen + fieldset {\n            border-color: ",";\n            border-width: ",";\n          }\n        "]);return G0=function(){return e},e}function G1(){let e=(0,sz._)(["\n      font-family: ",";\n      font-size: ",";\n      font-weight: ",";\n      color: ",";\n      padding: ",";\n      background: ",";\n\n      && .MuiSelect-select.MuiSelect-outlined {\n        padding-block: ",";\n        padding-inline: ",";\n        border-radius: ",";\n        min-height: ",";\n        transition: ",";\n        font-family: ",";\n        font-weight: ",";\n        font-size: ",";\n\n        &:hover {\n          background: ",";\n        }\n\n        &.Mui-disabled {\n          background: ",";\n          -webkit-text-fill-color: ",";\n\n          &:hover {\n            background: ",";\n          }\n        }\n      }\n\n      & legend {\n        display: none;\n        top: ",";\n      }\n\n      & fieldset {\n        top: ",";\n        border-width: ",";\n      }\n\n      ","\n    "]);return G1=function(){return e},e}let G2=(0,dC.zo)(GW.Z,{target:"eo49a2l0"})(e=>{let{$isError:n,$isMixedUnitSelected:r,theme:i}=e,a=dj.unitSwitcher(i),o=i.useExperimentalTheme?(0,d7.Z)(G0(),n?a.ALTERNATIVE.SELECT_COLOR_ERROR:a.SELECT_COLOR_REGULAR,a.SELECT_BORDER_RADIUS,a.SELECT_FONT_SIZE,Gq.Z.icon,n?a.ALTERNATIVE.SELECT_COLOR_ERROR:a.SELECT_COLOR_REGULAR,a.ALTERNATIVE.ICON_RIGHT,a.ALTERNATIVE.OUTLINE_FOCUS_VISIBLE,a.ALTERNATIVE.COMBOBOX_BACKGROUND_COLOR,a.ALTERNATIVE.COMBOBOX_BORDER_RADIUS,a.ALTERNATIVE.FIELDSET_BORDER_COLOR,a.ALTERNATIVE.FIELDSET_BORDER_WIDTH):"";return(0,d7.Z)(G1(),a.SELECT_FONT_FAMILY,a.SELECT_FONT_SIZE,a.SELECT_FONT_WEIGHT,a.SELECT_COLOR_REGULAR,a.SELECT_ROOT_PADDING,a.SELECT_BACKGROUND_COLOR_REGULAR,a.SELECT_PADDING_BLOCK,r?a.SELECT_PADDING_INLINE_EMPTY:a.SELECT_PADDING_INLINE,a.SELECT_BORDER_RADIUS,a.SELECT_MIN_HEIGHT,a.SELECT_TRANSITION,a.SELECT_FONT_FAMILY,a.SELECT_FONT_WEIGHT,a.SELECT_FONT_SIZE,a.SELECT_BACKGROUND_COLOR_HOVER,a.SELECT_BACKGROUND_COLOR_DISABLED,a.SELECT_COLOR_DISABLED,a.SELECT_BACKGROUND_COLOR_DISABLED,a.LEGEND_DISPLAY,a.FIELDSET_TOP,a.FIELDSET_BORDER_WIDTH,o)});function G3(e){let{"data-testid":n,disabled:r,isError:i,label:a,onChange:o,type:l,value:s,variableName:u}=e,c=(0,xa.Z)(),d=(0,e0.useMemo)(()=>dj.menuList(c),[c]),h=(0,e0.useMemo)(()=>dj.paper(c),[c]),{t:p}=tu(),m=tZ(cd({variableName:u,type:l})),f=tZ(cs({variableName:u,type:l})),g=(0,e0.useCallback)(()=>{let e=f.find(e=>{let{slug:n}=e;return n===(null==s?void 0:s.slug)});return(0,t9.$K)(e)?e.name:null},[null==s?void 0:s.slug,f]),y={MenuListProps:{style:{padding:d.MENU_LIST_PADDING,display:d.MENU_LIST_DISPLAY,flexDirection:d.MENU_LIST_FLEX_DIRECTION,gap:d.MENU_LIST_GAP}},PaperProps:{"data-testid":"".concat(n,"-paper"),style:{borderRadius:h.PAPER_RADIUS,boxShadow:h.PAPER_BOX_SHADOW}}},b=async e=>{var n,r;await (0,t9.Z0)();let i=null!==(r=null===(n=m.find(n=>n.value===e.target.value))||void 0===n?void 0:n.value)&&void 0!==r?r:null;null==o||o(i)},v=(0,e0.useMemo)(()=>m.map(e=>(0,K.tZ)(C5.Z,{value:e.value,children:e.label},e.value)),[m]),_=(0,e0.useMemo)(()=>({"aria-label":"".concat(a," ").concat(p("ariaSelect"))}),[a,p]);return(0,K.tZ)(GD.Z,{children:(0,K.tZ)(G2,{$isMixedUnitSelected:(0,t9.nH)(null==s?void 0:s.subunits),IconComponent:GQ,MenuProps:y,disabled:r,$isError:i,inputProps:_,multiple:!1,onChange:b,onClick:e=>e.stopPropagation(),renderValue:g,value:null==s?void 0:s.slug,children:v})})}let G4=(0,dC.zo)(dC.ZT,{target:"e14evejc0"})(e=>{let{$isError:n,theme:r}=e,i=dj.unitSwitcher(r);if(r.useExperimentalTheme){let e=i.ALTERNATIVE.SELECT_COLOR_ERROR;return{color:n?e:void 0}}return{color:i.SELECT_COLOR_REGULAR}});function G6(e){let{children:n,isError:r}=e,{useExperimentalTheme:i}=d4();return(0,K.tZ)(G4,{$isError:r,styleName:"mediumMedCompact",font:"secondary",variant:"basic",color:"highlight",...i?{paddingSpacing:"1 2"}:{paddingSpacing:"1.5",legacyFontSize:"15px"},children:n})}function G5(e){let{isError:n,...r}=e,i=tZ(ch(r));return(0,t9.Rw)(i)?null:(0,K.tZ)(G6,{isError:n,children:i})}function G8(){let e=(0,sz._)(["\n      /* fixed direction for flex */\n      direction: ",";\n    "]);return G8=function(){return e},e}let G7=(0,dC.zo)(d1.Z,{target:"enj6az60"})(e=>{let{theme:n}=e,r=dj.unitSwitcher(n);return(0,U.iv)(G8(),r.SELECT_DIRECTION)});function G9(e){var n,r;let{"data-testid":i,label:a,prefix:o,suffix:l,type:s,variableName:u,...c}=e,d=null!==(n=null==o?void 0:o.html)&&void 0!==n?n:"",h=null!==(r=null==l?void 0:l.html)&&void 0!==r?r:"",p=d6(),m=1===tZ(cd({variableName:u,type:s})).length;return(0,K.BX)(G7,{alignItems:"center","aria-label":a,"data-testid":i,direction:"row",role:"group",children:[!(0,t9.oM)(d)&&(0,K.tZ)(Th,{type:"prefix",children:(0,K.tZ)(CX,{"data-testid":"".concat(i,"-unit-prefix"),font:"input",html:d,inline:!0,isHighlighted:(null==o?void 0:o.uid)===p,type:"secondary"})}),m?(0,K.tZ)(G5,{isError:c.isError,type:s,variableName:u}):(0,K.tZ)(G3,{...c,"data-testid":i,label:a,type:s,variableName:u}),!(0,t9.oM)(h)&&(0,K.tZ)(Th,{type:"suffix",children:(0,K.tZ)(CX,{"data-testid":"".concat(i,"-unit-suffix"),font:"input",html:h,inline:!0,isHighlighted:(null==l?void 0:l.uid)===p,type:"secondary"})})]})}function Fe(){let e=(0,sz._)(["\n    padding-inline-end: ",";\n  "]);return Fe=function(){return e},e}function Ft(){let e=(0,sz._)(["\n      margin-right: ",";\n    "]);return Ft=function(){return e},e}let Fn=(0,dC.zo)(d1.Z,{target:"e6d3bfn0"})(e=>{let{theme:n}=e,{POST_INPUT_FIELDS_WRAPPER:r}=dj.variableBlock(n);return(0,U.iv)(Fe(),r.PADDING_INLINE_END)}),Fr=(0,dC.zo)(Th,{target:"e6d3bfn1"})(e=>{let{theme:n}=e;if(n.useExperimentalTheme){let{ALTERNATIVE:e}=dj.variableBlock(n);return(0,U.iv)(Ft(),e.SUFFIX_MARGIN_RIGHT)}return null});function Fi(e){let{isError:n,name:r,path:i,suffix:a}=e,o=d6(),l=tZ(c2({highlightedTextId:o,path:i})),{position:s,symbol:u}=tZ(uY(i)),{t:c}=tu(),d=function(){let{updateConversionFormulas:e}=lW(),{onUnitSwitcherVariableChange:n}=dg(),r=function(){let{storageKey:e}=lS();return(0,e0.useCallback)(n=>{if((0,t9.Rw)(e))return;let r=lJ(e),i=(0,rN.Uy)(r,e=>{Object.entries(n).forEach(n=>{var r;let[i,a]=n,o={primaryUnitSwitcherSlug:a.primary.selectedUnit.slug,secondaryUnitSwitcherSlug:null===(r=a.secondary)||void 0===r?void 0:r.selectedUnit.slug};(0,t9.$K)(e.saved)?e.saved[i]={...e.saved[i],...o}:e.saved={[i]:{ui:void 0,computable:void 0,...o}}})});lI.setItem(e,JSON.stringify(i))},[e])}(),[i]=dh(),a=lL();return tq((0,e0.useCallback)((o,l,s,u)=>{let c=o(sh);if((0,t9.Rw)(c[s]))return;let d=(0,rN.Uy)(c,e=>(u.forEach(n=>{let{type:r,value:i}=n,a=e[s][r];(0,t9.$K)(a)&&(0,t9.$K)(i)&&(a.selectedUnit=i)}),e)),{primary:h,secondary:p}=d[s],m=o8(h,p);null==n||n(),i(e(s,m),[e=>{let n=o(tJ),i=o(sd);l(sh,d),function(e){let{primary:n,secondary:r}=e;return[n,r].some(e=>{var n;let r=null==e?void 0:null===(n=e.selectedUnit)||void 0===n?void 0:n.subunits;return(0,t9.$K)(r)&&!t5()(r)})}(d[s])&&l(sc,s);let u=oX([s])(i)(e.values);l(sf,e=>({...e,...u})),e.manualVariablesNames.includes(s)&&n.includes(s)&&a({variableName:s,variableValue:{computable:e.values[s].computable,ui:u[s].ui},doNotRound:!1}),r(d),lF(o,l)(e,{units:d})}])},[a,r,e,i,n]))}(),h=tZ(co(r)),p=null==h?void 0:h.primary,m=null==h?void 0:h.secondary,f=(0,t9.$K)(p),g=(0,t9.$K)(m),y=async e=>{var n;let i=null!==(n=null==h?void 0:h.primary.units.find(n=>{let{slug:r}=n;return r===e}))&&void 0!==n?n:null;await (0,t9.Z0)(),d(r,[{value:i,type:fr.PRIMARY}])},v=async e=>{var n,i;let a=null!==(i=null==h?void 0:null===(n=h.secondary)||void 0===n?void 0:n.units.find(n=>{let{slug:r}=n;return r===e}))&&void 0!==i?i:null;await (0,t9.Z0)(),d(r,[{value:a,type:fr.SECONDARY}])},_=null==a?void 0:a.html,x=f||(0,t9.GI)(_)?"both":"suffix",O="".concat(l.html," ").concat(c(g?"unitDoubleLabel":"unitSingleLabel"));return(0,K.BX)(K.HY,{children:[s===fi.RIGHT&&(0,K.tZ)(Th,{"data-testid":"".concat(i,"-currency-right"),type:x,children:u}),f&&(0,K.tZ)(Fn,{"data-cwv-id":b.BLOCK_VARIABLE_NUMERICAL_UNIT_SWITCHER,justifyContent:"center",children:(0,K.tZ)(G9,{"data-testid":"".concat(i,"-unit-switcher"),isError:n,label:O,onChange:y,prefix:p.prefix,suffix:p.suffix,type:fr.PRIMARY,value:p.selectedUnit,variableName:r})}),g&&(0,K.tZ)(Fn,{"data-cwv-id":b.BLOCK_VARIABLE_NUMERICAL_UNIT_SWITCHER_SECOND,justifyContent:"center",children:(0,K.tZ)(G9,{"data-testid":"".concat(i,"-unit-switcher-second"),isError:n,label:"".concat(l.html," ").concat(c("unitSecondLabel")),onChange:v,prefix:m.prefix,suffix:m.suffix,type:fr.SECONDARY,value:m.selectedUnit,variableName:r})}),(0,t9.GI)(_)&&!g&&(0,K.tZ)(Fr,{type:"suffix",children:(0,K.tZ)(CX,{"data-testid":"".concat(i,"-numerical-input-suffix"),font:"input",html:_,inline:!0,isHighlighted:(null==a?void 0:a.uid)===o,type:"secondary"})})]})}function Fa(){let e=(0,sz._)(["\n      min-height: ",";\n    "]);return Fa=function(){return e},e}let Fo=(0,dC.zo)("div",{target:"eanq9z30"})(e=>{let{theme:n}=e,r=dj.input(n);return(0,U.iv)(Fa(),r.INPUT_MIN_HEIGHT)});var Fl=(0,e0.forwardRef)(function(e,n){var r,i;let{containerRef:a,isDisabled:o,isError:l,name:s,onBlur:u,onFocus:c,path:d,prefix:h,suffix:p}=e,m=d6(),{position:f,symbol:g}=tZ(uY(d)),y=f===fi.LEFT?"".concat(null!==(r=null==h?void 0:h.html)&&void 0!==r?r:""," ").concat(g):"".concat(null!==(i=null==h?void 0:h.html)&&void 0!==i?i:"");return(0,K.tZ)(kH,{"data-cwv-id":b.BLOCK_VARIABLE_NUMERICAL,$isDisabled:o,$isError:l,alignItems:"center","data-testid":"".concat(d,"-input-container"),flexDirection:"row",id:"".concat(d,"-input-container"),ref:a,children:(0,K.BX)(Tg.a,{fallback:(0,K.tZ)(Fo,{}),children:[!(0,t9.oM)(y)&&(0,K.tZ)(Th,{"data-testid":"".concat(d,"-currency-left"),type:"prefix",children:(0,K.tZ)(CX,{font:"input",html:y,inline:!0,isHighlighted:(0,t9.GI)(null==h?void 0:h.html)&&(null==h?void 0:h.uid)===m,type:"secondary"})}),(0,K.tZ)(Gj,{containerRef:a,mathInputRef:n,isDisabled:o,isError:l,name:s,onBlur:u,onFocus:c,path:d}),(0,K.tZ)(Fi,{isError:l,name:s,path:d,suffix:p})]})})});function Fs(e){let{name:n,path:r,...i}=e,a=tZ(dn(n)),[o]=db(rM.VariableType.time);return(0,K.tZ)(hL,{...i,cwvId:b.BLOCK_VARIABLE_TIME,dataTestid:"".concat(r,"-time"),onChange:e=>o(n,e),value:a})}let{CHECKBOX:Fu}=rM.ValueSelectV2UiType;function Fc(e){var n,r,i,a;let{name:o,path:l,prefix:s,suffix:u,...c}=e,[d,h]=dy(),{position:p,symbol:m}=tZ(uY(l)),f=tZ(c4(l)),g=(0,e0.useMemo)(()=>f.map(Fd),[f]),y=tZ(cI(o)),b=tZ(c6(l)),v=d6(),_=(0,e0.useCallback)(async e=>{await (0,t9.Z0)();let n=f.find(n=>n.uid===e);if((0,t9.$K)(n)){var r;d(o,{ui:n.uid,computable:null!==(r=n.value)&&void 0!==r?r:(0,oQ.Z)(f.indexOf(n))})}else b===Fu&&(0,t9.Rw)(e)&&d(o,{ui:null,computable:null});h()},[h,o,f,d,b]),x=p===fi.LEFT?"".concat(null!==(n=null==s?void 0:s.html)&&void 0!==n?n:""," ").concat(m):null!==(r=null==s?void 0:s.html)&&void 0!==r?r:"",O=p===fi.RIGHT?"".concat(m," ").concat(null!==(i=null==u?void 0:u.html)&&void 0!==i?i:""):null!==(a=null==u?void 0:u.html)&&void 0!==a?a:"";return(0,K.tZ)(Rg,{"data-testid":"".concat(l,"-valueSelect"),highlightedPart:function(e,n,r){if((0,t9.Rw)(e))return null;switch(e){case null==n?void 0:n.uid:return"prefix";case null==r?void 0:r.uid:return"suffix";default:return null}}(v,s,u),onChange:_,options:g,path:l,prefixHtml:x,suffixHtml:O,type:b,value:null!=y?y:"",...c})}function Fd(e){return{label:e.label,value:e.uid}}let{date:Fh,datetime:Fp,dependent:Fm,numerical:Ff,time:Fg,valueSelect:Fy}=rM.VariableType;var Fb=(0,e0.forwardRef)(function(e,n){let{containerRef:r,variableType:i,...a}=e,{closeKeyboard:o,openKeyboard:l}=function(){let{virtualKeyboard:e}=d4();return e}(),s=cT(),{isDisabled:u,name:c}=a,d=tZ(c5(c)),h=(0,t9.$K)(d),p=function(){let e=tj(tQ);return(0,e0.useCallback)(n=>{e(e=>e.includes(n)?e.filter(e=>e!==n):e)},[e])}(),m=(0,e0.useCallback)(e=>{(0,e0.startTransition)(()=>{p(c),(0,t9.$K)(e)&&!u&&l(e,()=>{var e;return null===(e=s(c))||void 0===e?void 0:e.toString()})})},[p,c,u,l,s]),f=(0,e0.useCallback)(()=>{p(c)},[c,p]),g=(0,e0.useCallback)(()=>{o()},[o]);switch(i){case Ff:case Fm:return(0,K.tZ)(Fl,{containerRef:r,isError:h,onBlur:g,onFocus:m,ref:n,...a});case Fy:return(0,K.tZ)(Fc,{isError:h,onBlur:g,onFocus:f,...a});case Fh:return(0,K.tZ)(GB,{isError:h,onBlur:g,onFocus:f,...a});case Fp:return(0,K.tZ)(GP,{isError:h,onBlur:g,onFocus:f,...a});case Fg:return(0,K.tZ)(Fs,{isError:h,onBlur:g,onFocus:f,...a});default:return"Type ".concat(i," is not implemented")}}),Fv=r(15067);function F_(){let e=(0,sz._)(["\n    padding-inline: ",";\n    line-height: ",";\n    & > *:not(:first-child) {\n      margin-left: ",";\n    }\n  "]);return F_=function(){return e},e}function Fx(){let e=(0,sz._)(["\n      display: ",";\n      padding: ",";\n      font-size: ",";\n      font-weight: ",";\n      line-height: ",";\n      color: ",";\n      margin: ",";\n      flex-grow: ",";\n    "]);return Fx=function(){return e},e}let FO=(0,dC.zo)(hh.Z,{target:"e11byzk20"})(e=>{let{theme:n}=e,{WRAPPER:r}=dj.label(n);return(0,U.iv)(F_(),r.PADDING_INLINE,r.LINE_HEIGHT,r.SPACING)}),Fw=(0,dC.zo)(Fv.Z,{target:"e11byzk21"})(e=>{let{theme:n}=e,{LABEL:r}=dj.label(n);return(0,U.iv)(Fx(),r.DISPLAY,r.PADDING,r.FONT_SIZE,r.FONT_WEIGHT,r.LINE_HEIGHT,r.COLOR,r.MARGIN,r.FLEX_GROW)});function FE(e){let{children:n,helpTextId:r,htmlFor:i,id:a,isHighlighted:o,onClick:l,title:s}=e,{useExperimentalTheme:u}=(0,xa.Z)();return(0,K.BX)(FO,{"aria-details":r,"data-testid":a,id:a,onClick:l,children:[(0,K.tZ)(Fw,{focused:!1,htmlFor:i,children:(0,K.tZ)(CX,{lineHeightStyle:"condensed",html:s,inline:!0,isHighlighted:o,...u?{type:"secondary"}:{}})}),n]})}var FC=r(26341),FT=r(61464);function Fk(){let e=(0,sz._)(["\n      & .","."," {\n        margin-bottom: ",";\n      }\n    "]);return Fk=function(){return e},e}function FR(){let e=(0,sz._)(["\n        height: ",";\n      "]);return FR=function(){return e},e}function FS(){let e=(0,sz._)(["\n    column-gap: ",";\n    flex-direction: ",";\n    justify-content: ",";\n    ","\n  "]);return FS=function(){return e},e}function FA(){let e=(0,sz._)(["\n          font-size: ",";\n        "]);return FA=function(){return e},e}function FI(){let e=(0,sz._)(["\n      ."," {\n        color: ",";\n        font-weight: ",";\n\n        ","\n\n        &."," {\n          color: ",";\n        }\n      }\n    "]);return FI=function(){return e},e}function FL(){let e=(0,sz._)(["\n      align-self: ",";\n      height: ",";\n      width: ",";\n      margin-right: ",";\n      line-height: ",";\n      visibility: ",";\n\n      svg {\n        height: ",";\n        width: ",";\n        color: ",";\n      }\n    "]);return FL=function(){return e},e}function FM(){let e=(0,sz._)(["\n      width: ",";\n      height: ",";\n      border-radius: ",";\n      background-color: ",";\n      align-self: ",";\n      line-height: ",";\n\n      svg {\n        width: ",";\n        height: ",";\n        color: ",";\n      }\n    "]);return FM=function(){return e},e}function FN(){let e=(0,sz._)(["\n          text-decoration-color: ",";\n\n          :hover {\n            color: ",";\n          }\n        "]);return FN=function(){return e},e}function FD(){let e=(0,sz._)(["\n      && {\n        background: ",";\n        border-radius: ",";\n        color: ",";\n        font-size: ",";\n        font-weight: ",";\n        line-height: ",";\n        padding: ",";\n      }\n\n      svg {\n        height: ",";\n        vertical-align: middle;\n      }\n\n      ",";\n    "]);return FD=function(){return e},e}let FB=(0,dC.zo)(xr,{target:"eggdda0"})(e=>{let{theme:n}=e,{SETTINGS_ICON:r}=dj.variableSettingsMenu(n);return(0,U.iv)(Fk(),xn.Z.tooltip,xn.Z.tooltipPlacementTop,r.TOOLTIP_MARGIN_BOTTOM)}),FP=(0,dC.zo)(d1.Z,{target:"eggdda1"})(e=>{let{theme:n}=e,{MENU_ENTRY_ROW:r}=dj.variableSettingsMenu(n),i=n.useExperimentalTheme?(0,U.iv)(FR(),r.ALTERNATIVE.HEIGHT):"";return(0,U.iv)(FS(),r.COLUMN_GAP,r.FLEX_DIRECTION,r.JUSTIFY_CONTENT,i)}),FK=(0,dC.zo)(ky.Z,{target:"eggdda2"})(e=>{let{theme:n}=e,{OPTION_LABEL:r}=dj.variableSettingsMenu(n),i=n.useExperimentalTheme?(0,U.iv)(FA(),r.ALTERNATIVE.FONT_SIZE):"";return(0,U.iv)(FI(),FC.Z.label,r.COLOR,r.FONT_WEIGHT,i,FC.Z.disabled,r.COLOR_DISABLED)}),FU=(0,dC.zo)("span",{target:"eggdda3"})(e=>{let{$hide:n,theme:r}=e,{INLINE_ICON:i}=dj.variableSettingsMenu(r);return(0,U.iv)(FL(),i.ALIGN_SELF,i.SIZE,i.SIZE,i.MARGIN_RIGHT,i.LINE_HEIGHT,n?i.VISIBILITY_HIDE:i.VISIBILITY_SHOW,i.SIZE,i.SIZE,i.COLOR)}),FV=(0,dC.zo)("div",{target:"eggdda4"})(e=>{let{theme:n}=e,{ENTRY_ICON:r}=dj.variableSettingsMenu(n);return(0,U.iv)(FM(),r.SIZE,r.SIZE,r.WRAPPER_BORDER_RADIUS,r.WRAPPER_BACKGROUND_COLOR,r.ALIGN_SELF,r.LINE_HEIGHT,r.SIZE,r.SIZE,r.COLOR)}),FG=(0,dC.zo)(FT.Z,{target:"eggdda5"})(e=>{let{theme:n}=e,{OPEN_HELP_BUTTON:r}=dj.variableSettingsMenu(n),i=n.useExperimentalTheme?(0,U.iv)(FN(),r.COLOR,r.ALTERNATIVE.COLOR_HOVER):"";return(0,U.iv)(FD(),r.BACKGROUND,r.BORDER_RADIUS,r.COLOR,r.FONT_SIZE,r.FONT_WEIGHT,r.LINE_HEIGHT,r.PADDING,r.ICON_SIZE,i)});function FF(e){var n;let{children:r,hidden:i,tooltipTitle:a}=e,o=null!==(n=(0,xa.Z)().useExperimentalTheme)&&void 0!==n&&n;return(0,K.tZ)(FB,{arrow:o,placement:"top-end",title:a,children:(0,K.tZ)(FU,{$hide:i,children:r})})}var FH=r(67798),Fz=r(27697);function F$(){let e=(0,sz._)(["\n      width: ",";\n      height: ",";\n      margin-top: ",";\n      margin-left: ",";\n      background-color: ",";\n      border-radius: ",";\n      border-color: ",";\n      border-width: ",";\n      border-style: ",";\n      transition: ",";\n\n      input:disabled ~ & {\n        background-color: ",";\n        border-color: ",";\n      }\n\n      input:not(:disabled):hover ~ & {\n        border-color: ",";\n        box-shadow: none;\n      }\n      input:focus-visible ~ & {\n        outline: ",";\n        outline-offset: ",";\n      }\n      input:focus-visible:hover ~ & {\n        outline: ",";\n        outline-offset: ",";\n      }\n    "]);return F$=function(){return e},e}function FZ(){let e=(0,sz._)(["\n      background-color: ",";\n      border-color: ",";\n      input:not(:disabled):hover ~ & {\n        border-color: ",";\n      }\n      input:focus-visible ~ & {\n        outline: ",";\n        outline-offset: ",";\n      }\n      input:focus-visible:hover ~ & {\n        outline: ",";\n        outline-offset: ",";\n      }\n    "]);return FZ=function(){return e},e}let Fj=(0,dC.zo)("span",{target:"e14h87660"})(e=>{let{$isError:n,theme:r}=e,i=dj.toggle(r);return(0,U.iv)(F$(),i.TOGGLE_ICON_WIDTH,i.TOGGLE_ICON_HEIGHT,i.TOGGLE_ICON_MARGIN_TOP,i.TOGGLE_ICON_MARGIN_LEFT,n?i.TOGGLE_ICON_COLOR_ERROR:i.TOGGLE_ICON_COLOR,i.TOGGLE_ICON_BORDER_RADIUS,n?i.TOGGLE_ICON_BORDER_COLOR_ERROR:i.TOGGLE_ICON_BORDER_COLOR,i.TOGGLE_ICON_BORDER_WIDTH,i.TOGGLE_ICON_BORDER_STYLE,i.TOGGLE_ICON_TRANSITION,i.TOGGLE_ICON_COLOR_DISABLED,i.TOGGLE_ICON_BORDER_COLOR_DISABLED,n?i.TOGGLE_ICON_BORDER_COLOR_ERROR:i.TOGGLE_ICON_BORDER_COLOR_HOVER,i.TOGGLE_ICON_FOCUS_OUTLINE,i.TOGGLE_ICON_ACTIVE_FOCUS_OUTLINE_OFFSET,i.TOGGLE_ICON_FOCUS_OUTLINE,i.TOGGLE_ICON_ACTIVE_FOCUS_OUTLINE_OFFSET)}),FW=(0,dC.zo)(Fj,{target:"e14h87661"})(e=>{let{$isError:n,theme:r}=e,i=dj.toggle(r);return(0,U.iv)(FZ(),n?i.TOGGLE_ICON_COLOR_ERROR:i.TOGGLE_ICON_COLOR_ACTIVE,n?i.TOGGLE_ICON_BORDER_COLOR_ERROR:i.TOGGLE_ICON_BORDER_COLOR_ACTIVE,n?i.TOGGLE_ICON_BORDER_COLOR_ERROR:i.TOGGLE_ICON_BORDER_COLOR_ACTIVE_HOVER,i.TOGGLE_ICON_ACTIVE_FOCUS_OUTLINE,i.TOGGLE_ICON_ACTIVE_FOCUS_OUTLINE_OFFSET,i.TOGGLE_ICON_ACTIVE_FOCUS_OUTLINE,i.TOGGLE_ICON_ACTIVE_FOCUS_OUTLINE_OFFSET)});function Fq(){let e=(0,sz._)(["\n          & {\n            margin-left: ",";\n          }\n        "]);return Fq=function(){return e},e}function FY(){let e=(0,sz._)(["\n      & .MuiFormControlLabel-label {\n        margin-top: ",";\n        font-weight: ",";\n        ","\n      }\n\n      ","\n    "]);return FY=function(){return e},e}function FX(){let e=(0,sz._)(["\n      & .MuiSwitch-switchBase + .MuiSwitch-track {\n        margin-top: ",";\n        margin-left: ",";\n        width: ",";\n        height: ",";\n        opacity: ",";\n        border-radius: ",";\n        background-color: ",";\n      }\n      & .MuiSwitch-switchBase.Mui-checked {\n        transform: ",";\n      }\n      & .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track {\n        background-color: ",";\n        opacity: ",";\n      }\n      & .MuiSwitch-switchBase.Mui-disabled + .MuiSwitch-track {\n        background-color: ",";\n        opacity: ",";\n      }\n    "]);return FX=function(){return e},e}let FJ=(0,dC.zo)(ky.Z,{target:"e17zitdn0"})(e=>{let{$isError:n,theme:r}=e,i=dj.toggle(r),a=r.useExperimentalTheme?(0,U.iv)(Fq(),i.ALTERNATIVE.TOGGLE_LABEL_MARGIN_LEFT):"";return(0,U.iv)(FY(),i.TOGGLE_LABEL_MARGIN_TOP,i.TOGGLE_LABEL_WEIGHT,n&&"color: ".concat(i.TOGGLE_LABEL_COLOR_ERROR,";"),a)}),FQ=(0,dC.zo)(Fz.Z,{target:"e17zitdn1"})(e=>{let{$isError:n,theme:r}=e,i=dj.toggle(r);return(0,U.iv)(FX(),i.TOGGLE_TRACK_MARGIN_TOP,i.TOGGLE_TRACK_MARGIN_LEFT,i.TOGGLE_TRACK_WIDTH,i.TOGGLE_TRACK_HEIGHT,i.TOGGLE_TRACK_OPACITY,i.TOGGLE_TRACK_BORDER_RADIUS,i.TOGGLE_TRACK_COLOR,i.TOGGLE_TRANSITION,n?i.TOGGLE_TRACK_COLOR_ERROR:i.TOGGLE_TRACK_COLOR_ACTIVE,n?i.TOGGLE_TRACK_OPACITY_ERROR:i.TOGGLE_TRACK_OPACITY,i.TOGGLE_TRACK_COLOR_DISABLED,i.TOGGLE_TRACK_OPACITY)});function F0(e){let{formLabelProps:n,isChecked:r,isDisabled:i,isError:a,label:o,onChange:l,switchProps:s}=e;return(0,K.tZ)(FJ,{$isError:a,checked:r,control:(0,K.tZ)(FQ,{$isError:a,checkedIcon:(0,K.tZ)(FW,{$isError:a}),disableRipple:!0,icon:(0,K.tZ)(Fj,{$isError:a}),...s}),disabled:i,label:null!=o?o:"",onChange:(e,n)=>{l(n)},...n})}function F1(e){let{icon:n,onToggle:r,title:i,toggleState:a}=e,o=function(){let{search:e}=(0,FH.Z)();return new URLSearchParams(e).has("mock-disabled")}();return(0,K.BX)(FP,{"data-testid":"variable-settings-menu-entry",children:[(0,K.tZ)(FK,{control:(0,K.tZ)(F0,{isChecked:a,isDisabled:o,onChange:r}),disabled:o,label:i}),(0,K.tZ)(FV,{children:n})]})}var F2=r(12908),F3=r(18736),F4=r(54326);function F6(){let e=(0,sz._)(["\n      row-gap: ",";\n    "]);return F6=function(){return e},e}function F5(){let e=(0,sz._)(["\n          ."," {\n            padding-top: ",";\n          }\n\n          svg {\n            color: ",";\n            width: ",";\n            height: ",";\n          }\n        "]);return F5=function(){return e},e}function F8(){let e=(0,sz._)(["\n      align-items: ",";\n      color: ",";\n      flex-direction: ",";\n      font-size: ",";\n      justify-content: ",";\n      margin-bottom: ",";\n\n      ","\n    "]);return F8=function(){return e},e}function F7(){let e=(0,sz._)(["\n      margin-right: ",";\n\n      svg {\n        color: ",";\n        width: ",";\n        height: ",";\n      }\n    "]);return F7=function(){return e},e}function F9(){let e=(0,sz._)(["\n      margin-bottom: ",";\n      color: ",";\n      font-weight: ",";\n      font-size: ",";\n    "]);return F9=function(){return e},e}function He(){let e=(0,sz._)(["\n          &&.",".",":hover {\n            background-color: ",";\n          }\n        "]);return He=function(){return e},e}function Ht(){let e=(0,sz._)(["\n      &&."," {\n        text-transform: ",";\n        font-weight: ",";\n      }\n      &&.","."," {\n        line-height: ",";\n        font-size: ",";\n        background-color: ",";\n        border-radius: ",";\n        padding: ",";\n      }\n\n      ","\n    "]);return Ht=function(){return e},e}function Hn(){let e=(0,sz._)(["\n      flex-direction: ",";\n      justify-content: ",";\n    "]);return Hn=function(){return e},e}function Hr(){let e=(0,sz._)(["\n          box-shadow: ",";\n        "]);return Hr=function(){return e},e}function Hi(){let e=(0,sz._)(["\n      [role='dialog'] {\n        width: ",";\n        padding: ",";\n        margin: ",";\n        ",";\n      }\n    "]);return Hi=function(){return e},e}let Ha=(0,dC.zo)(d1.Z,{target:"eog6eig0"})(e=>{let{theme:n}=e,{DIALOG:r}=dj.variableSettingsHelpModal(n);return(0,U.iv)(F6(),r.ROW_GAP)}),Ho=(0,dC.zo)(d1.Z,{target:"eog6eig1"})(e=>{let{theme:n}=e,{DIALOG_HEADER:r}=dj.variableSettingsHelpModal(n),i=n.useExperimentalTheme?(0,U.iv)(F5(),F2.Z.root,r.ALTERNATIVE.BUTTON_PADDING,r.ALTERNATIVE.ICON_COLOR,r.ALTERNATIVE.ICON_SIZE,r.ALTERNATIVE.ICON_SIZE):"";return(0,U.iv)(F8(),r.ALIGN_ITEMS,r.COLOR,r.FLEX_DIRECTION,r.FONT_SIZE,r.JUSTIFY_CONTENT,r.MARGIN_BOTTOM,i)}),Hl=(0,dC.zo)(dC.ZT,{target:"eog6eig2"})(e=>{let{theme:n}=e,{DIALOG_HEADER:{FONT_WEIGHT:r}}=dj.variableSettingsHelpModal(n);return n.useExperimentalTheme?null:{fontWeight:r}});function Hs(e){let{children:n}=e,{useExperimentalTheme:r}=d4();return(0,K.tZ)(Hl,{font:"primary",styleName:"mediumMed",variant:"headline",legacyFontSize:r?void 0:"21.5px",children:n})}let Hu=(0,dC.zo)(dC.ZT,{target:"eog6eig3"})(e=>{let{theme:n}=e,{HELP_ENTRY:{DESCRIPTION:r}}=dj.variableSettingsHelpModal(n);return n.useExperimentalTheme?null:{color:r.COLOR,fontSize:r.FONT_SIZE}});function Hc(e){let{children:n}=e;return(0,K.tZ)(Hu,{font:"primary",styleName:"mediumRegCondensed",variant:"body",color:"secondary",children:n})}let Hd=(0,dC.zo)(hh.Z,{target:"eog6eig4"})(e=>{let{$isMobile:n,theme:r}=e,{HELP_ENTRY:{ICON:i}}=dj.variableSettingsHelpModal(r),a=n?i.SIZE_MOBILE:i.SIZE_DESKTOP;return(0,U.iv)(F7(),i.MARGIN_RIGHT,i.COLOR,a,a)}),Hh=(0,dC.zo)(hh.Z,{target:"eog6eig5"})(e=>{let{theme:n}=e,{HELP_ENTRY:{TITLE:r}}=dj.variableSettingsHelpModal(n);return(0,U.iv)(F9(),r.MARGIN_BOTTOM,r.COLOR,r.FONT_WEIGHT,r.FONT_SIZE)}),Hp=(0,dC.zo)(hu.Z,{target:"eog6eig6"})(e=>{let{theme:n}=e,{ACTIONS_CLOSE_BUTTON:r}=dj.variableSettingsHelpModal(n),i=n.useExperimentalTheme?(0,U.iv)(He(),F3.Z.root,F3.Z.containedSizeMedium,r.ALTERNATIVE.HOVER_BACKGROUND_COLOR):"";return(0,U.iv)(Ht(),F3.Z.root,r.TEXT_TRANSFORM,r.FONT_WEIGHT,F3.Z.root,F3.Z.containedSizeMedium,r.LINE_HEIGHT,r.FONT_SIZE,r.BACKGROUND_COLOR,r.BORDER_RADIUS,r.PADDING,i)}),Hm=(0,dC.zo)(d1.Z,{target:"eog6eig7"})(e=>{let{theme:n}=e,{DIALOG_ACTIONS:r}=dj.variableSettingsHelpModal(n);return(0,U.iv)(Hn(),r.FLEX_DIRECTION,r.JUSTIFY_CONTENT)}),Hf=(0,dC.zo)(F4.Z,{target:"eog6eig8"})(e=>{let{$isMobile:n,theme:r}=e,{DIALOG:i}=dj.variableSettingsHelpModal(r),a=n?i.WIDTH_MOBILE:i.WIDTH_DESKTOP,o=n?i.PADDING_MOBILE:i.PADDING_DESKTOP,l=r.useExperimentalTheme?(0,U.iv)(Hr(),i.ALTERNATIVE.BOX_SHADOW):"";return(0,U.iv)(Hi(),a,o,i.MARGIN,l)});function Hg(e){let{handleClose:n}=e,{t:r}=tu();return(0,K.BX)(Ho,{"data-cwv-id":b.BLOCK_VARIABLE_LABEL_MENU_POPPER_SETTINGS,children:[(0,K.tZ)(Hs,{children:r("modalHowToUse")}),(0,K.tZ)(CV.Z,{onClick:n,size:"small",children:(0,K.tZ)(hX,{})})]})}function Hy(e){let{description:n,icon:r,title:i}=e,{isMobile:a}=d4();return(0,K.BX)(d1.Z,{direction:"row",children:[(0,K.tZ)(Hd,{$isMobile:a,children:r}),(0,K.BX)(d1.Z,{children:[(0,K.tZ)(Hh,{children:i}),(0,K.tZ)(Hc,{children:n})]})]})}function Hb(e){let{handleClose:n}=e,{isMobile:r}=d4(),{t:i}=tu();return(0,K.tZ)(Hm,{children:(0,K.tZ)(Hp,{disableElevation:!0,fullWidth:r,onClick:n,size:"medium",variant:"contained",children:i("modalButtonOk")})})}function Hv(e){let{handleClose:n,open:r}=e,{isMobile:i}=d4(),{t:a}=tu();return(0,K.tZ)(Hf,{$isMobile:i,"aria-labelledby":a("ariaModalLabel"),onClose:n,open:r,children:(0,K.BX)(Ha,{children:[(0,K.tZ)(Hg,{handleClose:n}),(0,K.tZ)(Hy,{description:a("modalSaveInputValueDescription"),icon:(0,K.tZ)(h2,{}),title:a("settingsSaveInputValue")}),(0,K.tZ)(Hb,{handleClose:n})]})})}function H_(){let[e,n]=(0,e0.useState)(!1),{t:r}=tu(),{useExperimentalTheme:i}=d4(),a=(0,e0.useCallback)(e=>{e.preventDefault(),n(!0)},[]),o=(0,e0.useCallback)(()=>n(!1),[]);return(0,K.BX)(K.HY,{children:[(0,K.BX)(FG,{component:"button",onClick:a,children:[r("settingsLearnMore"),!i&&(0,K.tZ)(hJ,{})]}),(0,K.tZ)(Hv,{handleClose:o,open:e})]})}function Hx(){let e=(0,sz._)(["\n                background-color: ",";\n                ."," {\n                  color: ",";\n                }\n              "]);return Hx=function(){return e},e}function HO(){let e=(0,sz._)(["\n          :hover {\n            background-color: ",";\n            border-radius: ",";\n\n            ."," {\n              color: ",";\n            }\n          }\n\n          ","\n        "]);return HO=function(){return e},e}function Hw(){let e=(0,sz._)(["\n      transform: ",";\n      padding: ",";\n\n      .MuiSvgIcon-root {\n        color: ",";\n        height: ",";\n        width: ",";\n      }\n\n      ","\n    "]);return Hw=function(){return e},e}function HE(){let e=(0,sz._)(["\n    text-transform: ",";\n  "]);return HE=function(){return e},e}function HC(){let e=(0,sz._)(["\n      flex-direction: ",";\n      margin-top: ",";\n    "]);return HC=function(){return e},e}function HT(){let e=(0,sz._)(["\n      cursor: ",";\n      flex-direction: ",";\n      min-width: ",";\n\n      &&&:focus {\n        outline-color: ",";\n      }\n    "]);return HT=function(){return e},e}let Hk=(0,dC.zo)(hK,{target:"em4alp40"})(e=>{let{$panelOpen:n,theme:r}=e,{SETTINGS_ICON:i}=dj.variableSettingsMenu(r),{ALTERNATIVE:a}=i,o=r.useExperimentalTheme?(0,U.iv)(HO(),a.BACKGROUND_COLOR,a.BORDER_RADIUS,he.Z.root,a.COLOR,n?(0,U.iv)(Hx(),a.BACKGROUND_COLOR,he.Z.root,a.COLOR):""):"";return(0,U.iv)(Hw(),n?i.TRANSFORM_ACTIVE:i.TRANSFORM_INACTIVE,i.PADDING,i.COLOR,i.HEIGHT,i.WIDTH,o)}),HR=(0,dC.zo)(dC.ZT,{target:"em4alp41"})(e=>{let{theme:n}=e,{HEADER:r}=dj.variableSettingsMenu(n);return(0,U.iv)(HE(),r.TEXT_TRANSFORM)});function HS(e){let{children:n,useExperimentalTheme:r}=e;return(0,K.tZ)(HR,{color:"tertiary",font:"primary",variant:"body",...r?{marginSpacing:"2 0",styleName:"smallBld"}:{paddingSpacing:"0 0 1",styleName:"mediumReg",legacyFontSize:"16px"},children:n})}let HA=(0,dC.zo)(d1.Z,{target:"em4alp42"})(e=>{let{theme:n}=e,{MENU_WRAPPER:r}=dj.variableSettingsMenu(n);return(0,U.iv)(HC(),r.FLEX_DIRECTION,r.MARGIN_TOP)}),HI=(0,dC.zo)(d1.Z,{target:"em4alp43"})(e=>{let{onClick:n,theme:r}=e,{MENU_WRAPPER:i}=dj.variableSettingsMenu(r);return(0,U.iv)(HT(),(0,t9.$K)(n)?i.CURSOR:"default",i.FLEX_DIRECTION,i.MIN_WIDTH,i.OUTLINE_COLOR)});function HL(e){let{path:n,variableName:r}=e,{t:i}=tu(),[a,o]=tW(sg),l=tZ(cH(r)),s=e=>o({anchor:e.currentTarget,variableName:r});return(0,K.BX)(HA,{"data-cwv-id":b.BLOCK_VARIABLE_LABEL_MENU,children:[(0,K.tZ)(HI,{onClick:l?s:void 0,children:(0,K.tZ)(FF,{hidden:!l,tooltipTitle:i("settingsSaveInputValue"),children:(0,K.tZ)(h2,{})})}),(0,K.tZ)(HI,{onClick:s,children:(0,K.tZ)(Tg.a,{children:(0,K.tZ)(Hk,{$color:"primary",$panelOpen:(null==a?void 0:a.variableName)===r,"aria-label":i("ariaVariableMenuOpen"),"data-testid":"".concat(n,"-settings-opening-button"),size:"small",children:(0,K.tZ)(h1,{})})})})]})}function HM(){let e=(0,sz._)(["\n        font-size: ",";\n      "]);return HM=function(){return e},e}function HN(){let e=(0,sz._)(["\n    min-height: ",";\n    align-items: ",";\n    flex-direction: ",";\n    justify-content: ",";\n\n    ","\n\n    & > *:not(:first-child) {\n      margin-left: ",";\n    }\n  "]);return HN=function(){return e},e}let HD=(0,dC.zo)(d1.Z,{target:"e1zpkfd0"})(e=>{let{theme:n}=e,{LABEL:r}=dj.variableBlock(n),i=n.useExperimentalTheme?(0,U.iv)(HM(),r.ALTERNATIVE.FONT_SIZE):"";return(0,U.iv)(HN(),r.MIN_HEIGHT,r.ALIGN_ITEMS,r.FLEX_DIRECTION,r.JUSTIFY_CONTENT,i,r.CHILDREN_SPACING)}),HB=(e,n)=>{let{ALTERNATIVE:r}=n,i=e?{circle:{stroke:r.ACTIVE.CIRCLE_STROKE},path:{stroke:r.ACTIVE.PATH_STROKE}}:{};return{color:r.COLOR,top:r.TOP,":hover":{color:r.HOVER.COLOR,backgroundColor:r.HOVER.BACKGROUND_COLOR,circle:{stroke:r.HOVER.CIRCLE_STROKE},path:{stroke:r.HOVER.PATH_STROKE}},...i}},HP=(0,dC.zo)(hK,{target:"e1zpkfd1"})(e=>{let{$active:n,theme:r}=e,{HELP_TEXT:i}=dj.variableBlock(r),a=r.useExperimentalTheme?HB(n,i):{};return{padding:i.PADDING,verticalAlign:i.VERTICAL_ALIGN,...a}});function HK(e){let n=d6(),r=tZ(c2({path:e.path,highlightedTextId:n})),i={...e,highlightedTextId:n,label:r};return e.variableType===rM.VariableType.valueSelect?(0,K.tZ)(HU,{...i}):(0,K.tZ)(HV,{...i})}function HU(e){return tZ(c6(e.path))===rM.ValueSelectV2UiType.CHECKBOX&&(0,t9.oM)(e.label.html)?null:(0,K.tZ)(HV,{...e})}function HV(e){let{handleLabelClick:n,helpText:r,highlightedTextId:i,label:a,name:o,path:l}=e,s=!(0,t9.oM)(r.html),[u,c]=function(e){let n=tZ(cG(e)),r=tj(se);return[n,(0,e0.useCallback)(()=>{r(n=>{let r=new Map(n),i=r.get(e);if((0,t9.Rw)(i))throw Error("Variable ".concat(e," has no help text defined."));return r.set(e,{...i,visible:!i.visible}),r})},[r,e])]}(o),d=tZ(cB(o)),{useExperimentalTheme:h}=d4(),{t:p}=tu();return(0,K.BX)(HD,{"data-cwv-id":b.BLOCK_VARIABLE_LABEL,"aria-label":a.html,role:"region",children:[(0,K.tZ)(FE,{helpTextId:d,htmlFor:"".concat(l,"-input"),id:"".concat(l,"-label"),isHighlighted:a.uid===i,onClick:n,title:a.html,children:s&&(0,K.tZ)(xr,{placement:"top",title:p("helpTextTooltip"),children:(0,K.tZ)(HP,{$active:u,$color:u?"primary":"secondary",$iconSize:"small","aria-controls":d,"aria-expanded":u,"data-testid":"".concat(l,"-helpTextButton"),onClick:e=>{e.stopPropagation(),(0,e0.startTransition)(()=>{c()})},onMouseDown:e=>e.preventDefault(),children:h?(0,K.tZ)(hQ,{}):(0,K.tZ)(hJ,{})})})}),(0,K.tZ)(HL,{path:l,variableName:o})]})}let HG=(0,dC.zo)(GD.Z,{target:"esn3iy10"})(e=>{let{theme:n}=e,{FORM_CONTROL:r}=dj.variableBlock(n);return{marginTop:r.MARGIN_TOP,scrollMargin:r.SCROLL_MARGIN}});function HF(e){let{helpText:n,name:r,path:i,prefix:a,suffix:o,uid:l,variableType:s}=e,u=(0,e0.useRef)(null),c=(0,e0.useRef)(null),d=function(e,n){let r=(0,e0.useRef)(null),{register:i,unregister:a}=zz(),o=tZ(c5(n)),l=(0,t9.$K)(o);return(0,e0.useEffect)(()=>{let e=r.current;if(!(0,t9.Rw)(e))return l?i(e):a(e),()=>{a(e)}},[l,i,a]),r}(0,r),h=tZ(c1(i)),p=function(e,n,r){let i=tZ(c1(e));return(0,e0.useCallback)(e=>{if(!i){(0,e0.startTransition)(()=>{var e;null===(e=n.current)||void 0===e||e.focus()});return}e.preventDefault(),(0,e0.startTransition)(()=>{var e;null===(e=r.current)||void 0===e||e.focus()})},[i,n,r])}(i,c,u);return(0,K.tZ)(HG,{"data-cwv-id":b.BLOCK_VARIABLE,"data-testid":i,fullWidth:!0,id:i,ref:d,children:(0,K.BX)(d1.Z,{component:"section",direction:"column",spacing:1.5,children:[(0,K.tZ)(HK,{handleLabelClick:p,helpText:n,name:r,path:i,variableType:s}),(0,K.tZ)(Fb,{containerRef:u,isDisabled:h,name:r,path:i,prefix:a,ref:c,suffix:o,uid:l,variableType:s})]})})}function HH(e){let n=d6();if(!tZ(c9({path:e.path,highlightedTextId:n})))return null;if(e.type===rM.kH.variable)return e.variableType===rM.VariableType.presentation?null:(0,K.tZ)(HF,{...e});if(e.type===rM.kH.text)return(0,K.tZ)(GN,{...e});if(e.type===rM.kH.image)return(0,K.tZ)(GE,{...e});if(e.type===rM.kH.table){if(li(e))return(0,K.tZ)(GL,{...e});if(la(e))return(0,K.tZ)(GI,{...e})}return e.type===rM.kH.chart?e.chartType===rM.oX.pie?(0,K.tZ)(Gp,{...e}):(0,K.tZ)(VV,{...e}):"Not supported block type: ".concat(e.type)}let Hz=(0,dC.zo)("div",{target:"ep6fzj20"})(e=>{let{$gridColumn:n,$gridRow:r}=e,{POSITIONER:i}=dj.column();return{gridColumnStart:n,gridRowStart:r,alignSelf:i.SELF_ALIGNMENT}});function H$(e){let{blocks:n,index:r,path:i}=e;return tZ(de({path:i,highlightedTextId:d6()}))?(0,K.tZ)(K.HY,{children:n.map((e,n)=>(0,K.tZ)(Hz,{$gridColumn:r+1,$gridRow:n+1,children:(0,K.tZ)(HH,{path:"".concat(i).concat(t4.XV).concat(n),...e})},e.uid))}):null}function HZ(e){let{path:n}=e,r=d6(),i=tZ(cZ({highlightedTextId:r,path:n})),a=i.some(e=>{let{visible:n}=e;return n});return(0,K.tZ)(Tu,{"aria-hidden":!a,"data-testid":"".concat(n,"-helpTexts"),open:a,children:i.map(e=>{let{html:n,uid:i,variableName:a,visible:o}=e;return(0,K.tZ)(d5.Z,{in:o,children:(0,K.tZ)(CX,{"aria-hidden":!o,"data-testid":lC(a),html:n,id:lC(a),isHighlighted:i===r,role:"note",lineHeightStyle:"compact",size:"small"})},a)})})}function Hj(e){let{columns:n,path:r}=e,i=(0,e0.useMemo)(()=>n.flatMap(e=>e.flatMap(e=>e.name)),[n]),a=d6(),o=tZ(c8({highlightedTextId:a,variableNames:i})),l=(0,e0.useMemo)(()=>o.some(e=>{let{isDisplayed:n}=e;return n}),[o]);return(0,K.tZ)(Tu,{"data-testid":"".concat(r,"-alerts"),open:l,children:o.map(e=>{let{id:n,isDisplayed:r,message:i}=e;return(0,K.tZ)(d5.Z,{in:r,unmountOnExit:!0,children:(0,K.tZ)(hs,{$isHighlighted:i.uid===a,severity:"error",children:(0,K.tZ)(CX,{html:i.html,isHighlighted:i.uid===a,size:"small",type:"negative"})})},n)})})}function HW(){let e=(0,sz._)(["\n    margin-top: ",";\n\n    ."," {\n      overflow: visible;\n    }\n  "]);return HW=function(){return e},e}let Hq=(0,dC.zo)(d5.Z,{target:"efxp0ck0"})(e=>{let{theme:n}=e,{INPUT_FEEDBACK_MESSAGE:r}=dj.matrix(n);return(0,U.iv)(HW(),r.MARGIN_TOP,d8.Z.message)});function HY(e){let{path:n}=e,r=tZ(cM(n)),i=(0,t9.$K)(r);return(0,K.tZ)(Hq,{in:i,unmountOnExit:!0,children:(0,K.tZ)(hs,{severity:"warning",children:i&&function(e){switch(e){case"decimalAmbiguity":return"Number looks unclear, so we assume it's a decimal. Adjust if needed.";case"pasteDisabled":return"Pasting is currently disabled. To enable it, adjust your browser settings."}}(r.type)})})}function HX(){let e=(0,sz._)(["\n    margin-bottom: ",";\n\n    &:last-of-type {\n      margin-bottom: ",";\n    }\n  "]);return HX=function(){return e},e}let HJ=(0,dC.zo)(hh.Z,{target:"emw2dlo0"})(e=>{let{$columnsTemplate:n,theme:r}=e,{CONTAINER:i}=dj.matrix(r);return{display:i.DISPLAY,gridTemplateColumns:n,gap:i.GAP}}),HQ=(0,dC.zo)(d1.Z,{target:"emw2dlo1"})(e=>{let{theme:n}=e,{WRAPPER:r}=dj.matrix(n);return(0,U.iv)(HX(),r.MARGIN_BOTTOM,r.LAST_MARGIN_BOTTOM)});var H0=(0,e0.memo)(function(e){let{columns:n,gridTemplateColumns:r,highlightedTextId:i,path:a}=e,o=tZ(de({path:a,highlightedTextId:i})),l=(0,e0.useMemo)(()=>n.map((e,n)=>(0,K.tZ)(H$,{blocks:e,index:n,path:"".concat(a).concat(t4.XV).concat(t4.T_.COLUMNS).concat(t4.XV).concat(n)},n)),[n,a]);return o?(0,K.BX)(HQ,{"data-cwv-id":b.MATRIX,children:[(0,K.tZ)(HJ,{$columnsTemplate:hy.Db[r],"data-testid":a,children:l}),(0,K.tZ)(Hj,{columns:n,path:a}),(0,K.tZ)(HY,{path:a}),(0,K.tZ)(HZ,{path:a})]}):null});let H1=(0,dC.zo)(d1.Z,{target:"e1y8dh2o0"})(e=>{let{theme:n}=e,{isMobile:r,useExperimentalTheme:i}=d4();if(i){let{BACKGROUND_COLOR:e,BORDER:i,BORDER_RADIUS:a,MARGIN_TOP:o,OVERFLOW:l}=dj.blockGroup(n);return{"&&":{marginTop:o,background:e,border:i,borderRadius:r?a.MOBILE:a.DESKTOP,overflow:l}}}return null});function H2(e){let{collapsableVariant:n,description:r,matrices:i,path:a,uid:o}=e,l=tZ(d2(a)),{useExperimentalTheme:s}=d4(),u=tZ(dr),c=s&&a===u,[d,h]=tW(cD(o)),p=d6(),m=tZ(dt({path:a,highlightedTextId:p})),f=tZ(c_({path:a,highlightedTextId:p})),{onGroupStateChange:g}=dg(),y=(0,e0.useCallback)(()=>{null==g||g(d),h(!d)},[h,g,d]),v=(0,e0.useMemo)(()=>(function(e){let{isCollapsable:n,isCollapsed:r}=e;return n?r?"collapsed":"expanded":"none"})({isCollapsable:n!==rM.fn.DISABLED,isCollapsed:d}),[d,n]),_=(0,t9.$K)(l)&&!(0,t9.oM)(l);return m?(0,K.BX)(H1,{"data-cwv-id":b.BLOCK_GROUP,component:"section","data-testid":a,spacing:.25,children:[_&&(0,K.tZ)(TR,{basePath:a,collapseVariant:v,descriptionHtml:r.html,highlightedElement:f,onToggleCollapse:y,titleHtml:l}),(0,K.tZ)(Tm,{basePath:"".concat(a,"-content"),collapseVariant:"content"===f?"expanded":v,hasTitle:_,shape:_?"content":"whole",children:i.map((e,n)=>(0,K.tZ)(H0,{highlightedTextId:p,path:"".concat(a).concat(t4.XV).concat(t4.T_.MATRICES).concat(t4.XV).concat(n),...e},e.uid))}),c&&(0,K.tZ)(TG,{displayShareButton:!1,forceClearButtonEnabled:!1})]}):null}var H3=r(19972),H4=r(3745);function H6(){let e=(0,sz._)(["\n          button {\n            font-size: ",";\n            line-height: ",";\n          }\n        "]);return H6=function(){return e},e}function H5(){let e=(0,sz._)(["\n      position: ",";\n      display: ",";\n      justify-content: ",";\n      z-index: ",";\n\n      bottom: ",";\n      top: ",";\n\n      ","\n    "]);return H5=function(){return e},e}function H8(){let e=(0,sz._)(["\n    height: ",";\n  "]);return H8=function(){return e},e}let H7=(0,dC.zo)("aside",{target:"e1p24lzj0"})(e=>{let{$position:n,theme:r}=e,{useExperimentalTheme:i}=d4(),{ALTERNATIVE:a,INDICATOR:o}=dj.errorIndicator(r),{FONT_SIZE:l,LINE_HEIGHT:s}=a,u=i?(0,U.iv)(H6(),l,s):"";return(0,U.iv)(H5(),o.POSITION,o.DISPLAY,o.JUSTIFY_CONTENT,o.Z_INDEX,"bottom"===n?o.BOTTOM:0,"top"===n?o.TOP:0,u)}),H9=(0,dC.zo)("div",{target:"e1p24lzj1"})(e=>{let{theme:n}=e,{WRAPPER:r}=dj.errorIndicator(n);return(0,U.iv)(H8(),r.HEIGHT)}),ze=(0,dC.zo)(hd,{target:"e1p24lzj2"})(e=>{let{theme:n}=e,{useExperimentalTheme:r}=d4();if(r){let{ALTERNATIVE:e}=dj.errorIndicator(n);return{boxShadow:e.BOX_SHADOW,backgroundColor:e.BACKGROUND_COLOR,":hover":{backgroundColor:e.BACKGROUND_COLOR_HOVER},":active":{backgroundColor:e.BACKGROUND_COLOR_PRESS}}}return null});function zt(e){let{className:n,errorsCount:r,icon:i,onClick:a,position:o}=e,{t:l}=tu(),s=r>0;return s?(0,K.tZ)(H3.Z,{className:"".concat(H4.I," ").concat(H4.I,"-").concat(o),in:s,style:{transitionDelay:"500ms"},unmountOnExit:!0,children:(0,K.tZ)(H7,{$position:o,className:n,children:(0,K.tZ)(H9,{children:(0,K.tZ)(ze,{color:"error",label:"".concat(l("errorIndicator")," (").concat(r,")"),onClick:a,startIcon:i,variant:"contained"})})})}):null}function zn(e){let{scrollTop:n}=document.documentElement,{top:r}=e.getBoundingClientRect();return r+n}function zr(e){return n=>{let r=e(...n.map(e=>zn(e.target)));return n.find(e=>zn(e.target)===r)}}function zi(){let e=(0,xa.Z)(),{ALTERNATIVE:n}=dj.errorIndicator(e);return n.ICON_COLOR}function za(){let{nonIntersectingEntries:e}=zz(),n=tZ(cP);return(0,e0.useMemo)(()=>e.filter(e=>!n.some(n=>e.target.id.startsWith("".concat(n,".")))),[e,n])}let zo=zr(Math.max);function zl(){let e=za(),{useExperimentalTheme:n}=d4(),r=zi(),i=e.filter(e=>e.intersectionRect.top<=e.target.getBoundingClientRect().top);return(0,K.tZ)(zt,{"data-cwv-id":b.ERROR_INDICATOR_BOTTOM,errorsCount:i.length,icon:n?(0,K.tZ)(hH,{stroke:r}):(0,K.tZ)(hF,{}),onClick:()=>{var n;null===(n=zo(e))||void 0===n||n.target.scrollIntoView({behavior:"smooth",block:"end"})},position:"bottom"})}let zs=zr(Math.min);function zu(){let e=za(),{useExperimentalTheme:n}=d4(),r=zi(),i=e.filter(e=>e.intersectionRect.top>e.target.getBoundingClientRect().top);return(0,K.tZ)(zt,{"data-cwv-id":b.ERROR_INDICATOR_TOP,errorsCount:i.length,icon:n?(0,K.tZ)(hj,{stroke:r}):(0,K.tZ)(hZ,{}),onClick:()=>{var n;null===(n=zs(e))||void 0===n||n.target.scrollIntoView({behavior:"smooth",block:"nearest"})},position:"top"})}let zc=(0,dC.zo)(hh.Z,{target:"eygd1tz0"})(e=>{let{$variant:n="large",theme:r}=e,{useExperimentalTheme:i}=d4(),a=dj.virtualKeyboardKey(r,i),o="small"===n?a.VIRTUAL_KEYBOARD_NAVIGATION_KEY_SMALL_ICON_SIZE:a.VIRTUAL_KEYBOARD_NAVIGATION_KEY_ICON_SIZE;return"\n      display: ".concat(a.VIRTUAL_KEYBOARD_NAVIGATION_KEY_ICON_DISPLAY,";\n      svg {\n        width: ").concat(o,";\n        height: ").concat(o,";\n        overflow: ").concat(a.VIRTUAL_KEYBOARD_NAVIGATION_KEY_ICON_OVERFLOW,";\n      }\n    ")});function zd(){let e=(0,sz._)(["\n      background-color: ",";\n      border-radius: ",";\n      display: ",";\n      grid-template-columns: ",";\n      grid-column: ",";\n      height: ",";\n    "]);return zd=function(){return e},e}function zh(){let e=(0,sz._)(["\n    box-shadow: ",";\n    margin: ",";\n    display: ",";\n    grid-template-columns: ",";\n    gap: ",";\n    padding: ",";\n  "]);return zh=function(){return e},e}function zp(){let e=(0,sz._)(["\n      background: ",";\n      border-radius: ",";\n      box-shadow: ",";\n      overflow: ",";\n    "]);return zp=function(){return e},e}let zm=(0,dC.zo)("nav",{target:"e1ab8ahb0"})(e=>{let{theme:n}=e,{useExperimentalTheme:r}=d4(),i=dj.virtualKeyboard(n,r);return(0,d7.Z)(zd(),i.KEYBOARD_NAVIGATION_CONTAINER_BACKGROUND_COLOR,i.KEYBOARD_NAVIGATION_CONTAINER_BORDER_RADIUS,i.KEYBOARD_DISPLAY,i.KEYBOARD_GRID_TEMPLATE_COLUMNS,i.KEYBOARD_NAVIGATION_CONTAINER_GRID_COLUMN,i.KEYBOARD_NAVIGATION_CONTAINER_HEIGHT)}),zf=(0,dC.zo)("div",{target:"e1ab8ahb1"})(e=>{let{theme:n}=e,{useExperimentalTheme:r}=d4(),i=dj.virtualKeyboard(n,r);return(0,d7.Z)(zh(),i.KEYBOARD_BOX_SHADOW,i.KEYBOARD_MARGIN,i.KEYBOARD_DISPLAY,i.KEYBOARD_GRID_TEMPLATE_COLUMNS,i.KEYBOARD_GAP,i.KEYBOARD_PADDING)}),zg=(0,dC.zo)("div",{target:"e1ab8ahb2"})(e=>{let{theme:n}=e,{useExperimentalTheme:r}=d4(),i=dj.virtualKeyboard(n,r);return(0,d7.Z)(zp(),i.KEYBOARD_BACKGROUND_COLOR,i.KEYBOARD_BORDER_RADIUS,i.KEYBOARD_BOX_SHADOW,i.KEYBOARD_OVERFLOW)});var zy=(0,e0.memo)(function(e){let{navigationPattern:n,pattern:r}=e;return(0,K.BX)(zg,{"data-testid":"virtual-keyboard",children:[(0,K.tZ)(zm,{"data-testid":"virtual-keyboard-navigation-container",children:n.map(e=>(0,K.tZ)(RM,{keyData:e,pattern:r},e.name))}),(0,K.tZ)(zf,{children:r.map(e=>(0,K.tZ)(RM,{keyData:e,pattern:r},e.name))})]})}),zb=r(94841),zv=r.n(zb);let{NAVIGATION:z_}=k;var zx=r(17954),zO=r.n(zx);function zw(e){let{viewBox:n,...r}=e;return(0,K.BX)(ht.Z,{...r,children:[(0,K.tZ)("path",{d:"M14.0582 4.44287C13.7993 4.44287 13.5672 4.60248 13.4746 4.84423L12.5337 7.29977L12.1234 6.9866C11.849 6.77715 11.4568 6.82978 11.2474 7.10416C11.0379 7.37853 11.0906 7.77074 11.3649 7.98019L12.4391 8.80021C12.5957 8.91973 12.7995 8.95845 12.989 8.90469C13.1785 8.85093 13.3315 8.71099 13.402 8.52706L14.488 5.69287H15.3085C15.6537 5.69287 15.9335 5.41305 15.9335 5.06787C15.9335 4.72269 15.6537 4.44287 15.3085 4.44287H14.0582Z"}),(0,K.tZ)("path",{d:"M12.0742 11.7069C11.66 11.7069 11.3242 12.0427 11.3242 12.4569C11.3242 12.8711 11.66 13.2069 12.0742 13.2069H14.9261C15.3403 13.2069 15.6761 12.8711 15.6761 12.4569C15.6761 12.0427 15.3403 11.7069 14.9261 11.7069H12.0742Z"}),(0,K.tZ)("path",{d:"M12.0742 13.8209C11.66 13.8209 11.3242 14.1567 11.3242 14.5709C11.3242 14.9851 11.66 15.3209 12.0742 15.3209H14.9261C15.3403 15.3209 15.6761 14.9851 15.6761 14.5709C15.6761 14.1567 15.3403 13.8209 14.9261 13.8209H12.0742Z"}),(0,K.tZ)("path",{d:"M5.14648 4.44434C4.80131 4.44434 4.52148 4.72416 4.52148 5.06934V7.95831C4.52148 8.30349 4.80131 8.58331 5.14648 8.58331C5.49166 8.58331 5.77148 8.30349 5.77148 7.95831V5.69434H6.73093V7.95831C6.73093 8.30349 7.01075 8.58331 7.35593 8.58331C7.70111 8.58331 7.98093 8.30349 7.98093 7.95831V5.69434H8.50049C8.84567 5.69434 9.12549 5.41451 9.12549 5.06934C9.12549 4.72416 8.84567 4.44434 8.50049 4.44434H5.14648Z"}),(0,K.tZ)("path",{d:"M7.39497 11.7352C7.63905 11.4911 8.03478 11.4911 8.27886 11.7352C8.52293 11.9793 8.52293 12.375 8.27886 12.6191L7.38376 13.5142L8.27834 14.4087C8.52241 14.6528 8.52241 15.0485 8.27834 15.2926C8.03426 15.5367 7.63853 15.5367 7.39445 15.2926L6.49988 14.398L5.60555 15.2924C5.36147 15.5365 4.96574 15.5365 4.72166 15.2924C4.47759 15.0483 4.47759 14.6526 4.72166 14.4085L5.61599 13.5142L4.72114 12.6193C4.47707 12.3752 4.47707 11.9795 4.72114 11.7354C4.96522 11.4913 5.36095 11.4913 5.60503 11.7354L6.49988 12.6303L7.39497 11.7352Z"}),(0,K.tZ)("path",{d:"M4 1.76367C2.75736 1.76367 1.75 2.77103 1.75 4.01367V16.0137C1.75 17.2563 2.75736 18.2637 4 18.2637H16C17.2426 18.2637 18.25 17.2563 18.25 16.0137V4.01367C18.25 2.77103 17.2426 1.76367 16 1.76367H4ZM4 3.26367H16C16.4142 3.26367 16.75 3.59946 16.75 4.01367V16.0137C16.75 16.4279 16.4142 16.7637 16 16.7637H4C3.58579 16.7637 3.25 16.4279 3.25 16.0137V4.01367C3.25 3.59946 3.58579 3.26367 4 3.26367Z"})]})}let{DIGIT:zE,SUBMENU:zC,SYMBOL:zT,VARIANT:zk}=k;function zR(e,n){var r,i;let{content:a,...o}=n;return{...o,name:null!==(r=n.name)&&void 0!==r?r:a,onClick:()=>e(a),label:null!==(i=n.label)&&void 0!==i?i:a}}let zS={executeEquation:xl(),insertValue:xl(),insertRange:xl(),moveToPreviousChar:xl(),moveToNextChar:xl(),clearInput:xl(),deleteBackward:xl()},zA={rootMargin:"0px",threshold:1},zI=e=>e.preventDefault();function zL(e){let{actions:n,autofocus:r,children:i,containerRef:a,highlightedTextId:o,isMobile:l,keyboard:s,minified:u,strictMode:c,useExperimentalTheme:d=!1,visibilityTarget:h}=e,p=function(e){let{onClearChanges:n,onReload:r,onShare:i,storageKey:a}=e;return{reloadCalculator:r,clearAllChanges:(0,e0.useCallback)(()=>{(0,t9.$K)(a)&&localStorage.removeItem(a),null==n||n()},[a,n]),shareCalculatorResult:(0,e0.useCallback)(async()=>{null==i||i()},[i])}}(n),m=function(e){let[n,r]=(0,e0.useState)([]),i=(0,e0.useMemo)(()=>(0,t9.yF)()?null:new IntersectionObserver(e=>r(n=>{for(let r of e){let e=n.findIndex(e=>e.target===r.target);-1===e?n.push(r):n[e]=r}return n.filter(e=>!e.isIntersecting)}),{...zA,root:void 0}),[void 0]),a=(0,e0.useRef)(i);return(0,e0.useEffect)(()=>{let e=a.current;return()=>null==e?void 0:e.disconnect()},[a]),{nonIntersectingEntries:n,register:(0,e0.useCallback)(e=>{var n;return null===(n=a.current)||void 0===n?void 0:n.observe(e)},[a]),unregister:(0,e0.useCallback)(e=>{var n;r(n=>n.filter(n=>n.target!==e)),null===(n=a.current)||void 0===n||n.unobserve(e)},[a])}}(),f=(0,t9.$K)(s.portalSelector)&&!(0,t9.yF)()?document.querySelector(s.portalSelector):null,g=(0,d0.Z)(f),{closeKeyboard:y,isVisible:b,navigationPattern:v,openKeyboard:_,pattern:x,scrollToTarget:O}=function(e){let{hidden:n,onScrollToView:r,visibilityTarget:i}=e,{closeKeyboardWithDelay:a,hideKeyboard:o,openKeyboard:l,scrollTo:s,scrollToTarget:u,target:c}=function(e){let{hidden:n,onScrollToView:r}=e,[i,a]=(0,e0.useState)(null),o=(0,e0.useRef)(null),l=(0,e0.useCallback)(e=>(0,t9.$K)(r)?r(e):zv()(e,{time:200}),[r]),s=(0,e0.useCallback)(()=>{(0,t9.yF)()||(0,t9.Rw)(i)||l(i.element)},[i,l]),u=(0,e0.useCallback)((e,r)=>{n||((0,t9.$K)(o.current)&&clearTimeout(o.current),a({element:e,getComputedValue:r}),l(e))},[n,l]),c=(0,e0.useCallback)(()=>{(0,t9.$K)(o.current)&&clearTimeout(o.current),o.current=setTimeout(()=>{a(null)},200)},[]);return{target:i,hideKeyboard:(0,e0.useCallback)(()=>{a(e=>(null==e||e.element.blur(),null))},[]),closeKeyboardWithDelay:c,openKeyboard:u,scrollToTarget:s,scrollTo:l}}({hidden:n,onScrollToView:r}),{navigationPattern:d,pattern:h}=function(e){let{hideKeyboard:n,scrollTo:r,target:i}=e,a=tZ(cA);return(0,e0.useMemo)(()=>{var e,o,l,s;let u=(e=i,o=r,(0,t9.Rw)(e)?zS:e.element instanceof HTMLInputElement?function(e,n){return{executeEquation:()=>{},insertValue:a=>{var o,l;let s=null!==(o=e.selectionStart)&&void 0!==o?o:0,u=null!==(l=e.selectionEnd)&&void 0!==l?l:0,c=e.value.substring(0,s),d=e.value.substring(u);r(e,"".concat(c).concat(a).concat(d)),i(e,c.length+a.length),n(e)},insertRange:(a,o)=>{var l,s;let u=null!==(l=e.selectionStart)&&void 0!==l?l:0,c=null!==(s=e.selectionEnd)&&void 0!==s?s:0,d=e.value.substring(0,u),h=e.value.substring(u,c),p=e.value.substring(c);r(e,"".concat(d).concat(a).concat(h).concat(o).concat(p)),i(e,c+2),n(e)},moveToPreviousChar:()=>{var n;let r=null!==(n=e.selectionStart)&&void 0!==n?n:0;r>0&&i(e,r-1)},moveToNextChar:()=>{var n;let r=null!==(n=e.selectionStart)&&void 0!==n?n:0;i(e,r+1)},clearInput:()=>{r(e,"")},deleteBackward:()=>{var n,a;let o=null!==(n=e.selectionStart)&&void 0!==n?n:0,l=null!==(a=e.selectionEnd)&&void 0!==a?a:0,s=o===l?o-1:o,u=e.value.substring(0,s),c=e.value.substring(l);r(e,"".concat(u).concat(c)),i(e,u.length)}};function r(e,n){var r,i;let a=null===(r=Object.getOwnPropertyDescriptor(e,"value"))||void 0===r?void 0:r.set,o=null===(i=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"))||void 0===i?void 0:i.set;(0,t9.$K)(a)&&a!==o?null==o||o.call(e,n):null==a||a.call(e,n),e.dispatchEvent(new Event("input",{bubbles:!0}))}function i(e,n){(0,t9.$K)(e.selectionStart)&&e.setSelectionRange(n,n)}}(e.element,o):(l=e.element,s=e.getComputedValue,{executeEquation:()=>{let e=s();(0,t9.$K)(e)&&(l.setValue(e),l.dispatchEvent(new Event("input")))},insertValue:e=>{l.executeCommand(["insert",e]),o(l)},insertRange:(e,n)=>{let[r]=l.selection.ranges;t5()(r)||(l.executeCommand(["insert","".concat(e).concat(l.getValue(r,"latex")).concat(n)]),o(l))},moveToPreviousChar:()=>l.executeCommand("moveToPreviousChar"),moveToNextChar:()=>l.executeCommand("moveToNextChar"),clearInput:()=>l.executeCommand("deleteAll"),deleteBackward:()=>l.executeCommand("deleteBackward")}));return{navigationPattern:function(e,n){let{clearInput:r,deleteBackward:i,moveToNextChar:a,moveToPreviousChar:o}=e;return[{name:"cursor-left",label:(0,K.tZ)(zc,{$variant:"small",children:(0,K.tZ)(hz,{})}),variant:z_,onClick:o},{name:"cursor-right",label:(0,K.tZ)(zc,{$variant:"small",children:(0,K.tZ)(h$,{})}),variant:z_,onClick:a},{name:"hide-keyboard",label:(0,K.tZ)(zc,{children:(0,K.tZ)(h0,{})}),variant:z_,onClick:n},{name:"delete-all",label:"CE",variant:z_,onClick:r},{name:"delete",label:(0,K.tZ)(zc,{children:(0,K.tZ)(hW,{})}),variant:z_,onClick:i}]}(u,n),pattern:function(e,n){let{executeEquation:r,insertRange:i,insertValue:a}=e,{decimalSeparator:o,disableDecimalPlaces:l,disableNegative:s,type:u="extended"}=n,c=zO()(zR)(a),d="simple"===u;return[{name:"parenthesis",label:"( )",disableVariantBasedUpdate:!0,variant:zT,onClick:()=>i("(",")"),isDisabled:d,variants:[c({name:"opening-parenthesis",content:"(",variant:zk}),c({name:"closing-parenthesis",content:")",variant:zk})]},c({content:"7",variant:zE}),c({content:"8",variant:zE}),c({content:"9",variant:zE}),c({content:"\xf7",name:"divide",variant:zT,isDisabled:d}),c({content:"\\%",name:"percent",label:"%",variant:zT,isDisabled:d}),c({content:"4",variant:zE}),c({content:"5",variant:zE}),c({content:"6",variant:zE}),c({content:"\\times",name:"multiply",label:"\xd7",variant:zT,isDisabled:d}),c({content:"e",variant:zT,isDisabled:d}),c({content:"1",variant:zE}),c({content:"2",variant:zE}),c({content:"3",variant:zE}),c({content:"-",name:"subtract",variant:zT,isDisabled:s}),{isDisabled:d,name:"show-advanced",label:(0,K.tZ)(zw,{}),onClick:xl(),variant:zC,tooltipText:"Coming soon"},c({content:"0",variant:zE}),c({content:o,name:"decimal-separator",variant:zT,isDisabled:l}),{isDisabled:d,name:"equals",label:"=",onClick:r,variant:zT},c({isDisabled:d,content:"+",name:"add",variant:zT})]}(u,function(e,n){var r;let i={disableDecimalPlaces:!1,disableNegative:!1,decimalSeparator:n,type:"extended"};return!(0,t9.Rw)(e)&&e instanceof HTMLInputElement?{...i,disableDecimalPlaces:!(0,t9.Q2)(e.getAttribute("data-allow_decimal")),disableNegative:(0,t9.Q2)(e.getAttribute("data-disable_negative")),type:null!==(r=e.getAttribute("data-keyboard_type"))&&void 0!==r?r:"extended"}:i}(i,(0,_O.Nx)()?a:"."))}},[a,n,r,i])}({target:c,hideKeyboard:o,scrollTo:s}),p=(0,t9.$K)(c);return function(e){let{hidden:n,hideKeyboard:r,isVisible:i,visibilityTarget:a}=e;(0,e0.useEffect)(()=>{n&&r()},[n,r]),(0,e0.useEffect)(()=>{let e=null==a?void 0:a.current;if(!i||(0,t9.Rw)(e))return;let n=new IntersectionObserver(e=>{let[n]=e;n.isIntersecting||r()});return n.observe(e),()=>{n.unobserve(e)}},[r,i,a])}({isVisible:p,hideKeyboard:o,visibilityTarget:i}),{closeKeyboard:a,isVisible:p,navigationPattern:d,openKeyboard:l,pattern:h,scrollToTarget:u}}({hidden:(0,t9.Rw)(s.portalSelector),onScrollToView:s.onScrollToView,visibilityTarget:h});return(0,K.BX)(d3.Provider,{value:{actions:p,autofocus:r,containerRef:a,errorIndicators:m,isMobile:l,highlightedTextId:o,minified:u,strictMode:c,useExperimentalTheme:d,virtualKeyboard:{closeKeyboard:y,openKeyboard:_}},children:[i,(0,K.tZ)(g,{children:(0,K.tZ)(dQ.Z,{direction:"up",in:b,mountOnEnter:!0,onEntered:O,onPointerDown:zI,onTouchEnd:zI,unmountOnExit:!0,children:(0,K.tZ)("div",{children:(0,K.tZ)(zy,{navigationPattern:v,pattern:x})})})})]})}var zM=r(57300),zN=r(23567),zD=r(73548),zB=r.n(zD),zP=r(61732),zK=r.n(zP),zU=r(13516),zV=r.n(zU),zG=r(47157);function zF(e){let{adapterLocale:n="en",children:r,pageLanguageCode:i="en"}=e,a=(0,e0.useMemo)(()=>(function(e){let n=(0,t9.s4)(zG).find(n=>n.startsWith(e));return(0,t9.Rw)(n)?null:zG[n].components.MuiLocalizationProvider.defaultProps.localeText})(i),[i]);return(0,K.tZ)(zN._,{dateAdapter:zM.y,adapterLocale:n,localeText:a,children:r},n)}function zH(){let{actions:e}=d4();return e}function zz(){let{errorIndicators:e}=d4();return e}uu().extend(zV()),uu().extend(zK()),uu().extend(zB());var z$=r(35408);function zZ(e){return{MuiSvgIcon:{defaultProps:{viewBox:"0 0 20 20"}},MuiCheckbox:{styleOverrides:dj.checkbox(e)},MuiRadio:{styleOverrides:dj.radio(e)},MuiFormControlLabel:{styleOverrides:dj.formControlLabel()},MuiAutocomplete:{styleOverrides:dj.autocomplete(e)},MuiInputBase:{styleOverrides:dj.inputBase(e)},MuiMenuItem:{styleOverrides:dj.menuItem(e)},MuiSelect:{styleOverrides:dj.select(e)},MuiSwitch:{styleOverrides:dj.toggle(e)},MuiIconButton:{styleOverrides:dj.iconButtonOverrides(e)},MuiButtonBase:{defaultProps:{disableRipple:!0}},MuiClock:{styleOverrides:dj.clock(e)},MuiOutlinedInput:{styleOverrides:dj.inputOutlined(e)},MuiPickersToolbar:{styleOverrides:dj.pickerToolbar(e)},MuiTimePickerToolbar:{styleOverrides:dj.timePickerToolbar(e)},MuiDateTimePickerToolbar:{styleOverrides:dj.dateTimePickerToolbar(e)},MuiPickersDay:{styleOverrides:dj.pickersDay(e)},MuiTimeClock:{styleOverrides:dj.timeClock(e)},MuiPickersArrowSwitcher:{styleOverrides:dj.pickersArrowSwitcher(e)},MuiPickersMonth:{styleOverrides:dj.pickersMonth(e)},MuiPickersYear:{styleOverrides:dj.pickersYear(e)},MuiPickersCalendarHeader:{styleOverrides:dj.pickersCalendarHeader(e)},MuiDateCalendar:{styleOverrides:dj.dateCalendar(e)},MuiPickersToolbarText:{styleOverrides:dj.pickersToolbarText(e)},MuiPickersPopper:{styleOverrides:dj.pickersPopper(e)},MuiDatePickerToolbar:{styleOverrides:dj.datePickerToolbar(e)}}}let zj={mode:"light",common:{transparent:"transparent",boxShadow:"rgba(66, 54, 93, 0.16)"},omniPalette:dB.PALETTE,primary:{dark:"#6314E6",light:"#E6DAFA",main:"#8B4DFF"},grey:{100:"#F5F4FB",200:"#E3E4ED",500:"#AAAABC",700:"#6E6E8B",900:"#0E152F"},error:{contrastText:"#FEF8F7",dark:"#73140F",light:"#D6382C",main:"#D4020E"},warning:{contrastText:"#FEF8F5",dark:"#54340C",light:"#C48234",main:"#EA9430"},success:{contrastText:"#F6FFF8",dark:"#194333",light:"#49A17F",main:"#00A37C"},info:{contrastText:"#FAF8FE",dark:"#143681",light:"#4170E2",main:"#005BD4"},text:{primary:"#2B3148",secondary:"#6E6E8B"}},zW={palette:zj,shape:{borderRadius:"".concat(8,"px"),borderRadiusXSmall:"1px",borderRadiusSmall:"".concat(6,"px"),outline:"0 0 0 2px #6314E6",innerOutline:"inset 0 0 0 2px #6314E6",outlineWindowsHighContrast:"transparent 2px dotted"},typography:dH,direction:function(){var e;let n=null===(e=globalThis.document)||void 0===e?void 0:e.dir,r=Object.values(fa).find(e=>e===n);return(0,t9.Rw)(r)?"ltr":r}()},zq=(0,z$.Z)(zW,{palette:{primary:{dark:zj.omniPalette.brand.omniWorld[400],light:zj.omniPalette.brand.omniWorld[200],main:zj.omniPalette.brand.omniWorld[400]}},useExperimentalTheme:!0}),zY=(0,z$.Z)({...zq,components:zZ(zq)}),zX=(0,z$.Z)(zW);var zJ=(0,z$.Z)({...zW,components:zZ(zX)}),zQ=r(34795),z0=r(17556);function z1(){let e=(0,sz._)(["\n      min-width: ",";\n      background-color: ",";\n      border-radius: ",";\n      box-shadow: ",";\n      padding: ",";\n    "]);return z1=function(){return e},e}let z2=(0,dC.zo)(hh.Z,{target:"e5grrl00"})(e=>{let{theme:n}=e,r=dj.popperPanel(n);return(0,U.iv)(z1(),r.MIN_WIDTH,r.BACKGROUND_COLOR,r.BORDER_RADIUS,r.BOX_SHADOW,r.PADDING)}),z3=(0,dC.zo)(z0.Z,{target:"e5grrl01"})(e=>{let{theme:n}=e,{BACKDROP_BACKGROUND:r}=dj.popperPanel(n);return{background:r}}),z4=[{name:"flip",enabled:!1}];function z6(e){let{anchor:n,children:r,handleClose:i,isOpen:a}=e,o=(0,xa.Z)(),{Z_INDEX:l}=dj.popperPanel(o);return(0,K.tZ)(z3,{open:a,children:(0,K.tZ)(zQ.d,{mouseEvent:!!a&&"onPointerDown",onClickAway:i,touchEvent:!!a&&"onTouchStart",children:(0,K.tZ)("div",{children:(0,K.tZ)(P8.Z,{anchorEl:n,keepMounted:!0,modifiers:z4,open:a,placement:"bottom-end",sx:{zIndex:l},transition:!0,children:e=>{let{TransitionProps:n}=e;return(0,K.tZ)(H3.Z,{...n,timeout:{enter:dC.lM.fade,exit:0},children:(0,K.tZ)(z2,{children:r})})}})})})})}function z5(){var e,n;let[r,i]=tW(sg),{t:a}=tu(),{minified:o,useExperimentalTheme:l}=d4(),s=function(){let{getState:e}=lW(),n=lL();return tq((0,e0.useCallback)((r,i,a)=>{i(tJ,e=>tX()([...e,a]).sort());let o=r(sO(a));n({autosavedByUser:!0,variableName:a,variableValue:o}),lF(r,i)(e())},[e,n]))}(),u=function(){let e=tj(tJ),n=function(){let{storageKey:e}=lS();return(0,e0.useCallback)(n=>{var r;if((0,t9.Rw)(e))return;let i=(r=lJ(e),(0,rN.Uy)(r,e=>{(0,t9.$K)(e.saved)&&(0,t9.$K)(e.saved[n])?(e.saved[n].autosave=!1,e.saved[n].computable=void 0,e.saved[n].ui=void 0):e.saved={...e.saved,[n]:{autosave:!1,computable:void 0,ui:void 0,primaryUnitSwitcherSlug:void 0,secondaryUnitSwitcherSlug:void 0}}}));lI.setItem(e,JSON.stringify(i))},[e])}(),r=tq((0,e0.useCallback)((e,n)=>lF(e,n),[]));return(0,e0.useCallback)(i=>{e(e=>e.filter(e=>e!==i)),n(i),r()},[e,n,r])}(),c=tZ(cH(null!==(e=null==r?void 0:r.variableName)&&void 0!==e?e:"")),d=(0,e0.useCallback)(()=>{if((0,t9.Rw)(r))return;let{variableName:e}=r;c?u(e):s(e)},[s,c,u,r]);return(0,K.tZ)(z6,{"data-cwv-id":b.BLOCK_VARIABLE_LABEL_MENU_POPPER,anchor:null!==(n=null==r?void 0:r.anchor)&&void 0!==n?n:null,handleClose:()=>{i(null)},isOpen:(0,t9.$K)(r),children:(0,K.BX)(K.HY,{children:[!o&&(0,K.BX)(K.HY,{children:[(0,K.tZ)(H_,{}),!l&&(0,K.tZ)(hD,{})]}),(0,K.tZ)(HS,{useExperimentalTheme:l,children:a("settingsInput")}),(0,K.tZ)(F1,{icon:(0,K.tZ)(h2,{}),onToggle:d,title:a("settingsSaveInputValue"),toggleState:c})]})})}let z8=(0,dC.zo)(hf,{target:"errqfye0"})(e=>{let{theme:n}=e,{ALTERNATIVE_BACKGROUND_COLOR:r,TAP_HIGHLIGHT_COLOR:i}=dj.calculatorWrapper(n),{useExperimentalTheme:a}=d4();return a?{WebkitTapHighlightColor:i,backgroundColor:r}:{WebkitTapHighlightColor:i}}),z7=(0,dC.zo)(d1.Z,{target:"errqfye1"})(".error-indicator,& >:first-of-type{margin-top:0;}");var z9=(0,e0.forwardRef)(function(e,n){let{children:r,displayShareButton:i,forceClearButtonVisible:a,onInit:o}=e,l=tZ(cj),{isMobile:s,useExperimentalTheme:u}=d4(),{t:c}=tu(),d=lW().getStateSnapshot(),h=tq((0,e0.useCallback)(e=>({autosave:e(tJ),collapsedIds:e(t0),helpText:dl(e(se)),locked:e(so),selectedUnitsSlugs:da(e(sh))}),[]));return(0,_W.Z)(()=>{null==o||o()}),(0,e0.useEffect)(()=>{let e=e=>{(0,e.detail)({engineState:d,providerState:h()})};return window.addEventListener(y.SHARE_RESULT_CALCULATOR_SNAPSHOT,e),()=>window.removeEventListener(y.SHARE_RESULT_CALCULATOR_SNAPSHOT,e)}),(0,K.tZ)(z8,{"data-cwv-id":b.CALCULATOR,"aria-label":c("ariaCalculatorLabel"),color:"none",component:"section","data-testid":"calculator-ui",noPaper:u,elevation:1,ref:n,spacing:u?"none":"small",children:(0,K.BX)(d1.Z,{spacing:1.5,children:[r,(0,K.BX)(z7,{spacing:1.5,children:[(0,K.tZ)(zu,{}),l.map((e,n)=>(0,K.tZ)(H2,{"data-testid":e.uid,path:(0,t4.cB)(n),...e},e.uid)),(0,K.tZ)(zl,{})]}),(0,K.tZ)(z5,{}),!u&&(0,K.tZ)(TN,{displayShareButton:i,forceClearButtonEnabled:a,isMobile:s})]})})});function $e(e){let[n,r]=(0,e0.useState)(0),[i,a]=(0,e0.useState)(!1),{adapterLocale:o,autofocus:l=!0,callbacks:s={},children:u,containerRef:c,highlightedTextId:d,isLoading:h,isMobile:p=!1,keyboardPortalElementSelector:m,minified:f,stateSnapshot:g,staticTextTranslations:y,storageKey:b,strictMode:v,useExperimentalTheme:_,...x}=e,{onClearChanges:O,onInit:w,onReload:E,onScrollToView:C,onShare:T}=s,k=(0,t9.$K)(T),{textTranslations:R}=function(e){let{i18n:n}=tu();return(0,e0.useMemo)(()=>{let r={..._M,...e};return n.addResources(n.language,"calculatorWidget",r),{textTranslations:Object.fromEntries(s_.map(e=>[e,n.t(e)]))}},[e,n])}(y),S=(0,e0.useMemo)(()=>({portalSelector:m,onScrollToView:C}),[m,C]),A=(0,e0.useRef)(null),I=(0,e0.useCallback)(()=>{a(!0),setTimeout(()=>{r(e=>e+1),null==E||E(),a(!1)},0)},[E]),L=(0,e0.useCallback)(()=>{a(!0),setTimeout(()=>{r(e=>e+1),null==O||O(),a(!1)},0)},[O]),M=(0,e0.useMemo)(()=>({onClearChanges:L,onShare:T,onReload:I,storageKey:b}),[L,I,T,b]),N=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,e0.useMemo)(()=>e?zY:zJ,[e])}(_),{engineState:D,providerState:B}=null!=g?g:{engineState:null,providerState:null};return(0,K.tZ)(zF,{adapterLocale:o,pageLanguageCode:x.pageLanguageCode,children:(0,U.az)(dE,{...th.DEFAULT_USER_DATA,...x,callbacks:s,key:n,providerState:B,stateSnapshot:D,storageKey:b,textTranslations:R},(0,K.tZ)(td.Z,{theme:N,children:(0,K.tZ)(dC.VW,{children:(0,K.tZ)(zL,{actions:M,autofocus:l,containerRef:c,highlightedTextId:null!=d?d:null,isMobile:p,keyboard:S,minified:f,strictMode:v,useExperimentalTheme:_,visibilityTarget:A,children:(0,K.tZ)(dJ,{isLoading:h||i,children:(0,K.tZ)(z9,{displayShareButton:k,forceClearButtonVisible:(0,t9.$K)(g),onInit:w,ref:A,children:u})})})})}))})}},94841:function(e){var n="complete",r="canceled";function i(e,n,r){e.self===e?e.scrollTo(n,r):(e.scrollLeft=n,e.scrollTop=r)}function a(e){return e.self===e}function o(e){return"pageXOffset"in e||(e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth)&&"hidden"!==getComputedStyle(e).overflow}function l(){return!0}function s(e){if(e.assignedSlot)return s(e.assignedSlot);if(e.parentElement)return"body"===e.parentElement.tagName.toLowerCase()?e.parentElement.ownerDocument.defaultView||e.parentElement.ownerDocument.ownerWindow:e.parentElement;if(e.getRootNode){var n=e.getRootNode();if(11===n.nodeType)return n.host}}e.exports=function(e,u,c){if(e){"function"==typeof u&&(c=u,u=null),u||(u={}),u.time=isNaN(u.time)?1e3:u.time,u.ease=u.ease||function(e){return 1-Math.pow(1-e,e/2)},u.align=u.align||{};var d=s(e),h=1,p=u.validTarget||l,m=u.isScrollable;u.debug&&(console.log("About to scroll to",e),d||console.error("Target did not have a parent, is it mounted in the DOM?"));for(var f=[];d;)if(u.debug&&console.log("Scrolling parent node",d),p(d,h)&&(m?m(d,o):o(d))&&(h++,f.push(d)),!(d=s(d))){g(n);break}return f.reduce((o,l,s)=>(function(e,o,l,s,u){var c,d=!o._scrollSettings,h=o._scrollSettings,p=Date.now(),m={passive:!0};function f(e){o._scrollSettings=null,o.parentElement&&o.parentElement._scrollSettings&&o.parentElement._scrollSettings.end(e),l.debug&&console.log("Scrolling ended with type",e,"for",o),u(e),c&&(o.removeEventListener("touchstart",c,m),o.removeEventListener("wheel",c,m))}h&&h.end(r);var g=l.maxSynchronousAlignments;return null==g&&(g=3),o._scrollSettings={startTime:p,endIterations:0,target:e,time:l.time,ease:l.ease,align:l.align,isWindow:l.isWindow||a,maxSynchronousAlignments:g,end:f,scrollAncestor:s},"cancellable"in l&&!l.cancellable||(c=f.bind(null,r),o.addEventListener("touchstart",c,m),o.addEventListener("wheel",c,m)),d&&function e(r){var a=r._scrollSettings;if(a){var o=a.maxSynchronousAlignments,l=function(e,n){var r,i,a,o,l,s,u,c=e.align,d=e.target.getBoundingClientRect(),h=c&&null!=c.left?c.left:.5,p=c&&null!=c.top?c.top:.5,m=c&&null!=c.leftOffset?c.leftOffset:0,f=c&&null!=c.topOffset?c.topOffset:0;if(e.isWindow(n))s=Math.min(d.width,n.innerWidth),u=Math.min(d.height,n.innerHeight),i=d.left+n.pageXOffset-n.innerWidth*h+s*h,a=d.top+n.pageYOffset-n.innerHeight*p+u*p,i-=m,a-=f,i=e.align.lockX?n.pageXOffset:i,a=e.align.lockY?n.pageYOffset:a,o=i-n.pageXOffset,l=a-n.pageYOffset;else{s=d.width,u=d.height,r=n.getBoundingClientRect();var g=d.left-(r.left-n.scrollLeft),y=d.top-(r.top-n.scrollTop);i=g+s*h-n.clientWidth*h,a=y+u*p-n.clientHeight*p,i-=m,a-=f,i=Math.max(Math.min(i,n.scrollWidth-n.clientWidth),0),a=Math.max(Math.min(a,n.scrollHeight-n.clientHeight),0),i=e.align.lockX?n.scrollLeft:i,a=e.align.lockY?n.scrollTop:a,o=i-n.scrollLeft,l=a-n.scrollTop}return{x:i,y:a,differenceX:o,differenceY:l}}(a,r),s=Date.now()-a.startTime,u=Math.min(1/a.time*s,1);if(a.endIterations>=o)return i(r,l.x,l.y),r._scrollSettings=null,a.end(n);var c=1-a.ease(u);if(i(r,l.x-l.differenceX*c,l.y-l.differenceY*c),s>=a.time){a.endIterations++,a.scrollAncestor&&e(a.scrollAncestor),e(r);return}!function(e){if("requestAnimationFrame"in window)return window.requestAnimationFrame(e);setTimeout(e,16)}(e.bind(null,r))}}(o),c})(e,l,u,f[s+1],g),null)}function g(e){--h||!c||c(e)}}},7445:function(e){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},19355:function(e,n,r){"use strict";r(73239).default;var i=r(26436);n.y1=i.default},73239:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(52983),a=r(26436);function o(e,n){return e===n}n.default=function(e,n,r){var l=r&&r.equalityFn?r.equalityFn:o,s=i.useState(e),u=s[0],c=s[1],d=a.default(i.useCallback(function(e){return c(e)},[]),n,r),h=d[0],p=d[1],m=d[2],f=i.useRef(e);return i.useEffect(function(){l(f.current,e)||(h(e),f.current=e)},[e,h,l]),[u,p,m]}},26436:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(52983);n.default=function(e,n,r){void 0===r&&(r={});var a=r.maxWait,o=i.useRef(null),l=i.useRef([]),s=r.leading,u=void 0===r.trailing||r.trailing,c=i.useRef(!1),d=i.useRef(null),h=i.useRef(!1),p=i.useRef(e);p.current=e;var m=i.useCallback(function(){clearTimeout(d.current),clearTimeout(o.current),o.current=null,l.current=[],d.current=null,c.current=!1},[]);i.useEffect(function(){return h.current=!1,function(){h.current=!0}},[]);var f=i.useCallback(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];l.current=e,clearTimeout(d.current),c.current&&(c.current=!1),d.current||!s||c.current||(p.current.apply(p,e),c.current=!0),d.current=setTimeout(function(){var n=!0;s&&c.current&&(n=!1),m(),!h.current&&u&&n&&p.current.apply(p,e)},n),a&&!o.current&&u&&(o.current=setTimeout(function(){var e=l.current;m(),h.current||p.current.apply(null,e)},a))},[a,n,m,s,u]),g=i.useCallback(function(){d.current&&(p.current.apply(null,l.current),m())},[m]);return[f,m,g]}},4932:function(e,n,r){var i,a,o=r(14224);i=a||(a={}),function(e){var n="object"==typeof r.g?r.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),a=o(i);function o(e,n){return function(r,i){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:i}),n&&n(r,i)}}void 0===n.Reflect?n.Reflect=i:a=o(n.Reflect,a),e(a)}(function(e){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,i=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",a=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",l="function"==typeof Object.create,s=({__proto__:[]})instanceof Array,u=!l&&!s,c={create:l?function(){return I(Object.create(null))}:s?function(){return I({__proto__:null})}:function(){return I({})},has:u?function(e,r){return n.call(e,r)}:function(e,n){return n in e},get:u?function(e,r){return n.call(e,r)?e[r]:void 0}:function(e,n){return e[n]}},d=Object.getPrototypeOf(Function),h="object"==typeof o&&o.env&&"true"===o.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=h||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},n=[],r=function(){function e(e,n,r){this._index=0,this._keys=e,this._values=n,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[a]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=n,this._values=n):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=n,this._values=n),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=n,this._values=n),{value:e,done:!0}},e}();return function(){function n(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(n.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),n.prototype.has=function(e){return this._find(e,!1)>=0},n.prototype.get=function(e){var n=this._find(e,!1);return n>=0?this._values[n]:void 0},n.prototype.set=function(e,n){var r=this._find(e,!0);return this._values[r]=n,this},n.prototype.delete=function(n){var r=this._find(n,!1);if(r>=0){for(var i=this._keys.length,a=r+1;a<i;a++)this._keys[a-1]=this._keys[a],this._values[a-1]=this._values[a];return this._keys.length--,this._values.length--,n===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},n.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},n.prototype.keys=function(){return new r(this._keys,this._values,i)},n.prototype.values=function(){return new r(this._keys,this._values,o)},n.prototype.entries=function(){return new r(this._keys,this._values,l)},n.prototype["@@iterator"]=function(){return this.entries()},n.prototype[a]=function(){return this.entries()},n.prototype._find=function(e,n){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&n&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},n}();function i(e,n){return e}function o(e,n){return n}function l(e,n){return[e,n]}}():Map,m=h||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[a]=function(){return this.keys()},e}():Set,f=new(h||"function"!=typeof WeakMap?function(){var e=c.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var n=a(e,!1);return void 0!==n&&c.has(n,this._key)},e.prototype.get=function(e){var n=a(e,!1);return void 0!==n?c.get(n,this._key):void 0},e.prototype.set=function(e,n){return a(e,!0)[this._key]=n,this},e.prototype.delete=function(e){var n=a(e,!1);return void 0!==n&&delete n[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var n;do n="@@WeakMap@@"+function(){var e="function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):o(new Uint8Array(16),16):o(Array(16),16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",r=0;r<16;++r){var i=e[r];(4===r||6===r||8===r)&&(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}();while(c.has(e,n));return e[n]=!0,n}function a(e,i){if(!n.call(e,r)){if(!i)return;Object.defineProperty(e,r,{value:c.create()})}return e[r]}function o(e,n){for(var r=0;r<n;++r)e[r]=255*Math.random()|0;return e}}():WeakMap);function g(e,n,r){var i=f.get(e);if(O(i)){if(!r)return;i=new p,f.set(e,i)}var a=i.get(n);if(O(a)){if(!r)return;a=new p,i.set(n,a)}return a}function y(e,n,r){var i=g(n,r,!1);return!O(i)&&!!i.has(e)}function b(e,n,r){var i=g(n,r,!1);if(!O(i))return i.get(e)}function v(e,n,r,i){g(r,i,!0).set(e,n)}function _(e,n){var r=[],i=g(e,n,!1);if(O(i))return r;for(var o=function(e){var n=S(e,a);if(!k(n))throw TypeError();var r=n.call(e);if(!E(r))throw TypeError();return r}(i.keys()),l=0;;){var s=function(e){var n=e.next();return!n.done&&n}(o);if(!s)return r.length=l,r;var u=s.value;try{r[l]=u}catch(e){try{(function(e){var n=e.return;n&&n.call(e)})(o)}finally{throw e}}l++}}function x(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function O(e){return void 0===e}function w(e){return null===e}function E(e){return"object"==typeof e?null!==e:"function"==typeof e}function C(e){var n=function(e,n){switch(x(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r="string",a=S(e,i);if(void 0!==a){var o=a.call(e,r);if(E(o))throw TypeError();return o}return function(e,n){if("string"===n){var r=e.toString;if(k(r)){var i=r.call(e);if(!E(i))return i}var a=e.valueOf;if(k(a)){var i=a.call(e);if(!E(i))return i}}else{var a=e.valueOf;if(k(a)){var i=a.call(e);if(!E(i))return i}var o=e.toString;if(k(o)){var i=o.call(e);if(!E(i))return i}}throw TypeError()}(e,r)}(e,0);return"symbol"==typeof n?n:""+n}function T(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function k(e){return"function"==typeof e}function R(e){return"function"==typeof e}function S(e,n){var r=e[n];if(null!=r){if(!k(r))throw TypeError();return r}}function A(e){var n=Object.getPrototypeOf(e);if("function"!=typeof e||e===d||n!==d)return n;var r=e.prototype,i=r&&Object.getPrototypeOf(r);if(null==i||i===Object.prototype)return n;var a=i.constructor;return"function"!=typeof a||a===e?n:a}function I(e){return e.__=void 0,delete e.__,e}e("decorate",function(e,n,r,i){if(O(r)){if(!T(e)||!R(n))throw TypeError();return function(e,n){for(var r=e.length-1;r>=0;--r){var i=(0,e[r])(n);if(!O(i)&&!w(i)){if(!R(i))throw TypeError();n=i}}return n}(e,n)}if(!T(e)||!E(n)||!E(i)&&!O(i)&&!w(i))throw TypeError();return w(i)&&(i=void 0),function(e,n,r,i){for(var a=e.length-1;a>=0;--a){var o=(0,e[a])(n,r,i);if(!O(o)&&!w(o)){if(!E(o))throw TypeError();i=o}}return i}(e,n,r=C(r),i)}),e("metadata",function(e,n){return function(r,i){if(!E(r)||!O(i)&&!function(e){switch(x(e)){case 3:case 4:return!0;default:return!1}}(i))throw TypeError();v(e,n,r,i)}}),e("defineMetadata",function(e,n,r,i){if(!E(r))throw TypeError();return O(i)||(i=C(i)),v(e,n,r,i)}),e("hasMetadata",function(e,n,r){if(!E(n))throw TypeError();return O(r)||(r=C(r)),function e(n,r,i){if(y(n,r,i))return!0;var a=A(r);return!w(a)&&e(n,a,i)}(e,n,r)}),e("hasOwnMetadata",function(e,n,r){if(!E(n))throw TypeError();return O(r)||(r=C(r)),y(e,n,r)}),e("getMetadata",function(e,n,r){if(!E(n))throw TypeError();return O(r)||(r=C(r)),function e(n,r,i){if(y(n,r,i))return b(n,r,i);var a=A(r);if(!w(a))return e(n,a,i)}(e,n,r)}),e("getOwnMetadata",function(e,n,r){if(!E(n))throw TypeError();return O(r)||(r=C(r)),b(e,n,r)}),e("getMetadataKeys",function(e,n){if(!E(e))throw TypeError();return O(n)||(n=C(n)),function e(n,r){var i=_(n,r),a=A(n);if(null===a)return i;var o=e(a,r);if(o.length<=0)return i;if(i.length<=0)return o;for(var l=new m,s=[],u=0;u<i.length;u++){var c=i[u],d=l.has(c);d||(l.add(c),s.push(c))}for(var h=0;h<o.length;h++){var c=o[h],d=l.has(c);d||(l.add(c),s.push(c))}return s}(e,n)}),e("getOwnMetadataKeys",function(e,n){if(!E(e))throw TypeError();return O(n)||(n=C(n)),_(e,n)}),e("deleteMetadata",function(e,n,r){if(!E(n))throw TypeError();O(r)||(r=C(r));var i=g(n,r,!1);if(O(i)||!i.delete(e))return!1;if(i.size>0)return!0;var a=f.get(n);return a.delete(r),a.size>0||(f.delete(n),!0)})})}}]);